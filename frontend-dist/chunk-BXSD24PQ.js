import{a as Je,b as yt,d as Ze,e as xt,f as wt,l as vt,n as $t,o as Pt,p as At}from"./chunk-TF4TY5JN.js";import{a as x,b as w,d as ue,k as A}from"./chunk-KYPE3LET.js";function W(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}var Ke=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],jt=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"}],An=[...jt,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],jn=[...jt,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}];var Ot="0x82ad56cb";var Et="1.21.3";var ce=e=>e,Tt=()=>`viem@${Et}`;var u=class e extends Error{constructor(t,r={}){super(),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ViemError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:Tt()});let n=r.cause instanceof e?r.cause.details:r.cause?.message?r.cause.message:r.details,o=r.cause instanceof e&&r.cause.docsPath||r.docsPath;this.message=[t||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...o?[`Docs: https://viem.sh${o}.html${r.docsSlug?`#${r.docsSlug}`:""}`]:[],...n?[`Details: ${n}`]:[],`Version: ${this.version}`].join(`
`),r.cause&&(this.cause=r.cause),this.details=n,this.docsPath=o,this.metaMessages=r.metaMessages,this.shortMessage=t}walk(t){return kt(this,t)}};function kt(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e?kt(e.cause,t):t?null:e}var U=class extends u{constructor({blockNumber:t,chain:r,contract:n}){super(`Chain "${r.name}" does not support contract "${n.name}".`,{metaMessages:["This could be due to any of the following:",...t&&n.blockCreated&&n.blockCreated>t?[`- The contract "${n.name}" was not deployed until block ${n.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${n.name}" configured.`]]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDoesNotSupportContract"})}};var le=class extends u{constructor(){super("No chain was provided to the Client."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ClientChainNotConfiguredError"})}};var St={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},Bt={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function G(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new we(e.type);return`${e.name}(${xe(e.inputs,{includeName:t})})`}function xe(e,{includeName:t=!1}={}){return e?e.map(r=>br(r,{includeName:t})).join(t?", ":","):""}function br(e,{includeName:t}){return e.type.startsWith("tuple")?`(${xe(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}function v(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function b(e){return v(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}var fe=class extends u{constructor({data:t,params:r,size:n}){super([`Data size of ${n} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${xe(r,{includeName:!0})})`,`Data:   ${t} (${n} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=r,this.size=n}},q=class extends u{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingZeroDataError"})}},ve=class extends u{constructor({expectedLength:t,givenLength:r,type:n}){super([`ABI encoding array length mismatch for type ${n}.`,`Expected length: ${t}`,`Given length: ${r}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingArrayLengthMismatchError"})}},$e=class extends u{constructor({expectedSize:t,value:r}){super(`Size of bytes "${r}" (bytes${b(r)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingBytesSizeMismatchError"})}},Pe=class extends u{constructor({expectedLength:t,givenLength:r}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${r}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingLengthMismatchError"})}};var Ae=class extends u{constructor(t,{docsPath:r}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}};var F=class extends u{constructor(t,{docsPath:r}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionNotFoundError"})}},je=class extends u{constructor(t,{docsPath:r}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionOutputsNotFoundError"})}};var Oe=class extends u{constructor(t,r){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${G(t.abiItem)}\`, and`,`\`${r.type}\` in \`${G(r.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItemAmbiguityError"})}};var Ee=class extends u{constructor(t,{docsPath:r}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiEncodingType"})}},Te=class extends u{constructor(t,{docsPath:r}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiDecodingType"})}},ke=class extends u{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidArrayError"})}},we=class extends u{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidDefinitionTypeError"})}};var de=class extends u{constructor({offset:t,position:r,size:n}){super(`Slice ${r==="start"?"starting":"ending"} at offset "${t}" is out-of-bounds (size: ${n}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SliceOffsetOutOfBoundsError"})}},pe=class extends u{constructor({size:t,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${t}) exceeds padding size (${r}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeExceedsPaddingSizeError"})}};function m(e,t,r,{strict:n}={}){return v(e,{strict:!1})?yr(e,t,r,{strict:n}):gr(e,t,r,{strict:n})}function Mt(e,t){if(typeof t=="number"&&t>0&&t>b(e)-1)throw new de({offset:t,position:"start",size:b(e)})}function It(e,t,r){if(typeof t=="number"&&typeof r=="number"&&b(e)!==r-t)throw new de({offset:r,position:"end",size:b(e)})}function gr(e,t,r,{strict:n}={}){Mt(e,t);let o=e.slice(t,r);return n&&It(o,t,r),o}function yr(e,t,r,{strict:n}={}){Mt(e,t);let o=`0x${e.replace("0x","").slice((t??0)*2,(r??e.length)*2)}`;return n&&It(o,t,r),o}function L(e,{dir:t,size:r=32}={}){return typeof e=="string"?T(e,{dir:t,size:r}):xr(e,{dir:t,size:r})}function T(e,{dir:t,size:r=32}={}){if(r===null)return e;let n=e.replace("0x","");if(n.length>r*2)throw new pe({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n[t==="right"?"padEnd":"padStart"](r*2,"0")}`}function xr(e,{dir:t,size:r=32}={}){if(r===null)return e;if(e.length>r)throw new pe({size:e.length,targetSize:r,type:"bytes"});let n=new Uint8Array(r);for(let o=0;o<r;o++){let i=t==="right";n[i?o:r-o-1]=e[i?o:e.length-o-1]}return n}var Se=class extends u{constructor({max:t,min:r,signed:n,size:o,value:i}){super(`Number "${i}" is not in safe ${o?`${o*8}-bit ${n?"signed":"unsigned"} `:""}integer range ${t?`(${r} to ${t})`:`(above ${r})`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntegerOutOfRangeError"})}};var Be=class extends u{constructor(t){super(`Hex value "${t}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidHexBooleanError"})}};var Me=class extends u{constructor({givenSize:t,maxSize:r}){super(`Size cannot exceed ${r} bytes. Given size: ${t} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeOverflowError"})}};function _(e,{dir:t="left"}={}){let r=typeof e=="string"?e.replace("0x",""):e,n=0;for(let o=0;o<r.length-1&&r[t==="left"?o:r.length-o-1].toString()==="0";o++)n++;return r=t==="left"?r.slice(n):r.slice(0,r.length-n),typeof e=="string"?(r.length===1&&t==="right"&&(r=`${r}0`),`0x${r.length%2===1?`0${r}`:r}`):r}function j(e,{size:t}){if(b(e)>t)throw new Me({givenSize:b(e),maxSize:t})}function Qe(e,t={}){let{signed:r}=t;t.size&&j(e,{size:t.size});let n=BigInt(e);if(!r)return n;let o=(e.length-2)/2,i=(1n<<BigInt(o)*8n-1n)-1n;return n<=i?n:n-BigInt(`0x${"f".padStart(o*2,"f")}`)-1n}function zt(e,t={}){let r=e;if(t.size&&(j(r,{size:t.size}),r=_(r)),_(r)==="0x00")return!1;if(_(r)==="0x01")return!0;throw new Be(r)}function O(e,t={}){return Number(Qe(e,t))}function Ct(e,t={}){let r=Ie(e);return t.size&&(j(r,{size:t.size}),r=_(r,{dir:"right"})),new TextDecoder().decode(r)}var wr=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Ft(e,t={}){return typeof e=="number"||typeof e=="bigint"?g(e,t):typeof e=="string"?tt(e,t):typeof e=="boolean"?et(e,t):Lt(e,t)}function et(e,t={}){let r=`0x${Number(e)}`;return typeof t.size=="number"?(j(r,{size:t.size}),L(r,{size:t.size})):r}function Lt(e,t={}){let r="";for(let o=0;o<e.length;o++)r+=wr[e[o]];let n=`0x${r}`;return typeof t.size=="number"?(j(n,{size:t.size}),L(n,{dir:"right",size:t.size})):n}function g(e,t={}){let{signed:r,size:n}=t,o=BigInt(e),i;n?r?i=(1n<<BigInt(n)*8n-1n)-1n:i=2n**(BigInt(n)*8n)-1n:typeof e=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));let s=typeof i=="bigint"&&r?-i-1n:0;if(i&&o>i||o<s){let c=typeof e=="bigint"?"n":"";throw new Se({max:i?`${i}${c}`:void 0,min:`${s}${c}`,signed:r,size:n,value:`${e}${c}`})}let a=`0x${(r&&o<0?(1n<<BigInt(n*8))+BigInt(o):o).toString(16)}`;return n?L(a,{size:n}):a}var vr=new TextEncoder;function tt(e,t={}){let r=vr.encode(e);return Lt(r,t)}var $r=new TextEncoder;function V(e,t={}){return typeof e=="number"||typeof e=="bigint"?Ar(e,t):typeof e=="boolean"?Pr(e,t):v(e)?Ie(e,t):rt(e,t)}function Pr(e,t={}){let r=new Uint8Array(1);return r[0]=Number(e),typeof t.size=="number"?(j(r,{size:t.size}),L(r,{size:t.size})):r}var k={zero:48,nine:57,A:65,F:70,a:97,f:102};function Ht(e){if(e>=k.zero&&e<=k.nine)return e-k.zero;if(e>=k.A&&e<=k.F)return e-(k.A-10);if(e>=k.a&&e<=k.f)return e-(k.a-10)}function Ie(e,t={}){let r=e;t.size&&(j(r,{size:t.size}),r=L(r,{dir:"right",size:t.size}));let n=r.slice(2);n.length%2&&(n=`0${n}`);let o=n.length/2,i=new Uint8Array(o);for(let s=0,a=0;s<o;s++){let c=Ht(n.charCodeAt(a++)),l=Ht(n.charCodeAt(a++));if(c===void 0||l===void 0)throw new u(`Invalid byte sequence ("${n[a-2]}${n[a-1]}" in "${n}").`);i[s]=c*16+l}return i}function Ar(e,t){let r=g(e,t);return Ie(r)}function rt(e,t={}){let r=$r.encode(e);return typeof t.size=="number"?(j(r,{size:t.size}),L(r,{dir:"right",size:t.size})):r}function Rt(e,t){return e.exec(t)?.groups}var Nt=/^tuple(?<array>(\[(\d*)\])*)$/;function ze(e){let t=e.type;if(Nt.test(e.type)&&"components"in e){t="(";let r=e.components.length;for(let o=0;o<r;o++){let i=e.components[o];t+=ze(i),o<r-1&&(t+=", ")}let n=Rt(Nt,e.type);return t+=`)${n?.array??""}`,ze(w(x({},e),{type:t}))}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function X(e){let t="",r=e.length;for(let n=0;n<r;n++){let o=e[n];t+=ze(o),n!==r-1&&(t+=", ")}return t}function nt(e){return e.type==="function"?`function ${e.name}(${X(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${e.outputs.length?` returns (${X(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${X(e.inputs)})`:e.type==="error"?`error ${e.name}(${X(e.inputs)})`:e.type==="constructor"?`constructor(${X(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?"fallback()":"receive() external payable"}function Dt(e){let t=!0,r="",n=0,o="",i=!1;for(let s=0;s<e.length;s++){let a=e[s];if(["(",")",","].includes(a)&&(t=!0),a==="("&&n++,a===")"&&n--,!!t){if(n===0){if(a===" "&&["event","function",""].includes(o))o="";else if(o+=a,a===")"){i=!0;break}continue}if(a===" "){e[s-1]!==","&&r!==","&&r!==",("&&(r="",t=!1);continue}o+=a,r+=a}}if(!i)throw new u("Unable to normalize signature.");return o}var Ce=e=>{let t=typeof e=="string"?e:nt(e);return Dt(t)};var Fe=BigInt(4294967295),ot=BigInt(32);function Ut(e,t=!1){return t?{h:Number(e&Fe),l:Number(e>>ot&Fe)}:{h:Number(e>>ot&Fe)|0,l:Number(e&Fe)|0}}function it(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let o=0;o<e.length;o++){let{h:i,l:s}=Ut(e[o],t);[r[o],n[o]]=[i,s]}return[r,n]}var jr=(e,t)=>BigInt(e>>>0)<<ot|BigInt(t>>>0),Or=(e,t,r)=>e>>>r,Er=(e,t,r)=>e<<32-r|t>>>r,Tr=(e,t,r)=>e>>>r|t<<32-r,kr=(e,t,r)=>e<<32-r|t>>>r,Sr=(e,t,r)=>e<<64-r|t>>>r-32,Br=(e,t,r)=>e>>>r-32|t<<64-r,Mr=(e,t)=>t,Ir=(e,t)=>e,st=(e,t,r)=>e<<r|t>>>32-r,at=(e,t,r)=>t<<r|e>>>32-r,ut=(e,t,r)=>t<<r-32|e>>>64-r,ct=(e,t,r)=>e<<r-32|t>>>64-r;function zr(e,t,r,n){let o=(t>>>0)+(n>>>0);return{h:e+r+(o/2**32|0)|0,l:o|0}}var Cr=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),Fr=(e,t,r,n)=>t+r+n+(e/2**32|0)|0,Lr=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),Hr=(e,t,r,n,o)=>t+r+n+o+(e/2**32|0)|0,Rr=(e,t,r,n,o)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(o>>>0),Nr=(e,t,r,n,o,i)=>t+r+n+o+i+(e/2**32|0)|0;var Dr={fromBig:Ut,split:it,toBig:jr,shrSH:Or,shrSL:Er,rotrSH:Tr,rotrSL:kr,rotrBH:Sr,rotrBL:Br,rotr32H:Mr,rotr32L:Ir,rotlSH:st,rotlSL:at,rotlBH:ut,rotlBL:ct,add:zr,add3L:Cr,add3H:Fr,add4L:Lr,add4H:Hr,add5H:Nr,add5L:Rr},Io=Dr;var[Wt,qt,Vt]=[[],[],[]],Ur=BigInt(0),me=BigInt(1),Gr=BigInt(2),_r=BigInt(7),Wr=BigInt(256),qr=BigInt(113);for(let e=0,t=me,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],Wt.push(2*(5*n+r)),qt.push((e+1)*(e+2)/2%64);let o=Ur;for(let i=0;i<7;i++)t=(t<<me^(t>>_r)*qr)%Wr,t&Gr&&(o^=me<<(me<<BigInt(i))-me);Vt.push(o)}var[Vr,Xr]=it(Vt,!0),Gt=(e,t,r)=>r>32?ut(e,t,r):st(e,t,r),_t=(e,t,r)=>r>32?ct(e,t,r):at(e,t,r);function Yr(e,t=24){let r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let s=0;s<10;s++)r[s]=e[s]^e[s+10]^e[s+20]^e[s+30]^e[s+40];for(let s=0;s<10;s+=2){let a=(s+8)%10,c=(s+2)%10,l=r[c],f=r[c+1],d=Gt(l,f,1)^r[a],h=_t(l,f,1)^r[a+1];for(let p=0;p<50;p+=10)e[s+p]^=d,e[s+p+1]^=h}let o=e[2],i=e[3];for(let s=0;s<24;s++){let a=qt[s],c=Gt(o,i,a),l=_t(o,i,a),f=Wt[s];o=e[f],i=e[f+1],e[f]=c,e[f+1]=l}for(let s=0;s<50;s+=10){for(let a=0;a<10;a++)r[a]=e[s+a];for(let a=0;a<10;a++)e[s+a]^=~r[(a+2)%10]&r[(a+4)%10]}e[0]^=Vr[n],e[1]^=Xr[n]}r.fill(0)}var Le=class e extends $t{constructor(t,r,n,o=!1,i=24){if(super(),this.blockLen=t,this.suffix=r,this.outputLen=n,this.enableXOF=o,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Je(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=wt(this.state)}keccak(){Yr(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){Ze(this);let{blockLen:r,state:n}=this;t=vt(t);let o=t.length;for(let i=0;i<o;){let s=Math.min(r-this.pos,o-i);for(let a=0;a<s;a++)n[this.pos++]^=t[i++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:t,suffix:r,pos:n,blockLen:o}=this;t[n]^=r,(r&128)!==0&&n===o-1&&this.keccak(),t[o-1]^=128,this.keccak()}writeInto(t){Ze(this,!1),yt(t),this.finish();let r=this.state,{blockLen:n}=this;for(let o=0,i=t.length;o<i;){this.posOut>=n&&this.keccak();let s=Math.min(n-this.posOut,i-o);t.set(r.subarray(this.posOut,this.posOut+s),o),this.posOut+=s,o+=s}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return Je(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(xt(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){let{blockLen:r,suffix:n,outputLen:o,rounds:i,enableXOF:s}=this;return t||(t=new e(r,n,o,s,i)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=i,t.suffix=n,t.outputLen=o,t.enableXOF=s,t.destroyed=this.destroyed,t}},H=(e,t,r)=>Pt(()=>new Le(t,e,r)),Ho=H(6,144,224/8),Ro=H(6,136,256/8),No=H(6,104,384/8),Do=H(6,72,512/8),Uo=H(1,144,224/8),Xt=H(1,136,256/8),Go=H(1,104,384/8),_o=H(1,72,512/8),Yt=(e,t,r)=>At((n={})=>new Le(t,e,n.dkLen===void 0?r:n.dkLen,!0)),Wo=Yt(31,168,128/8),qo=Yt(31,136,256/8);function Y(e,t){let r=t||"hex",n=Xt(v(e,{strict:!1})?V(e):e);return r==="bytes"?n:Ft(n)}var Jr=e=>Y(V(e)),J=e=>m(Jr(Ce(e)),0,4);var E=class extends u{constructor({address:t}){super(`Address "${t}" is invalid.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAddressError"})}};var Zr=/^0x[a-fA-F0-9]{40}$/;function $(e){return Zr.test(e)}function Jt(e,t){let r=t?`${t}${e.toLowerCase()}`:e.substring(2).toLowerCase(),n=Y(rt(r),"bytes"),o=(t?r.substring(`${t}0x`.length):r).split("");for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&o[i]&&(o[i]=o[i].toUpperCase()),(n[i>>1]&15)>=8&&o[i+1]&&(o[i+1]=o[i+1].toUpperCase());return`0x${o.join("")}`}function S(e){return typeof e[0]=="string"?lt(e):Kr(e)}function Kr(e){let t=0;for(let o of e)t+=o.length;let r=new Uint8Array(t),n=0;for(let o of e)r.set(o,n),n+=o.length;return r}function lt(e){return`0x${e.reduce((t,r)=>t+r.replace("0x",""),"")}`}function He(e,t){if(e.length!==t.length)throw new Pe({expectedLength:e.length,givenLength:t.length});let r=Qr({params:e,values:t}),n=dt(r);return n.length===0?"0x":n}function Qr({params:e,values:t}){let r=[];for(let n=0;n<e.length;n++)r.push(ft({param:e[n],value:t[n]}));return r}function ft({param:e,value:t}){let r=he(e.type);if(r){let[n,o]=r;return tn(t,{length:n,param:w(x({},e),{type:o})})}if(e.type==="tuple")return an(t,{param:e});if(e.type==="address")return en(t);if(e.type==="bool")return nn(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){let n=e.type.startsWith("int");return on(t,{signed:n})}if(e.type.startsWith("bytes"))return rn(t,{param:e});if(e.type==="string")return sn(t);throw new Ee(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function dt(e){let t=0;for(let i=0;i<e.length;i++){let{dynamic:s,encoded:a}=e[i];s?t+=32:t+=b(a)}let r=[],n=[],o=0;for(let i=0;i<e.length;i++){let{dynamic:s,encoded:a}=e[i];s?(r.push(g(t+o,{size:32})),n.push(a),o+=b(a)):r.push(a)}return S([...r,...n])}function en(e){if(!$(e))throw new E({address:e});return{dynamic:!1,encoded:T(e.toLowerCase())}}function tn(e,{length:t,param:r}){let n=t===null;if(!Array.isArray(e))throw new ke(e);if(!n&&e.length!==t)throw new ve({expectedLength:t,givenLength:e.length,type:`${r.type}[${t}]`});let o=!1,i=[];for(let s=0;s<e.length;s++){let a=ft({param:r,value:e[s]});a.dynamic&&(o=!0),i.push(a)}if(n||o){let s=dt(i);if(n){let a=g(i.length,{size:32});return{dynamic:!0,encoded:i.length>0?S([a,s]):a}}if(o)return{dynamic:!0,encoded:s}}return{dynamic:!1,encoded:S(i.map(({encoded:s})=>s))}}function rn(e,{param:t}){let[,r]=t.type.split("bytes"),n=b(e);if(!r){let o=e;return n%32!==0&&(o=T(o,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:S([T(g(n,{size:32})),o])}}if(n!==parseInt(r))throw new $e({expectedSize:parseInt(r),value:e});return{dynamic:!1,encoded:T(e,{dir:"right"})}}function nn(e){return{dynamic:!1,encoded:T(et(e))}}function on(e,{signed:t}){return{dynamic:!1,encoded:g(e,{size:32,signed:t})}}function sn(e){let t=tt(e),r=Math.ceil(b(t)/32),n=[];for(let o=0;o<r;o++)n.push(T(m(t,o*32,(o+1)*32),{dir:"right"}));return{dynamic:!0,encoded:S([T(g(b(t),{size:32})),...n])}}function an(e,{param:t}){let r=!1,n=[];for(let o=0;o<t.components.length;o++){let i=t.components[o],s=Array.isArray(e)?o:i.name,a=ft({param:i,value:e[s]});n.push(a),a.dynamic&&(r=!0)}return{dynamic:r,encoded:r?dt(n):S(n.map(({encoded:o})=>o))}}function he(e){let t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function Ne(e,t){if(t==="0x"&&e.length>0)throw new q;if(b(t)&&b(t)<32)throw new fe({data:t,params:e,size:b(t)});return un({data:t,params:e})}function un({data:e,params:t}){let r=[],n=0;for(let o=0;o<t.length;o++){if(n>=b(e))throw new fe({data:e,params:t,size:b(e)});let i=t[o],{consumed:s,value:a}=Z({data:e,param:i,position:n});r.push(a),n+=s}return r}function Z({data:e,param:t,position:r}){let n=he(t.type);if(n){let[i,s]=n;return ln(e,{length:i,param:w(x({},t),{type:s}),position:r})}if(t.type==="tuple")return hn(e,{param:t,position:r});if(t.type==="string")return mn(e,{position:r});if(t.type.startsWith("bytes"))return dn(e,{param:t,position:r});let o=m(e,r,r+32,{strict:!0});if(t.type.startsWith("uint")||t.type.startsWith("int"))return pn(o,{param:t});if(t.type==="address")return cn(o);if(t.type==="bool")return fn(o);throw new Te(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}function cn(e){return{consumed:32,value:Jt(m(e,-20))}}function ln(e,{param:t,length:r,position:n}){if(!r){let s=O(m(e,n,n+32,{strict:!0})),a=O(m(e,s,s+32,{strict:!0})),c=0,l=[];for(let f=0;f<a;++f){let d=Z({data:m(e,s+32),param:t,position:c});c+=d.consumed,l.push(d.value)}return{value:l,consumed:32}}if(Re(t)){let a=!he(t.type)?.[0],c=0,l=[];for(let f=0;f<r;++f){let d=O(m(e,n,n+32,{strict:!0})),h=Z({data:m(e,d),param:t,position:a?c:f*32});c+=h.consumed,l.push(h.value)}return{value:l,consumed:32}}let o=0,i=[];for(let s=0;s<r;++s){let a=Z({data:e,param:t,position:n+o});o+=a.consumed,i.push(a.value)}return{value:i,consumed:o}}function fn(e){return{consumed:32,value:zt(e)}}function dn(e,{param:t,position:r}){let[n,o]=t.type.split("bytes");if(!o){let s=O(m(e,r,r+32,{strict:!0})),a=O(m(e,s,s+32,{strict:!0}));return a===0?{consumed:32,value:"0x"}:{consumed:32,value:m(e,s+32,s+32+a,{strict:!0})}}return{consumed:32,value:m(e,r,r+parseInt(o),{strict:!0})}}function pn(e,{param:t}){let r=t.type.startsWith("int");return{consumed:32,value:parseInt(t.type.split("int")[1]||"256")>48?Qe(e,{signed:r}):O(e,{signed:r})}}function mn(e,{position:t}){let r=O(m(e,t,t+32,{strict:!0})),n=O(m(e,r,r+32,{strict:!0}));return n===0?{consumed:32,value:""}:{consumed:32,value:Ct(_(m(e,r+32,r+32+n,{strict:!0})))}}function hn(e,{param:t,position:r}){let n=t.components.length===0||t.components.some(({name:s})=>!s),o=n?[]:{},i=0;if(Re(t)){let s=O(m(e,r,r+32,{strict:!0}));for(let a=0;a<t.components.length;++a){let c=t.components[a],l=Z({data:m(e,s),param:c,position:i});i+=l.consumed,o[n?a:c?.name]=l.value}return{consumed:32,value:o}}for(let s=0;s<t.components.length;++s){let a=t.components[s],c=Z({data:e,param:a,position:r+i});i+=c.consumed,o[n?s:a?.name]=c.value}return{consumed:i,value:o}}function Re(e){let{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return e.components?.some(Re);let r=he(e.type);return!!(r&&Re(w(x({},e),{type:r[1]})))}function Zt({abi:e,data:t}){let r=m(t,0,4);if(r==="0x")throw new q;let o=[...e||[],St,Bt].find(i=>i.type==="error"&&r===J(G(i)));if(!o)throw new Ae(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:o,args:"inputs"in o&&o.inputs&&o.inputs.length>0?Ne(o.inputs,m(t,4)):void 0,errorName:o.name}}var K=(e,t,r)=>JSON.stringify(e,(n,o)=>{let i=typeof o=="bigint"?o.toString():o;return typeof t=="function"?t(n,i):i},r);var Kt=e=>Ce(e);var bn=e=>Y(V(e)),Qt=e=>bn(Kt(e));function De({abi:e,args:t=[],name:r}){let n=v(r,{strict:!1}),o=e.filter(s=>n?s.type==="function"?J(s)===r:s.type==="event"?Qt(s)===r:!1:"name"in s&&s.name===r);if(o.length===0)return;if(o.length===1)return o[0];let i;for(let s of o){if(!("inputs"in s))continue;if(!t||t.length===0){if(!s.inputs||s.inputs.length===0)return s;continue}if(!s.inputs||s.inputs.length===0||s.inputs.length!==t.length)continue;if(t.every((c,l)=>{let f="inputs"in s&&s.inputs[l];return f?pt(c,f):!1})){if(i&&"inputs"in i&&i.inputs){let c=er(s.inputs,i.inputs,t);if(c)throw new Oe({abiItem:s,type:c[0]},{abiItem:i,type:c[1]})}i=s}}return i||o[0]}function pt(e,t){let r=typeof e,n=t.type;switch(n){case"address":return $(e);case"bool":return r==="boolean";case"function":return r==="string";case"string":return r==="string";default:return n==="tuple"&&"components"in t?Object.values(t.components).every((o,i)=>pt(Object.values(e)[i],o)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(n)?r==="number"||r==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(n)?r==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(n)?Array.isArray(e)&&e.every(o=>pt(o,w(x({},t),{type:n.replace(/(\[[0-9]{0,}\])$/,"")}))):!1}}function er(e,t,r){for(let n in e){let o=e[n],i=t[n];if(o.type==="tuple"&&i.type==="tuple"&&"components"in o&&"components"in i)return er(o.components,i.components,r[n]);let s=[o.type,i.type];if(s.includes("address")&&s.includes("bytes20")?!0:s.includes("address")&&s.includes("string")?$(r[n]):s.includes("address")&&s.includes("bytes")?$(r[n]):!1)return s}}var tr={gwei:9,wei:18},rr={ether:-9,wei:9};function Ue(e,t){let r=e.toString(),n=r.startsWith("-");n&&(r=r.slice(1)),r=r.padStart(t,"0");let[o,i]=[r.slice(0,r.length-t),r.slice(r.length-t)];return i=i.replace(/(0+)$/,""),`${n?"-":""}${o||"0"}${i?`.${i}`:""}`}function nr(e,t="wei"){return Ue(e,tr[t])}function B(e,t="wei"){return Ue(e,rr[t])}function or(e){let t=Object.entries(e).map(([n,o])=>o===void 0||o===!1?null:[n,o]).filter(Boolean),r=t.reduce((n,[o])=>Math.max(n,o.length),0);return t.map(([n,o])=>`  ${`${n}:`.padEnd(r+1)}  ${o}`).join(`
`)}var Ge=class extends u{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeConflictError"})}};var _e=class extends u{constructor(t,{account:r,docsPath:n,chain:o,data:i,gas:s,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:f,to:d,value:h}){let p=r?W(r):void 0,y=or({from:p?.address,to:d,value:typeof h<"u"&&`${nr(h)} ${o?.nativeCurrency?.symbol||"ETH"}`,data:i,gas:s,gasPrice:typeof a<"u"&&`${B(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${B(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${B(l)} gwei`,nonce:f});super(t.shortMessage,{cause:t,docsPath:n,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",y].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CallExecutionError"}),this.cause=t}};var We=class extends u{constructor({data:t,message:r}){super(r||""),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RawContractError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}};var mt="/docs/contract/decodeFunctionResult";function ir({abi:e,args:t,functionName:r,data:n}){let o=e[0];if(r&&(o=De({abi:e,args:t,name:r}),!o))throw new F(r,{docsPath:mt});if(o.type!=="function")throw new F(void 0,{docsPath:mt});if(!o.outputs)throw new je(o.name,{docsPath:mt});let i=Ne(o.outputs,n);if(i&&i.length>1)return i;if(i&&i.length===1)return i[0]}function sr({abi:e,args:t,functionName:r}){let n=e[0];if(r&&(n=De({abi:e,args:t,name:r}),!n))throw new F(r,{docsPath:"/docs/contract/encodeFunctionData"});if(n.type!=="function")throw new F(void 0,{docsPath:"/docs/contract/encodeFunctionData"});let o=G(n),i=J(o),s="inputs"in n&&n.inputs?He(n.inputs,t??[]):void 0;return lt([i,s??"0x"])}function ar({blockNumber:e,chain:t,contract:r}){let n=t?.contracts?.[r];if(!n)throw new U({chain:t,contract:{name:r}});if(e&&n.blockCreated&&n.blockCreated>e)throw new U({blockNumber:e,chain:t,contract:{name:r,blockCreated:n.blockCreated}});return n.address}var M=class extends u{constructor({cause:t,message:r}={}){let n=r?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${n?`with reason: ${n}`:"for an unknown reason"}.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ExecutionRevertedError"})}};Object.defineProperty(M,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(M,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});var R=class extends u{constructor({cause:t,maxFeePerGas:r}={}){super(`The fee cap (\`maxFeePerGas\`${r?` = ${B(r)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooHigh"})}};Object.defineProperty(R,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});var Q=class extends u{constructor({cause:t,maxFeePerGas:r}={}){super(`The fee cap (\`maxFeePerGas\`${r?` = ${B(r)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooLow"})}};Object.defineProperty(Q,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});var ee=class extends u{constructor({cause:t,nonce:r}={}){super(`Nonce provided for the transaction ${r?`(${r}) `:""}is higher than the next one expected.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooHighError"})}};Object.defineProperty(ee,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});var te=class extends u{constructor({cause:t,nonce:r}={}){super([`Nonce provided for the transaction ${r?`(${r}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooLowError"})}};Object.defineProperty(te,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});var re=class extends u{constructor({cause:t,nonce:r}={}){super(`Nonce provided for the transaction ${r?`(${r}) `:""}exceeds the maximum allowed nonce.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceMaxValueError"})}};Object.defineProperty(re,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});var ne=class extends u{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InsufficientFundsError"})}};Object.defineProperty(ne,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds/});var oe=class extends u{constructor({cause:t,gas:r}={}){super(`The amount of gas ${r?`(${r}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooHighError"})}};Object.defineProperty(oe,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});var ie=class extends u{constructor({cause:t,gas:r}={}){super(`The amount of gas ${r?`(${r}) `:""}provided for the transaction is too low.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooLowError"})}};Object.defineProperty(ie,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});var se=class extends u{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionTypeNotSupportedError"})}};Object.defineProperty(se,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});var N=class extends u{constructor({cause:t,maxPriorityFeePerGas:r,maxFeePerGas:n}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${r?` = ${B(r)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${n?` = ${B(n)} gwei`:""}).`].join(`
`),{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TipAboveFeeCapError"})}};Object.defineProperty(N,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});var ae=class extends u{constructor({cause:t}){super(`An error occurred while executing: ${t?.shortMessage}`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownNodeError"})}};var be=class extends u{constructor({body:t,details:r,headers:n,status:o,url:i}){super("HTTP request failed.",{details:r,metaMessages:[o&&`Status: ${o}`,`URL: ${ce(i)}`,t&&`Request body: ${K(t)}`].filter(Boolean)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=n,this.status=o,this.url=i}};function ur(e,t){let r=(e.details||"").toLowerCase(),n=e.walk(o=>o.code===M.code);return n instanceof u?new M({cause:e,message:n.details}):M.nodeMessage.test(r)?new M({cause:e,message:e.details}):R.nodeMessage.test(r)?new R({cause:e,maxFeePerGas:t?.maxFeePerGas}):Q.nodeMessage.test(r)?new Q({cause:e,maxFeePerGas:t?.maxFeePerGas}):ee.nodeMessage.test(r)?new ee({cause:e,nonce:t?.nonce}):te.nodeMessage.test(r)?new te({cause:e,nonce:t?.nonce}):re.nodeMessage.test(r)?new re({cause:e,nonce:t?.nonce}):ne.nodeMessage.test(r)?new ne({cause:e}):oe.nodeMessage.test(r)?new oe({cause:e,gas:t?.gas}):ie.nodeMessage.test(r)?new ie({cause:e,gas:t?.gas}):se.nodeMessage.test(r)?new se({cause:e}):N.nodeMessage.test(r)?new N({cause:e,maxFeePerGas:t?.maxFeePerGas,maxPriorityFeePerGas:t?.maxPriorityFeePerGas}):new ae({cause:e})}function cr(e,n){var o=n,{docsPath:t}=o,r=ue(o,["docsPath"]);let i=(()=>{let s=ur(e,r);return s instanceof ae?e:s})();return new _e(i,x({docsPath:t},r))}function lr(e,{format:t}){if(!t)return{};let r={};function n(i){let s=Object.keys(i);for(let a of s)a in e&&(r[a]=e[a]),i[a]&&typeof i[a]=="object"&&!Array.isArray(i[a])&&n(i[a])}let o=t(e||{});return n(o),r}var gn={legacy:"0x0",eip2930:"0x1",eip1559:"0x2"};function fr(e){return w(x({},e),{gas:typeof e.gas<"u"?g(e.gas):void 0,gasPrice:typeof e.gasPrice<"u"?g(e.gasPrice):void 0,maxFeePerGas:typeof e.maxFeePerGas<"u"?g(e.maxFeePerGas):void 0,maxPriorityFeePerGas:typeof e.maxPriorityFeePerGas<"u"?g(e.maxPriorityFeePerGas):void 0,nonce:typeof e.nonce<"u"?g(e.nonce):void 0,type:typeof e.type<"u"?gn[e.type]:void 0,value:typeof e.value<"u"?g(e.value):void 0})}var ht=new Map;function dr({fn:e,id:t,shouldSplitBatch:r,wait:n=0,sort:o}){let i=()=>A(null,null,function*(){let d=c();s();let h=d.map(({args:p})=>p);h.length!==0&&e(h).then(p=>{o&&Array.isArray(p)&&p.sort(o);for(let y=0;y<d.length;y++){let{pendingPromise:P}=d[y];P.resolve?.([p[y],p])}}).catch(p=>{for(let y=0;y<d.length;y++){let{pendingPromise:P}=d[y];P.reject?.(p)}})}),s=()=>ht.delete(t),a=()=>c().map(({args:d})=>d),c=()=>ht.get(t)||[],l=d=>ht.set(t,[...c(),d]);return{flush:s,schedule(d){return A(this,null,function*(){let h={},p=new Promise((I,z)=>{h.resolve=I,h.reject=z});return r?.([...a(),d])&&i(),c().length>0?(l({args:d,pendingPromise:h}),p):(l({args:d,pendingPromise:h}),setTimeout(i,n),p)})}}}function pr(e){let{account:t,gasPrice:r,maxFeePerGas:n,maxPriorityFeePerGas:o,to:i}=e,s=t?W(t):void 0;if(s&&!$(s.address))throw new E({address:s.address});if(i&&!$(i))throw new E({address:i});if(typeof r<"u"&&(typeof n<"u"||typeof o<"u"))throw new Ge;if(n&&n>2n**256n-1n)throw new R({maxFeePerGas:n});if(o&&n&&o>n)throw new N({maxFeePerGas:n,maxPriorityFeePerGas:o})}function mr(e,t){return A(this,null,function*(){let z=t,{account:r=e.account,batch:n=!!e.batch?.multicall,blockNumber:o,blockTag:i="latest",accessList:s,data:a,gas:c,gasPrice:l,maxFeePerGas:f,maxPriorityFeePerGas:d,nonce:h,to:p,value:y}=z,P=ue(z,["account","batch","blockNumber","blockTag","accessList","data","gas","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","value"]),I=r?W(r):void 0;try{pr(t);let C=(o?g(o):void 0)||i,ge=e.chain?.formatters?.transactionRequest?.format,ye=(ge||fr)(w(x({},lr(P,{format:ge})),{from:I?.address,accessList:s,data:a,gas:c,gasPrice:l,maxFeePerGas:f,maxPriorityFeePerGas:d,nonce:h,to:p,value:y}));if(n&&yn({request:ye}))try{return yield xn(e,w(x({},ye),{blockNumber:o,blockTag:i}))}catch(Ye){if(!(Ye instanceof le)&&!(Ye instanceof U))throw Ye}let gt=yield e.request({method:"eth_call",params:C?[ye,C]:[ye]});return gt==="0x"?{data:void 0}:{data:gt}}catch(D){let C=wn(D),{offchainLookup:ge,offchainLookupSignature:bt}=yield import("./chunk-32674OKO.js");if(C?.slice(0,10)===bt&&p)return{data:yield ge(e,{data:C,to:p})};throw cr(D,w(x({},t),{account:I,chain:e.chain}))}})}function yn({request:e}){let o=e,{data:t,to:r}=o,n=ue(o,["data","to"]);return!(!t||t.startsWith(Ot)||!r||Object.values(n).filter(i=>typeof i<"u").length>0)}function xn(e,t){return A(this,null,function*(){let{batchSize:r=1024,wait:n=0}=typeof e.batch?.multicall=="object"?e.batch.multicall:{},{blockNumber:o,blockTag:i="latest",data:s,multicallAddress:a,to:c}=t,l=a;if(!l){if(!e.chain)throw new le;l=ar({blockNumber:o,chain:e.chain,contract:"multicall3"})}let d=(o?g(o):void 0)||i,{schedule:h}=dr({id:`${e.uid}.${d}`,wait:n,shouldSplitBatch(P){return P.reduce((z,{data:D})=>z+(D.length-2),0)>r*2},fn:P=>A(null,null,function*(){let I=P.map(C=>({allowFailure:!0,callData:C.data,target:C.to})),z=sr({abi:Ke,args:[I],functionName:"aggregate3"}),D=yield e.request({method:"eth_call",params:[{data:z,to:l},d]});return ir({abi:Ke,args:[I],functionName:"aggregate3",data:D||"0x"})})}),[{returnData:p,success:y}]=yield h({data:s,to:c});if(!y)throw new We({data:p});return p==="0x"?{data:void 0}:{data:p}})}function wn(e){if(!(e instanceof u))return;let t=e.walk();return typeof t.data=="object"?t.data.data:t.data}var qe=class extends u{constructor({callbackSelector:t,cause:r,data:n,extraData:o,sender:i,urls:s}){super(r.shortMessage||"An error occurred while fetching for an offchain result.",{cause:r,metaMessages:[...r.metaMessages||[],r.metaMessages?.length?"":[],"Offchain Gateway Call:",s&&["  Gateway URL(s):",...s.map(a=>`    ${ce(a)}`)],`  Sender: ${i}`,`  Data: ${n}`,`  Callback selector: ${t}`,`  Extra data: ${o}`].flat()}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"OffchainLookupError"})}},Ve=class extends u{constructor({result:t,url:r}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${ce(r)}`,`Response: ${K(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"OffchainLookupResponseMalformedError"})}},Xe=class extends u{constructor({sender:t,to:r}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${r}`,`OffchainLookup sender address: ${t}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"OffchainLookupSenderMismatchError"})}};function hr(e,t){if(!$(e))throw new E({address:e});if(!$(t))throw new E({address:t});return e.toLowerCase()===t.toLowerCase()}var Ma="0x556f1830",vn={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};function Ia(i,s){return A(this,arguments,function*(e,{blockNumber:t,blockTag:r,data:n,to:o}){let{args:a}=Zt({data:n,abi:[vn]}),[c,l,f,d,h]=a;try{if(!hr(o,c))throw new Xe({sender:c,to:o});let p=yield $n({data:f,sender:c,urls:l}),{data:y}=yield mr(e,{blockNumber:t,blockTag:r,data:S([d,He([{type:"bytes"},{type:"bytes"}],[p,h])]),to:o});return y}catch(p){throw new qe({callbackSelector:d,cause:p,data:n,extraData:h,sender:c,urls:l})}})}function $n(n){return A(this,arguments,function*({data:e,sender:t,urls:r}){let o=new Error("An unknown error occurred.");for(let i=0;i<r.length;i++){let s=r[i],a=s.includes("{data}")?"GET":"POST",c=a==="POST"?{data:e,sender:t}:void 0;try{let l=yield fetch(s.replace("{sender}",t).replace("{data}",e),{body:JSON.stringify(c),method:a}),f;if(l.headers.get("Content-Type")?.startsWith("application/json")?f=(yield l.json()).data:f=yield l.text(),!l.ok){o=new be({body:c,details:f?.error?K(f.error):l.statusText,headers:l.headers,status:l.status,url:s});continue}if(!v(f)){o=new Ve({result:f,url:s});continue}return f}catch(l){o=new be({body:c,details:l.message,url:s})}}throw o})}export{Io as a,Xt as b,Jt as c,Ma as d,vn as e,Ia as f,$n as g};
