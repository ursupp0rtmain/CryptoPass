import{C as $U,K as qb,O as od,c as rd,ea as Qb,g as UU,nb as rN,t as BU,u as nd,v as MU}from"./chunk-XQ36P3UB.js";import{a as Hb,b as ad,c as GU,d as ll,e as qm,f as Ya,g as Di,h as nN,i as Kb,j as Ao,k as zU,l as Oi,m as qU,n as Hc,o as QU,p as JU,q as HU,r as cd,s as Qn}from"./chunk-IDCDGEFH.js";import{a as ct,b as ul,c as oN}from"./chunk-BXSD24PQ.js";import{i as VU,j as jU,k as id,m as Jb,o as zm,q as sd}from"./chunk-TF4TY5JN.js";import{a as b,b as S,c as PU,d as Gr,e as j,f as $,g as vt,h as Rr,i as zb,j as Wa,k as E,l as LU,m as qn,n as FU}from"./chunk-KYPE3LET.js";var R8=$((SMe,C8)=>{"use strict";C8.exports=f1;var O8=128,Noe=127,_oe=~Noe,Doe=Math.pow(2,31);function f1(t,e,r){if(Number.MAX_SAFE_INTEGER&&t>Number.MAX_SAFE_INTEGER)throw f1.bytes=0,new RangeError("Could not encode varint");e=e||[],r=r||0;for(var n=r;t>=Doe;)e[r++]=t&255|O8,t/=128;for(;t&_oe;)e[r++]=t&255|O8,t>>>=7;return e[r]=t|0,f1.bytes=r-n+1,e}});var L8=$((NMe,P8)=>{"use strict";P8.exports=d1;var Ooe=128,k8=127;function d1(t,n){var r=0,n=n||0,o=0,i=n,s,a=t.length;do{if(i>=a||o>49)throw d1.bytes=0,new RangeError("Could not decode varint");s=t[i++],r+=o<28?(s&k8)<<o:(s&k8)*Math.pow(2,o),o+=7}while(s>=Ooe);return d1.bytes=i-n,r}});var U8=$((_Me,F8)=>{"use strict";var Coe=Math.pow(2,7),Roe=Math.pow(2,14),koe=Math.pow(2,21),Poe=Math.pow(2,28),Loe=Math.pow(2,35),Foe=Math.pow(2,42),Uoe=Math.pow(2,49),Boe=Math.pow(2,56),Moe=Math.pow(2,63);F8.exports=function(t){return t<Coe?1:t<Roe?2:t<koe?3:t<Poe?4:t<Loe?5:t<Foe?6:t<Uoe?7:t<Boe?8:t<Moe?9:10}});var xy=$((DMe,B8)=>{"use strict";B8.exports={encode:R8(),decode:L8(),encodingLength:U8()}});var B6=$(bv=>{"use strict";Object.defineProperty(bv,"__esModule",{value:!0});bv.BrowserRandomSource=void 0;var U6=65536,d_=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;let e=typeof self<"u"?self.crypto||self.msCrypto:null;e&&e.getRandomValues!==void 0&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");let r=new Uint8Array(e);for(let n=0;n<r.length;n+=U6)this._crypto.getRandomValues(r.subarray(n,n+Math.min(r.length-n,U6)));return r}};bv.BrowserRandomSource=d_});var h_=$(p_=>{"use strict";Object.defineProperty(p_,"__esModule",{value:!0});function vae(t){for(var e=0;e<t.length;e++)t[e]=0;return t}p_.wipe=vae});var M6=$(()=>{"use strict"});var $6=$(Ev=>{"use strict";Object.defineProperty(Ev,"__esModule",{value:!0});Ev.NodeRandomSource=void 0;var Tae=h_(),m_=class{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof PU<"u"){let e=M6();e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let r=this._crypto.randomBytes(e);if(r.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");let n=new Uint8Array(e);for(let o=0;o<n.length;o++)n[o]=r[o];return(0,Tae.wipe)(r),n}};Ev.NodeRandomSource=m_});var V6=$(vv=>{"use strict";Object.defineProperty(vv,"__esModule",{value:!0});vv.SystemRandomSource=void 0;var xae=B6(),Aae=$6(),y_=class{constructor(){if(this.isAvailable=!1,this.name="",this._source=new xae.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new Aae.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)}};vv.SystemRandomSource=y_});var j6=$(ri=>{"use strict";Object.defineProperty(ri,"__esModule",{value:!0});function Iae(t,e){var r=t>>>16&65535,n=t&65535,o=e>>>16&65535,i=e&65535;return n*i+(r*i+n*o<<16>>>0)|0}ri.mul=Math.imul||Iae;function Sae(t,e){return t+e|0}ri.add=Sae;function Nae(t,e){return t-e|0}ri.sub=Nae;function _ae(t,e){return t<<e|t>>>32-e}ri.rotl=_ae;function Dae(t,e){return t<<32-e|t>>>e}ri.rotr=Dae;function Oae(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t}ri.isInteger=Number.isInteger||Oae;ri.MAX_SAFE_INTEGER=9007199254740991;ri.isSafeInteger=function(t){return ri.isInteger(t)&&t>=-ri.MAX_SAFE_INTEGER&&t<=ri.MAX_SAFE_INTEGER}});var H6=$(ht=>{"use strict";Object.defineProperty(ht,"__esModule",{value:!0});var G6=j6();function Cae(t,e){return e===void 0&&(e=0),(t[e+0]<<8|t[e+1])<<16>>16}ht.readInt16BE=Cae;function Rae(t,e){return e===void 0&&(e=0),(t[e+0]<<8|t[e+1])>>>0}ht.readUint16BE=Rae;function kae(t,e){return e===void 0&&(e=0),(t[e+1]<<8|t[e])<<16>>16}ht.readInt16LE=kae;function Pae(t,e){return e===void 0&&(e=0),(t[e+1]<<8|t[e])>>>0}ht.readUint16LE=Pae;function z6(t,e,r){return e===void 0&&(e=new Uint8Array(2)),r===void 0&&(r=0),e[r+0]=t>>>8,e[r+1]=t>>>0,e}ht.writeUint16BE=z6;ht.writeInt16BE=z6;function q6(t,e,r){return e===void 0&&(e=new Uint8Array(2)),r===void 0&&(r=0),e[r+0]=t>>>0,e[r+1]=t>>>8,e}ht.writeUint16LE=q6;ht.writeInt16LE=q6;function g_(t,e){return e===void 0&&(e=0),t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}ht.readInt32BE=g_;function w_(t,e){return e===void 0&&(e=0),(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}ht.readUint32BE=w_;function b_(t,e){return e===void 0&&(e=0),t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]}ht.readInt32LE=b_;function E_(t,e){return e===void 0&&(e=0),(t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e])>>>0}ht.readUint32LE=E_;function Tv(t,e,r){return e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0),e[r+0]=t>>>24,e[r+1]=t>>>16,e[r+2]=t>>>8,e[r+3]=t>>>0,e}ht.writeUint32BE=Tv;ht.writeInt32BE=Tv;function xv(t,e,r){return e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0),e[r+0]=t>>>0,e[r+1]=t>>>8,e[r+2]=t>>>16,e[r+3]=t>>>24,e}ht.writeUint32LE=xv;ht.writeInt32LE=xv;function Lae(t,e){e===void 0&&(e=0);var r=g_(t,e),n=g_(t,e+4);return r*4294967296+n-(n>>31)*4294967296}ht.readInt64BE=Lae;function Fae(t,e){e===void 0&&(e=0);var r=w_(t,e),n=w_(t,e+4);return r*4294967296+n}ht.readUint64BE=Fae;function Uae(t,e){e===void 0&&(e=0);var r=b_(t,e),n=b_(t,e+4);return n*4294967296+r-(r>>31)*4294967296}ht.readInt64LE=Uae;function Bae(t,e){e===void 0&&(e=0);var r=E_(t,e),n=E_(t,e+4);return n*4294967296+r}ht.readUint64LE=Bae;function Q6(t,e,r){return e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0),Tv(t/4294967296>>>0,e,r),Tv(t>>>0,e,r+4),e}ht.writeUint64BE=Q6;ht.writeInt64BE=Q6;function J6(t,e,r){return e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0),xv(t>>>0,e,r),xv(t/4294967296>>>0,e,r+4),e}ht.writeUint64LE=J6;ht.writeInt64LE=J6;function Mae(t,e,r){if(r===void 0&&(r=0),t%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(t/8>e.length-r)throw new Error("readUintBE: array is too short for the given bitLength");for(var n=0,o=1,i=t/8+r-1;i>=r;i--)n+=e[i]*o,o*=256;return n}ht.readUintBE=Mae;function $ae(t,e,r){if(r===void 0&&(r=0),t%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(t/8>e.length-r)throw new Error("readUintLE: array is too short for the given bitLength");for(var n=0,o=1,i=r;i<r+t/8;i++)n+=e[i]*o,o*=256;return n}ht.readUintLE=$ae;function Vae(t,e,r,n){if(r===void 0&&(r=new Uint8Array(t/8)),n===void 0&&(n=0),t%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!G6.isSafeInteger(e))throw new Error("writeUintBE value must be an integer");for(var o=1,i=t/8+n-1;i>=n;i--)r[i]=e/o&255,o*=256;return r}ht.writeUintBE=Vae;function jae(t,e,r,n){if(r===void 0&&(r=new Uint8Array(t/8)),n===void 0&&(n=0),t%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!G6.isSafeInteger(e))throw new Error("writeUintLE value must be an integer");for(var o=1,i=n;i<n+t/8;i++)r[i]=e/o&255,o*=256;return r}ht.writeUintLE=jae;function Gae(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat32(e)}ht.readFloat32BE=Gae;function zae(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat32(e,!0)}ht.readFloat32LE=zae;function qae(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat64(e)}ht.readFloat64BE=qae;function Qae(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat64(e,!0)}ht.readFloat64LE=Qae;function Jae(t,e,r){e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat32(r,t),e}ht.writeFloat32BE=Jae;function Hae(t,e,r){e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat32(r,t,!0),e}ht.writeFloat32LE=Hae;function Kae(t,e,r){e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat64(r,t),e}ht.writeFloat64BE=Kae;function Wae(t,e,r){e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat64(r,t,!0),e}ht.writeFloat64LE=Wae});var jy=$(Wn=>{"use strict";Object.defineProperty(Wn,"__esModule",{value:!0});Wn.randomStringForEntropy=Wn.randomString=Wn.randomUint32=Wn.randomBytes=Wn.defaultRandomSource=void 0;var Yae=V6(),Xae=H6(),K6=h_();Wn.defaultRandomSource=new Yae.SystemRandomSource;function v_(t,e=Wn.defaultRandomSource){return e.randomBytes(t)}Wn.randomBytes=v_;function Zae(t=Wn.defaultRandomSource){let e=v_(4,t),r=(0,Xae.readUint32LE)(e);return(0,K6.wipe)(e),r}Wn.randomUint32=Zae;var W6="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function Y6(t,e=W6,r=Wn.defaultRandomSource){if(e.length<2)throw new Error("randomString charset is too short");if(e.length>256)throw new Error("randomString charset is too long");let n="",o=e.length,i=256-256%o;for(;t>0;){let s=v_(Math.ceil(t*256/i),r);for(let a=0;a<s.length&&t>0;a++){let c=s[a];c<i&&(n+=e.charAt(c%o),t--)}(0,K6.wipe)(s)}return n}Wn.randomString=Y6;function ece(t,e=W6,r=Wn.defaultRandomSource){let n=Math.ceil(t/(Math.log(e.length)/Math.LN2));return Y6(n,e,r)}Wn.randomStringForEntropy=ece});var Hy=$((qy,fp)=>{"use strict";var ice=200,p3="__lodash_hash_undefined__",h3=9007199254740991,L_="[object Arguments]",sce="[object Array]",m3="[object Boolean]",y3="[object Date]",ace="[object Error]",F_="[object Function]",g3="[object GeneratorFunction]",Av="[object Map]",w3="[object Number]",U_="[object Object]",r3="[object Promise]",b3="[object RegExp]",Iv="[object Set]",E3="[object String]",v3="[object Symbol]",D_="[object WeakMap]",T3="[object ArrayBuffer]",Sv="[object DataView]",x3="[object Float32Array]",A3="[object Float64Array]",I3="[object Int8Array]",S3="[object Int16Array]",N3="[object Int32Array]",_3="[object Uint8Array]",D3="[object Uint8ClampedArray]",O3="[object Uint16Array]",C3="[object Uint32Array]",cce=/[\\^$.*+?()[\]{}|]/g,uce=/\w*$/,lce=/^\[object .+?Constructor\]$/,fce=/^(?:0|[1-9]\d*)$/,dr={};dr[L_]=dr[sce]=dr[T3]=dr[Sv]=dr[m3]=dr[y3]=dr[x3]=dr[A3]=dr[I3]=dr[S3]=dr[N3]=dr[Av]=dr[w3]=dr[U_]=dr[b3]=dr[Iv]=dr[E3]=dr[v3]=dr[_3]=dr[D3]=dr[O3]=dr[C3]=!0;dr[ace]=dr[F_]=dr[D_]=!1;var dce=typeof global=="object"&&global&&global.Object===Object&&global,pce=typeof self=="object"&&self&&self.Object===Object&&self,lc=dce||pce||Function("return this")(),R3=typeof qy=="object"&&qy&&!qy.nodeType&&qy,n3=R3&&typeof fp=="object"&&fp&&!fp.nodeType&&fp,hce=n3&&n3.exports===R3;function mce(t,e){return t.set(e[0],e[1]),t}function yce(t,e){return t.add(e),t}function gce(t,e){for(var r=-1,n=t?t.length:0;++r<n&&e(t[r],r,t)!==!1;);return t}function wce(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}function k3(t,e,r,n){var o=-1,i=t?t.length:0;for(n&&i&&(r=t[++o]);++o<i;)r=e(r,t[o],o,t);return r}function bce(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}function Ece(t,e){return t?.[e]}function P3(t){var e=!1;if(t!=null&&typeof t.toString!="function")try{e=!!(t+"")}catch{}return e}function o3(t){var e=-1,r=Array(t.size);return t.forEach(function(n,o){r[++e]=[o,n]}),r}function B_(t,e){return function(r){return t(e(r))}}function i3(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var vce=Array.prototype,Tce=Function.prototype,Nv=Object.prototype,__=lc["__core-js_shared__"],s3=(function(){var t=/[^.]+$/.exec(__&&__.keys&&__.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""})(),L3=Tce.toString,du=Nv.hasOwnProperty,_v=Nv.toString,xce=RegExp("^"+L3.call(du).replace(cce,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),a3=hce?lc.Buffer:void 0,c3=lc.Symbol,u3=lc.Uint8Array,Ace=B_(Object.getPrototypeOf,Object),Ice=Object.create,Sce=Nv.propertyIsEnumerable,Nce=vce.splice,l3=Object.getOwnPropertySymbols,_ce=a3?a3.isBuffer:void 0,Dce=B_(Object.keys,Object),O_=hp(lc,"DataView"),Qy=hp(lc,"Map"),C_=hp(lc,"Promise"),R_=hp(lc,"Set"),k_=hp(lc,"WeakMap"),Jy=hp(Object,"create"),Oce=Ul(O_),Cce=Ul(Qy),Rce=Ul(C_),kce=Ul(R_),Pce=Ul(k_),f3=c3?c3.prototype:void 0,d3=f3?f3.valueOf:void 0;function Fl(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Lce(){this.__data__=Jy?Jy(null):{}}function Fce(t){return this.has(t)&&delete this.__data__[t]}function Uce(t){var e=this.__data__;if(Jy){var r=e[t];return r===p3?void 0:r}return du.call(e,t)?e[t]:void 0}function Bce(t){var e=this.__data__;return Jy?e[t]!==void 0:du.call(e,t)}function Mce(t,e){var r=this.__data__;return r[t]=Jy&&e===void 0?p3:e,this}Fl.prototype.clear=Lce;Fl.prototype.delete=Fce;Fl.prototype.get=Uce;Fl.prototype.has=Bce;Fl.prototype.set=Mce;function fc(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function $ce(){this.__data__=[]}function Vce(t){var e=this.__data__,r=Dv(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():Nce.call(e,r,1),!0}function jce(t){var e=this.__data__,r=Dv(e,t);return r<0?void 0:e[r][1]}function Gce(t){return Dv(this.__data__,t)>-1}function zce(t,e){var r=this.__data__,n=Dv(r,t);return n<0?r.push([t,e]):r[n][1]=e,this}fc.prototype.clear=$ce;fc.prototype.delete=Vce;fc.prototype.get=jce;fc.prototype.has=Gce;fc.prototype.set=zce;function dp(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function qce(){this.__data__={hash:new Fl,map:new(Qy||fc),string:new Fl}}function Qce(t){return Ov(this,t).delete(t)}function Jce(t){return Ov(this,t).get(t)}function Hce(t){return Ov(this,t).has(t)}function Kce(t,e){return Ov(this,t).set(t,e),this}dp.prototype.clear=qce;dp.prototype.delete=Qce;dp.prototype.get=Jce;dp.prototype.has=Hce;dp.prototype.set=Kce;function pp(t){this.__data__=new fc(t)}function Wce(){this.__data__=new fc}function Yce(t){return this.__data__.delete(t)}function Xce(t){return this.__data__.get(t)}function Zce(t){return this.__data__.has(t)}function eue(t,e){var r=this.__data__;if(r instanceof fc){var n=r.__data__;if(!Qy||n.length<ice-1)return n.push([t,e]),this;r=this.__data__=new dp(n)}return r.set(t,e),this}pp.prototype.clear=Wce;pp.prototype.delete=Yce;pp.prototype.get=Xce;pp.prototype.has=Zce;pp.prototype.set=eue;function tue(t,e){var r=$_(t)||Iue(t)?bce(t.length,String):[],n=r.length,o=!!n;for(var i in t)(e||du.call(t,i))&&!(o&&(i=="length"||vue(i,n)))&&r.push(i);return r}function F3(t,e,r){var n=t[e];(!(du.call(t,e)&&$3(n,r))||r===void 0&&!(e in t))&&(t[e]=r)}function Dv(t,e){for(var r=t.length;r--;)if($3(t[r][0],e))return r;return-1}function rue(t,e){return t&&U3(e,V_(e),t)}function P_(t,e,r,n,o,i,s){var a;if(n&&(a=i?n(t,o,i,s):n(t)),a!==void 0)return a;if(!Cv(t))return t;var c=$_(t);if(c){if(a=wue(t),!e)return mue(t,a)}else{var u=Ll(t),l=u==F_||u==g3;if(Nue(t))return cue(t,e);if(u==U_||u==L_||l&&!i){if(P3(t))return i?t:{};if(a=bue(l?{}:t),!e)return yue(t,rue(a,t))}else{if(!dr[u])return i?t:{};a=Eue(t,u,P_,e)}}s||(s=new pp);var f=s.get(t);if(f)return f;if(s.set(t,a),!c)var d=r?gue(t):V_(t);return gce(d||t,function(p,h){d&&(h=p,p=t[h]),F3(a,h,P_(p,e,r,n,h,t,s))}),a}function nue(t){return Cv(t)?Ice(t):{}}function oue(t,e,r){var n=e(t);return $_(t)?n:wce(n,r(t))}function iue(t){return _v.call(t)}function sue(t){if(!Cv(t)||xue(t))return!1;var e=j3(t)||P3(t)?xce:lce;return e.test(Ul(t))}function aue(t){if(!M3(t))return Dce(t);var e=[];for(var r in Object(t))du.call(t,r)&&r!="constructor"&&e.push(r);return e}function cue(t,e){if(e)return t.slice();var r=new t.constructor(t.length);return t.copy(r),r}function M_(t){var e=new t.constructor(t.byteLength);return new u3(e).set(new u3(t)),e}function uue(t,e){var r=e?M_(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}function lue(t,e,r){var n=e?r(o3(t),!0):o3(t);return k3(n,mce,new t.constructor)}function fue(t){var e=new t.constructor(t.source,uce.exec(t));return e.lastIndex=t.lastIndex,e}function due(t,e,r){var n=e?r(i3(t),!0):i3(t);return k3(n,yce,new t.constructor)}function pue(t){return d3?Object(d3.call(t)):{}}function hue(t,e){var r=e?M_(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}function mue(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}function U3(t,e,r,n){r||(r={});for(var o=-1,i=e.length;++o<i;){var s=e[o],a=n?n(r[s],t[s],s,r,t):void 0;F3(r,s,a===void 0?t[s]:a)}return r}function yue(t,e){return U3(t,B3(t),e)}function gue(t){return oue(t,V_,B3)}function Ov(t,e){var r=t.__data__;return Tue(e)?r[typeof e=="string"?"string":"hash"]:r.map}function hp(t,e){var r=Ece(t,e);return sue(r)?r:void 0}var B3=l3?B_(l3,Object):Oue,Ll=iue;(O_&&Ll(new O_(new ArrayBuffer(1)))!=Sv||Qy&&Ll(new Qy)!=Av||C_&&Ll(C_.resolve())!=r3||R_&&Ll(new R_)!=Iv||k_&&Ll(new k_)!=D_)&&(Ll=function(t){var e=_v.call(t),r=e==U_?t.constructor:void 0,n=r?Ul(r):void 0;if(n)switch(n){case Oce:return Sv;case Cce:return Av;case Rce:return r3;case kce:return Iv;case Pce:return D_}return e});function wue(t){var e=t.length,r=t.constructor(e);return e&&typeof t[0]=="string"&&du.call(t,"index")&&(r.index=t.index,r.input=t.input),r}function bue(t){return typeof t.constructor=="function"&&!M3(t)?nue(Ace(t)):{}}function Eue(t,e,r,n){var o=t.constructor;switch(e){case T3:return M_(t);case m3:case y3:return new o(+t);case Sv:return uue(t,n);case x3:case A3:case I3:case S3:case N3:case _3:case D3:case O3:case C3:return hue(t,n);case Av:return lue(t,n,r);case w3:case E3:return new o(t);case b3:return fue(t);case Iv:return due(t,n,r);case v3:return pue(t)}}function vue(t,e){return e=e??h3,!!e&&(typeof t=="number"||fce.test(t))&&t>-1&&t%1==0&&t<e}function Tue(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function xue(t){return!!s3&&s3 in t}function M3(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||Nv;return t===r}function Ul(t){if(t!=null){try{return L3.call(t)}catch{}try{return t+""}catch{}}return""}function Aue(t){return P_(t,!0,!0)}function $3(t,e){return t===e||t!==t&&e!==e}function Iue(t){return Sue(t)&&du.call(t,"callee")&&(!Sce.call(t,"callee")||_v.call(t)==L_)}var $_=Array.isArray;function V3(t){return t!=null&&_ue(t.length)&&!j3(t)}function Sue(t){return Due(t)&&V3(t)}var Nue=_ce||Cue;function j3(t){var e=Cv(t)?_v.call(t):"";return e==F_||e==g3}function _ue(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=h3}function Cv(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function Due(t){return!!t&&typeof t=="object"}function V_(t){return V3(t)?tue(t):aue(t)}function Oue(){return[]}function Cue(){return!1}fp.exports=Aue});var Ng=$(Rt=>{"use strict";Object.defineProperty(Rt,"__esModule",{value:!0});Rt.regexpCode=Rt.getEsmExportName=Rt.getProperty=Rt.safeStringify=Rt.stringify=Rt.strConcat=Rt.addCodeArg=Rt.str=Rt._=Rt.nil=Rt._Code=Rt.Name=Rt.IDENTIFIER=Rt._CodeOrName=void 0;var Ig=class{};Rt._CodeOrName=Ig;Rt.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var zl=class extends Ig{constructor(e){if(super(),!Rt.IDENTIFIER.test(e))throw new Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};Rt.Name=zl;var ji=class extends Ig{constructor(e){super(),this._items=typeof e=="string"?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let e=this._items[0];return e===""||e==='""'}get str(){var e;return(e=this._str)!==null&&e!==void 0?e:this._str=this._items.reduce((r,n)=>`${r}${n}`,"")}get names(){var e;return(e=this._names)!==null&&e!==void 0?e:this._names=this._items.reduce((r,n)=>(n instanceof zl&&(r[n.str]=(r[n.str]||0)+1),r),{})}};Rt._Code=ji;Rt.nil=new ji("");function MV(t,...e){let r=[t[0]],n=0;for(;n<e.length;)JD(r,e[n]),r.push(t[++n]);return new ji(r)}Rt._=MV;var QD=new ji("+");function $V(t,...e){let r=[Sg(t[0])],n=0;for(;n<e.length;)r.push(QD),JD(r,e[n]),r.push(QD,Sg(t[++n]));return kde(r),new ji(r)}Rt.str=$V;function JD(t,e){e instanceof ji?t.push(...e._items):e instanceof zl?t.push(e):t.push(Fde(e))}Rt.addCodeArg=JD;function kde(t){let e=1;for(;e<t.length-1;){if(t[e]===QD){let r=Pde(t[e-1],t[e+1]);if(r!==void 0){t.splice(e-1,3,r);continue}t[e++]="+"}e++}}function Pde(t,e){if(e==='""')return t;if(t==='""')return e;if(typeof t=="string")return e instanceof zl||t[t.length-1]!=='"'?void 0:typeof e!="string"?`${t.slice(0,-1)}${e}"`:e[0]==='"'?t.slice(0,-1)+e.slice(1):void 0;if(typeof e=="string"&&e[0]==='"'&&!(t instanceof zl))return`"${t}${e.slice(1)}`}function Lde(t,e){return e.emptyStr()?t:t.emptyStr()?e:$V`${t}${e}`}Rt.strConcat=Lde;function Fde(t){return typeof t=="number"||typeof t=="boolean"||t===null?t:Sg(Array.isArray(t)?t.join(","):t)}function Ude(t){return new ji(Sg(t))}Rt.stringify=Ude;function Sg(t){return JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}Rt.safeStringify=Sg;function Bde(t){return typeof t=="string"&&Rt.IDENTIFIER.test(t)?new ji(`.${t}`):MV`[${t}]`}Rt.getProperty=Bde;function Mde(t){if(typeof t=="string"&&Rt.IDENTIFIER.test(t))return new ji(`${t}`);throw new Error(`CodeGen: invalid export name: ${t}, use explicit $id name mapping`)}Rt.getEsmExportName=Mde;function $de(t){return new ji(t.toString())}Rt.regexpCode=$de});var WD=$(Oo=>{"use strict";Object.defineProperty(Oo,"__esModule",{value:!0});Oo.ValueScope=Oo.ValueScopeName=Oo.Scope=Oo.varKinds=Oo.UsedValueState=void 0;var Do=Ng(),HD=class extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`),this.value=e.value}},IT=(function(t){return t[t.Started=0]="Started",t[t.Completed=1]="Completed",t})(IT||(Oo.UsedValueState=IT={}));Oo.varKinds={const:new Do.Name("const"),let:new Do.Name("let"),var:new Do.Name("var")};var ST=class{constructor({prefixes:e,parent:r}={}){this._names={},this._prefixes=e,this._parent=r}toName(e){return e instanceof Do.Name?e:this.name(e)}name(e){return new Do.Name(this._newName(e))}_newName(e){let r=this._names[e]||this._nameGroup(e);return`${e}${r.index++}`}_nameGroup(e){var r,n;if(!((n=(r=this._parent)===null||r===void 0?void 0:r._prefixes)===null||n===void 0)&&n.has(e)||this._prefixes&&!this._prefixes.has(e))throw new Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}};Oo.Scope=ST;var NT=class extends Do.Name{constructor(e,r){super(r),this.prefix=e}setValue(e,{property:r,itemIndex:n}){this.value=e,this.scopePath=(0,Do._)`.${new Do.Name(r)}[${n}]`}};Oo.ValueScopeName=NT;var Vde=(0,Do._)`\n`,KD=class extends ST{constructor(e){super(e),this._values={},this._scope=e.scope,this.opts=S(b({},e),{_n:e.lines?Vde:Do.nil})}get(){return this._scope}name(e){return new NT(e,this._newName(e))}value(e,r){var n;if(r.ref===void 0)throw new Error("CodeGen: ref must be passed in value");let o=this.toName(e),{prefix:i}=o,s=(n=r.key)!==null&&n!==void 0?n:r.ref,a=this._values[i];if(a){let l=a.get(s);if(l)return l}else a=this._values[i]=new Map;a.set(s,o);let c=this._scope[i]||(this._scope[i]=[]),u=c.length;return c[u]=r.ref,o.setValue(r,{property:i,itemIndex:u}),o}getValue(e,r){let n=this._values[e];if(n)return n.get(r)}scopeRefs(e,r=this._values){return this._reduceValues(r,n=>{if(n.scopePath===void 0)throw new Error(`CodeGen: name "${n}" has no value`);return(0,Do._)`${e}${n.scopePath}`})}scopeCode(e=this._values,r,n){return this._reduceValues(e,o=>{if(o.value===void 0)throw new Error(`CodeGen: name "${o}" has no value`);return o.value.code},r,n)}_reduceValues(e,r,n={},o){let i=Do.nil;for(let s in e){let a=e[s];if(!a)continue;let c=n[s]=n[s]||new Map;a.forEach(u=>{if(c.has(u))return;c.set(u,IT.Started);let l=r(u);if(l){let f=this.opts.es5?Oo.varKinds.var:Oo.varKinds.const;i=(0,Do._)`${i}${f} ${u} = ${l};${this.opts._n}`}else if(l=o?.(u))i=(0,Do._)`${i}${l}${this.opts._n}`;else throw new HD(u);c.set(u,IT.Completed)})}return i}};Oo.ValueScope=KD});var et=$(ft=>{"use strict";Object.defineProperty(ft,"__esModule",{value:!0});ft.or=ft.and=ft.not=ft.CodeGen=ft.operators=ft.varKinds=ft.ValueScopeName=ft.ValueScope=ft.Scope=ft.Name=ft.regexpCode=ft.stringify=ft.getProperty=ft.nil=ft.strConcat=ft.str=ft._=void 0;var St=Ng(),Os=WD(),gu=Ng();Object.defineProperty(ft,"_",{enumerable:!0,get:function(){return gu._}});Object.defineProperty(ft,"str",{enumerable:!0,get:function(){return gu.str}});Object.defineProperty(ft,"strConcat",{enumerable:!0,get:function(){return gu.strConcat}});Object.defineProperty(ft,"nil",{enumerable:!0,get:function(){return gu.nil}});Object.defineProperty(ft,"getProperty",{enumerable:!0,get:function(){return gu.getProperty}});Object.defineProperty(ft,"stringify",{enumerable:!0,get:function(){return gu.stringify}});Object.defineProperty(ft,"regexpCode",{enumerable:!0,get:function(){return gu.regexpCode}});Object.defineProperty(ft,"Name",{enumerable:!0,get:function(){return gu.Name}});var RT=WD();Object.defineProperty(ft,"Scope",{enumerable:!0,get:function(){return RT.Scope}});Object.defineProperty(ft,"ValueScope",{enumerable:!0,get:function(){return RT.ValueScope}});Object.defineProperty(ft,"ValueScopeName",{enumerable:!0,get:function(){return RT.ValueScopeName}});Object.defineProperty(ft,"varKinds",{enumerable:!0,get:function(){return RT.varKinds}});ft.operators={GT:new St._Code(">"),GTE:new St._Code(">="),LT:new St._Code("<"),LTE:new St._Code("<="),EQ:new St._Code("==="),NEQ:new St._Code("!=="),NOT:new St._Code("!"),OR:new St._Code("||"),AND:new St._Code("&&"),ADD:new St._Code("+")};var gc=class{optimizeNodes(){return this}optimizeNames(e,r){return this}},YD=class extends gc{constructor(e,r,n){super(),this.varKind=e,this.name=r,this.rhs=n}render({es5:e,_n:r}){let n=e?Os.varKinds.var:this.varKind,o=this.rhs===void 0?"":` = ${this.rhs}`;return`${n} ${this.name}${o};`+r}optimizeNames(e,r){if(e[this.name.str])return this.rhs&&(this.rhs=kp(this.rhs,e,r)),this}get names(){return this.rhs instanceof St._CodeOrName?this.rhs.names:{}}},DT=class extends gc{constructor(e,r,n){super(),this.lhs=e,this.rhs=r,this.sideEffects=n}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,r){if(!(this.lhs instanceof St.Name&&!e[this.lhs.str]&&!this.sideEffects))return this.rhs=kp(this.rhs,e,r),this}get names(){let e=this.lhs instanceof St.Name?{}:b({},this.lhs.names);return CT(e,this.rhs)}},XD=class extends DT{constructor(e,r,n,o){super(e,n,o),this.op=r}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}},ZD=class extends gc{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`${this.label}:`+e}},e2=class extends gc{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`break${this.label?` ${this.label}`:""};`+e}},t2=class extends gc{constructor(e){super(),this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}},r2=class extends gc{constructor(e){super(),this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,r){return this.code=kp(this.code,e,r),this}get names(){return this.code instanceof St._CodeOrName?this.code.names:{}}},_g=class extends gc{constructor(e=[]){super(),this.nodes=e}render(e){return this.nodes.reduce((r,n)=>r+n.render(e),"")}optimizeNodes(){let{nodes:e}=this,r=e.length;for(;r--;){let n=e[r].optimizeNodes();Array.isArray(n)?e.splice(r,1,...n):n?e[r]=n:e.splice(r,1)}return e.length>0?this:void 0}optimizeNames(e,r){let{nodes:n}=this,o=n.length;for(;o--;){let i=n[o];i.optimizeNames(e,r)||(jde(e,i.names),n.splice(o,1))}return n.length>0?this:void 0}get names(){return this.nodes.reduce((e,r)=>ql(e,r.names),{})}},wc=class extends _g{render(e){return"{"+e._n+super.render(e)+"}"+e._n}},n2=class extends _g{},o2=(()=>{class t extends wc{}return t.kind="else",t})(),_T=(()=>{class t extends wc{constructor(r,n){super(n),this.condition=r}render(r){let n=`if(${this.condition})`+super.render(r);return this.else&&(n+="else "+this.else.render(r)),n}optimizeNodes(){super.optimizeNodes();let r=this.condition;if(r===!0)return this.nodes;let n=this.else;if(n){let o=n.optimizeNodes();n=this.else=Array.isArray(o)?new o2(o):o}if(n)return r===!1?n instanceof t?n:n.nodes:this.nodes.length?this:new t(qV(r),n instanceof t?[n]:n.nodes);if(!(r===!1||!this.nodes.length))return this}optimizeNames(r,n){var o;if(this.else=(o=this.else)===null||o===void 0?void 0:o.optimizeNames(r,n),!!(super.optimizeNames(r,n)||this.else))return this.condition=kp(this.condition,r,n),this}get names(){let r=super.names;return CT(r,this.condition),this.else&&ql(r,this.else.names),r}}return t.kind="if",t})(),kT=(()=>{class t extends wc{}return t.kind="for",t})(),i2=class extends kT{constructor(e){super(),this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,r){if(super.optimizeNames(e,r))return this.iteration=kp(this.iteration,e,r),this}get names(){return ql(super.names,this.iteration.names)}},s2=class extends kT{constructor(e,r,n,o){super(),this.varKind=e,this.name=r,this.from=n,this.to=o}render(e){let r=e.es5?Os.varKinds.var:this.varKind,{name:n,from:o,to:i}=this;return`for(${r} ${n}=${o}; ${n}<${i}; ${n}++)`+super.render(e)}get names(){let e=CT(super.names,this.from);return CT(e,this.to)}},OT=class extends kT{constructor(e,r,n,o){super(),this.loop=e,this.varKind=r,this.name=n,this.iterable=o}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,r){if(super.optimizeNames(e,r))return this.iterable=kp(this.iterable,e,r),this}get names(){return ql(super.names,this.iterable.names)}},VV=(()=>{class t extends wc{constructor(r,n,o){super(),this.name=r,this.args=n,this.async=o}render(r){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(r)}}return t.kind="func",t})(),jV=(()=>{class t extends _g{render(r){return"return "+super.render(r)}}return t.kind="return",t})(),a2=class extends wc{render(e){let r="try"+super.render(e);return this.catch&&(r+=this.catch.render(e)),this.finally&&(r+=this.finally.render(e)),r}optimizeNodes(){var e,r;return super.optimizeNodes(),(e=this.catch)===null||e===void 0||e.optimizeNodes(),(r=this.finally)===null||r===void 0||r.optimizeNodes(),this}optimizeNames(e,r){var n,o;return super.optimizeNames(e,r),(n=this.catch)===null||n===void 0||n.optimizeNames(e,r),(o=this.finally)===null||o===void 0||o.optimizeNames(e,r),this}get names(){let e=super.names;return this.catch&&ql(e,this.catch.names),this.finally&&ql(e,this.finally.names),e}},GV=(()=>{class t extends wc{constructor(r){super(),this.error=r}render(r){return`catch(${this.error})`+super.render(r)}}return t.kind="catch",t})(),zV=(()=>{class t extends wc{render(r){return"finally"+super.render(r)}}return t.kind="finally",t})(),c2=class{constructor(e,r={}){this._values={},this._blockStarts=[],this._constants={},this.opts=S(b({},r),{_n:r.lines?`
`:""}),this._extScope=e,this._scope=new Os.Scope({parent:e}),this._nodes=[new n2]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,r){let n=this._extScope.value(e,r);return(this._values[n.prefix]||(this._values[n.prefix]=new Set)).add(n),n}getScopeValue(e,r){return this._extScope.getValue(e,r)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,r,n,o){let i=this._scope.toName(r);return n!==void 0&&o&&(this._constants[i.str]=n),this._leafNode(new YD(e,i,n)),i}const(e,r,n){return this._def(Os.varKinds.const,e,r,n)}let(e,r,n){return this._def(Os.varKinds.let,e,r,n)}var(e,r,n){return this._def(Os.varKinds.var,e,r,n)}assign(e,r,n){return this._leafNode(new DT(e,r,n))}add(e,r){return this._leafNode(new XD(e,ft.operators.ADD,r))}code(e){return typeof e=="function"?e():e!==St.nil&&this._leafNode(new r2(e)),this}object(...e){let r=["{"];for(let[n,o]of e)r.length>1&&r.push(","),r.push(n),(n!==o||this.opts.es5)&&(r.push(":"),(0,St.addCodeArg)(r,o));return r.push("}"),new St._Code(r)}if(e,r,n){if(this._blockNode(new _T(e)),r&&n)this.code(r).else().code(n).endIf();else if(r)this.code(r).endIf();else if(n)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(e){return this._elseNode(new _T(e))}else(){return this._elseNode(new o2)}endIf(){return this._endBlockNode(_T,o2)}_for(e,r){return this._blockNode(e),r&&this.code(r).endFor(),this}for(e,r){return this._for(new i2(e),r)}forRange(e,r,n,o,i=this.opts.es5?Os.varKinds.var:Os.varKinds.let){let s=this._scope.toName(e);return this._for(new s2(i,s,r,n),()=>o(s))}forOf(e,r,n,o=Os.varKinds.const){let i=this._scope.toName(e);if(this.opts.es5){let s=r instanceof St.Name?r:this.var("_arr",r);return this.forRange("_i",0,(0,St._)`${s}.length`,a=>{this.var(i,(0,St._)`${s}[${a}]`),n(i)})}return this._for(new OT("of",o,i,r),()=>n(i))}forIn(e,r,n,o=this.opts.es5?Os.varKinds.var:Os.varKinds.const){if(this.opts.ownProperties)return this.forOf(e,(0,St._)`Object.keys(${r})`,n);let i=this._scope.toName(e);return this._for(new OT("in",o,i,r),()=>n(i))}endFor(){return this._endBlockNode(kT)}label(e){return this._leafNode(new ZD(e))}break(e){return this._leafNode(new e2(e))}return(e){let r=new jV;if(this._blockNode(r),this.code(e),r.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(jV)}try(e,r,n){if(!r&&!n)throw new Error('CodeGen: "try" without "catch" and "finally"');let o=new a2;if(this._blockNode(o),this.code(e),r){let i=this.name("e");this._currNode=o.catch=new GV(i),r(i)}return n&&(this._currNode=o.finally=new zV,this.code(n)),this._endBlockNode(GV,zV)}throw(e){return this._leafNode(new t2(e))}block(e,r){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(r),this}endBlock(e){let r=this._blockStarts.pop();if(r===void 0)throw new Error("CodeGen: not in self-balancing block");let n=this._nodes.length-r;if(n<0||e!==void 0&&n!==e)throw new Error(`CodeGen: wrong number of nodes: ${n} vs ${e} expected`);return this._nodes.length=r,this}func(e,r=St.nil,n,o){return this._blockNode(new VV(e,r,n)),o&&this.code(o).endFunc(),this}endFunc(){return this._endBlockNode(VV)}optimize(e=1){for(;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,r){let n=this._currNode;if(n instanceof e||r&&n instanceof r)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${r?`${e.kind}/${r.kind}`:e.kind}"`)}_elseNode(e){let r=this._currNode;if(!(r instanceof _T))throw new Error('CodeGen: "else" without "if"');return this._currNode=r.else=e,this}get _root(){return this._nodes[0]}get _currNode(){let e=this._nodes;return e[e.length-1]}set _currNode(e){let r=this._nodes;r[r.length-1]=e}};ft.CodeGen=c2;function ql(t,e){for(let r in e)t[r]=(t[r]||0)+(e[r]||0);return t}function CT(t,e){return e instanceof St._CodeOrName?ql(t,e.names):t}function kp(t,e,r){if(t instanceof St.Name)return n(t);if(!o(t))return t;return new St._Code(t._items.reduce((i,s)=>(s instanceof St.Name&&(s=n(s)),s instanceof St._Code?i.push(...s._items):i.push(s),i),[]));function n(i){let s=r[i.str];return s===void 0||e[i.str]!==1?i:(delete e[i.str],s)}function o(i){return i instanceof St._Code&&i._items.some(s=>s instanceof St.Name&&e[s.str]===1&&r[s.str]!==void 0)}}function jde(t,e){for(let r in e)t[r]=(t[r]||0)-(e[r]||0)}function qV(t){return typeof t=="boolean"||typeof t=="number"||t===null?!t:(0,St._)`!${u2(t)}`}ft.not=qV;var Gde=QV(ft.operators.AND);function zde(...t){return t.reduce(Gde)}ft.and=zde;var qde=QV(ft.operators.OR);function Qde(...t){return t.reduce(qde)}ft.or=Qde;function QV(t){return(e,r)=>e===St.nil?r:r===St.nil?e:(0,St._)`${u2(e)} ${t} ${u2(r)}`}function u2(t){return t instanceof St.Name?t:(0,St._)`(${t})`}});var yt=$(mt=>{"use strict";Object.defineProperty(mt,"__esModule",{value:!0});mt.checkStrictMode=mt.getErrorPath=mt.Type=mt.useFunc=mt.setEvaluated=mt.evaluatedPropsToName=mt.mergeEvaluated=mt.eachItem=mt.unescapeJsonPointer=mt.escapeJsonPointer=mt.escapeFragment=mt.unescapeFragment=mt.schemaRefOrVal=mt.schemaHasRulesButRef=mt.schemaHasRules=mt.checkUnknownRules=mt.alwaysValidSchema=mt.toHash=void 0;var sr=et(),Jde=Ng();function Hde(t){let e={};for(let r of t)e[r]=!0;return e}mt.toHash=Hde;function Kde(t,e){return typeof e=="boolean"?e:Object.keys(e).length===0?!0:(KV(t,e),!WV(e,t.self.RULES.all))}mt.alwaysValidSchema=Kde;function KV(t,e=t.schema){let{opts:r,self:n}=t;if(!r.strictSchema||typeof e=="boolean")return;let o=n.RULES.keywords;for(let i in e)o[i]||ZV(t,`unknown keyword: "${i}"`)}mt.checkUnknownRules=KV;function WV(t,e){if(typeof t=="boolean")return!t;for(let r in t)if(e[r])return!0;return!1}mt.schemaHasRules=WV;function Wde(t,e){if(typeof t=="boolean")return!t;for(let r in t)if(r!=="$ref"&&e.all[r])return!0;return!1}mt.schemaHasRulesButRef=Wde;function Yde({topSchemaRef:t,schemaPath:e},r,n,o){if(!o){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,sr._)`${r}`}return(0,sr._)`${t}${e}${(0,sr.getProperty)(n)}`}mt.schemaRefOrVal=Yde;function Xde(t){return YV(decodeURIComponent(t))}mt.unescapeFragment=Xde;function Zde(t){return encodeURIComponent(f2(t))}mt.escapeFragment=Zde;function f2(t){return typeof t=="number"?`${t}`:t.replace(/~/g,"~0").replace(/\//g,"~1")}mt.escapeJsonPointer=f2;function YV(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}mt.unescapeJsonPointer=YV;function epe(t,e){if(Array.isArray(t))for(let r of t)e(r);else e(t)}mt.eachItem=epe;function JV({mergeNames:t,mergeToName:e,mergeValues:r,resultToName:n}){return(o,i,s,a)=>{let c=s===void 0?i:s instanceof sr.Name?(i instanceof sr.Name?t(o,i,s):e(o,i,s),s):i instanceof sr.Name?(e(o,s,i),i):r(i,s);return a===sr.Name&&!(c instanceof sr.Name)?n(o,c):c}}mt.mergeEvaluated={props:JV({mergeNames:(t,e,r)=>t.if((0,sr._)`${r} !== true && ${e} !== undefined`,()=>{t.if((0,sr._)`${e} === true`,()=>t.assign(r,!0),()=>t.assign(r,(0,sr._)`${r} || {}`).code((0,sr._)`Object.assign(${r}, ${e})`))}),mergeToName:(t,e,r)=>t.if((0,sr._)`${r} !== true`,()=>{e===!0?t.assign(r,!0):(t.assign(r,(0,sr._)`${r} || {}`),d2(t,r,e))}),mergeValues:(t,e)=>t===!0?!0:b(b({},t),e),resultToName:XV}),items:JV({mergeNames:(t,e,r)=>t.if((0,sr._)`${r} !== true && ${e} !== undefined`,()=>t.assign(r,(0,sr._)`${e} === true ? true : ${r} > ${e} ? ${r} : ${e}`)),mergeToName:(t,e,r)=>t.if((0,sr._)`${r} !== true`,()=>t.assign(r,e===!0?!0:(0,sr._)`${r} > ${e} ? ${r} : ${e}`)),mergeValues:(t,e)=>t===!0?!0:Math.max(t,e),resultToName:(t,e)=>t.var("items",e)})};function XV(t,e){if(e===!0)return t.var("props",!0);let r=t.var("props",(0,sr._)`{}`);return e!==void 0&&d2(t,r,e),r}mt.evaluatedPropsToName=XV;function d2(t,e,r){Object.keys(r).forEach(n=>t.assign((0,sr._)`${e}${(0,sr.getProperty)(n)}`,!0))}mt.setEvaluated=d2;var HV={};function tpe(t,e){return t.scopeValue("func",{ref:e,code:HV[e.code]||(HV[e.code]=new Jde._Code(e.code))})}mt.useFunc=tpe;var l2=(function(t){return t[t.Num=0]="Num",t[t.Str=1]="Str",t})(l2||(mt.Type=l2={}));function rpe(t,e,r){if(t instanceof sr.Name){let n=e===l2.Num;return r?n?(0,sr._)`"[" + ${t} + "]"`:(0,sr._)`"['" + ${t} + "']"`:n?(0,sr._)`"/" + ${t}`:(0,sr._)`"/" + ${t}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,sr.getProperty)(t).toString():"/"+f2(t)}mt.getErrorPath=rpe;function ZV(t,e,r=t.opts.strictSchema){if(r){if(e=`strict mode: ${e}`,r===!0)throw new Error(e);t.self.logger.warn(e)}}mt.checkStrictMode=ZV});var Gi=$(p2=>{"use strict";Object.defineProperty(p2,"__esModule",{value:!0});var Yn=et(),npe={data:new Yn.Name("data"),valCxt:new Yn.Name("valCxt"),instancePath:new Yn.Name("instancePath"),parentData:new Yn.Name("parentData"),parentDataProperty:new Yn.Name("parentDataProperty"),rootData:new Yn.Name("rootData"),dynamicAnchors:new Yn.Name("dynamicAnchors"),vErrors:new Yn.Name("vErrors"),errors:new Yn.Name("errors"),this:new Yn.Name("this"),self:new Yn.Name("self"),scope:new Yn.Name("scope"),json:new Yn.Name("json"),jsonPos:new Yn.Name("jsonPos"),jsonLen:new Yn.Name("jsonLen"),jsonPart:new Yn.Name("jsonPart")};p2.default=npe});var Dg=$(Xn=>{"use strict";Object.defineProperty(Xn,"__esModule",{value:!0});Xn.extendErrors=Xn.resetErrorsCount=Xn.reportExtraError=Xn.reportError=Xn.keyword$DataError=Xn.keywordError=void 0;var _t=et(),PT=yt(),ho=Gi();Xn.keywordError={message:({keyword:t})=>(0,_t.str)`must pass "${t}" keyword validation`};Xn.keyword$DataError={message:({keyword:t,schemaType:e})=>e?(0,_t.str)`"${t}" keyword must be ${e} ($data)`:(0,_t.str)`"${t}" keyword is invalid ($data)`};function ope(t,e=Xn.keywordError,r,n){let{it:o}=t,{gen:i,compositeRule:s,allErrors:a}=o,c=rj(t,e,r);n??(s||a)?ej(i,c):tj(o,(0,_t._)`[${c}]`)}Xn.reportError=ope;function ipe(t,e=Xn.keywordError,r){let{it:n}=t,{gen:o,compositeRule:i,allErrors:s}=n,a=rj(t,e,r);ej(o,a),i||s||tj(n,ho.default.vErrors)}Xn.reportExtraError=ipe;function spe(t,e){t.assign(ho.default.errors,e),t.if((0,_t._)`${ho.default.vErrors} !== null`,()=>t.if(e,()=>t.assign((0,_t._)`${ho.default.vErrors}.length`,e),()=>t.assign(ho.default.vErrors,null)))}Xn.resetErrorsCount=spe;function ape({gen:t,keyword:e,schemaValue:r,data:n,errsCount:o,it:i}){if(o===void 0)throw new Error("ajv implementation error");let s=t.name("err");t.forRange("i",o,ho.default.errors,a=>{t.const(s,(0,_t._)`${ho.default.vErrors}[${a}]`),t.if((0,_t._)`${s}.instancePath === undefined`,()=>t.assign((0,_t._)`${s}.instancePath`,(0,_t.strConcat)(ho.default.instancePath,i.errorPath))),t.assign((0,_t._)`${s}.schemaPath`,(0,_t.str)`${i.errSchemaPath}/${e}`),i.opts.verbose&&(t.assign((0,_t._)`${s}.schema`,r),t.assign((0,_t._)`${s}.data`,n))})}Xn.extendErrors=ape;function ej(t,e){let r=t.const("err",e);t.if((0,_t._)`${ho.default.vErrors} === null`,()=>t.assign(ho.default.vErrors,(0,_t._)`[${r}]`),(0,_t._)`${ho.default.vErrors}.push(${r})`),t.code((0,_t._)`${ho.default.errors}++`)}function tj(t,e){let{gen:r,validateName:n,schemaEnv:o}=t;o.$async?r.throw((0,_t._)`new ${t.ValidationError}(${e})`):(r.assign((0,_t._)`${n}.errors`,e),r.return(!1))}var Ql={keyword:new _t.Name("keyword"),schemaPath:new _t.Name("schemaPath"),params:new _t.Name("params"),propertyName:new _t.Name("propertyName"),message:new _t.Name("message"),schema:new _t.Name("schema"),parentSchema:new _t.Name("parentSchema")};function rj(t,e,r){let{createErrors:n}=t.it;return n===!1?(0,_t._)`{}`:cpe(t,e,r)}function cpe(t,e,r={}){let{gen:n,it:o}=t,i=[upe(o,r),lpe(t,r)];return fpe(t,e,i),n.object(...i)}function upe({errorPath:t},{instancePath:e}){let r=e?(0,_t.str)`${t}${(0,PT.getErrorPath)(e,PT.Type.Str)}`:t;return[ho.default.instancePath,(0,_t.strConcat)(ho.default.instancePath,r)]}function lpe({keyword:t,it:{errSchemaPath:e}},{schemaPath:r,parentSchema:n}){let o=n?e:(0,_t.str)`${e}/${t}`;return r&&(o=(0,_t.str)`${o}${(0,PT.getErrorPath)(r,PT.Type.Str)}`),[Ql.schemaPath,o]}function fpe(t,{params:e,message:r},n){let{keyword:o,data:i,schemaValue:s,it:a}=t,{opts:c,propertyName:u,topSchemaRef:l,schemaPath:f}=a;n.push([Ql.keyword,o],[Ql.params,typeof e=="function"?e(t):e||(0,_t._)`{}`]),c.messages&&n.push([Ql.message,typeof r=="function"?r(t):r]),c.verbose&&n.push([Ql.schema,s],[Ql.parentSchema,(0,_t._)`${l}${f}`],[ho.default.data,i]),u&&n.push([Ql.propertyName,u])}});var oj=$(Pp=>{"use strict";Object.defineProperty(Pp,"__esModule",{value:!0});Pp.boolOrEmptySchema=Pp.topBoolOrEmptySchema=void 0;var dpe=Dg(),ppe=et(),hpe=Gi(),mpe={message:"boolean schema is false"};function ype(t){let{gen:e,schema:r,validateName:n}=t;r===!1?nj(t,!1):typeof r=="object"&&r.$async===!0?e.return(hpe.default.data):(e.assign((0,ppe._)`${n}.errors`,null),e.return(!0))}Pp.topBoolOrEmptySchema=ype;function gpe(t,e){let{gen:r,schema:n}=t;n===!1?(r.var(e,!1),nj(t)):r.var(e,!0)}Pp.boolOrEmptySchema=gpe;function nj(t,e){let{gen:r,data:n}=t,o={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:t};(0,dpe.reportError)(o,mpe,void 0,e)}});var h2=$(Lp=>{"use strict";Object.defineProperty(Lp,"__esModule",{value:!0});Lp.getRules=Lp.isJSONType=void 0;var wpe=["string","number","integer","boolean","null","object","array"],bpe=new Set(wpe);function Epe(t){return typeof t=="string"&&bpe.has(t)}Lp.isJSONType=Epe;function vpe(){let t={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:S(b({},t),{integer:!0,boolean:!0,null:!0}),rules:[{rules:[]},t.number,t.string,t.array,t.object],post:{rules:[]},all:{},keywords:{}}}Lp.getRules=vpe});var m2=$(wu=>{"use strict";Object.defineProperty(wu,"__esModule",{value:!0});wu.shouldUseRule=wu.shouldUseGroup=wu.schemaHasRulesForType=void 0;function Tpe({schema:t,self:e},r){let n=e.RULES.types[r];return n&&n!==!0&&ij(t,n)}wu.schemaHasRulesForType=Tpe;function ij(t,e){return e.rules.some(r=>sj(t,r))}wu.shouldUseGroup=ij;function sj(t,e){var r;return t[e.keyword]!==void 0||((r=e.definition.implements)===null||r===void 0?void 0:r.some(n=>t[n]!==void 0))}wu.shouldUseRule=sj});var Og=$(Zn=>{"use strict";Object.defineProperty(Zn,"__esModule",{value:!0});Zn.reportTypeError=Zn.checkDataTypes=Zn.checkDataType=Zn.coerceAndCheckDataType=Zn.getJSONTypes=Zn.getSchemaTypes=Zn.DataType=void 0;var xpe=h2(),Ape=m2(),Ipe=Dg(),ut=et(),aj=yt(),Fp=(function(t){return t[t.Correct=0]="Correct",t[t.Wrong=1]="Wrong",t})(Fp||(Zn.DataType=Fp={}));function Spe(t){let e=cj(t.type);if(e.includes("null")){if(t.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!e.length&&t.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');t.nullable===!0&&e.push("null")}return e}Zn.getSchemaTypes=Spe;function cj(t){let e=Array.isArray(t)?t:t?[t]:[];if(e.every(xpe.isJSONType))return e;throw new Error("type must be JSONType or JSONType[]: "+e.join(","))}Zn.getJSONTypes=cj;function Npe(t,e){let{gen:r,data:n,opts:o}=t,i=_pe(e,o.coerceTypes),s=e.length>0&&!(i.length===0&&e.length===1&&(0,Ape.schemaHasRulesForType)(t,e[0]));if(s){let a=g2(e,n,o.strictNumbers,Fp.Wrong);r.if(a,()=>{i.length?Dpe(t,e,i):w2(t)})}return s}Zn.coerceAndCheckDataType=Npe;var uj=new Set(["string","number","integer","boolean","null"]);function _pe(t,e){return e?t.filter(r=>uj.has(r)||e==="array"&&r==="array"):[]}function Dpe(t,e,r){let{gen:n,data:o,opts:i}=t,s=n.let("dataType",(0,ut._)`typeof ${o}`),a=n.let("coerced",(0,ut._)`undefined`);i.coerceTypes==="array"&&n.if((0,ut._)`${s} == 'object' && Array.isArray(${o}) && ${o}.length == 1`,()=>n.assign(o,(0,ut._)`${o}[0]`).assign(s,(0,ut._)`typeof ${o}`).if(g2(e,o,i.strictNumbers),()=>n.assign(a,o))),n.if((0,ut._)`${a} !== undefined`);for(let u of r)(uj.has(u)||u==="array"&&i.coerceTypes==="array")&&c(u);n.else(),w2(t),n.endIf(),n.if((0,ut._)`${a} !== undefined`,()=>{n.assign(o,a),Ope(t,a)});function c(u){switch(u){case"string":n.elseIf((0,ut._)`${s} == "number" || ${s} == "boolean"`).assign(a,(0,ut._)`"" + ${o}`).elseIf((0,ut._)`${o} === null`).assign(a,(0,ut._)`""`);return;case"number":n.elseIf((0,ut._)`${s} == "boolean" || ${o} === null
              || (${s} == "string" && ${o} && ${o} == +${o})`).assign(a,(0,ut._)`+${o}`);return;case"integer":n.elseIf((0,ut._)`${s} === "boolean" || ${o} === null
              || (${s} === "string" && ${o} && ${o} == +${o} && !(${o} % 1))`).assign(a,(0,ut._)`+${o}`);return;case"boolean":n.elseIf((0,ut._)`${o} === "false" || ${o} === 0 || ${o} === null`).assign(a,!1).elseIf((0,ut._)`${o} === "true" || ${o} === 1`).assign(a,!0);return;case"null":n.elseIf((0,ut._)`${o} === "" || ${o} === 0 || ${o} === false`),n.assign(a,null);return;case"array":n.elseIf((0,ut._)`${s} === "string" || ${s} === "number"
              || ${s} === "boolean" || ${o} === null`).assign(a,(0,ut._)`[${o}]`)}}}function Ope({gen:t,parentData:e,parentDataProperty:r},n){t.if((0,ut._)`${e} !== undefined`,()=>t.assign((0,ut._)`${e}[${r}]`,n))}function y2(t,e,r,n=Fp.Correct){let o=n===Fp.Correct?ut.operators.EQ:ut.operators.NEQ,i;switch(t){case"null":return(0,ut._)`${e} ${o} null`;case"array":i=(0,ut._)`Array.isArray(${e})`;break;case"object":i=(0,ut._)`${e} && typeof ${e} == "object" && !Array.isArray(${e})`;break;case"integer":i=s((0,ut._)`!(${e} % 1) && !isNaN(${e})`);break;case"number":i=s();break;default:return(0,ut._)`typeof ${e} ${o} ${t}`}return n===Fp.Correct?i:(0,ut.not)(i);function s(a=ut.nil){return(0,ut.and)((0,ut._)`typeof ${e} == "number"`,a,r?(0,ut._)`isFinite(${e})`:ut.nil)}}Zn.checkDataType=y2;function g2(t,e,r,n){if(t.length===1)return y2(t[0],e,r,n);let o,i=(0,aj.toHash)(t);if(i.array&&i.object){let s=(0,ut._)`typeof ${e} != "object"`;o=i.null?s:(0,ut._)`!${e} || ${s}`,delete i.null,delete i.array,delete i.object}else o=ut.nil;i.number&&delete i.integer;for(let s in i)o=(0,ut.and)(o,y2(s,e,r,n));return o}Zn.checkDataTypes=g2;var Cpe={message:({schema:t})=>`must be ${t}`,params:({schema:t,schemaValue:e})=>typeof t=="string"?(0,ut._)`{type: ${t}}`:(0,ut._)`{type: ${e}}`};function w2(t){let e=Rpe(t);(0,Ipe.reportError)(e,Cpe)}Zn.reportTypeError=w2;function Rpe(t){let{gen:e,data:r,schema:n}=t,o=(0,aj.schemaRefOrVal)(t,n,"type");return{gen:e,keyword:"type",data:r,schema:n.type,schemaCode:o,schemaValue:o,parentSchema:n,params:{},it:t}}});var fj=$(LT=>{"use strict";Object.defineProperty(LT,"__esModule",{value:!0});LT.assignDefaults=void 0;var Up=et(),kpe=yt();function Ppe(t,e){let{properties:r,items:n}=t.schema;if(e==="object"&&r)for(let o in r)lj(t,o,r[o].default);else e==="array"&&Array.isArray(n)&&n.forEach((o,i)=>lj(t,i,o.default))}LT.assignDefaults=Ppe;function lj(t,e,r){let{gen:n,compositeRule:o,data:i,opts:s}=t;if(r===void 0)return;let a=(0,Up._)`${i}${(0,Up.getProperty)(e)}`;if(o){(0,kpe.checkStrictMode)(t,`default is ignored for: ${a}`);return}let c=(0,Up._)`${a} === undefined`;s.useDefaults==="empty"&&(c=(0,Up._)`${c} || ${a} === null || ${a} === ""`),n.if(c,(0,Up._)`${a} = ${(0,Up.stringify)(r)}`)}});var zi=$(nr=>{"use strict";Object.defineProperty(nr,"__esModule",{value:!0});nr.validateUnion=nr.validateArray=nr.usePattern=nr.callValidateCode=nr.schemaProperties=nr.allSchemaProperties=nr.noPropertyInData=nr.propertyInData=nr.isOwnProperty=nr.hasPropFunc=nr.reportMissingProp=nr.checkMissingProp=nr.checkReportMissingProp=void 0;var yr=et(),b2=yt(),bu=Gi(),Lpe=yt();function Fpe(t,e){let{gen:r,data:n,it:o}=t;r.if(v2(r,n,e,o.opts.ownProperties),()=>{t.setParams({missingProperty:(0,yr._)`${e}`},!0),t.error()})}nr.checkReportMissingProp=Fpe;function Upe({gen:t,data:e,it:{opts:r}},n,o){return(0,yr.or)(...n.map(i=>(0,yr.and)(v2(t,e,i,r.ownProperties),(0,yr._)`${o} = ${i}`)))}nr.checkMissingProp=Upe;function Bpe(t,e){t.setParams({missingProperty:e},!0),t.error()}nr.reportMissingProp=Bpe;function dj(t){return t.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,yr._)`Object.prototype.hasOwnProperty`})}nr.hasPropFunc=dj;function E2(t,e,r){return(0,yr._)`${dj(t)}.call(${e}, ${r})`}nr.isOwnProperty=E2;function Mpe(t,e,r,n){let o=(0,yr._)`${e}${(0,yr.getProperty)(r)} !== undefined`;return n?(0,yr._)`${o} && ${E2(t,e,r)}`:o}nr.propertyInData=Mpe;function v2(t,e,r,n){let o=(0,yr._)`${e}${(0,yr.getProperty)(r)} === undefined`;return n?(0,yr.or)(o,(0,yr.not)(E2(t,e,r))):o}nr.noPropertyInData=v2;function pj(t){return t?Object.keys(t).filter(e=>e!=="__proto__"):[]}nr.allSchemaProperties=pj;function $pe(t,e){return pj(e).filter(r=>!(0,b2.alwaysValidSchema)(t,e[r]))}nr.schemaProperties=$pe;function Vpe({schemaCode:t,data:e,it:{gen:r,topSchemaRef:n,schemaPath:o,errorPath:i},it:s},a,c,u){let l=u?(0,yr._)`${t}, ${e}, ${n}${o}`:e,f=[[bu.default.instancePath,(0,yr.strConcat)(bu.default.instancePath,i)],[bu.default.parentData,s.parentData],[bu.default.parentDataProperty,s.parentDataProperty],[bu.default.rootData,bu.default.rootData]];s.opts.dynamicRef&&f.push([bu.default.dynamicAnchors,bu.default.dynamicAnchors]);let d=(0,yr._)`${l}, ${r.object(...f)}`;return c!==yr.nil?(0,yr._)`${a}.call(${c}, ${d})`:(0,yr._)`${a}(${d})`}nr.callValidateCode=Vpe;var jpe=(0,yr._)`new RegExp`;function Gpe({gen:t,it:{opts:e}},r){let n=e.unicodeRegExp?"u":"",{regExp:o}=e.code,i=o(r,n);return t.scopeValue("pattern",{key:i.toString(),ref:i,code:(0,yr._)`${o.code==="new RegExp"?jpe:(0,Lpe.useFunc)(t,o)}(${r}, ${n})`})}nr.usePattern=Gpe;function zpe(t){let{gen:e,data:r,keyword:n,it:o}=t,i=e.name("valid");if(o.allErrors){let a=e.let("valid",!0);return s(()=>e.assign(a,!1)),a}return e.var(i,!0),s(()=>e.break()),i;function s(a){let c=e.const("len",(0,yr._)`${r}.length`);e.forRange("i",0,c,u=>{t.subschema({keyword:n,dataProp:u,dataPropType:b2.Type.Num},i),e.if((0,yr.not)(i),a)})}}nr.validateArray=zpe;function qpe(t){let{gen:e,schema:r,keyword:n,it:o}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(c=>(0,b2.alwaysValidSchema)(o,c))&&!o.opts.unevaluated)return;let s=e.let("valid",!1),a=e.name("_valid");e.block(()=>r.forEach((c,u)=>{let l=t.subschema({keyword:n,schemaProp:u,compositeRule:!0},a);e.assign(s,(0,yr._)`${s} || ${a}`),t.mergeValidEvaluated(l,a)||e.if((0,yr.not)(s))})),t.result(s,()=>t.reset(),()=>t.error(!0))}nr.validateUnion=qpe});var yj=$(ga=>{"use strict";Object.defineProperty(ga,"__esModule",{value:!0});ga.validateKeywordUsage=ga.validSchemaType=ga.funcKeywordCode=ga.macroKeywordCode=void 0;var mo=et(),Jl=Gi(),Qpe=zi(),Jpe=Dg();function Hpe(t,e){let{gen:r,keyword:n,schema:o,parentSchema:i,it:s}=t,a=e.macro.call(s.self,o,i,s),c=mj(r,n,a);s.opts.validateSchema!==!1&&s.self.validateSchema(a,!0);let u=r.name("valid");t.subschema({schema:a,schemaPath:mo.nil,errSchemaPath:`${s.errSchemaPath}/${n}`,topSchemaRef:c,compositeRule:!0},u),t.pass(u,()=>t.error(!0))}ga.macroKeywordCode=Hpe;function Kpe(t,e){var r;let{gen:n,keyword:o,schema:i,parentSchema:s,$data:a,it:c}=t;Ype(c,e);let u=!a&&e.compile?e.compile.call(c.self,i,s,c):e.validate,l=mj(n,o,u),f=n.let("valid");t.block$data(f,d),t.ok((r=e.valid)!==null&&r!==void 0?r:f);function d(){if(e.errors===!1)m(),e.modifying&&hj(t),g(()=>t.error());else{let w=e.async?p():h();e.modifying&&hj(t),g(()=>Wpe(t,w))}}function p(){let w=n.let("ruleErrs",null);return n.try(()=>m((0,mo._)`await `),T=>n.assign(f,!1).if((0,mo._)`${T} instanceof ${c.ValidationError}`,()=>n.assign(w,(0,mo._)`${T}.errors`),()=>n.throw(T))),w}function h(){let w=(0,mo._)`${l}.errors`;return n.assign(w,null),m(mo.nil),w}function m(w=e.async?(0,mo._)`await `:mo.nil){let T=c.opts.passContext?Jl.default.this:Jl.default.self,v=!("compile"in e&&!a||e.schema===!1);n.assign(f,(0,mo._)`${w}${(0,Qpe.callValidateCode)(t,l,T,v)}`,e.modifying)}function g(w){var T;n.if((0,mo.not)((T=e.valid)!==null&&T!==void 0?T:f),w)}}ga.funcKeywordCode=Kpe;function hj(t){let{gen:e,data:r,it:n}=t;e.if(n.parentData,()=>e.assign(r,(0,mo._)`${n.parentData}[${n.parentDataProperty}]`))}function Wpe(t,e){let{gen:r}=t;r.if((0,mo._)`Array.isArray(${e})`,()=>{r.assign(Jl.default.vErrors,(0,mo._)`${Jl.default.vErrors} === null ? ${e} : ${Jl.default.vErrors}.concat(${e})`).assign(Jl.default.errors,(0,mo._)`${Jl.default.vErrors}.length`),(0,Jpe.extendErrors)(t)},()=>t.error())}function Ype({schemaEnv:t},e){if(e.async&&!t.$async)throw new Error("async keyword in sync schema")}function mj(t,e,r){if(r===void 0)throw new Error(`keyword "${e}" failed to compile`);return t.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,mo.stringify)(r)})}function Xpe(t,e,r=!1){return!e.length||e.some(n=>n==="array"?Array.isArray(t):n==="object"?t&&typeof t=="object"&&!Array.isArray(t):typeof t==n||r&&typeof t>"u")}ga.validSchemaType=Xpe;function Zpe({schema:t,opts:e,self:r,errSchemaPath:n},o,i){if(Array.isArray(o.keyword)?!o.keyword.includes(i):o.keyword!==i)throw new Error("ajv implementation error");let s=o.dependencies;if(s?.some(a=>!Object.prototype.hasOwnProperty.call(t,a)))throw new Error(`parent schema must have dependencies of ${i}: ${s.join(",")}`);if(o.validateSchema&&!o.validateSchema(t[i])){let c=`keyword "${i}" value is invalid at path "${n}": `+r.errorsText(o.validateSchema.errors);if(e.validateSchema==="log")r.logger.error(c);else throw new Error(c)}}ga.validateKeywordUsage=Zpe});var wj=$(Eu=>{"use strict";Object.defineProperty(Eu,"__esModule",{value:!0});Eu.extendSubschemaMode=Eu.extendSubschemaData=Eu.getSubschema=void 0;var wa=et(),gj=yt();function ehe(t,{keyword:e,schemaProp:r,schema:n,schemaPath:o,errSchemaPath:i,topSchemaRef:s}){if(e!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(e!==void 0){let a=t.schema[e];return r===void 0?{schema:a,schemaPath:(0,wa._)`${t.schemaPath}${(0,wa.getProperty)(e)}`,errSchemaPath:`${t.errSchemaPath}/${e}`}:{schema:a[r],schemaPath:(0,wa._)`${t.schemaPath}${(0,wa.getProperty)(e)}${(0,wa.getProperty)(r)}`,errSchemaPath:`${t.errSchemaPath}/${e}/${(0,gj.escapeFragment)(r)}`}}if(n!==void 0){if(o===void 0||i===void 0||s===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:o,topSchemaRef:s,errSchemaPath:i}}throw new Error('either "keyword" or "schema" must be passed')}Eu.getSubschema=ehe;function the(t,e,{dataProp:r,dataPropType:n,data:o,dataTypes:i,propertyName:s}){if(o!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');let{gen:a}=e;if(r!==void 0){let{errorPath:u,dataPathArr:l,opts:f}=e,d=a.let("data",(0,wa._)`${e.data}${(0,wa.getProperty)(r)}`,!0);c(d),t.errorPath=(0,wa.str)`${u}${(0,gj.getErrorPath)(r,n,f.jsPropertySyntax)}`,t.parentDataProperty=(0,wa._)`${r}`,t.dataPathArr=[...l,t.parentDataProperty]}if(o!==void 0){let u=o instanceof wa.Name?o:a.let("data",o,!0);c(u),s!==void 0&&(t.propertyName=s)}i&&(t.dataTypes=i);function c(u){t.data=u,t.dataLevel=e.dataLevel+1,t.dataTypes=[],e.definedProperties=new Set,t.parentData=e.data,t.dataNames=[...e.dataNames,u]}}Eu.extendSubschemaData=the;function rhe(t,{jtdDiscriminator:e,jtdMetadata:r,compositeRule:n,createErrors:o,allErrors:i}){n!==void 0&&(t.compositeRule=n),o!==void 0&&(t.createErrors=o),i!==void 0&&(t.allErrors=i),t.jtdDiscriminator=e,t.jtdMetadata=r}Eu.extendSubschemaMode=rhe});var T2=$((gGe,bj)=>{"use strict";bj.exports=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,o,i;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(o=n;o--!==0;)if(!t(e[o],r[o]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(r).length)return!1;for(o=n;o--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[o]))return!1;for(o=n;o--!==0;){var s=i[o];if(!t(e[s],r[s]))return!1}return!0}return e!==e&&r!==r}});var vj=$((wGe,Ej)=>{"use strict";var vu=Ej.exports=function(t,e,r){typeof e=="function"&&(r=e,e={}),r=e.cb||r;var n=typeof r=="function"?r:r.pre||function(){},o=r.post||function(){};FT(e,n,o,t,"",t)};vu.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};vu.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};vu.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};vu.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function FT(t,e,r,n,o,i,s,a,c,u){if(n&&typeof n=="object"&&!Array.isArray(n)){e(n,o,i,s,a,c,u);for(var l in n){var f=n[l];if(Array.isArray(f)){if(l in vu.arrayKeywords)for(var d=0;d<f.length;d++)FT(t,e,r,f[d],o+"/"+l+"/"+d,i,o,l,n,d)}else if(l in vu.propsKeywords){if(f&&typeof f=="object")for(var p in f)FT(t,e,r,f[p],o+"/"+l+"/"+nhe(p),i,o,l,n,p)}else(l in vu.keywords||t.allKeys&&!(l in vu.skipKeywords))&&FT(t,e,r,f,o+"/"+l,i,o,l,n)}r(n,o,i,s,a,c,u)}}function nhe(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}});var Cg=$(Co=>{"use strict";Object.defineProperty(Co,"__esModule",{value:!0});Co.getSchemaRefs=Co.resolveUrl=Co.normalizeId=Co._getFullPath=Co.getFullPath=Co.inlineRef=void 0;var ohe=yt(),ihe=T2(),she=vj(),ahe=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function che(t,e=!0){return typeof t=="boolean"?!0:e===!0?!x2(t):e?Tj(t)<=e:!1}Co.inlineRef=che;var uhe=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function x2(t){for(let e in t){if(uhe.has(e))return!0;let r=t[e];if(Array.isArray(r)&&r.some(x2)||typeof r=="object"&&x2(r))return!0}return!1}function Tj(t){let e=0;for(let r in t){if(r==="$ref")return 1/0;if(e++,!ahe.has(r)&&(typeof t[r]=="object"&&(0,ohe.eachItem)(t[r],n=>e+=Tj(n)),e===1/0))return 1/0}return e}function xj(t,e="",r){r!==!1&&(e=Bp(e));let n=t.parse(e);return Aj(t,n)}Co.getFullPath=xj;function Aj(t,e){return t.serialize(e).split("#")[0]+"#"}Co._getFullPath=Aj;var lhe=/#\/?$/;function Bp(t){return t?t.replace(lhe,""):""}Co.normalizeId=Bp;function fhe(t,e,r){return r=Bp(r),t.resolve(e,r)}Co.resolveUrl=fhe;var dhe=/^[a-z_][-a-z0-9._]*$/i;function phe(t,e){if(typeof t=="boolean")return{};let{schemaId:r,uriResolver:n}=this.opts,o=Bp(t[r]||e),i={"":o},s=xj(n,o,!1),a={},c=new Set;return she(t,{allKeys:!0},(f,d,p,h)=>{if(h===void 0)return;let m=s+d,g=i[h];typeof f[r]=="string"&&(g=w.call(this,f[r])),T.call(this,f.$anchor),T.call(this,f.$dynamicAnchor),i[d]=g;function w(v){let x=this.opts.uriResolver.resolve;if(v=Bp(g?x(g,v):v),c.has(v))throw l(v);c.add(v);let A=this.refs[v];return typeof A=="string"&&(A=this.refs[A]),typeof A=="object"?u(f,A.schema,v):v!==Bp(m)&&(v[0]==="#"?(u(f,a[v],v),a[v]=f):this.refs[v]=m),v}function T(v){if(typeof v=="string"){if(!dhe.test(v))throw new Error(`invalid anchor "${v}"`);w.call(this,`#${v}`)}}}),a;function u(f,d,p){if(d!==void 0&&!ihe(f,d))throw l(p)}function l(f){return new Error(`reference "${f}" resolves to more than one schema`)}}Co.getSchemaRefs=phe});var Mp=$(Tu=>{"use strict";Object.defineProperty(Tu,"__esModule",{value:!0});Tu.getData=Tu.KeywordCxt=Tu.validateFunctionCode=void 0;var Dj=oj(),Ij=Og(),I2=m2(),UT=Og(),hhe=fj(),kg=yj(),A2=wj(),Fe=et(),We=Gi(),mhe=Cg(),bc=yt(),Rg=Dg();function yhe(t){if(Rj(t)&&(kj(t),Cj(t))){bhe(t);return}Oj(t,()=>(0,Dj.topBoolOrEmptySchema)(t))}Tu.validateFunctionCode=yhe;function Oj({gen:t,validateName:e,schema:r,schemaEnv:n,opts:o},i){o.code.es5?t.func(e,(0,Fe._)`${We.default.data}, ${We.default.valCxt}`,n.$async,()=>{t.code((0,Fe._)`"use strict"; ${Sj(r,o)}`),whe(t,o),t.code(i)}):t.func(e,(0,Fe._)`${We.default.data}, ${ghe(o)}`,n.$async,()=>t.code(Sj(r,o)).code(i))}function ghe(t){return(0,Fe._)`{${We.default.instancePath}="", ${We.default.parentData}, ${We.default.parentDataProperty}, ${We.default.rootData}=${We.default.data}${t.dynamicRef?(0,Fe._)`, ${We.default.dynamicAnchors}={}`:Fe.nil}}={}`}function whe(t,e){t.if(We.default.valCxt,()=>{t.var(We.default.instancePath,(0,Fe._)`${We.default.valCxt}.${We.default.instancePath}`),t.var(We.default.parentData,(0,Fe._)`${We.default.valCxt}.${We.default.parentData}`),t.var(We.default.parentDataProperty,(0,Fe._)`${We.default.valCxt}.${We.default.parentDataProperty}`),t.var(We.default.rootData,(0,Fe._)`${We.default.valCxt}.${We.default.rootData}`),e.dynamicRef&&t.var(We.default.dynamicAnchors,(0,Fe._)`${We.default.valCxt}.${We.default.dynamicAnchors}`)},()=>{t.var(We.default.instancePath,(0,Fe._)`""`),t.var(We.default.parentData,(0,Fe._)`undefined`),t.var(We.default.parentDataProperty,(0,Fe._)`undefined`),t.var(We.default.rootData,We.default.data),e.dynamicRef&&t.var(We.default.dynamicAnchors,(0,Fe._)`{}`)})}function bhe(t){let{schema:e,opts:r,gen:n}=t;Oj(t,()=>{r.$comment&&e.$comment&&Lj(t),Ahe(t),n.let(We.default.vErrors,null),n.let(We.default.errors,0),r.unevaluated&&Ehe(t),Pj(t),Nhe(t)})}function Ehe(t){let{gen:e,validateName:r}=t;t.evaluated=e.const("evaluated",(0,Fe._)`${r}.evaluated`),e.if((0,Fe._)`${t.evaluated}.dynamicProps`,()=>e.assign((0,Fe._)`${t.evaluated}.props`,(0,Fe._)`undefined`)),e.if((0,Fe._)`${t.evaluated}.dynamicItems`,()=>e.assign((0,Fe._)`${t.evaluated}.items`,(0,Fe._)`undefined`))}function Sj(t,e){let r=typeof t=="object"&&t[e.schemaId];return r&&(e.code.source||e.code.process)?(0,Fe._)`/*# sourceURL=${r} */`:Fe.nil}function vhe(t,e){if(Rj(t)&&(kj(t),Cj(t))){The(t,e);return}(0,Dj.boolOrEmptySchema)(t,e)}function Cj({schema:t,self:e}){if(typeof t=="boolean")return!t;for(let r in t)if(e.RULES.all[r])return!0;return!1}function Rj(t){return typeof t.schema!="boolean"}function The(t,e){let{schema:r,gen:n,opts:o}=t;o.$comment&&r.$comment&&Lj(t),Ihe(t),She(t);let i=n.const("_errs",We.default.errors);Pj(t,i),n.var(e,(0,Fe._)`${i} === ${We.default.errors}`)}function kj(t){(0,bc.checkUnknownRules)(t),xhe(t)}function Pj(t,e){if(t.opts.jtd)return Nj(t,[],!1,e);let r=(0,Ij.getSchemaTypes)(t.schema),n=(0,Ij.coerceAndCheckDataType)(t,r);Nj(t,r,!n,e)}function xhe(t){let{schema:e,errSchemaPath:r,opts:n,self:o}=t;e.$ref&&n.ignoreKeywordsWithRef&&(0,bc.schemaHasRulesButRef)(e,o.RULES)&&o.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function Ahe(t){let{schema:e,opts:r}=t;e.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,bc.checkStrictMode)(t,"default is ignored in the schema root")}function Ihe(t){let e=t.schema[t.opts.schemaId];e&&(t.baseId=(0,mhe.resolveUrl)(t.opts.uriResolver,t.baseId,e))}function She(t){if(t.schema.$async&&!t.schemaEnv.$async)throw new Error("async schema in sync schema")}function Lj({gen:t,schemaEnv:e,schema:r,errSchemaPath:n,opts:o}){let i=r.$comment;if(o.$comment===!0)t.code((0,Fe._)`${We.default.self}.logger.log(${i})`);else if(typeof o.$comment=="function"){let s=(0,Fe.str)`${n}/$comment`,a=t.scopeValue("root",{ref:e.root});t.code((0,Fe._)`${We.default.self}.opts.$comment(${i}, ${s}, ${a}.schema)`)}}function Nhe(t){let{gen:e,schemaEnv:r,validateName:n,ValidationError:o,opts:i}=t;r.$async?e.if((0,Fe._)`${We.default.errors} === 0`,()=>e.return(We.default.data),()=>e.throw((0,Fe._)`new ${o}(${We.default.vErrors})`)):(e.assign((0,Fe._)`${n}.errors`,We.default.vErrors),i.unevaluated&&_he(t),e.return((0,Fe._)`${We.default.errors} === 0`))}function _he({gen:t,evaluated:e,props:r,items:n}){r instanceof Fe.Name&&t.assign((0,Fe._)`${e}.props`,r),n instanceof Fe.Name&&t.assign((0,Fe._)`${e}.items`,n)}function Nj(t,e,r,n){let{gen:o,schema:i,data:s,allErrors:a,opts:c,self:u}=t,{RULES:l}=u;if(i.$ref&&(c.ignoreKeywordsWithRef||!(0,bc.schemaHasRulesButRef)(i,l))){o.block(()=>Uj(t,"$ref",l.all.$ref.definition));return}c.jtd||Dhe(t,e),o.block(()=>{for(let d of l.rules)f(d);f(l.post)});function f(d){(0,I2.shouldUseGroup)(i,d)&&(d.type?(o.if((0,UT.checkDataType)(d.type,s,c.strictNumbers)),_j(t,d),e.length===1&&e[0]===d.type&&r&&(o.else(),(0,UT.reportTypeError)(t)),o.endIf()):_j(t,d),a||o.if((0,Fe._)`${We.default.errors} === ${n||0}`))}}function _j(t,e){let{gen:r,schema:n,opts:{useDefaults:o}}=t;o&&(0,hhe.assignDefaults)(t,e.type),r.block(()=>{for(let i of e.rules)(0,I2.shouldUseRule)(n,i)&&Uj(t,i.keyword,i.definition,e.type)})}function Dhe(t,e){t.schemaEnv.meta||!t.opts.strictTypes||(Ohe(t,e),t.opts.allowUnionTypes||Che(t,e),Rhe(t,t.dataTypes))}function Ohe(t,e){if(e.length){if(!t.dataTypes.length){t.dataTypes=e;return}e.forEach(r=>{Fj(t.dataTypes,r)||S2(t,`type "${r}" not allowed by context "${t.dataTypes.join(",")}"`)}),Phe(t,e)}}function Che(t,e){e.length>1&&!(e.length===2&&e.includes("null"))&&S2(t,"use allowUnionTypes to allow union type keyword")}function Rhe(t,e){let r=t.self.RULES.all;for(let n in r){let o=r[n];if(typeof o=="object"&&(0,I2.shouldUseRule)(t.schema,o)){let{type:i}=o.definition;i.length&&!i.some(s=>khe(e,s))&&S2(t,`missing type "${i.join(",")}" for keyword "${n}"`)}}}function khe(t,e){return t.includes(e)||e==="number"&&t.includes("integer")}function Fj(t,e){return t.includes(e)||e==="integer"&&t.includes("number")}function Phe(t,e){let r=[];for(let n of t.dataTypes)Fj(e,n)?r.push(n):e.includes("integer")&&n==="number"&&r.push("integer");t.dataTypes=r}function S2(t,e){let r=t.schemaEnv.baseId+t.errSchemaPath;e+=` at "${r}" (strictTypes)`,(0,bc.checkStrictMode)(t,e,t.opts.strictTypes)}var BT=class{constructor(e,r,n){if((0,kg.validateKeywordUsage)(e,r,n),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=n,this.data=e.data,this.schema=e.schema[n],this.$data=r.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,bc.schemaRefOrVal)(e,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=r,this.$data)this.schemaCode=e.gen.const("vSchema",Bj(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,kg.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=e.gen.const("_errs",We.default.errors))}result(e,r,n){this.failResult((0,Fe.not)(e),r,n)}failResult(e,r,n){this.gen.if(e),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,r){this.failResult((0,Fe.not)(e),void 0,r)}fail(e){if(e===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);let{schemaCode:r}=this;this.fail((0,Fe._)`${r} !== undefined && (${(0,Fe.or)(this.invalid$data(),e)})`)}error(e,r,n){if(r){this.setParams(r),this._error(e,n),this.setParams({});return}this._error(e,n)}_error(e,r){(e?Rg.reportExtraError:Rg.reportError)(this,this.def.error,r)}$dataError(){(0,Rg.reportError)(this,this.def.$dataError||Rg.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Rg.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,r){r?Object.assign(this.params,e):this.params=e}block$data(e,r,n=Fe.nil){this.gen.block(()=>{this.check$data(e,n),r()})}check$data(e=Fe.nil,r=Fe.nil){if(!this.$data)return;let{gen:n,schemaCode:o,schemaType:i,def:s}=this;n.if((0,Fe.or)((0,Fe._)`${o} === undefined`,r)),e!==Fe.nil&&n.assign(e,!0),(i.length||s.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),e!==Fe.nil&&n.assign(e,!1)),n.else()}invalid$data(){let{gen:e,schemaCode:r,schemaType:n,def:o,it:i}=this;return(0,Fe.or)(s(),a());function s(){if(n.length){if(!(r instanceof Fe.Name))throw new Error("ajv implementation error");let c=Array.isArray(n)?n:[n];return(0,Fe._)`${(0,UT.checkDataTypes)(c,r,i.opts.strictNumbers,UT.DataType.Wrong)}`}return Fe.nil}function a(){if(o.validateSchema){let c=e.scopeValue("validate$data",{ref:o.validateSchema});return(0,Fe._)`!${c}(${r})`}return Fe.nil}}subschema(e,r){let n=(0,A2.getSubschema)(this.it,e);(0,A2.extendSubschemaData)(n,this.it,e),(0,A2.extendSubschemaMode)(n,e);let o=S(b(b({},this.it),n),{items:void 0,props:void 0});return vhe(o,r),o}mergeEvaluated(e,r){let{it:n,gen:o}=this;n.opts.unevaluated&&(n.props!==!0&&e.props!==void 0&&(n.props=bc.mergeEvaluated.props(o,e.props,n.props,r)),n.items!==!0&&e.items!==void 0&&(n.items=bc.mergeEvaluated.items(o,e.items,n.items,r)))}mergeValidEvaluated(e,r){let{it:n,gen:o}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return o.if(r,()=>this.mergeEvaluated(e,Fe.Name)),!0}};Tu.KeywordCxt=BT;function Uj(t,e,r,n){let o=new BT(t,r,e);"code"in r?r.code(o,n):o.$data&&r.validate?(0,kg.funcKeywordCode)(o,r):"macro"in r?(0,kg.macroKeywordCode)(o,r):(r.compile||r.validate)&&(0,kg.funcKeywordCode)(o,r)}var Lhe=/^\/(?:[^~]|~0|~1)*$/,Fhe=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Bj(t,{dataLevel:e,dataNames:r,dataPathArr:n}){let o,i;if(t==="")return We.default.rootData;if(t[0]==="/"){if(!Lhe.test(t))throw new Error(`Invalid JSON-pointer: ${t}`);o=t,i=We.default.rootData}else{let u=Fhe.exec(t);if(!u)throw new Error(`Invalid JSON-pointer: ${t}`);let l=+u[1];if(o=u[2],o==="#"){if(l>=e)throw new Error(c("property/index",l));return n[e-l]}if(l>e)throw new Error(c("data",l));if(i=r[e-l],!o)return i}let s=i,a=o.split("/");for(let u of a)u&&(i=(0,Fe._)`${i}${(0,Fe.getProperty)((0,bc.unescapeJsonPointer)(u))}`,s=(0,Fe._)`${s} && ${i}`);return s;function c(u,l){return`Cannot access ${u} ${l} levels up, current level is ${e}`}}Tu.getData=Bj});var Pg=$(_2=>{"use strict";Object.defineProperty(_2,"__esModule",{value:!0});var N2=class extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}};_2.default=N2});var $p=$(C2=>{"use strict";Object.defineProperty(C2,"__esModule",{value:!0});var D2=Cg(),O2=class extends Error{constructor(e,r,n,o){super(o||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,D2.resolveUrl)(e,r,n),this.missingSchema=(0,D2.normalizeId)((0,D2.getFullPath)(e,this.missingRef))}};C2.default=O2});var Lg=$(qi=>{"use strict";Object.defineProperty(qi,"__esModule",{value:!0});qi.resolveSchema=qi.getCompilingSchema=qi.resolveRef=qi.compileSchema=qi.SchemaEnv=void 0;var Cs=et(),Uhe=Pg(),Hl=Gi(),Rs=Cg(),Mj=yt(),Bhe=Mp(),Vp=class{constructor(e){var r;this.refs={},this.dynamicAnchors={};let n;typeof e.schema=="object"&&(n=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=(r=e.baseId)!==null&&r!==void 0?r:(0,Rs.normalizeId)(n?.[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=n?.$async,this.refs={}}};qi.SchemaEnv=Vp;function k2(t){let e=$j.call(this,t);if(e)return e;let r=(0,Rs.getFullPath)(this.opts.uriResolver,t.root.baseId),{es5:n,lines:o}=this.opts.code,{ownProperties:i}=this.opts,s=new Cs.CodeGen(this.scope,{es5:n,lines:o,ownProperties:i}),a;t.$async&&(a=s.scopeValue("Error",{ref:Uhe.default,code:(0,Cs._)`require("ajv/dist/runtime/validation_error").default`}));let c=s.scopeName("validate");t.validateName=c;let u={gen:s,allErrors:this.opts.allErrors,data:Hl.default.data,parentData:Hl.default.parentData,parentDataProperty:Hl.default.parentDataProperty,dataNames:[Hl.default.data],dataPathArr:[Cs.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:s.scopeValue("schema",this.opts.code.source===!0?{ref:t.schema,code:(0,Cs.stringify)(t.schema)}:{ref:t.schema}),validateName:c,ValidationError:a,schema:t.schema,schemaEnv:t,rootId:r,baseId:t.baseId||r,schemaPath:Cs.nil,errSchemaPath:t.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Cs._)`""`,opts:this.opts,self:this},l;try{this._compilations.add(t),(0,Bhe.validateFunctionCode)(u),s.optimize(this.opts.code.optimize);let f=s.toString();l=`${s.scopeRefs(Hl.default.scope)}return ${f}`,this.opts.code.process&&(l=this.opts.code.process(l,t));let p=new Function(`${Hl.default.self}`,`${Hl.default.scope}`,l)(this,this.scope.get());if(this.scope.value(c,{ref:p}),p.errors=null,p.schema=t.schema,p.schemaEnv=t,t.$async&&(p.$async=!0),this.opts.code.source===!0&&(p.source={validateName:c,validateCode:f,scopeValues:s._values}),this.opts.unevaluated){let{props:h,items:m}=u;p.evaluated={props:h instanceof Cs.Name?void 0:h,items:m instanceof Cs.Name?void 0:m,dynamicProps:h instanceof Cs.Name,dynamicItems:m instanceof Cs.Name},p.source&&(p.source.evaluated=(0,Cs.stringify)(p.evaluated))}return t.validate=p,t}catch(f){throw delete t.validate,delete t.validateName,l&&this.logger.error("Error compiling schema, function code:",l),f}finally{this._compilations.delete(t)}}qi.compileSchema=k2;function Mhe(t,e,r){var n;r=(0,Rs.resolveUrl)(this.opts.uriResolver,e,r);let o=t.refs[r];if(o)return o;let i=jhe.call(this,t,r);if(i===void 0){let s=(n=t.localRefs)===null||n===void 0?void 0:n[r],{schemaId:a}=this.opts;s&&(i=new Vp({schema:s,schemaId:a,root:t,baseId:e}))}if(i!==void 0)return t.refs[r]=$he.call(this,i)}qi.resolveRef=Mhe;function $he(t){return(0,Rs.inlineRef)(t.schema,this.opts.inlineRefs)?t.schema:t.validate?t:k2.call(this,t)}function $j(t){for(let e of this._compilations)if(Vhe(e,t))return e}qi.getCompilingSchema=$j;function Vhe(t,e){return t.schema===e.schema&&t.root===e.root&&t.baseId===e.baseId}function jhe(t,e){let r;for(;typeof(r=this.refs[e])=="string";)e=r;return r||this.schemas[e]||MT.call(this,t,e)}function MT(t,e){let r=this.opts.uriResolver.parse(e),n=(0,Rs._getFullPath)(this.opts.uriResolver,r),o=(0,Rs.getFullPath)(this.opts.uriResolver,t.baseId,void 0);if(Object.keys(t.schema).length>0&&n===o)return R2.call(this,r,t);let i=(0,Rs.normalizeId)(n),s=this.refs[i]||this.schemas[i];if(typeof s=="string"){let a=MT.call(this,t,s);return typeof a?.schema!="object"?void 0:R2.call(this,r,a)}if(typeof s?.schema=="object"){if(s.validate||k2.call(this,s),i===(0,Rs.normalizeId)(e)){let{schema:a}=s,{schemaId:c}=this.opts,u=a[c];return u&&(o=(0,Rs.resolveUrl)(this.opts.uriResolver,o,u)),new Vp({schema:a,schemaId:c,root:t,baseId:o})}return R2.call(this,r,s)}}qi.resolveSchema=MT;var Ghe=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function R2(t,{baseId:e,schema:r,root:n}){var o;if(((o=t.fragment)===null||o===void 0?void 0:o[0])!=="/")return;for(let a of t.fragment.slice(1).split("/")){if(typeof r=="boolean")return;let c=r[(0,Mj.unescapeFragment)(a)];if(c===void 0)return;r=c;let u=typeof r=="object"&&r[this.opts.schemaId];!Ghe.has(a)&&u&&(e=(0,Rs.resolveUrl)(this.opts.uriResolver,e,u))}let i;if(typeof r!="boolean"&&r.$ref&&!(0,Mj.schemaHasRulesButRef)(r,this.RULES)){let a=(0,Rs.resolveUrl)(this.opts.uriResolver,e,r.$ref);i=MT.call(this,n,a)}let{schemaId:s}=this.opts;if(i=i||new Vp({schema:r,schemaId:s,root:n,baseId:e}),i.schema!==i.root.schema)return i}});var Vj=$((IGe,zhe)=>{zhe.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}});var L2=$((SGe,qj)=>{"use strict";var qhe=RegExp.prototype.test.bind(/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu),Gj=RegExp.prototype.test.bind(/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u);function P2(t){let e="",r=0,n=0;for(n=0;n<t.length;n++)if(r=t[n].charCodeAt(0),r!==48){if(!(r>=48&&r<=57||r>=65&&r<=70||r>=97&&r<=102))return"";e+=t[n];break}for(n+=1;n<t.length;n++){if(r=t[n].charCodeAt(0),!(r>=48&&r<=57||r>=65&&r<=70||r>=97&&r<=102))return"";e+=t[n]}return e}var Qhe=RegExp.prototype.test.bind(/[^!"$&'()*+,\-.;=_`a-z{}~]/u);function jj(t){return t.length=0,!0}function Jhe(t,e,r){if(t.length){let n=P2(t);if(n!=="")e.push(n);else return r.error=!0,!1;t.length=0}return!0}function Hhe(t){let e=0,r={error:!1,address:"",zone:""},n=[],o=[],i=!1,s=!1,a=Jhe;for(let c=0;c<t.length;c++){let u=t[c];if(!(u==="["||u==="]"))if(u===":"){if(i===!0&&(s=!0),!a(o,n,r))break;if(++e>7){r.error=!0;break}c>0&&t[c-1]===":"&&(i=!0),n.push(":");continue}else if(u==="%"){if(!a(o,n,r))break;a=jj}else{o.push(u);continue}}return o.length&&(a===jj?r.zone=o.join(""):s?n.push(o.join("")):n.push(P2(o))),r.address=n.join(""),r}function zj(t){if(Khe(t,":")<2)return{host:t,isIPV6:!1};let e=Hhe(t);if(e.error)return{host:t,isIPV6:!1};{let r=e.address,n=e.address;return e.zone&&(r+="%"+e.zone,n+="%25"+e.zone),{host:r,isIPV6:!0,escapedHost:n}}}function Khe(t,e){let r=0;for(let n=0;n<t.length;n++)t[n]===e&&r++;return r}function Whe(t){let e=t,r=[],n=-1,o=0;for(;o=e.length;){if(o===1){if(e===".")break;if(e==="/"){r.push("/");break}else{r.push(e);break}}else if(o===2){if(e[0]==="."){if(e[1]===".")break;if(e[1]==="/"){e=e.slice(2);continue}}else if(e[0]==="/"&&(e[1]==="."||e[1]==="/")){r.push("/");break}}else if(o===3&&e==="/.."){r.length!==0&&r.pop(),r.push("/");break}if(e[0]==="."){if(e[1]==="."){if(e[2]==="/"){e=e.slice(3);continue}}else if(e[1]==="/"){e=e.slice(2);continue}}else if(e[0]==="/"&&e[1]==="."){if(e[2]==="/"){e=e.slice(2);continue}else if(e[2]==="."&&e[3]==="/"){e=e.slice(3),r.length!==0&&r.pop();continue}}if((n=e.indexOf("/",1))===-1){r.push(e);break}else r.push(e.slice(0,n)),e=e.slice(n)}return r.join("")}function Yhe(t,e){let r=e!==!0?escape:unescape;return t.scheme!==void 0&&(t.scheme=r(t.scheme)),t.userinfo!==void 0&&(t.userinfo=r(t.userinfo)),t.host!==void 0&&(t.host=r(t.host)),t.path!==void 0&&(t.path=r(t.path)),t.query!==void 0&&(t.query=r(t.query)),t.fragment!==void 0&&(t.fragment=r(t.fragment)),t}function Xhe(t){let e=[];if(t.userinfo!==void 0&&(e.push(t.userinfo),e.push("@")),t.host!==void 0){let r=unescape(t.host);if(!Gj(r)){let n=zj(r);n.isIPV6===!0?r=`[${n.escapedHost}]`:r=t.host}e.push(r)}return(typeof t.port=="number"||typeof t.port=="string")&&(e.push(":"),e.push(String(t.port))),e.length?e.join(""):void 0}qj.exports={nonSimpleDomain:Qhe,recomposeAuthority:Xhe,normalizeComponentEncoding:Yhe,removeDotSegments:Whe,isIPv4:Gj,isUUID:qhe,normalizeIPv6:zj,stringArrayToHexStripped:P2}});var Wj=$((NGe,Kj)=>{"use strict";var{isUUID:Zhe}=L2(),eme=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu,tme=["http","https","ws","wss","urn","urn:uuid"];function rme(t){return tme.indexOf(t)!==-1}function F2(t){return t.secure===!0?!0:t.secure===!1?!1:t.scheme?t.scheme.length===3&&(t.scheme[0]==="w"||t.scheme[0]==="W")&&(t.scheme[1]==="s"||t.scheme[1]==="S")&&(t.scheme[2]==="s"||t.scheme[2]==="S"):!1}function Qj(t){return t.host||(t.error=t.error||"HTTP URIs must have a host."),t}function Jj(t){let e=String(t.scheme).toLowerCase()==="https";return(t.port===(e?443:80)||t.port==="")&&(t.port=void 0),t.path||(t.path="/"),t}function nme(t){return t.secure=F2(t),t.resourceName=(t.path||"/")+(t.query?"?"+t.query:""),t.path=void 0,t.query=void 0,t}function ome(t){if((t.port===(F2(t)?443:80)||t.port==="")&&(t.port=void 0),typeof t.secure=="boolean"&&(t.scheme=t.secure?"wss":"ws",t.secure=void 0),t.resourceName){let[e,r]=t.resourceName.split("?");t.path=e&&e!=="/"?e:void 0,t.query=r,t.resourceName=void 0}return t.fragment=void 0,t}function ime(t,e){if(!t.path)return t.error="URN can not be parsed",t;let r=t.path.match(eme);if(r){let n=e.scheme||t.scheme||"urn";t.nid=r[1].toLowerCase(),t.nss=r[2];let o=`${n}:${e.nid||t.nid}`,i=U2(o);t.path=void 0,i&&(t=i.parse(t,e))}else t.error=t.error||"URN can not be parsed.";return t}function sme(t,e){if(t.nid===void 0)throw new Error("URN without nid cannot be serialized");let r=e.scheme||t.scheme||"urn",n=t.nid.toLowerCase(),o=`${r}:${e.nid||n}`,i=U2(o);i&&(t=i.serialize(t,e));let s=t,a=t.nss;return s.path=`${n||e.nid}:${a}`,e.skipEscape=!0,s}function ame(t,e){let r=t;return r.uuid=r.nss,r.nss=void 0,!e.tolerant&&(!r.uuid||!Zhe(r.uuid))&&(r.error=r.error||"UUID is not valid."),r}function cme(t){let e=t;return e.nss=(t.uuid||"").toLowerCase(),e}var Hj={scheme:"http",domainHost:!0,parse:Qj,serialize:Jj},ume={scheme:"https",domainHost:Hj.domainHost,parse:Qj,serialize:Jj},$T={scheme:"ws",domainHost:!0,parse:nme,serialize:ome},lme={scheme:"wss",domainHost:$T.domainHost,parse:$T.parse,serialize:$T.serialize},fme={scheme:"urn",parse:ime,serialize:sme,skipNormalize:!0},dme={scheme:"urn:uuid",parse:ame,serialize:cme,skipNormalize:!0},VT={http:Hj,https:ume,ws:$T,wss:lme,urn:fme,"urn:uuid":dme};Object.setPrototypeOf(VT,null);function U2(t){return t&&(VT[t]||VT[t.toLowerCase()])||void 0}Kj.exports={wsIsSecure:F2,SCHEMES:VT,isValidSchemeName:rme,getSchemeHandler:U2}});var Zj=$((_Ge,GT)=>{"use strict";var{normalizeIPv6:pme,removeDotSegments:Fg,recomposeAuthority:hme,normalizeComponentEncoding:jT,isIPv4:mme,nonSimpleDomain:yme}=L2(),{SCHEMES:gme,getSchemeHandler:Yj}=Wj();function wme(t,e){return typeof t=="string"?t=ba(Ec(t,e),e):typeof t=="object"&&(t=Ec(ba(t,e),e)),t}function bme(t,e,r){let n=r?Object.assign({scheme:"null"},r):{scheme:"null"},o=Xj(Ec(t,n),Ec(e,n),n,!0);return n.skipEscape=!0,ba(o,n)}function Xj(t,e,r,n){let o={};return n||(t=Ec(ba(t,r),r),e=Ec(ba(e,r),r)),r=r||{},!r.tolerant&&e.scheme?(o.scheme=e.scheme,o.userinfo=e.userinfo,o.host=e.host,o.port=e.port,o.path=Fg(e.path||""),o.query=e.query):(e.userinfo!==void 0||e.host!==void 0||e.port!==void 0?(o.userinfo=e.userinfo,o.host=e.host,o.port=e.port,o.path=Fg(e.path||""),o.query=e.query):(e.path?(e.path[0]==="/"?o.path=Fg(e.path):((t.userinfo!==void 0||t.host!==void 0||t.port!==void 0)&&!t.path?o.path="/"+e.path:t.path?o.path=t.path.slice(0,t.path.lastIndexOf("/")+1)+e.path:o.path=e.path,o.path=Fg(o.path)),o.query=e.query):(o.path=t.path,e.query!==void 0?o.query=e.query:o.query=t.query),o.userinfo=t.userinfo,o.host=t.host,o.port=t.port),o.scheme=t.scheme),o.fragment=e.fragment,o}function Eme(t,e,r){return typeof t=="string"?(t=unescape(t),t=ba(jT(Ec(t,r),!0),S(b({},r),{skipEscape:!0}))):typeof t=="object"&&(t=ba(jT(t,!0),S(b({},r),{skipEscape:!0}))),typeof e=="string"?(e=unescape(e),e=ba(jT(Ec(e,r),!0),S(b({},r),{skipEscape:!0}))):typeof e=="object"&&(e=ba(jT(e,!0),S(b({},r),{skipEscape:!0}))),t.toLowerCase()===e.toLowerCase()}function ba(t,e){let r={host:t.host,scheme:t.scheme,userinfo:t.userinfo,port:t.port,path:t.path,query:t.query,nid:t.nid,nss:t.nss,uuid:t.uuid,fragment:t.fragment,reference:t.reference,resourceName:t.resourceName,secure:t.secure,error:""},n=Object.assign({},e),o=[],i=Yj(n.scheme||r.scheme);i&&i.serialize&&i.serialize(r,n),r.path!==void 0&&(n.skipEscape?r.path=unescape(r.path):(r.path=escape(r.path),r.scheme!==void 0&&(r.path=r.path.split("%3A").join(":")))),n.reference!=="suffix"&&r.scheme&&o.push(r.scheme,":");let s=hme(r);if(s!==void 0&&(n.reference!=="suffix"&&o.push("//"),o.push(s),r.path&&r.path[0]!=="/"&&o.push("/")),r.path!==void 0){let a=r.path;!n.absolutePath&&(!i||!i.absolutePath)&&(a=Fg(a)),s===void 0&&a[0]==="/"&&a[1]==="/"&&(a="/%2F"+a.slice(2)),o.push(a)}return r.query!==void 0&&o.push("?",r.query),r.fragment!==void 0&&o.push("#",r.fragment),o.join("")}var vme=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function Ec(t,e){let r=Object.assign({},e),n={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},o=!1;r.reference==="suffix"&&(r.scheme?t=r.scheme+":"+t:t="//"+t);let i=t.match(vme);if(i){if(n.scheme=i[1],n.userinfo=i[3],n.host=i[4],n.port=parseInt(i[5],10),n.path=i[6]||"",n.query=i[7],n.fragment=i[8],isNaN(n.port)&&(n.port=i[5]),n.host)if(mme(n.host)===!1){let c=pme(n.host);n.host=c.host.toLowerCase(),o=c.isIPV6}else o=!0;n.scheme===void 0&&n.userinfo===void 0&&n.host===void 0&&n.port===void 0&&n.query===void 0&&!n.path?n.reference="same-document":n.scheme===void 0?n.reference="relative":n.fragment===void 0?n.reference="absolute":n.reference="uri",r.reference&&r.reference!=="suffix"&&r.reference!==n.reference&&(n.error=n.error||"URI is not a "+r.reference+" reference.");let s=Yj(r.scheme||n.scheme);if(!r.unicodeSupport&&(!s||!s.unicodeSupport)&&n.host&&(r.domainHost||s&&s.domainHost)&&o===!1&&yme(n.host))try{n.host=URL.domainToASCII(n.host.toLowerCase())}catch(a){n.error=n.error||"Host's domain name can not be converted to ASCII: "+a}(!s||s&&!s.skipNormalize)&&(t.indexOf("%")!==-1&&(n.scheme!==void 0&&(n.scheme=unescape(n.scheme)),n.host!==void 0&&(n.host=unescape(n.host))),n.path&&(n.path=escape(unescape(n.path))),n.fragment&&(n.fragment=encodeURI(decodeURIComponent(n.fragment)))),s&&s.parse&&s.parse(n,r)}else n.error=n.error||"URI can not be parsed.";return n}var B2={SCHEMES:gme,normalize:wme,resolve:bme,resolveComponent:Xj,equal:Eme,serialize:ba,parse:Ec};GT.exports=B2;GT.exports.default=B2;GT.exports.fastUri=B2});var tG=$(M2=>{"use strict";Object.defineProperty(M2,"__esModule",{value:!0});var eG=Zj();eG.code='require("ajv/dist/runtime/uri").default';M2.default=eG});var j2=$(Pn=>{"use strict";Object.defineProperty(Pn,"__esModule",{value:!0});Pn.CodeGen=Pn.Name=Pn.nil=Pn.stringify=Pn.str=Pn._=Pn.KeywordCxt=void 0;var Tme=Mp();Object.defineProperty(Pn,"KeywordCxt",{enumerable:!0,get:function(){return Tme.KeywordCxt}});var jp=et();Object.defineProperty(Pn,"_",{enumerable:!0,get:function(){return jp._}});Object.defineProperty(Pn,"str",{enumerable:!0,get:function(){return jp.str}});Object.defineProperty(Pn,"stringify",{enumerable:!0,get:function(){return jp.stringify}});Object.defineProperty(Pn,"nil",{enumerable:!0,get:function(){return jp.nil}});Object.defineProperty(Pn,"Name",{enumerable:!0,get:function(){return jp.Name}});Object.defineProperty(Pn,"CodeGen",{enumerable:!0,get:function(){return jp.CodeGen}});var xme=Pg(),sG=$p(),Ame=h2(),Ug=Lg(),Ime=et(),Bg=Cg(),zT=Og(),V2=yt(),rG=Vj(),Sme=tG(),aG=(t,e)=>new RegExp(t,e);aG.code="new RegExp";var Nme=["removeAdditional","useDefaults","coerceTypes"],_me=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),Dme={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},Ome={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},nG=200;function Cme(t){var e,r,n,o,i,s,a,c,u,l,f,d,p,h,m,g,w,T,v,x,A,_,O,C,I;let k=t.strict,M=(e=t.code)===null||e===void 0?void 0:e.optimize,X=M===!0||M===void 0?1:M||0,re=(n=(r=t.code)===null||r===void 0?void 0:r.regExp)!==null&&n!==void 0?n:aG,ye=(o=t.uriResolver)!==null&&o!==void 0?o:Sme.default;return{strictSchema:(s=(i=t.strictSchema)!==null&&i!==void 0?i:k)!==null&&s!==void 0?s:!0,strictNumbers:(c=(a=t.strictNumbers)!==null&&a!==void 0?a:k)!==null&&c!==void 0?c:!0,strictTypes:(l=(u=t.strictTypes)!==null&&u!==void 0?u:k)!==null&&l!==void 0?l:"log",strictTuples:(d=(f=t.strictTuples)!==null&&f!==void 0?f:k)!==null&&d!==void 0?d:"log",strictRequired:(h=(p=t.strictRequired)!==null&&p!==void 0?p:k)!==null&&h!==void 0?h:!1,code:t.code?S(b({},t.code),{optimize:X,regExp:re}):{optimize:X,regExp:re},loopRequired:(m=t.loopRequired)!==null&&m!==void 0?m:nG,loopEnum:(g=t.loopEnum)!==null&&g!==void 0?g:nG,meta:(w=t.meta)!==null&&w!==void 0?w:!0,messages:(T=t.messages)!==null&&T!==void 0?T:!0,inlineRefs:(v=t.inlineRefs)!==null&&v!==void 0?v:!0,schemaId:(x=t.schemaId)!==null&&x!==void 0?x:"$id",addUsedSchema:(A=t.addUsedSchema)!==null&&A!==void 0?A:!0,validateSchema:(_=t.validateSchema)!==null&&_!==void 0?_:!0,validateFormats:(O=t.validateFormats)!==null&&O!==void 0?O:!0,unicodeRegExp:(C=t.unicodeRegExp)!==null&&C!==void 0?C:!0,int32range:(I=t.int32range)!==null&&I!==void 0?I:!0,uriResolver:ye}}var Mg=class{constructor(e={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts=b(b({},e),Cme(e));let{es5:r,lines:n}=this.opts.code;this.scope=new Ime.ValueScope({scope:{},prefixes:_me,es5:r,lines:n}),this.logger=Ume(e.logger);let o=e.validateFormats;e.validateFormats=!1,this.RULES=(0,Ame.getRules)(),oG.call(this,Dme,e,"NOT SUPPORTED"),oG.call(this,Ome,e,"DEPRECATED","warn"),this._metaOpts=Lme.call(this),e.formats&&kme.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&Pme.call(this,e.keywords),typeof e.meta=="object"&&this.addMetaSchema(e.meta),Rme.call(this),e.validateFormats=o}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:e,meta:r,schemaId:n}=this.opts,o=rG;n==="id"&&(o=b({},rG),o.id=o.$id,delete o.$id),r&&e&&this.addMetaSchema(o,o[n],!1)}defaultMeta(){let{meta:e,schemaId:r}=this.opts;return this.opts.defaultMeta=typeof e=="object"?e[r]||e:void 0}validate(e,r){let n;if(typeof e=="string"){if(n=this.getSchema(e),!n)throw new Error(`no schema with key or ref "${e}"`)}else n=this.compile(e);let o=n(r);return"$async"in n||(this.errors=n.errors),o}compile(e,r){let n=this._addSchema(e,r);return n.validate||this._compileSchemaEnv(n)}compileAsync(e,r){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");let{loadSchema:n}=this.opts;return o.call(this,e,r);function o(l,f){return E(this,null,function*(){yield i.call(this,l.$schema);let d=this._addSchema(l,f);return d.validate||s.call(this,d)})}function i(l){return E(this,null,function*(){l&&!this.getSchema(l)&&(yield o.call(this,{$ref:l},!0))})}function s(l){return E(this,null,function*(){try{return this._compileSchemaEnv(l)}catch(f){if(!(f instanceof sG.default))throw f;return a.call(this,f),yield c.call(this,f.missingSchema),s.call(this,l)}})}function a({missingSchema:l,missingRef:f}){if(this.refs[l])throw new Error(`AnySchema ${l} is loaded but ${f} cannot be resolved`)}function c(l){return E(this,null,function*(){let f=yield u.call(this,l);this.refs[l]||(yield i.call(this,f.$schema)),this.refs[l]||this.addSchema(f,l,r)})}function u(l){return E(this,null,function*(){let f=this._loading[l];if(f)return f;try{return yield this._loading[l]=n(l)}finally{delete this._loading[l]}})}}addSchema(e,r,n,o=this.opts.validateSchema){if(Array.isArray(e)){for(let s of e)this.addSchema(s,void 0,n,o);return this}let i;if(typeof e=="object"){let{schemaId:s}=this.opts;if(i=e[s],i!==void 0&&typeof i!="string")throw new Error(`schema ${s} must be string`)}return r=(0,Bg.normalizeId)(r||i),this._checkUnique(r),this.schemas[r]=this._addSchema(e,n,r,o,!0),this}addMetaSchema(e,r,n=this.opts.validateSchema){return this.addSchema(e,r,!0,n),this}validateSchema(e,r){if(typeof e=="boolean")return!0;let n;if(n=e.$schema,n!==void 0&&typeof n!="string")throw new Error("$schema must be a string");if(n=n||this.opts.defaultMeta||this.defaultMeta(),!n)return this.logger.warn("meta-schema not available"),this.errors=null,!0;let o=this.validate(n,e);if(!o&&r){let i="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(i);else throw new Error(i)}return o}getSchema(e){let r;for(;typeof(r=iG.call(this,e))=="string";)e=r;if(r===void 0){let{schemaId:n}=this.opts,o=new Ug.SchemaEnv({schema:{},schemaId:n});if(r=Ug.resolveSchema.call(this,o,e),!r)return;this.refs[e]=r}return r.validate||this._compileSchemaEnv(r)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let r=iG.call(this,e);return typeof r=="object"&&this._cache.delete(r.schema),delete this.schemas[e],delete this.refs[e],this}case"object":{let r=e;this._cache.delete(r);let n=e[this.opts.schemaId];return n&&(n=(0,Bg.normalizeId)(n),delete this.schemas[n],delete this.refs[n]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(let r of e)this.addKeyword(r);return this}addKeyword(e,r){let n;if(typeof e=="string")n=e,typeof r=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),r.keyword=n);else if(typeof e=="object"&&r===void 0){if(r=e,n=r.keyword,Array.isArray(n)&&!n.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(Mme.call(this,n,r),!r)return(0,V2.eachItem)(n,i=>$2.call(this,i)),this;Vme.call(this,r);let o=S(b({},r),{type:(0,zT.getJSONTypes)(r.type),schemaType:(0,zT.getJSONTypes)(r.schemaType)});return(0,V2.eachItem)(n,o.type.length===0?i=>$2.call(this,i,o):i=>o.type.forEach(s=>$2.call(this,i,o,s))),this}getKeyword(e){let r=this.RULES.all[e];return typeof r=="object"?r.definition:!!r}removeKeyword(e){let{RULES:r}=this;delete r.keywords[e],delete r.all[e];for(let n of r.rules){let o=n.rules.findIndex(i=>i.keyword===e);o>=0&&n.rules.splice(o,1)}return this}addFormat(e,r){return typeof r=="string"&&(r=new RegExp(r)),this.formats[e]=r,this}errorsText(e=this.errors,{separator:r=", ",dataVar:n="data"}={}){return!e||e.length===0?"No errors":e.map(o=>`${n}${o.instancePath} ${o.message}`).reduce((o,i)=>o+r+i)}$dataMetaSchema(e,r){let n=this.RULES.all;e=JSON.parse(JSON.stringify(e));for(let o of r){let i=o.split("/").slice(1),s=e;for(let a of i)s=s[a];for(let a in n){let c=n[a];if(typeof c!="object")continue;let{$data:u}=c.definition,l=s[a];u&&l&&(s[a]=cG(l))}}return e}_removeAllSchemas(e,r){for(let n in e){let o=e[n];(!r||r.test(n))&&(typeof o=="string"?delete e[n]:o&&!o.meta&&(this._cache.delete(o.schema),delete e[n]))}}_addSchema(e,r,n,o=this.opts.validateSchema,i=this.opts.addUsedSchema){let s,{schemaId:a}=this.opts;if(typeof e=="object")s=e[a];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof e!="boolean")throw new Error("schema must be object or boolean")}let c=this._cache.get(e);if(c!==void 0)return c;n=(0,Bg.normalizeId)(s||n);let u=Bg.getSchemaRefs.call(this,e,n);return c=new Ug.SchemaEnv({schema:e,schemaId:a,meta:r,baseId:n,localRefs:u}),this._cache.set(c.schema,c),i&&!n.startsWith("#")&&(n&&this._checkUnique(n),this.refs[n]=c),o&&this.validateSchema(e,!0),c}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw new Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):Ug.compileSchema.call(this,e),!e.validate)throw new Error("ajv implementation error");return e.validate}_compileMetaSchema(e){let r=this.opts;this.opts=this._metaOpts;try{Ug.compileSchema.call(this,e)}finally{this.opts=r}}};Mg.ValidationError=xme.default;Mg.MissingRefError=sG.default;Pn.default=Mg;function oG(t,e,r,n="error"){for(let o in t){let i=o;i in e&&this.logger[n](`${r}: option ${o}. ${t[i]}`)}}function iG(t){return t=(0,Bg.normalizeId)(t),this.schemas[t]||this.refs[t]}function Rme(){let t=this.opts.schemas;if(t)if(Array.isArray(t))this.addSchema(t);else for(let e in t)this.addSchema(t[e],e)}function kme(){for(let t in this.opts.formats){let e=this.opts.formats[t];e&&this.addFormat(t,e)}}function Pme(t){if(Array.isArray(t)){this.addVocabulary(t);return}this.logger.warn("keywords option as map is deprecated, pass array");for(let e in t){let r=t[e];r.keyword||(r.keyword=e),this.addKeyword(r)}}function Lme(){let t=b({},this.opts);for(let e of Nme)delete t[e];return t}var Fme={log(){},warn(){},error(){}};function Ume(t){if(t===!1)return Fme;if(t===void 0)return console;if(t.log&&t.warn&&t.error)return t;throw new Error("logger must implement log, warn and error methods")}var Bme=/^[a-z_$][a-z0-9_$:-]*$/i;function Mme(t,e){let{RULES:r}=this;if((0,V2.eachItem)(t,n=>{if(r.keywords[n])throw new Error(`Keyword ${n} is already defined`);if(!Bme.test(n))throw new Error(`Keyword ${n} has invalid name`)}),!!e&&e.$data&&!("code"in e||"validate"in e))throw new Error('$data keyword must have "code" or "validate" function')}function $2(t,e,r){var n;let o=e?.post;if(r&&o)throw new Error('keyword with "post" flag cannot have "type"');let{RULES:i}=this,s=o?i.post:i.rules.find(({type:c})=>c===r);if(s||(s={type:r,rules:[]},i.rules.push(s)),i.keywords[t]=!0,!e)return;let a={keyword:t,definition:S(b({},e),{type:(0,zT.getJSONTypes)(e.type),schemaType:(0,zT.getJSONTypes)(e.schemaType)})};e.before?$me.call(this,s,a,e.before):s.rules.push(a),i.all[t]=a,(n=e.implements)===null||n===void 0||n.forEach(c=>this.addKeyword(c))}function $me(t,e,r){let n=t.rules.findIndex(o=>o.keyword===r);n>=0?t.rules.splice(n,0,e):(t.rules.push(e),this.logger.warn(`rule ${r} is not defined`))}function Vme(t){let{metaSchema:e}=t;e!==void 0&&(t.$data&&this.opts.$data&&(e=cG(e)),t.validateSchema=this.compile(e,!0))}var jme={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function cG(t){return{anyOf:[t,jme]}}});var uG=$(G2=>{"use strict";Object.defineProperty(G2,"__esModule",{value:!0});var Gme={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};G2.default=Gme});var JT=$(Kl=>{"use strict";Object.defineProperty(Kl,"__esModule",{value:!0});Kl.callRef=Kl.getValidate=void 0;var zme=$p(),lG=zi(),Ro=et(),Gp=Gi(),fG=Lg(),qT=yt(),qme={keyword:"$ref",schemaType:"string",code(t){let{gen:e,schema:r,it:n}=t,{baseId:o,schemaEnv:i,validateName:s,opts:a,self:c}=n,{root:u}=i;if((r==="#"||r==="#/")&&o===u.baseId)return f();let l=fG.resolveRef.call(c,u,o,r);if(l===void 0)throw new zme.default(n.opts.uriResolver,o,r);if(l instanceof fG.SchemaEnv)return d(l);return p(l);function f(){if(i===u)return QT(t,s,i,i.$async);let h=e.scopeValue("root",{ref:u});return QT(t,(0,Ro._)`${h}.validate`,u,u.$async)}function d(h){let m=dG(t,h);QT(t,m,h,h.$async)}function p(h){let m=e.scopeValue("schema",a.code.source===!0?{ref:h,code:(0,Ro.stringify)(h)}:{ref:h}),g=e.name("valid"),w=t.subschema({schema:h,dataTypes:[],schemaPath:Ro.nil,topSchemaRef:m,errSchemaPath:r},g);t.mergeEvaluated(w),t.ok(g)}}};function dG(t,e){let{gen:r}=t;return e.validate?r.scopeValue("validate",{ref:e.validate}):(0,Ro._)`${r.scopeValue("wrapper",{ref:e})}.validate`}Kl.getValidate=dG;function QT(t,e,r,n){let{gen:o,it:i}=t,{allErrors:s,schemaEnv:a,opts:c}=i,u=c.passContext?Gp.default.this:Ro.nil;n?l():f();function l(){if(!a.$async)throw new Error("async schema referenced by sync schema");let h=o.let("valid");o.try(()=>{o.code((0,Ro._)`await ${(0,lG.callValidateCode)(t,e,u)}`),p(e),s||o.assign(h,!0)},m=>{o.if((0,Ro._)`!(${m} instanceof ${i.ValidationError})`,()=>o.throw(m)),d(m),s||o.assign(h,!1)}),t.ok(h)}function f(){t.result((0,lG.callValidateCode)(t,e,u),()=>p(e),()=>d(e))}function d(h){let m=(0,Ro._)`${h}.errors`;o.assign(Gp.default.vErrors,(0,Ro._)`${Gp.default.vErrors} === null ? ${m} : ${Gp.default.vErrors}.concat(${m})`),o.assign(Gp.default.errors,(0,Ro._)`${Gp.default.vErrors}.length`)}function p(h){var m;if(!i.opts.unevaluated)return;let g=(m=r?.validate)===null||m===void 0?void 0:m.evaluated;if(i.props!==!0)if(g&&!g.dynamicProps)g.props!==void 0&&(i.props=qT.mergeEvaluated.props(o,g.props,i.props));else{let w=o.var("props",(0,Ro._)`${h}.evaluated.props`);i.props=qT.mergeEvaluated.props(o,w,i.props,Ro.Name)}if(i.items!==!0)if(g&&!g.dynamicItems)g.items!==void 0&&(i.items=qT.mergeEvaluated.items(o,g.items,i.items));else{let w=o.var("items",(0,Ro._)`${h}.evaluated.items`);i.items=qT.mergeEvaluated.items(o,w,i.items,Ro.Name)}}}Kl.callRef=QT;Kl.default=qme});var q2=$(z2=>{"use strict";Object.defineProperty(z2,"__esModule",{value:!0});var Qme=uG(),Jme=JT(),Hme=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",Qme.default,Jme.default];z2.default=Hme});var pG=$(Q2=>{"use strict";Object.defineProperty(Q2,"__esModule",{value:!0});var HT=et(),xu=HT.operators,KT={maximum:{okStr:"<=",ok:xu.LTE,fail:xu.GT},minimum:{okStr:">=",ok:xu.GTE,fail:xu.LT},exclusiveMaximum:{okStr:"<",ok:xu.LT,fail:xu.GTE},exclusiveMinimum:{okStr:">",ok:xu.GT,fail:xu.LTE}},Kme={message:({keyword:t,schemaCode:e})=>(0,HT.str)`must be ${KT[t].okStr} ${e}`,params:({keyword:t,schemaCode:e})=>(0,HT._)`{comparison: ${KT[t].okStr}, limit: ${e}}`},Wme={keyword:Object.keys(KT),type:"number",schemaType:"number",$data:!0,error:Kme,code(t){let{keyword:e,data:r,schemaCode:n}=t;t.fail$data((0,HT._)`${r} ${KT[e].fail} ${n} || isNaN(${r})`)}};Q2.default=Wme});var hG=$(J2=>{"use strict";Object.defineProperty(J2,"__esModule",{value:!0});var $g=et(),Yme={message:({schemaCode:t})=>(0,$g.str)`must be multiple of ${t}`,params:({schemaCode:t})=>(0,$g._)`{multipleOf: ${t}}`},Xme={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:Yme,code(t){let{gen:e,data:r,schemaCode:n,it:o}=t,i=o.opts.multipleOfPrecision,s=e.let("res"),a=i?(0,$g._)`Math.abs(Math.round(${s}) - ${s}) > 1e-${i}`:(0,$g._)`${s} !== parseInt(${s})`;t.fail$data((0,$g._)`(${n} === 0 || (${s} = ${r}/${n}, ${a}))`)}};J2.default=Xme});var yG=$(H2=>{"use strict";Object.defineProperty(H2,"__esModule",{value:!0});function mG(t){let e=t.length,r=0,n=0,o;for(;n<e;)r++,o=t.charCodeAt(n++),o>=55296&&o<=56319&&n<e&&(o=t.charCodeAt(n),(o&64512)===56320&&n++);return r}H2.default=mG;mG.code='require("ajv/dist/runtime/ucs2length").default'});var gG=$(K2=>{"use strict";Object.defineProperty(K2,"__esModule",{value:!0});var Wl=et(),Zme=yt(),eye=yG(),tye={message({keyword:t,schemaCode:e}){let r=t==="maxLength"?"more":"fewer";return(0,Wl.str)`must NOT have ${r} than ${e} characters`},params:({schemaCode:t})=>(0,Wl._)`{limit: ${t}}`},rye={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:tye,code(t){let{keyword:e,data:r,schemaCode:n,it:o}=t,i=e==="maxLength"?Wl.operators.GT:Wl.operators.LT,s=o.opts.unicode===!1?(0,Wl._)`${r}.length`:(0,Wl._)`${(0,Zme.useFunc)(t.gen,eye.default)}(${r})`;t.fail$data((0,Wl._)`${s} ${i} ${n}`)}};K2.default=rye});var wG=$(W2=>{"use strict";Object.defineProperty(W2,"__esModule",{value:!0});var nye=zi(),WT=et(),oye={message:({schemaCode:t})=>(0,WT.str)`must match pattern "${t}"`,params:({schemaCode:t})=>(0,WT._)`{pattern: ${t}}`},iye={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:oye,code(t){let{data:e,$data:r,schema:n,schemaCode:o,it:i}=t,s=i.opts.unicodeRegExp?"u":"",a=r?(0,WT._)`(new RegExp(${o}, ${s}))`:(0,nye.usePattern)(t,n);t.fail$data((0,WT._)`!${a}.test(${e})`)}};W2.default=iye});var bG=$(Y2=>{"use strict";Object.defineProperty(Y2,"__esModule",{value:!0});var Vg=et(),sye={message({keyword:t,schemaCode:e}){let r=t==="maxProperties"?"more":"fewer";return(0,Vg.str)`must NOT have ${r} than ${e} properties`},params:({schemaCode:t})=>(0,Vg._)`{limit: ${t}}`},aye={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:sye,code(t){let{keyword:e,data:r,schemaCode:n}=t,o=e==="maxProperties"?Vg.operators.GT:Vg.operators.LT;t.fail$data((0,Vg._)`Object.keys(${r}).length ${o} ${n}`)}};Y2.default=aye});var EG=$(X2=>{"use strict";Object.defineProperty(X2,"__esModule",{value:!0});var jg=zi(),Gg=et(),cye=yt(),uye={message:({params:{missingProperty:t}})=>(0,Gg.str)`must have required property '${t}'`,params:({params:{missingProperty:t}})=>(0,Gg._)`{missingProperty: ${t}}`},lye={keyword:"required",type:"object",schemaType:"array",$data:!0,error:uye,code(t){let{gen:e,schema:r,schemaCode:n,data:o,$data:i,it:s}=t,{opts:a}=s;if(!i&&r.length===0)return;let c=r.length>=a.loopRequired;if(s.allErrors?u():l(),a.strictRequired){let p=t.parentSchema.properties,{definedProperties:h}=t.it;for(let m of r)if(p?.[m]===void 0&&!h.has(m)){let g=s.schemaEnv.baseId+s.errSchemaPath,w=`required property "${m}" is not defined at "${g}" (strictRequired)`;(0,cye.checkStrictMode)(s,w,s.opts.strictRequired)}}function u(){if(c||i)t.block$data(Gg.nil,f);else for(let p of r)(0,jg.checkReportMissingProp)(t,p)}function l(){let p=e.let("missing");if(c||i){let h=e.let("valid",!0);t.block$data(h,()=>d(p,h)),t.ok(h)}else e.if((0,jg.checkMissingProp)(t,r,p)),(0,jg.reportMissingProp)(t,p),e.else()}function f(){e.forOf("prop",n,p=>{t.setParams({missingProperty:p}),e.if((0,jg.noPropertyInData)(e,o,p,a.ownProperties),()=>t.error())})}function d(p,h){t.setParams({missingProperty:p}),e.forOf(p,n,()=>{e.assign(h,(0,jg.propertyInData)(e,o,p,a.ownProperties)),e.if((0,Gg.not)(h),()=>{t.error(),e.break()})},Gg.nil)}}};X2.default=lye});var vG=$(Z2=>{"use strict";Object.defineProperty(Z2,"__esModule",{value:!0});var zg=et(),fye={message({keyword:t,schemaCode:e}){let r=t==="maxItems"?"more":"fewer";return(0,zg.str)`must NOT have ${r} than ${e} items`},params:({schemaCode:t})=>(0,zg._)`{limit: ${t}}`},dye={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:fye,code(t){let{keyword:e,data:r,schemaCode:n}=t,o=e==="maxItems"?zg.operators.GT:zg.operators.LT;t.fail$data((0,zg._)`${r}.length ${o} ${n}`)}};Z2.default=dye});var YT=$(eO=>{"use strict";Object.defineProperty(eO,"__esModule",{value:!0});var TG=T2();TG.code='require("ajv/dist/runtime/equal").default';eO.default=TG});var xG=$(rO=>{"use strict";Object.defineProperty(rO,"__esModule",{value:!0});var tO=Og(),Ln=et(),pye=yt(),hye=YT(),mye={message:({params:{i:t,j:e}})=>(0,Ln.str)`must NOT have duplicate items (items ## ${e} and ${t} are identical)`,params:({params:{i:t,j:e}})=>(0,Ln._)`{i: ${t}, j: ${e}}`},yye={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:mye,code(t){let{gen:e,data:r,$data:n,schema:o,parentSchema:i,schemaCode:s,it:a}=t;if(!n&&!o)return;let c=e.let("valid"),u=i.items?(0,tO.getSchemaTypes)(i.items):[];t.block$data(c,l,(0,Ln._)`${s} === false`),t.ok(c);function l(){let h=e.let("i",(0,Ln._)`${r}.length`),m=e.let("j");t.setParams({i:h,j:m}),e.assign(c,!0),e.if((0,Ln._)`${h} > 1`,()=>(f()?d:p)(h,m))}function f(){return u.length>0&&!u.some(h=>h==="object"||h==="array")}function d(h,m){let g=e.name("item"),w=(0,tO.checkDataTypes)(u,g,a.opts.strictNumbers,tO.DataType.Wrong),T=e.const("indices",(0,Ln._)`{}`);e.for((0,Ln._)`;${h}--;`,()=>{e.let(g,(0,Ln._)`${r}[${h}]`),e.if(w,(0,Ln._)`continue`),u.length>1&&e.if((0,Ln._)`typeof ${g} == "string"`,(0,Ln._)`${g} += "_"`),e.if((0,Ln._)`typeof ${T}[${g}] == "number"`,()=>{e.assign(m,(0,Ln._)`${T}[${g}]`),t.error(),e.assign(c,!1).break()}).code((0,Ln._)`${T}[${g}] = ${h}`)})}function p(h,m){let g=(0,pye.useFunc)(e,hye.default),w=e.name("outer");e.label(w).for((0,Ln._)`;${h}--;`,()=>e.for((0,Ln._)`${m} = ${h}; ${m}--;`,()=>e.if((0,Ln._)`${g}(${r}[${h}], ${r}[${m}])`,()=>{t.error(),e.assign(c,!1).break(w)})))}}};rO.default=yye});var AG=$(oO=>{"use strict";Object.defineProperty(oO,"__esModule",{value:!0});var nO=et(),gye=yt(),wye=YT(),bye={message:"must be equal to constant",params:({schemaCode:t})=>(0,nO._)`{allowedValue: ${t}}`},Eye={keyword:"const",$data:!0,error:bye,code(t){let{gen:e,data:r,$data:n,schemaCode:o,schema:i}=t;n||i&&typeof i=="object"?t.fail$data((0,nO._)`!${(0,gye.useFunc)(e,wye.default)}(${r}, ${o})`):t.fail((0,nO._)`${i} !== ${r}`)}};oO.default=Eye});var IG=$(iO=>{"use strict";Object.defineProperty(iO,"__esModule",{value:!0});var qg=et(),vye=yt(),Tye=YT(),xye={message:"must be equal to one of the allowed values",params:({schemaCode:t})=>(0,qg._)`{allowedValues: ${t}}`},Aye={keyword:"enum",schemaType:"array",$data:!0,error:xye,code(t){let{gen:e,data:r,$data:n,schema:o,schemaCode:i,it:s}=t;if(!n&&o.length===0)throw new Error("enum must have non-empty array");let a=o.length>=s.opts.loopEnum,c,u=()=>c??(c=(0,vye.useFunc)(e,Tye.default)),l;if(a||n)l=e.let("valid"),t.block$data(l,f);else{if(!Array.isArray(o))throw new Error("ajv implementation error");let p=e.const("vSchema",i);l=(0,qg.or)(...o.map((h,m)=>d(p,m)))}t.pass(l);function f(){e.assign(l,!1),e.forOf("v",i,p=>e.if((0,qg._)`${u()}(${r}, ${p})`,()=>e.assign(l,!0).break()))}function d(p,h){let m=o[h];return typeof m=="object"&&m!==null?(0,qg._)`${u()}(${r}, ${p}[${h}])`:(0,qg._)`${r} === ${m}`}}};iO.default=Aye});var aO=$(sO=>{"use strict";Object.defineProperty(sO,"__esModule",{value:!0});var Iye=pG(),Sye=hG(),Nye=gG(),_ye=wG(),Dye=bG(),Oye=EG(),Cye=vG(),Rye=xG(),kye=AG(),Pye=IG(),Lye=[Iye.default,Sye.default,Nye.default,_ye.default,Dye.default,Oye.default,Cye.default,Rye.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},kye.default,Pye.default];sO.default=Lye});var uO=$(Qg=>{"use strict";Object.defineProperty(Qg,"__esModule",{value:!0});Qg.validateAdditionalItems=void 0;var Yl=et(),cO=yt(),Fye={message:({params:{len:t}})=>(0,Yl.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,Yl._)`{limit: ${t}}`},Uye={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:Fye,code(t){let{parentSchema:e,it:r}=t,{items:n}=e;if(!Array.isArray(n)){(0,cO.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}SG(t,n)}};function SG(t,e){let{gen:r,schema:n,data:o,keyword:i,it:s}=t;s.items=!0;let a=r.const("len",(0,Yl._)`${o}.length`);if(n===!1)t.setParams({len:e.length}),t.pass((0,Yl._)`${a} <= ${e.length}`);else if(typeof n=="object"&&!(0,cO.alwaysValidSchema)(s,n)){let u=r.var("valid",(0,Yl._)`${a} <= ${e.length}`);r.if((0,Yl.not)(u),()=>c(u)),t.ok(u)}function c(u){r.forRange("i",e.length,a,l=>{t.subschema({keyword:i,dataProp:l,dataPropType:cO.Type.Num},u),s.allErrors||r.if((0,Yl.not)(u),()=>r.break())})}}Qg.validateAdditionalItems=SG;Qg.default=Uye});var lO=$(Jg=>{"use strict";Object.defineProperty(Jg,"__esModule",{value:!0});Jg.validateTuple=void 0;var NG=et(),XT=yt(),Bye=zi(),Mye={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(t){let{schema:e,it:r}=t;if(Array.isArray(e))return _G(t,"additionalItems",e);r.items=!0,!(0,XT.alwaysValidSchema)(r,e)&&t.ok((0,Bye.validateArray)(t))}};function _G(t,e,r=t.schema){let{gen:n,parentSchema:o,data:i,keyword:s,it:a}=t;l(o),a.opts.unevaluated&&r.length&&a.items!==!0&&(a.items=XT.mergeEvaluated.items(n,r.length,a.items));let c=n.name("valid"),u=n.const("len",(0,NG._)`${i}.length`);r.forEach((f,d)=>{(0,XT.alwaysValidSchema)(a,f)||(n.if((0,NG._)`${u} > ${d}`,()=>t.subschema({keyword:s,schemaProp:d,dataProp:d},c)),t.ok(c))});function l(f){let{opts:d,errSchemaPath:p}=a,h=r.length,m=h===f.minItems&&(h===f.maxItems||f[e]===!1);if(d.strictTuples&&!m){let g=`"${s}" is ${h}-tuple, but minItems or maxItems/${e} are not specified or different at path "${p}"`;(0,XT.checkStrictMode)(a,g,d.strictTuples)}}}Jg.validateTuple=_G;Jg.default=Mye});var DG=$(fO=>{"use strict";Object.defineProperty(fO,"__esModule",{value:!0});var $ye=lO(),Vye={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:t=>(0,$ye.validateTuple)(t,"items")};fO.default=Vye});var CG=$(dO=>{"use strict";Object.defineProperty(dO,"__esModule",{value:!0});var OG=et(),jye=yt(),Gye=zi(),zye=uO(),qye={message:({params:{len:t}})=>(0,OG.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,OG._)`{limit: ${t}}`},Qye={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:qye,code(t){let{schema:e,parentSchema:r,it:n}=t,{prefixItems:o}=r;n.items=!0,!(0,jye.alwaysValidSchema)(n,e)&&(o?(0,zye.validateAdditionalItems)(t,o):t.ok((0,Gye.validateArray)(t)))}};dO.default=Qye});var RG=$(pO=>{"use strict";Object.defineProperty(pO,"__esModule",{value:!0});var Qi=et(),ZT=yt(),Jye={message:({params:{min:t,max:e}})=>e===void 0?(0,Qi.str)`must contain at least ${t} valid item(s)`:(0,Qi.str)`must contain at least ${t} and no more than ${e} valid item(s)`,params:({params:{min:t,max:e}})=>e===void 0?(0,Qi._)`{minContains: ${t}}`:(0,Qi._)`{minContains: ${t}, maxContains: ${e}}`},Hye={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:Jye,code(t){let{gen:e,schema:r,parentSchema:n,data:o,it:i}=t,s,a,{minContains:c,maxContains:u}=n;i.opts.next?(s=c===void 0?1:c,a=u):s=1;let l=e.const("len",(0,Qi._)`${o}.length`);if(t.setParams({min:s,max:a}),a===void 0&&s===0){(0,ZT.checkStrictMode)(i,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(a!==void 0&&s>a){(0,ZT.checkStrictMode)(i,'"minContains" > "maxContains" is always invalid'),t.fail();return}if((0,ZT.alwaysValidSchema)(i,r)){let m=(0,Qi._)`${l} >= ${s}`;a!==void 0&&(m=(0,Qi._)`${m} && ${l} <= ${a}`),t.pass(m);return}i.items=!0;let f=e.name("valid");a===void 0&&s===1?p(f,()=>e.if(f,()=>e.break())):s===0?(e.let(f,!0),a!==void 0&&e.if((0,Qi._)`${o}.length > 0`,d)):(e.let(f,!1),d()),t.result(f,()=>t.reset());function d(){let m=e.name("_valid"),g=e.let("count",0);p(m,()=>e.if(m,()=>h(g)))}function p(m,g){e.forRange("i",0,l,w=>{t.subschema({keyword:"contains",dataProp:w,dataPropType:ZT.Type.Num,compositeRule:!0},m),g()})}function h(m){e.code((0,Qi._)`${m}++`),a===void 0?e.if((0,Qi._)`${m} >= ${s}`,()=>e.assign(f,!0).break()):(e.if((0,Qi._)`${m} > ${a}`,()=>e.assign(f,!1).break()),s===1?e.assign(f,!0):e.if((0,Qi._)`${m} >= ${s}`,()=>e.assign(f,!0)))}}};pO.default=Hye});var ex=$(Ea=>{"use strict";Object.defineProperty(Ea,"__esModule",{value:!0});Ea.validateSchemaDeps=Ea.validatePropertyDeps=Ea.error=void 0;var hO=et(),Kye=yt(),Hg=zi();Ea.error={message:({params:{property:t,depsCount:e,deps:r}})=>{let n=e===1?"property":"properties";return(0,hO.str)`must have ${n} ${r} when property ${t} is present`},params:({params:{property:t,depsCount:e,deps:r,missingProperty:n}})=>(0,hO._)`{property: ${t},
    missingProperty: ${n},
    depsCount: ${e},
    deps: ${r}}`};var Wye={keyword:"dependencies",type:"object",schemaType:"object",error:Ea.error,code(t){let[e,r]=Yye(t);kG(t,e),PG(t,r)}};function Yye({schema:t}){let e={},r={};for(let n in t){if(n==="__proto__")continue;let o=Array.isArray(t[n])?e:r;o[n]=t[n]}return[e,r]}function kG(t,e=t.schema){let{gen:r,data:n,it:o}=t;if(Object.keys(e).length===0)return;let i=r.let("missing");for(let s in e){let a=e[s];if(a.length===0)continue;let c=(0,Hg.propertyInData)(r,n,s,o.opts.ownProperties);t.setParams({property:s,depsCount:a.length,deps:a.join(", ")}),o.allErrors?r.if(c,()=>{for(let u of a)(0,Hg.checkReportMissingProp)(t,u)}):(r.if((0,hO._)`${c} && (${(0,Hg.checkMissingProp)(t,a,i)})`),(0,Hg.reportMissingProp)(t,i),r.else())}}Ea.validatePropertyDeps=kG;function PG(t,e=t.schema){let{gen:r,data:n,keyword:o,it:i}=t,s=r.name("valid");for(let a in e)(0,Kye.alwaysValidSchema)(i,e[a])||(r.if((0,Hg.propertyInData)(r,n,a,i.opts.ownProperties),()=>{let c=t.subschema({keyword:o,schemaProp:a},s);t.mergeValidEvaluated(c,s)},()=>r.var(s,!0)),t.ok(s))}Ea.validateSchemaDeps=PG;Ea.default=Wye});var FG=$(mO=>{"use strict";Object.defineProperty(mO,"__esModule",{value:!0});var LG=et(),Xye=yt(),Zye={message:"property name must be valid",params:({params:t})=>(0,LG._)`{propertyName: ${t.propertyName}}`},ege={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:Zye,code(t){let{gen:e,schema:r,data:n,it:o}=t;if((0,Xye.alwaysValidSchema)(o,r))return;let i=e.name("valid");e.forIn("key",n,s=>{t.setParams({propertyName:s}),t.subschema({keyword:"propertyNames",data:s,dataTypes:["string"],propertyName:s,compositeRule:!0},i),e.if((0,LG.not)(i),()=>{t.error(!0),o.allErrors||e.break()})}),t.ok(i)}};mO.default=ege});var gO=$(yO=>{"use strict";Object.defineProperty(yO,"__esModule",{value:!0});var tx=zi(),ks=et(),tge=Gi(),rx=yt(),rge={message:"must NOT have additional properties",params:({params:t})=>(0,ks._)`{additionalProperty: ${t.additionalProperty}}`},nge={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:rge,code(t){let{gen:e,schema:r,parentSchema:n,data:o,errsCount:i,it:s}=t;if(!i)throw new Error("ajv implementation error");let{allErrors:a,opts:c}=s;if(s.props=!0,c.removeAdditional!=="all"&&(0,rx.alwaysValidSchema)(s,r))return;let u=(0,tx.allSchemaProperties)(n.properties),l=(0,tx.allSchemaProperties)(n.patternProperties);f(),t.ok((0,ks._)`${i} === ${tge.default.errors}`);function f(){e.forIn("key",o,g=>{!u.length&&!l.length?h(g):e.if(d(g),()=>h(g))})}function d(g){let w;if(u.length>8){let T=(0,rx.schemaRefOrVal)(s,n.properties,"properties");w=(0,tx.isOwnProperty)(e,T,g)}else u.length?w=(0,ks.or)(...u.map(T=>(0,ks._)`${g} === ${T}`)):w=ks.nil;return l.length&&(w=(0,ks.or)(w,...l.map(T=>(0,ks._)`${(0,tx.usePattern)(t,T)}.test(${g})`))),(0,ks.not)(w)}function p(g){e.code((0,ks._)`delete ${o}[${g}]`)}function h(g){if(c.removeAdditional==="all"||c.removeAdditional&&r===!1){p(g);return}if(r===!1){t.setParams({additionalProperty:g}),t.error(),a||e.break();return}if(typeof r=="object"&&!(0,rx.alwaysValidSchema)(s,r)){let w=e.name("valid");c.removeAdditional==="failing"?(m(g,w,!1),e.if((0,ks.not)(w),()=>{t.reset(),p(g)})):(m(g,w),a||e.if((0,ks.not)(w),()=>e.break()))}}function m(g,w,T){let v={keyword:"additionalProperties",dataProp:g,dataPropType:rx.Type.Str};T===!1&&Object.assign(v,{compositeRule:!0,createErrors:!1,allErrors:!1}),t.subschema(v,w)}}};yO.default=nge});var MG=$(bO=>{"use strict";Object.defineProperty(bO,"__esModule",{value:!0});var oge=Mp(),UG=zi(),wO=yt(),BG=gO(),ige={keyword:"properties",type:"object",schemaType:"object",code(t){let{gen:e,schema:r,parentSchema:n,data:o,it:i}=t;i.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&BG.default.code(new oge.KeywordCxt(i,BG.default,"additionalProperties"));let s=(0,UG.allSchemaProperties)(r);for(let f of s)i.definedProperties.add(f);i.opts.unevaluated&&s.length&&i.props!==!0&&(i.props=wO.mergeEvaluated.props(e,(0,wO.toHash)(s),i.props));let a=s.filter(f=>!(0,wO.alwaysValidSchema)(i,r[f]));if(a.length===0)return;let c=e.name("valid");for(let f of a)u(f)?l(f):(e.if((0,UG.propertyInData)(e,o,f,i.opts.ownProperties)),l(f),i.allErrors||e.else().var(c,!0),e.endIf()),t.it.definedProperties.add(f),t.ok(c);function u(f){return i.opts.useDefaults&&!i.compositeRule&&r[f].default!==void 0}function l(f){t.subschema({keyword:"properties",schemaProp:f,dataProp:f},c)}}};bO.default=ige});var GG=$(EO=>{"use strict";Object.defineProperty(EO,"__esModule",{value:!0});var $G=zi(),nx=et(),VG=yt(),jG=yt(),sge={keyword:"patternProperties",type:"object",schemaType:"object",code(t){let{gen:e,schema:r,data:n,parentSchema:o,it:i}=t,{opts:s}=i,a=(0,$G.allSchemaProperties)(r),c=a.filter(m=>(0,VG.alwaysValidSchema)(i,r[m]));if(a.length===0||c.length===a.length&&(!i.opts.unevaluated||i.props===!0))return;let u=s.strictSchema&&!s.allowMatchingProperties&&o.properties,l=e.name("valid");i.props!==!0&&!(i.props instanceof nx.Name)&&(i.props=(0,jG.evaluatedPropsToName)(e,i.props));let{props:f}=i;d();function d(){for(let m of a)u&&p(m),i.allErrors?h(m):(e.var(l,!0),h(m),e.if(l))}function p(m){for(let g in u)new RegExp(m).test(g)&&(0,VG.checkStrictMode)(i,`property ${g} matches pattern ${m} (use allowMatchingProperties)`)}function h(m){e.forIn("key",n,g=>{e.if((0,nx._)`${(0,$G.usePattern)(t,m)}.test(${g})`,()=>{let w=c.includes(m);w||t.subschema({keyword:"patternProperties",schemaProp:m,dataProp:g,dataPropType:jG.Type.Str},l),i.opts.unevaluated&&f!==!0?e.assign((0,nx._)`${f}[${g}]`,!0):!w&&!i.allErrors&&e.if((0,nx.not)(l),()=>e.break())})})}}};EO.default=sge});var zG=$(vO=>{"use strict";Object.defineProperty(vO,"__esModule",{value:!0});var age=yt(),cge={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(t){let{gen:e,schema:r,it:n}=t;if((0,age.alwaysValidSchema)(n,r)){t.fail();return}let o=e.name("valid");t.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},o),t.failResult(o,()=>t.reset(),()=>t.error())},error:{message:"must NOT be valid"}};vO.default=cge});var qG=$(TO=>{"use strict";Object.defineProperty(TO,"__esModule",{value:!0});var uge=zi(),lge={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:uge.validateUnion,error:{message:"must match a schema in anyOf"}};TO.default=lge});var QG=$(xO=>{"use strict";Object.defineProperty(xO,"__esModule",{value:!0});var ox=et(),fge=yt(),dge={message:"must match exactly one schema in oneOf",params:({params:t})=>(0,ox._)`{passingSchemas: ${t.passing}}`},pge={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:dge,code(t){let{gen:e,schema:r,parentSchema:n,it:o}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(o.opts.discriminator&&n.discriminator)return;let i=r,s=e.let("valid",!1),a=e.let("passing",null),c=e.name("_valid");t.setParams({passing:a}),e.block(u),t.result(s,()=>t.reset(),()=>t.error(!0));function u(){i.forEach((l,f)=>{let d;(0,fge.alwaysValidSchema)(o,l)?e.var(c,!0):d=t.subschema({keyword:"oneOf",schemaProp:f,compositeRule:!0},c),f>0&&e.if((0,ox._)`${c} && ${s}`).assign(s,!1).assign(a,(0,ox._)`[${a}, ${f}]`).else(),e.if(c,()=>{e.assign(s,!0),e.assign(a,f),d&&t.mergeEvaluated(d,ox.Name)})})}}};xO.default=pge});var JG=$(AO=>{"use strict";Object.defineProperty(AO,"__esModule",{value:!0});var hge=yt(),mge={keyword:"allOf",schemaType:"array",code(t){let{gen:e,schema:r,it:n}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");let o=e.name("valid");r.forEach((i,s)=>{if((0,hge.alwaysValidSchema)(n,i))return;let a=t.subschema({keyword:"allOf",schemaProp:s},o);t.ok(o),t.mergeEvaluated(a)})}};AO.default=mge});var WG=$(IO=>{"use strict";Object.defineProperty(IO,"__esModule",{value:!0});var ix=et(),KG=yt(),yge={message:({params:t})=>(0,ix.str)`must match "${t.ifClause}" schema`,params:({params:t})=>(0,ix._)`{failingKeyword: ${t.ifClause}}`},gge={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:yge,code(t){let{gen:e,parentSchema:r,it:n}=t;r.then===void 0&&r.else===void 0&&(0,KG.checkStrictMode)(n,'"if" without "then" and "else" is ignored');let o=HG(n,"then"),i=HG(n,"else");if(!o&&!i)return;let s=e.let("valid",!0),a=e.name("_valid");if(c(),t.reset(),o&&i){let l=e.let("ifClause");t.setParams({ifClause:l}),e.if(a,u("then",l),u("else",l))}else o?e.if(a,u("then")):e.if((0,ix.not)(a),u("else"));t.pass(s,()=>t.error(!0));function c(){let l=t.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},a);t.mergeEvaluated(l)}function u(l,f){return()=>{let d=t.subschema({keyword:l},a);e.assign(s,a),t.mergeValidEvaluated(d,s),f?e.assign(f,(0,ix._)`${l}`):t.setParams({ifClause:l})}}}};function HG(t,e){let r=t.schema[e];return r!==void 0&&!(0,KG.alwaysValidSchema)(t,r)}IO.default=gge});var YG=$(SO=>{"use strict";Object.defineProperty(SO,"__esModule",{value:!0});var wge=yt(),bge={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:t,parentSchema:e,it:r}){e.if===void 0&&(0,wge.checkStrictMode)(r,`"${t}" without "if" is ignored`)}};SO.default=bge});var _O=$(NO=>{"use strict";Object.defineProperty(NO,"__esModule",{value:!0});var Ege=uO(),vge=DG(),Tge=lO(),xge=CG(),Age=RG(),Ige=ex(),Sge=FG(),Nge=gO(),_ge=MG(),Dge=GG(),Oge=zG(),Cge=qG(),Rge=QG(),kge=JG(),Pge=WG(),Lge=YG();function Fge(t=!1){let e=[Oge.default,Cge.default,Rge.default,kge.default,Pge.default,Lge.default,Sge.default,Nge.default,Ige.default,_ge.default,Dge.default];return t?e.push(vge.default,xge.default):e.push(Ege.default,Tge.default),e.push(Age.default),e}NO.default=Fge});var OO=$(Kg=>{"use strict";Object.defineProperty(Kg,"__esModule",{value:!0});Kg.dynamicAnchor=void 0;var DO=et(),Uge=Gi(),XG=Lg(),Bge=JT(),Mge={keyword:"$dynamicAnchor",schemaType:"string",code:t=>ZG(t,t.schema)};function ZG(t,e){let{gen:r,it:n}=t;n.schemaEnv.root.dynamicAnchors[e]=!0;let o=(0,DO._)`${Uge.default.dynamicAnchors}${(0,DO.getProperty)(e)}`,i=n.errSchemaPath==="#"?n.validateName:$ge(t);r.if((0,DO._)`!${o}`,()=>r.assign(o,i))}Kg.dynamicAnchor=ZG;function $ge(t){let{schemaEnv:e,schema:r,self:n}=t.it,{root:o,baseId:i,localRefs:s,meta:a}=e.root,{schemaId:c}=n.opts,u=new XG.SchemaEnv({schema:r,schemaId:c,root:o,baseId:i,localRefs:s,meta:a});return XG.compileSchema.call(n,u),(0,Bge.getValidate)(t,u)}Kg.default=Mge});var CO=$(Wg=>{"use strict";Object.defineProperty(Wg,"__esModule",{value:!0});Wg.dynamicRef=void 0;var e9=et(),Vge=Gi(),t9=JT(),jge={keyword:"$dynamicRef",schemaType:"string",code:t=>r9(t,t.schema)};function r9(t,e){let{gen:r,keyword:n,it:o}=t;if(e[0]!=="#")throw new Error(`"${n}" only supports hash fragment reference`);let i=e.slice(1);if(o.allErrors)s();else{let c=r.let("valid",!1);s(c),t.ok(c)}function s(c){if(o.schemaEnv.root.dynamicAnchors[i]){let u=r.let("_v",(0,e9._)`${Vge.default.dynamicAnchors}${(0,e9.getProperty)(i)}`);r.if(u,a(u,c),a(o.validateName,c))}else a(o.validateName,c)()}function a(c,u){return u?()=>r.block(()=>{(0,t9.callRef)(t,c),r.let(u,!0)}):()=>(0,t9.callRef)(t,c)}}Wg.dynamicRef=r9;Wg.default=jge});var n9=$(RO=>{"use strict";Object.defineProperty(RO,"__esModule",{value:!0});var Gge=OO(),zge=yt(),qge={keyword:"$recursiveAnchor",schemaType:"boolean",code(t){t.schema?(0,Gge.dynamicAnchor)(t,""):(0,zge.checkStrictMode)(t.it,"$recursiveAnchor: false is ignored")}};RO.default=qge});var o9=$(kO=>{"use strict";Object.defineProperty(kO,"__esModule",{value:!0});var Qge=CO(),Jge={keyword:"$recursiveRef",schemaType:"string",code:t=>(0,Qge.dynamicRef)(t,t.schema)};kO.default=Jge});var i9=$(PO=>{"use strict";Object.defineProperty(PO,"__esModule",{value:!0});var Hge=OO(),Kge=CO(),Wge=n9(),Yge=o9(),Xge=[Hge.default,Kge.default,Wge.default,Yge.default];PO.default=Xge});var a9=$(LO=>{"use strict";Object.defineProperty(LO,"__esModule",{value:!0});var s9=ex(),Zge={keyword:"dependentRequired",type:"object",schemaType:"object",error:s9.error,code:t=>(0,s9.validatePropertyDeps)(t)};LO.default=Zge});var c9=$(FO=>{"use strict";Object.defineProperty(FO,"__esModule",{value:!0});var e0e=ex(),t0e={keyword:"dependentSchemas",type:"object",schemaType:"object",code:t=>(0,e0e.validateSchemaDeps)(t)};FO.default=t0e});var u9=$(UO=>{"use strict";Object.defineProperty(UO,"__esModule",{value:!0});var r0e=yt(),n0e={keyword:["maxContains","minContains"],type:"array",schemaType:"number",code({keyword:t,parentSchema:e,it:r}){e.contains===void 0&&(0,r0e.checkStrictMode)(r,`"${t}" without "contains" is ignored`)}};UO.default=n0e});var l9=$(BO=>{"use strict";Object.defineProperty(BO,"__esModule",{value:!0});var o0e=a9(),i0e=c9(),s0e=u9(),a0e=[o0e.default,i0e.default,s0e.default];BO.default=a0e});var d9=$(MO=>{"use strict";Object.defineProperty(MO,"__esModule",{value:!0});var Au=et(),f9=yt(),c0e=Gi(),u0e={message:"must NOT have unevaluated properties",params:({params:t})=>(0,Au._)`{unevaluatedProperty: ${t.unevaluatedProperty}}`},l0e={keyword:"unevaluatedProperties",type:"object",schemaType:["boolean","object"],trackErrors:!0,error:u0e,code(t){let{gen:e,schema:r,data:n,errsCount:o,it:i}=t;if(!o)throw new Error("ajv implementation error");let{allErrors:s,props:a}=i;a instanceof Au.Name?e.if((0,Au._)`${a} !== true`,()=>e.forIn("key",n,f=>e.if(u(a,f),()=>c(f)))):a!==!0&&e.forIn("key",n,f=>a===void 0?c(f):e.if(l(a,f),()=>c(f))),i.props=!0,t.ok((0,Au._)`${o} === ${c0e.default.errors}`);function c(f){if(r===!1){t.setParams({unevaluatedProperty:f}),t.error(),s||e.break();return}if(!(0,f9.alwaysValidSchema)(i,r)){let d=e.name("valid");t.subschema({keyword:"unevaluatedProperties",dataProp:f,dataPropType:f9.Type.Str},d),s||e.if((0,Au.not)(d),()=>e.break())}}function u(f,d){return(0,Au._)`!${f} || !${f}[${d}]`}function l(f,d){let p=[];for(let h in f)f[h]===!0&&p.push((0,Au._)`${d} !== ${h}`);return(0,Au.and)(...p)}}};MO.default=l0e});var h9=$($O=>{"use strict";Object.defineProperty($O,"__esModule",{value:!0});var Xl=et(),p9=yt(),f0e={message:({params:{len:t}})=>(0,Xl.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,Xl._)`{limit: ${t}}`},d0e={keyword:"unevaluatedItems",type:"array",schemaType:["boolean","object"],error:f0e,code(t){let{gen:e,schema:r,data:n,it:o}=t,i=o.items||0;if(i===!0)return;let s=e.const("len",(0,Xl._)`${n}.length`);if(r===!1)t.setParams({len:i}),t.fail((0,Xl._)`${s} > ${i}`);else if(typeof r=="object"&&!(0,p9.alwaysValidSchema)(o,r)){let c=e.var("valid",(0,Xl._)`${s} <= ${i}`);e.if((0,Xl.not)(c),()=>a(c,i)),t.ok(c)}o.items=!0;function a(c,u){e.forRange("i",u,s,l=>{t.subschema({keyword:"unevaluatedItems",dataProp:l,dataPropType:p9.Type.Num},c),o.allErrors||e.if((0,Xl.not)(c),()=>e.break())})}}};$O.default=d0e});var m9=$(VO=>{"use strict";Object.defineProperty(VO,"__esModule",{value:!0});var p0e=d9(),h0e=h9(),m0e=[p0e.default,h0e.default];VO.default=m0e});var y9=$(jO=>{"use strict";Object.defineProperty(jO,"__esModule",{value:!0});var Hr=et(),y0e={message:({schemaCode:t})=>(0,Hr.str)`must match format "${t}"`,params:({schemaCode:t})=>(0,Hr._)`{format: ${t}}`},g0e={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:y0e,code(t,e){let{gen:r,data:n,$data:o,schema:i,schemaCode:s,it:a}=t,{opts:c,errSchemaPath:u,schemaEnv:l,self:f}=a;if(!c.validateFormats)return;o?d():p();function d(){let h=r.scopeValue("formats",{ref:f.formats,code:c.code.formats}),m=r.const("fDef",(0,Hr._)`${h}[${s}]`),g=r.let("fType"),w=r.let("format");r.if((0,Hr._)`typeof ${m} == "object" && !(${m} instanceof RegExp)`,()=>r.assign(g,(0,Hr._)`${m}.type || "string"`).assign(w,(0,Hr._)`${m}.validate`),()=>r.assign(g,(0,Hr._)`"string"`).assign(w,m)),t.fail$data((0,Hr.or)(T(),v()));function T(){return c.strictSchema===!1?Hr.nil:(0,Hr._)`${s} && !${w}`}function v(){let x=l.$async?(0,Hr._)`(${m}.async ? await ${w}(${n}) : ${w}(${n}))`:(0,Hr._)`${w}(${n})`,A=(0,Hr._)`(typeof ${w} == "function" ? ${x} : ${w}.test(${n}))`;return(0,Hr._)`${w} && ${w} !== true && ${g} === ${e} && !${A}`}}function p(){let h=f.formats[i];if(!h){T();return}if(h===!0)return;let[m,g,w]=v(h);m===e&&t.pass(x());function T(){if(c.strictSchema===!1){f.logger.warn(A());return}throw new Error(A());function A(){return`unknown format "${i}" ignored in schema at path "${u}"`}}function v(A){let _=A instanceof RegExp?(0,Hr.regexpCode)(A):c.code.formats?(0,Hr._)`${c.code.formats}${(0,Hr.getProperty)(i)}`:void 0,O=r.scopeValue("formats",{key:i,ref:A,code:_});return typeof A=="object"&&!(A instanceof RegExp)?[A.type||"string",A.validate,(0,Hr._)`${O}.validate`]:["string",A,O]}function x(){if(typeof h=="object"&&!(h instanceof RegExp)&&h.async){if(!l.$async)throw new Error("async format in sync schema");return(0,Hr._)`await ${w}(${n})`}return typeof g=="function"?(0,Hr._)`${w}(${n})`:(0,Hr._)`${w}.test(${n})`}}}};jO.default=g0e});var zO=$(GO=>{"use strict";Object.defineProperty(GO,"__esModule",{value:!0});var w0e=y9(),b0e=[w0e.default];GO.default=b0e});var qO=$(zp=>{"use strict";Object.defineProperty(zp,"__esModule",{value:!0});zp.contentVocabulary=zp.metadataVocabulary=void 0;zp.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];zp.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]});var w9=$(QO=>{"use strict";Object.defineProperty(QO,"__esModule",{value:!0});var E0e=q2(),v0e=aO(),T0e=_O(),x0e=i9(),A0e=l9(),I0e=m9(),S0e=zO(),g9=qO(),N0e=[x0e.default,E0e.default,v0e.default,(0,T0e.default)(!0),S0e.default,g9.metadataVocabulary,g9.contentVocabulary,A0e.default,I0e.default];QO.default=N0e});var E9=$(sx=>{"use strict";Object.defineProperty(sx,"__esModule",{value:!0});sx.DiscrError=void 0;var b9=(function(t){return t.Tag="tag",t.Mapping="mapping",t})(b9||(sx.DiscrError=b9={}))});var KO=$(HO=>{"use strict";Object.defineProperty(HO,"__esModule",{value:!0});var qp=et(),JO=E9(),v9=Lg(),_0e=$p(),D0e=yt(),O0e={message:({params:{discrError:t,tagName:e}})=>t===JO.DiscrError.Tag?`tag "${e}" must be string`:`value of tag "${e}" must be in oneOf`,params:({params:{discrError:t,tag:e,tagName:r}})=>(0,qp._)`{error: ${t}, tag: ${r}, tagValue: ${e}}`},C0e={keyword:"discriminator",type:"object",schemaType:"object",error:O0e,code(t){let{gen:e,data:r,schema:n,parentSchema:o,it:i}=t,{oneOf:s}=o;if(!i.opts.discriminator)throw new Error("discriminator: requires discriminator option");let a=n.propertyName;if(typeof a!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!s)throw new Error("discriminator: requires oneOf keyword");let c=e.let("valid",!1),u=e.const("tag",(0,qp._)`${r}${(0,qp.getProperty)(a)}`);e.if((0,qp._)`typeof ${u} == "string"`,()=>l(),()=>t.error(!1,{discrError:JO.DiscrError.Tag,tag:u,tagName:a})),t.ok(c);function l(){let p=d();e.if(!1);for(let h in p)e.elseIf((0,qp._)`${u} === ${h}`),e.assign(c,f(p[h]));e.else(),t.error(!1,{discrError:JO.DiscrError.Mapping,tag:u,tagName:a}),e.endIf()}function f(p){let h=e.name("valid"),m=t.subschema({keyword:"oneOf",schemaProp:p},h);return t.mergeEvaluated(m,qp.Name),h}function d(){var p;let h={},m=w(o),g=!0;for(let x=0;x<s.length;x++){let A=s[x];if(A?.$ref&&!(0,D0e.schemaHasRulesButRef)(A,i.self.RULES)){let O=A.$ref;if(A=v9.resolveRef.call(i.self,i.schemaEnv.root,i.baseId,O),A instanceof v9.SchemaEnv&&(A=A.schema),A===void 0)throw new _0e.default(i.opts.uriResolver,i.baseId,O)}let _=(p=A?.properties)===null||p===void 0?void 0:p[a];if(typeof _!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${a}"`);g=g&&(m||w(A)),T(_,x)}if(!g)throw new Error(`discriminator: "${a}" must be required`);return h;function w({required:x}){return Array.isArray(x)&&x.includes(a)}function T(x,A){if(x.const)v(x.const,A);else if(x.enum)for(let _ of x.enum)v(_,A);else throw new Error(`discriminator: "properties/${a}" must have "const" or "enum"`)}function v(x,A){if(typeof x!="string"||x in h)throw new Error(`discriminator: "${a}" values must be unique strings`);h[x]=A}}}};HO.default=C0e});var T9=$((O9e,R0e)=>{R0e.exports={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/schema",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/core":!0,"https://json-schema.org/draft/2020-12/vocab/applicator":!0,"https://json-schema.org/draft/2020-12/vocab/unevaluated":!0,"https://json-schema.org/draft/2020-12/vocab/validation":!0,"https://json-schema.org/draft/2020-12/vocab/meta-data":!0,"https://json-schema.org/draft/2020-12/vocab/format-annotation":!0,"https://json-schema.org/draft/2020-12/vocab/content":!0},$dynamicAnchor:"meta",title:"Core and Validation specifications meta-schema",allOf:[{$ref:"meta/core"},{$ref:"meta/applicator"},{$ref:"meta/unevaluated"},{$ref:"meta/validation"},{$ref:"meta/meta-data"},{$ref:"meta/format-annotation"},{$ref:"meta/content"}],type:["object","boolean"],$comment:"This meta-schema also defines keywords that have appeared in previous drafts in order to prevent incompatible extensions as they remain in common use.",properties:{definitions:{$comment:'"definitions" has been replaced by "$defs".',type:"object",additionalProperties:{$dynamicRef:"#meta"},deprecated:!0,default:{}},dependencies:{$comment:'"dependencies" has been split and replaced by "dependentSchemas" and "dependentRequired" in order to serve their differing semantics.',type:"object",additionalProperties:{anyOf:[{$dynamicRef:"#meta"},{$ref:"meta/validation#/$defs/stringArray"}]},deprecated:!0,default:{}},$recursiveAnchor:{$comment:'"$recursiveAnchor" has been replaced by "$dynamicAnchor".',$ref:"meta/core#/$defs/anchorString",deprecated:!0},$recursiveRef:{$comment:'"$recursiveRef" has been replaced by "$dynamicRef".',$ref:"meta/core#/$defs/uriReferenceString",deprecated:!0}}}});var x9=$((C9e,k0e)=>{k0e.exports={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/meta/applicator",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/applicator":!0},$dynamicAnchor:"meta",title:"Applicator vocabulary meta-schema",type:["object","boolean"],properties:{prefixItems:{$ref:"#/$defs/schemaArray"},items:{$dynamicRef:"#meta"},contains:{$dynamicRef:"#meta"},additionalProperties:{$dynamicRef:"#meta"},properties:{type:"object",additionalProperties:{$dynamicRef:"#meta"},default:{}},patternProperties:{type:"object",additionalProperties:{$dynamicRef:"#meta"},propertyNames:{format:"regex"},default:{}},dependentSchemas:{type:"object",additionalProperties:{$dynamicRef:"#meta"},default:{}},propertyNames:{$dynamicRef:"#meta"},if:{$dynamicRef:"#meta"},then:{$dynamicRef:"#meta"},else:{$dynamicRef:"#meta"},allOf:{$ref:"#/$defs/schemaArray"},anyOf:{$ref:"#/$defs/schemaArray"},oneOf:{$ref:"#/$defs/schemaArray"},not:{$dynamicRef:"#meta"}},$defs:{schemaArray:{type:"array",minItems:1,items:{$dynamicRef:"#meta"}}}}});var A9=$((R9e,P0e)=>{P0e.exports={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/meta/unevaluated",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/unevaluated":!0},$dynamicAnchor:"meta",title:"Unevaluated applicator vocabulary meta-schema",type:["object","boolean"],properties:{unevaluatedItems:{$dynamicRef:"#meta"},unevaluatedProperties:{$dynamicRef:"#meta"}}}});var I9=$((k9e,L0e)=>{L0e.exports={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/meta/content",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/content":!0},$dynamicAnchor:"meta",title:"Content vocabulary meta-schema",type:["object","boolean"],properties:{contentEncoding:{type:"string"},contentMediaType:{type:"string"},contentSchema:{$dynamicRef:"#meta"}}}});var S9=$((P9e,F0e)=>{F0e.exports={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/meta/core",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/core":!0},$dynamicAnchor:"meta",title:"Core vocabulary meta-schema",type:["object","boolean"],properties:{$id:{$ref:"#/$defs/uriReferenceString",$comment:"Non-empty fragments not allowed.",pattern:"^[^#]*#?$"},$schema:{$ref:"#/$defs/uriString"},$ref:{$ref:"#/$defs/uriReferenceString"},$anchor:{$ref:"#/$defs/anchorString"},$dynamicRef:{$ref:"#/$defs/uriReferenceString"},$dynamicAnchor:{$ref:"#/$defs/anchorString"},$vocabulary:{type:"object",propertyNames:{$ref:"#/$defs/uriString"},additionalProperties:{type:"boolean"}},$comment:{type:"string"},$defs:{type:"object",additionalProperties:{$dynamicRef:"#meta"}}},$defs:{anchorString:{type:"string",pattern:"^[A-Za-z_][-A-Za-z0-9._]*$"},uriString:{type:"string",format:"uri"},uriReferenceString:{type:"string",format:"uri-reference"}}}});var N9=$((L9e,U0e)=>{U0e.exports={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/meta/format-annotation",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/format-annotation":!0},$dynamicAnchor:"meta",title:"Format vocabulary meta-schema for annotation results",type:["object","boolean"],properties:{format:{type:"string"}}}});var _9=$((F9e,B0e)=>{B0e.exports={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/meta/meta-data",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/meta-data":!0},$dynamicAnchor:"meta",title:"Meta-data vocabulary meta-schema",type:["object","boolean"],properties:{title:{type:"string"},description:{type:"string"},default:!0,deprecated:{type:"boolean",default:!1},readOnly:{type:"boolean",default:!1},writeOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0}}}});var D9=$((U9e,M0e)=>{M0e.exports={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/meta/validation",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/validation":!0},$dynamicAnchor:"meta",title:"Validation vocabulary meta-schema",type:["object","boolean"],properties:{type:{anyOf:[{$ref:"#/$defs/simpleTypes"},{type:"array",items:{$ref:"#/$defs/simpleTypes"},minItems:1,uniqueItems:!0}]},const:!0,enum:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/$defs/nonNegativeInteger"},minLength:{$ref:"#/$defs/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},maxItems:{$ref:"#/$defs/nonNegativeInteger"},minItems:{$ref:"#/$defs/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},maxContains:{$ref:"#/$defs/nonNegativeInteger"},minContains:{$ref:"#/$defs/nonNegativeInteger",default:1},maxProperties:{$ref:"#/$defs/nonNegativeInteger"},minProperties:{$ref:"#/$defs/nonNegativeIntegerDefault0"},required:{$ref:"#/$defs/stringArray"},dependentRequired:{type:"object",additionalProperties:{$ref:"#/$defs/stringArray"}}},$defs:{nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{$ref:"#/$defs/nonNegativeInteger",default:0},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}}}});var O9=$(WO=>{"use strict";Object.defineProperty(WO,"__esModule",{value:!0});var $0e=T9(),V0e=x9(),j0e=A9(),G0e=I9(),z0e=S9(),q0e=N9(),Q0e=_9(),J0e=D9(),H0e=["/properties"];function K0e(t){return[$0e,V0e,j0e,G0e,z0e,e(this,q0e),Q0e,e(this,J0e)].forEach(r=>this.addMetaSchema(r,void 0,!1)),this;function e(r,n){return t?r.$dataMetaSchema(n,H0e):n}}WO.default=K0e});var C9=$((gr,XO)=>{"use strict";Object.defineProperty(gr,"__esModule",{value:!0});gr.MissingRefError=gr.ValidationError=gr.CodeGen=gr.Name=gr.nil=gr.stringify=gr.str=gr._=gr.KeywordCxt=gr.Ajv2020=void 0;var W0e=j2(),Y0e=w9(),X0e=KO(),Z0e=O9(),YO="https://json-schema.org/draft/2020-12/schema",Qp=class extends W0e.default{constructor(e={}){super(S(b({},e),{dynamicRef:!0,next:!0,unevaluated:!0}))}_addVocabularies(){super._addVocabularies(),Y0e.default.forEach(e=>this.addVocabulary(e)),this.opts.discriminator&&this.addKeyword(X0e.default)}_addDefaultMetaSchema(){super._addDefaultMetaSchema();let{$data:e,meta:r}=this.opts;r&&(Z0e.default.call(this,e),this.refs["http://json-schema.org/schema"]=YO)}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(YO)?YO:void 0)}};gr.Ajv2020=Qp;XO.exports=gr=Qp;XO.exports.Ajv2020=Qp;Object.defineProperty(gr,"__esModule",{value:!0});gr.default=Qp;var ewe=Mp();Object.defineProperty(gr,"KeywordCxt",{enumerable:!0,get:function(){return ewe.KeywordCxt}});var Jp=et();Object.defineProperty(gr,"_",{enumerable:!0,get:function(){return Jp._}});Object.defineProperty(gr,"str",{enumerable:!0,get:function(){return Jp.str}});Object.defineProperty(gr,"stringify",{enumerable:!0,get:function(){return Jp.stringify}});Object.defineProperty(gr,"nil",{enumerable:!0,get:function(){return Jp.nil}});Object.defineProperty(gr,"Name",{enumerable:!0,get:function(){return Jp.Name}});Object.defineProperty(gr,"CodeGen",{enumerable:!0,get:function(){return Jp.CodeGen}});var twe=Pg();Object.defineProperty(gr,"ValidationError",{enumerable:!0,get:function(){return twe.default}});var rwe=$p();Object.defineProperty(gr,"MissingRefError",{enumerable:!0,get:function(){return rwe.default}})});var U9=$(va=>{"use strict";Object.defineProperty(va,"__esModule",{value:!0});va.formatNames=va.fastFormats=va.fullFormats=void 0;function Hp(t,e){return{validate:t,compare:e}}va.fullFormats={date:Hp(P9,tC),time:Hp(L9,rC),"date-time":Hp(swe,F9),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:uwe,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:ywe,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:lwe,int32:{type:"number",validate:pwe},int64:{type:"number",validate:hwe},float:{type:"number",validate:k9},double:{type:"number",validate:k9},password:!0,binary:!0};va.fastFormats=S(b({},va.fullFormats),{date:Hp(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,tC),time:Hp(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,rC),"date-time":Hp(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,F9),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i});va.formatNames=Object.keys(va.fullFormats);function nwe(t){return t%4===0&&(t%100!==0||t%400===0)}var owe=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,iwe=[0,31,28,31,30,31,30,31,31,30,31,30,31];function P9(t){let e=owe.exec(t);if(!e)return!1;let r=+e[1],n=+e[2],o=+e[3];return n>=1&&n<=12&&o>=1&&o<=(n===2&&nwe(r)?29:iwe[n])}function tC(t,e){if(t&&e)return t>e?1:t<e?-1:0}var ZO=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function L9(t,e){let r=ZO.exec(t);if(!r)return!1;let n=+r[1],o=+r[2],i=+r[3],s=r[5];return(n<=23&&o<=59&&i<=59||n===23&&o===59&&i===60)&&(!e||s!=="")}function rC(t,e){if(!(t&&e))return;let r=ZO.exec(t),n=ZO.exec(e);if(r&&n)return t=r[1]+r[2]+r[3]+(r[4]||""),e=n[1]+n[2]+n[3]+(n[4]||""),t>e?1:t<e?-1:0}var eC=/t|\s/i;function swe(t){let e=t.split(eC);return e.length===2&&P9(e[0])&&L9(e[1],!0)}function F9(t,e){if(!(t&&e))return;let[r,n]=t.split(eC),[o,i]=e.split(eC),s=tC(r,o);if(s!==void 0)return s||rC(n,i)}var awe=/\/|:/,cwe=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function uwe(t){return awe.test(t)&&cwe.test(t)}var R9=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function lwe(t){return R9.lastIndex=0,R9.test(t)}var fwe=-(2**31),dwe=2**31-1;function pwe(t){return Number.isInteger(t)&&t<=dwe&&t>=fwe}function hwe(t){return Number.isInteger(t)}function k9(){return!0}var mwe=/[^\\]\\Z/;function ywe(t){if(mwe.test(t))return!1;try{return new RegExp(t),!0}catch{return!1}}});var M9=$(nC=>{"use strict";Object.defineProperty(nC,"__esModule",{value:!0});var gwe=q2(),wwe=aO(),bwe=_O(),Ewe=zO(),B9=qO(),vwe=[gwe.default,wwe.default,(0,bwe.default)(),Ewe.default,B9.metadataVocabulary,B9.contentVocabulary];nC.default=vwe});var $9=$((G9e,Twe)=>{Twe.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}});var j9=$((wr,oC)=>{"use strict";Object.defineProperty(wr,"__esModule",{value:!0});wr.MissingRefError=wr.ValidationError=wr.CodeGen=wr.Name=wr.nil=wr.stringify=wr.str=wr._=wr.KeywordCxt=wr.Ajv=void 0;var xwe=j2(),Awe=M9(),Iwe=KO(),V9=$9(),Swe=["/properties"],ax="http://json-schema.org/draft-07/schema",Kp=class extends xwe.default{_addVocabularies(){super._addVocabularies(),Awe.default.forEach(e=>this.addVocabulary(e)),this.opts.discriminator&&this.addKeyword(Iwe.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let e=this.opts.$data?this.$dataMetaSchema(V9,Swe):V9;this.addMetaSchema(e,ax,!1),this.refs["http://json-schema.org/schema"]=ax}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(ax)?ax:void 0)}};wr.Ajv=Kp;oC.exports=wr=Kp;oC.exports.Ajv=Kp;Object.defineProperty(wr,"__esModule",{value:!0});wr.default=Kp;var Nwe=Mp();Object.defineProperty(wr,"KeywordCxt",{enumerable:!0,get:function(){return Nwe.KeywordCxt}});var Wp=et();Object.defineProperty(wr,"_",{enumerable:!0,get:function(){return Wp._}});Object.defineProperty(wr,"str",{enumerable:!0,get:function(){return Wp.str}});Object.defineProperty(wr,"stringify",{enumerable:!0,get:function(){return Wp.stringify}});Object.defineProperty(wr,"nil",{enumerable:!0,get:function(){return Wp.nil}});Object.defineProperty(wr,"Name",{enumerable:!0,get:function(){return Wp.Name}});Object.defineProperty(wr,"CodeGen",{enumerable:!0,get:function(){return Wp.CodeGen}});var _we=Pg();Object.defineProperty(wr,"ValidationError",{enumerable:!0,get:function(){return _we.default}});var Dwe=$p();Object.defineProperty(wr,"MissingRefError",{enumerable:!0,get:function(){return Dwe.default}})});var G9=$(Yp=>{"use strict";Object.defineProperty(Yp,"__esModule",{value:!0});Yp.formatLimitDefinition=void 0;var Owe=j9(),Ps=et(),Iu=Ps.operators,cx={formatMaximum:{okStr:"<=",ok:Iu.LTE,fail:Iu.GT},formatMinimum:{okStr:">=",ok:Iu.GTE,fail:Iu.LT},formatExclusiveMaximum:{okStr:"<",ok:Iu.LT,fail:Iu.GTE},formatExclusiveMinimum:{okStr:">",ok:Iu.GT,fail:Iu.LTE}},Cwe={message:({keyword:t,schemaCode:e})=>Ps.str`should be ${cx[t].okStr} ${e}`,params:({keyword:t,schemaCode:e})=>Ps._`{comparison: ${cx[t].okStr}, limit: ${e}}`};Yp.formatLimitDefinition={keyword:Object.keys(cx),type:"string",schemaType:"string",$data:!0,error:Cwe,code(t){let{gen:e,data:r,schemaCode:n,keyword:o,it:i}=t,{opts:s,self:a}=i;if(!s.validateFormats)return;let c=new Owe.KeywordCxt(i,a.RULES.all.format.definition,"format");c.$data?u():l();function u(){let d=e.scopeValue("formats",{ref:a.formats,code:s.code.formats}),p=e.const("fmt",Ps._`${d}[${c.schemaCode}]`);t.fail$data(Ps.or(Ps._`typeof ${p} != "object"`,Ps._`${p} instanceof RegExp`,Ps._`typeof ${p}.compare != "function"`,f(p)))}function l(){let d=c.schema,p=a.formats[d];if(!p||p===!0)return;if(typeof p!="object"||p instanceof RegExp||typeof p.compare!="function")throw new Error(`"${o}": format "${d}" does not define "compare" function`);let h=e.scopeValue("formats",{key:d,ref:p,code:s.code.formats?Ps._`${s.code.formats}${Ps.getProperty(d)}`:void 0});t.fail$data(f(h))}function f(d){return Ps._`${d}.compare(${r}, ${n}) ${cx[o].fail} 0`}},dependencies:["format"]};var Rwe=t=>(t.addKeyword(Yp.formatLimitDefinition),t);Yp.default=Rwe});var J9=$((Yg,Q9)=>{"use strict";Object.defineProperty(Yg,"__esModule",{value:!0});var Xp=U9(),kwe=G9(),iC=et(),z9=new iC.Name("fullFormats"),Pwe=new iC.Name("fastFormats"),sC=(t,e={keywords:!0})=>{if(Array.isArray(e))return q9(t,e,Xp.fullFormats,z9),t;let[r,n]=e.mode==="fast"?[Xp.fastFormats,Pwe]:[Xp.fullFormats,z9],o=e.formats||Xp.formatNames;return q9(t,o,r,n),e.keywords&&kwe.default(t),t};sC.get=(t,e="full")=>{let n=(e==="fast"?Xp.fastFormats:Xp.fullFormats)[t];if(!n)throw new Error(`Unknown format "${t}"`);return n};function q9(t,e,r,n){var o,i;(o=(i=t.opts.code).formats)!==null&&o!==void 0||(i.formats=iC._`require("ajv-formats/dist/formats").${n}`);for(let s of e)t.addFormat(s,r[s])}Q9.exports=Yg=sC;Object.defineProperty(Yg,"__esModule",{value:!0});Yg.default=sC});var $q=$((aQe,Mq)=>{"use strict";Mq.exports={STRING:2,BOOLEAN:4,BYTES:4,NUMBER:8,Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8}});var Gq=$(Px=>{"use strict";Px.byteLength=xve;Px.toByteArray=Ive;Px.fromByteArray=_ve;var _a=[],Zi=[],Tve=typeof Uint8Array<"u"?Uint8Array:Array,UC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(tf=0,Vq=UC.length;tf<Vq;++tf)_a[tf]=UC[tf],Zi[UC.charCodeAt(tf)]=tf;var tf,Vq;Zi[45]=62;Zi[95]=63;function jq(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function xve(t){var e=jq(t),r=e[0],n=e[1];return(r+n)*3/4-n}function Ave(t,e,r){return(e+r)*3/4-r}function Ive(t){var e,r=jq(t),n=r[0],o=r[1],i=new Tve(Ave(t,n,o)),s=0,a=o>0?n-4:n,c;for(c=0;c<a;c+=4)e=Zi[t.charCodeAt(c)]<<18|Zi[t.charCodeAt(c+1)]<<12|Zi[t.charCodeAt(c+2)]<<6|Zi[t.charCodeAt(c+3)],i[s++]=e>>16&255,i[s++]=e>>8&255,i[s++]=e&255;return o===2&&(e=Zi[t.charCodeAt(c)]<<2|Zi[t.charCodeAt(c+1)]>>4,i[s++]=e&255),o===1&&(e=Zi[t.charCodeAt(c)]<<10|Zi[t.charCodeAt(c+1)]<<4|Zi[t.charCodeAt(c+2)]>>2,i[s++]=e>>8&255,i[s++]=e&255),i}function Sve(t){return _a[t>>18&63]+_a[t>>12&63]+_a[t>>6&63]+_a[t&63]}function Nve(t,e,r){for(var n,o=[],i=e;i<r;i+=3)n=(t[i]<<16&16711680)+(t[i+1]<<8&65280)+(t[i+2]&255),o.push(Sve(n));return o.join("")}function _ve(t){for(var e,r=t.length,n=r%3,o=[],i=16383,s=0,a=r-n;s<a;s+=i)o.push(Nve(t,s,s+i>a?a:s+i));return n===1?(e=t[r-1],o.push(_a[e>>2]+_a[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],o.push(_a[e>>10]+_a[e>>4&63]+_a[e<<2&63]+"=")),o.join("")}});var zq=$(BC=>{"use strict";BC.read=function(t,e,r,n,o){var i,s,a=o*8-n-1,c=(1<<a)-1,u=c>>1,l=-7,f=r?o-1:0,d=r?-1:1,p=t[e+f];for(f+=d,i=p&(1<<-l)-1,p>>=-l,l+=a;l>0;i=i*256+t[e+f],f+=d,l-=8);for(s=i&(1<<-l)-1,i>>=-l,l+=n;l>0;s=s*256+t[e+f],f+=d,l-=8);if(i===0)i=1-u;else{if(i===c)return s?NaN:(p?-1:1)*(1/0);s=s+Math.pow(2,n),i=i-u}return(p?-1:1)*s*Math.pow(2,i-n)};BC.write=function(t,e,r,n,o,i){var s,a,c,u=i*8-o-1,l=(1<<u)-1,f=l>>1,d=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:i-1,h=n?1:-1,m=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),s+f>=1?e+=d/c:e+=d*Math.pow(2,1-f),e*c>=2&&(s++,c/=2),s+f>=l?(a=0,s=l):s+f>=1?(a=(e*c-1)*Math.pow(2,o),s=s+f):(a=e*Math.pow(2,f-1)*Math.pow(2,o),s=0));o>=8;t[r+p]=a&255,p+=h,a/=256,o-=8);for(s=s<<o|a,u+=o;u>0;t[r+p]=s&255,p+=h,s/=256,u-=8);t[r+p-h]|=m*128}});var aQ=$(Eh=>{"use strict";var MC=Gq(),wh=zq(),qq=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Eh.Buffer=V;Eh.SlowBuffer=Pve;Eh.INSPECT_MAX_BYTES=50;var Lx=2147483647;Eh.kMaxLength=Lx;V.TYPED_ARRAY_SUPPORT=Dve();!V.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function Dve(){try{let t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch{return!1}}Object.defineProperty(V.prototype,"parent",{enumerable:!0,get:function(){if(V.isBuffer(this))return this.buffer}});Object.defineProperty(V.prototype,"offset",{enumerable:!0,get:function(){if(V.isBuffer(this))return this.byteOffset}});function Ic(t){if(t>Lx)throw new RangeError('The value "'+t+'" is invalid for option "size"');let e=new Uint8Array(t);return Object.setPrototypeOf(e,V.prototype),e}function V(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return GC(t)}return Kq(t,e,r)}V.poolSize=8192;function Kq(t,e,r){if(typeof t=="string")return Cve(t,e);if(ArrayBuffer.isView(t))return Rve(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(Da(t,ArrayBuffer)||t&&Da(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Da(t,SharedArrayBuffer)||t&&Da(t.buffer,SharedArrayBuffer)))return VC(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let n=t.valueOf&&t.valueOf();if(n!=null&&n!==t)return V.from(n,e,r);let o=kve(t);if(o)return o;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return V.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}V.from=function(t,e,r){return Kq(t,e,r)};Object.setPrototypeOf(V.prototype,Uint8Array.prototype);Object.setPrototypeOf(V,Uint8Array);function Wq(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function Ove(t,e,r){return Wq(t),t<=0?Ic(t):e!==void 0?typeof r=="string"?Ic(t).fill(e,r):Ic(t).fill(e):Ic(t)}V.alloc=function(t,e,r){return Ove(t,e,r)};function GC(t){return Wq(t),Ic(t<0?0:zC(t)|0)}V.allocUnsafe=function(t){return GC(t)};V.allocUnsafeSlow=function(t){return GC(t)};function Cve(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!V.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let r=Yq(t,e)|0,n=Ic(r),o=n.write(t,e);return o!==r&&(n=n.slice(0,o)),n}function $C(t){let e=t.length<0?0:zC(t.length)|0,r=Ic(e);for(let n=0;n<e;n+=1)r[n]=t[n]&255;return r}function Rve(t){if(Da(t,Uint8Array)){let e=new Uint8Array(t);return VC(e.buffer,e.byteOffset,e.byteLength)}return $C(t)}function VC(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return e===void 0&&r===void 0?n=new Uint8Array(t):r===void 0?n=new Uint8Array(t,e):n=new Uint8Array(t,e,r),Object.setPrototypeOf(n,V.prototype),n}function kve(t){if(V.isBuffer(t)){let e=zC(t.length)|0,r=Ic(e);return r.length===0||t.copy(r,0,0,e),r}if(t.length!==void 0)return typeof t.length!="number"||QC(t.length)?Ic(0):$C(t);if(t.type==="Buffer"&&Array.isArray(t.data))return $C(t.data)}function zC(t){if(t>=Lx)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Lx.toString(16)+" bytes");return t|0}function Pve(t){return+t!=t&&(t=0),V.alloc(+t)}V.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==V.prototype};V.compare=function(e,r){if(Da(e,Uint8Array)&&(e=V.from(e,e.offset,e.byteLength)),Da(r,Uint8Array)&&(r=V.from(r,r.offset,r.byteLength)),!V.isBuffer(e)||!V.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;let n=e.length,o=r.length;for(let i=0,s=Math.min(n,o);i<s;++i)if(e[i]!==r[i]){n=e[i],o=r[i];break}return n<o?-1:o<n?1:0};V.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};V.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return V.alloc(0);let n;if(r===void 0)for(r=0,n=0;n<e.length;++n)r+=e[n].length;let o=V.allocUnsafe(r),i=0;for(n=0;n<e.length;++n){let s=e[n];if(Da(s,Uint8Array))i+s.length>o.length?(V.isBuffer(s)||(s=V.from(s)),s.copy(o,i)):Uint8Array.prototype.set.call(o,s,i);else if(V.isBuffer(s))s.copy(o,i);else throw new TypeError('"list" argument must be an Array of Buffers');i+=s.length}return o};function Yq(t,e){if(V.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||Da(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);let r=t.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;let o=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return jC(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return sQ(t).length;default:if(o)return n?-1:jC(t).length;e=(""+e).toLowerCase(),o=!0}}V.byteLength=Yq;function Lve(t,e,r){let n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return qve(this,e,r);case"utf8":case"utf-8":return Zq(this,e,r);case"ascii":return Gve(this,e,r);case"latin1":case"binary":return zve(this,e,r);case"base64":return Vve(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Qve(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}V.prototype._isBuffer=!0;function rf(t,e,r){let n=t[e];t[e]=t[r],t[r]=n}V.prototype.swap16=function(){let e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let r=0;r<e;r+=2)rf(this,r,r+1);return this};V.prototype.swap32=function(){let e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let r=0;r<e;r+=4)rf(this,r,r+3),rf(this,r+1,r+2);return this};V.prototype.swap64=function(){let e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let r=0;r<e;r+=8)rf(this,r,r+7),rf(this,r+1,r+6),rf(this,r+2,r+5),rf(this,r+3,r+4);return this};V.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?Zq(this,0,e):Lve.apply(this,arguments)};V.prototype.toLocaleString=V.prototype.toString;V.prototype.equals=function(e){if(!V.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:V.compare(this,e)===0};V.prototype.inspect=function(){let e="",r=Eh.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"};qq&&(V.prototype[qq]=V.prototype.inspect);V.prototype.compare=function(e,r,n,o,i){if(Da(e,Uint8Array)&&(e=V.from(e,e.offset,e.byteLength)),!V.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(r===void 0&&(r=0),n===void 0&&(n=e?e.length:0),o===void 0&&(o=0),i===void 0&&(i=this.length),r<0||n>e.length||o<0||i>this.length)throw new RangeError("out of range index");if(o>=i&&r>=n)return 0;if(o>=i)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,o>>>=0,i>>>=0,this===e)return 0;let s=i-o,a=n-r,c=Math.min(s,a),u=this.slice(o,i),l=e.slice(r,n);for(let f=0;f<c;++f)if(u[f]!==l[f]){s=u[f],a=l[f];break}return s<a?-1:a<s?1:0};function Xq(t,e,r,n,o){if(t.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,QC(r)&&(r=o?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(o)return-1;r=t.length-1}else if(r<0)if(o)r=0;else return-1;if(typeof e=="string"&&(e=V.from(e,n)),V.isBuffer(e))return e.length===0?-1:Qq(t,e,r,n,o);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?o?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):Qq(t,[e],r,n,o);throw new TypeError("val must be string, number or Buffer")}function Qq(t,e,r,n,o){let i=1,s=t.length,a=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(t.length<2||e.length<2)return-1;i=2,s/=2,a/=2,r/=2}function c(l,f){return i===1?l[f]:l.readUInt16BE(f*i)}let u;if(o){let l=-1;for(u=r;u<s;u++)if(c(t,u)===c(e,l===-1?0:u-l)){if(l===-1&&(l=u),u-l+1===a)return l*i}else l!==-1&&(u-=u-l),l=-1}else for(r+a>s&&(r=s-a),u=r;u>=0;u--){let l=!0;for(let f=0;f<a;f++)if(c(t,u+f)!==c(e,f)){l=!1;break}if(l)return u}return-1}V.prototype.includes=function(e,r,n){return this.indexOf(e,r,n)!==-1};V.prototype.indexOf=function(e,r,n){return Xq(this,e,r,n,!0)};V.prototype.lastIndexOf=function(e,r,n){return Xq(this,e,r,n,!1)};function Fve(t,e,r,n){r=Number(r)||0;let o=t.length-r;n?(n=Number(n),n>o&&(n=o)):n=o;let i=e.length;n>i/2&&(n=i/2);let s;for(s=0;s<n;++s){let a=parseInt(e.substr(s*2,2),16);if(QC(a))return s;t[r+s]=a}return s}function Uve(t,e,r,n){return Fx(jC(e,t.length-r),t,r,n)}function Bve(t,e,r,n){return Fx(Wve(e),t,r,n)}function Mve(t,e,r,n){return Fx(sQ(e),t,r,n)}function $ve(t,e,r,n){return Fx(Yve(e,t.length-r),t,r,n)}V.prototype.write=function(e,r,n,o){if(r===void 0)o="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")o=r,n=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(n)?(n=n>>>0,o===void 0&&(o="utf8")):(o=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let i=this.length-r;if((n===void 0||n>i)&&(n=i),e.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");o||(o="utf8");let s=!1;for(;;)switch(o){case"hex":return Fve(this,e,r,n);case"utf8":case"utf-8":return Uve(this,e,r,n);case"ascii":case"latin1":case"binary":return Bve(this,e,r,n);case"base64":return Mve(this,e,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $ve(this,e,r,n);default:if(s)throw new TypeError("Unknown encoding: "+o);o=(""+o).toLowerCase(),s=!0}};V.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Vve(t,e,r){return e===0&&r===t.length?MC.fromByteArray(t):MC.fromByteArray(t.slice(e,r))}function Zq(t,e,r){r=Math.min(t.length,r);let n=[],o=e;for(;o<r;){let i=t[o],s=null,a=i>239?4:i>223?3:i>191?2:1;if(o+a<=r){let c,u,l,f;switch(a){case 1:i<128&&(s=i);break;case 2:c=t[o+1],(c&192)===128&&(f=(i&31)<<6|c&63,f>127&&(s=f));break;case 3:c=t[o+1],u=t[o+2],(c&192)===128&&(u&192)===128&&(f=(i&15)<<12|(c&63)<<6|u&63,f>2047&&(f<55296||f>57343)&&(s=f));break;case 4:c=t[o+1],u=t[o+2],l=t[o+3],(c&192)===128&&(u&192)===128&&(l&192)===128&&(f=(i&15)<<18|(c&63)<<12|(u&63)<<6|l&63,f>65535&&f<1114112&&(s=f))}}s===null?(s=65533,a=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|s&1023),n.push(s),o+=a}return jve(n)}var Jq=4096;function jve(t){let e=t.length;if(e<=Jq)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=Jq));return r}function Gve(t,e,r){let n="";r=Math.min(t.length,r);for(let o=e;o<r;++o)n+=String.fromCharCode(t[o]&127);return n}function zve(t,e,r){let n="";r=Math.min(t.length,r);for(let o=e;o<r;++o)n+=String.fromCharCode(t[o]);return n}function qve(t,e,r){let n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let o="";for(let i=e;i<r;++i)o+=Xve[t[i]];return o}function Qve(t,e,r){let n=t.slice(e,r),o="";for(let i=0;i<n.length-1;i+=2)o+=String.fromCharCode(n[i]+n[i+1]*256);return o}V.prototype.slice=function(e,r){let n=this.length;e=~~e,r=r===void 0?n:~~r,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<e&&(r=e);let o=this.subarray(e,r);return Object.setPrototypeOf(o,V.prototype),o};function En(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}V.prototype.readUintLE=V.prototype.readUIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||En(e,r,this.length);let o=this[e],i=1,s=0;for(;++s<r&&(i*=256);)o+=this[e+s]*i;return o};V.prototype.readUintBE=V.prototype.readUIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||En(e,r,this.length);let o=this[e+--r],i=1;for(;r>0&&(i*=256);)o+=this[e+--r]*i;return o};V.prototype.readUint8=V.prototype.readUInt8=function(e,r){return e=e>>>0,r||En(e,1,this.length),this[e]};V.prototype.readUint16LE=V.prototype.readUInt16LE=function(e,r){return e=e>>>0,r||En(e,2,this.length),this[e]|this[e+1]<<8};V.prototype.readUint16BE=V.prototype.readUInt16BE=function(e,r){return e=e>>>0,r||En(e,2,this.length),this[e]<<8|this[e+1]};V.prototype.readUint32LE=V.prototype.readUInt32LE=function(e,r){return e=e>>>0,r||En(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};V.prototype.readUint32BE=V.prototype.readUInt32BE=function(e,r){return e=e>>>0,r||En(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};V.prototype.readBigUInt64LE=Ou(function(e){e=e>>>0,bh(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&y0(e,this.length-8);let o=r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,i=this[++e]+this[++e]*2**8+this[++e]*2**16+n*2**24;return BigInt(o)+(BigInt(i)<<BigInt(32))});V.prototype.readBigUInt64BE=Ou(function(e){e=e>>>0,bh(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&y0(e,this.length-8);let o=r*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],i=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n;return(BigInt(o)<<BigInt(32))+BigInt(i)});V.prototype.readIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||En(e,r,this.length);let o=this[e],i=1,s=0;for(;++s<r&&(i*=256);)o+=this[e+s]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*r)),o};V.prototype.readIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||En(e,r,this.length);let o=r,i=1,s=this[e+--o];for(;o>0&&(i*=256);)s+=this[e+--o]*i;return i*=128,s>=i&&(s-=Math.pow(2,8*r)),s};V.prototype.readInt8=function(e,r){return e=e>>>0,r||En(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};V.prototype.readInt16LE=function(e,r){e=e>>>0,r||En(e,2,this.length);let n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};V.prototype.readInt16BE=function(e,r){e=e>>>0,r||En(e,2,this.length);let n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};V.prototype.readInt32LE=function(e,r){return e=e>>>0,r||En(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};V.prototype.readInt32BE=function(e,r){return e=e>>>0,r||En(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};V.prototype.readBigInt64LE=Ou(function(e){e=e>>>0,bh(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&y0(e,this.length-8);let o=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(n<<24);return(BigInt(o)<<BigInt(32))+BigInt(r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});V.prototype.readBigInt64BE=Ou(function(e){e=e>>>0,bh(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&y0(e,this.length-8);let o=(r<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(o)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n)});V.prototype.readFloatLE=function(e,r){return e=e>>>0,r||En(e,4,this.length),wh.read(this,e,!0,23,4)};V.prototype.readFloatBE=function(e,r){return e=e>>>0,r||En(e,4,this.length),wh.read(this,e,!1,23,4)};V.prototype.readDoubleLE=function(e,r){return e=e>>>0,r||En(e,8,this.length),wh.read(this,e,!0,52,8)};V.prototype.readDoubleBE=function(e,r){return e=e>>>0,r||En(e,8,this.length),wh.read(this,e,!1,52,8)};function ko(t,e,r,n,o,i){if(!V.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<i)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}V.prototype.writeUintLE=V.prototype.writeUIntLE=function(e,r,n,o){if(e=+e,r=r>>>0,n=n>>>0,!o){let a=Math.pow(2,8*n)-1;ko(this,e,r,n,a,0)}let i=1,s=0;for(this[r]=e&255;++s<n&&(i*=256);)this[r+s]=e/i&255;return r+n};V.prototype.writeUintBE=V.prototype.writeUIntBE=function(e,r,n,o){if(e=+e,r=r>>>0,n=n>>>0,!o){let a=Math.pow(2,8*n)-1;ko(this,e,r,n,a,0)}let i=n-1,s=1;for(this[r+i]=e&255;--i>=0&&(s*=256);)this[r+i]=e/s&255;return r+n};V.prototype.writeUint8=V.prototype.writeUInt8=function(e,r,n){return e=+e,r=r>>>0,n||ko(this,e,r,1,255,0),this[r]=e&255,r+1};V.prototype.writeUint16LE=V.prototype.writeUInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||ko(this,e,r,2,65535,0),this[r]=e&255,this[r+1]=e>>>8,r+2};V.prototype.writeUint16BE=V.prototype.writeUInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||ko(this,e,r,2,65535,0),this[r]=e>>>8,this[r+1]=e&255,r+2};V.prototype.writeUint32LE=V.prototype.writeUInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||ko(this,e,r,4,4294967295,0),this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255,r+4};V.prototype.writeUint32BE=V.prototype.writeUInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||ko(this,e,r,4,4294967295,0),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};function eQ(t,e,r,n,o){iQ(e,n,o,t,r,7);let i=Number(e&BigInt(4294967295));t[r++]=i,i=i>>8,t[r++]=i,i=i>>8,t[r++]=i,i=i>>8,t[r++]=i;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s,r}function tQ(t,e,r,n,o){iQ(e,n,o,t,r,7);let i=Number(e&BigInt(4294967295));t[r+7]=i,i=i>>8,t[r+6]=i,i=i>>8,t[r+5]=i,i=i>>8,t[r+4]=i;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=s,s=s>>8,t[r+2]=s,s=s>>8,t[r+1]=s,s=s>>8,t[r]=s,r+8}V.prototype.writeBigUInt64LE=Ou(function(e,r=0){return eQ(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});V.prototype.writeBigUInt64BE=Ou(function(e,r=0){return tQ(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});V.prototype.writeIntLE=function(e,r,n,o){if(e=+e,r=r>>>0,!o){let c=Math.pow(2,8*n-1);ko(this,e,r,n,c-1,-c)}let i=0,s=1,a=0;for(this[r]=e&255;++i<n&&(s*=256);)e<0&&a===0&&this[r+i-1]!==0&&(a=1),this[r+i]=(e/s>>0)-a&255;return r+n};V.prototype.writeIntBE=function(e,r,n,o){if(e=+e,r=r>>>0,!o){let c=Math.pow(2,8*n-1);ko(this,e,r,n,c-1,-c)}let i=n-1,s=1,a=0;for(this[r+i]=e&255;--i>=0&&(s*=256);)e<0&&a===0&&this[r+i+1]!==0&&(a=1),this[r+i]=(e/s>>0)-a&255;return r+n};V.prototype.writeInt8=function(e,r,n){return e=+e,r=r>>>0,n||ko(this,e,r,1,127,-128),e<0&&(e=255+e+1),this[r]=e&255,r+1};V.prototype.writeInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||ko(this,e,r,2,32767,-32768),this[r]=e&255,this[r+1]=e>>>8,r+2};V.prototype.writeInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||ko(this,e,r,2,32767,-32768),this[r]=e>>>8,this[r+1]=e&255,r+2};V.prototype.writeInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||ko(this,e,r,4,2147483647,-2147483648),this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24,r+4};V.prototype.writeInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||ko(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};V.prototype.writeBigInt64LE=Ou(function(e,r=0){return eQ(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});V.prototype.writeBigInt64BE=Ou(function(e,r=0){return tQ(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function rQ(t,e,r,n,o,i){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function nQ(t,e,r,n,o){return e=+e,r=r>>>0,o||rQ(t,e,r,4,34028234663852886e22,-34028234663852886e22),wh.write(t,e,r,n,23,4),r+4}V.prototype.writeFloatLE=function(e,r,n){return nQ(this,e,r,!0,n)};V.prototype.writeFloatBE=function(e,r,n){return nQ(this,e,r,!1,n)};function oQ(t,e,r,n,o){return e=+e,r=r>>>0,o||rQ(t,e,r,8,17976931348623157e292,-17976931348623157e292),wh.write(t,e,r,n,52,8),r+8}V.prototype.writeDoubleLE=function(e,r,n){return oQ(this,e,r,!0,n)};V.prototype.writeDoubleBE=function(e,r,n){return oQ(this,e,r,!1,n)};V.prototype.copy=function(e,r,n,o){if(!V.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!o&&o!==0&&(o=this.length),r>=e.length&&(r=e.length),r||(r=0),o>0&&o<n&&(o=n),o===n||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(o<0)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),e.length-r<o-n&&(o=e.length-r+n);let i=o-n;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,n,o):Uint8Array.prototype.set.call(e,this.subarray(n,o),r),i};V.prototype.fill=function(e,r,n,o){if(typeof e=="string"){if(typeof r=="string"?(o=r,r=0,n=this.length):typeof n=="string"&&(o=n,n=this.length),o!==void 0&&typeof o!="string")throw new TypeError("encoding must be a string");if(typeof o=="string"&&!V.isEncoding(o))throw new TypeError("Unknown encoding: "+o);if(e.length===1){let s=e.charCodeAt(0);(o==="utf8"&&s<128||o==="latin1")&&(e=s)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);let i;if(typeof e=="number")for(i=r;i<n;++i)this[i]=e;else{let s=V.isBuffer(e)?e:V.from(e,o),a=s.length;if(a===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<n-r;++i)this[i+r]=s[i%a]}return this};var gh={};function qC(t,e,r){gh[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(o){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:o,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}qC("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);qC("ERR_INVALID_ARG_TYPE",function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`},TypeError);qC("ERR_OUT_OF_RANGE",function(t,e,r){let n=`The value of "${t}" is out of range.`,o=r;return Number.isInteger(r)&&Math.abs(r)>2**32?o=Hq(String(r)):typeof r=="bigint"&&(o=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(o=Hq(o)),o+="n"),n+=` It must be ${e}. Received ${o}`,n},RangeError);function Hq(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function Jve(t,e,r){bh(e,"offset"),(t[e]===void 0||t[e+r]===void 0)&&y0(e,t.length-(r+1))}function iQ(t,e,r,n,o,i){if(t>r||t<e){let s=typeof e=="bigint"?"n":"",a;throw i>3?e===0||e===BigInt(0)?a=`>= 0${s} and < 2${s} ** ${(i+1)*8}${s}`:a=`>= -(2${s} ** ${(i+1)*8-1}${s}) and < 2 ** ${(i+1)*8-1}${s}`:a=`>= ${e}${s} and <= ${r}${s}`,new gh.ERR_OUT_OF_RANGE("value",a,t)}Jve(n,o,i)}function bh(t,e){if(typeof t!="number")throw new gh.ERR_INVALID_ARG_TYPE(e,"number",t)}function y0(t,e,r){throw Math.floor(t)!==t?(bh(t,r),new gh.ERR_OUT_OF_RANGE(r||"offset","an integer",t)):e<0?new gh.ERR_BUFFER_OUT_OF_BOUNDS:new gh.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}var Hve=/[^+/0-9A-Za-z-_]/g;function Kve(t){if(t=t.split("=")[0],t=t.trim().replace(Hve,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}function jC(t,e){e=e||1/0;let r,n=t.length,o=null,i=[];for(let s=0;s<n;++s){if(r=t.charCodeAt(s),r>55295&&r<57344){if(!o){if(r>56319){(e-=3)>-1&&i.push(239,191,189);continue}else if(s+1===n){(e-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(e-=3)>-1&&i.push(239,191,189),o=r;continue}r=(o-55296<<10|r-56320)+65536}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((e-=1)<0)break;i.push(r)}else if(r<2048){if((e-=2)<0)break;i.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;i.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return i}function Wve(t){let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function Yve(t,e){let r,n,o,i=[];for(let s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,o=r%256,i.push(o),i.push(n);return i}function sQ(t){return MC.toByteArray(Kve(t))}function Fx(t,e,r,n){let o;for(o=0;o<n&&!(o+r>=e.length||o>=t.length);++o)e[o+r]=t[o];return o}function Da(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function QC(t){return t!==t}var Xve=(function(){let t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){let n=r*16;for(let o=0;o<16;++o)e[n+o]=t[r]+t[o]}return e})();function Ou(t){return typeof BigInt>"u"?Zve:t}function Zve(){throw new Error("BigInt not supported")}});var lQ=$((dQe,uQ)=>{"use strict";var g0=$q(),cQ=typeof window<"u"?aQ().Buffer:global.Buffer;function eTe(t){return 12+4*Math.ceil(t.length/4)}function tTe(){return!(typeof window<"u"&&typeof document<"u")}function rTe(t){return t.BYTES_PER_ELEMENT?t.length*t.BYTES_PER_ELEMENT:-1}function nTe(t){let e=0,r=-1;try{let n=t;if(t instanceof Map?n=Object.fromEntries(t):t instanceof Set&&(n=Array.from(t)),ArrayBuffer.isView(t))return rTe(t);let o=JSON.stringify(n,(i,s)=>typeof s=="bigint"||typeof s=="function"?s.toString():typeof s>"u"?"undefined":typeof s=="symbol"||s instanceof RegExp?s.toString():s);e=cQ.byteLength(o,"utf8")}catch{return new Error(r)}return e}function oTe(t){let e=[],r=[t],n=0;for(;r.length;){let o=r.pop();if(typeof o=="boolean")n+=g0.BYTES;else if(typeof o=="string")tTe()?n+=eTe(o):n+=o.length*g0.STRING;else if(typeof o=="number")n+=g0.NUMBER;else if(typeof o=="symbol")Symbol.keyFor&&Symbol.keyFor(t)?n+=Symbol.keyFor(t).length*g0.STRING:n+=(t.toString().length-8)*g0.STRING;else if(typeof o=="bigint")n+=cQ.from(o.toString()).byteLength;else if(typeof o=="function")n+=o.toString().length;else if(typeof o=="object"&&e.indexOf(o)===-1){e.push(o);for(let i in o)r.push(o[i])}}return n}uQ.exports=function(t){let e=0;return t!==null&&typeof t=="object"?e=nTe(t):e=oTe(t),e}});var wQ,eo,bQ=j(()=>{"use strict";wQ="16.12.0",eo=Object.freeze({major:16,minor:12,patch:0,preReleaseTag:null})});function Me(t,e){if(!!!t)throw new Error(e)}var yo=j(()=>{"use strict"});function to(t){return typeof t?.then=="function"}var Hx=j(()=>{"use strict"});function Br(t){return typeof t=="object"&&t!==null}var Oa=j(()=>{"use strict"});function wt(t,e){if(!!!t)throw new Error(e??"Unexpected invariant triggered.")}var ro=j(()=>{"use strict"});function Cu(t,e){let r=0,n=1;for(let o of t.body.matchAll(wTe)){if(typeof o.index=="number"||wt(!1),o.index>=e)break;r=o.index+o[0].length,n+=1}return{line:n,column:e+1-r}}var wTe,Kx=j(()=>{"use strict";ro();wTe=/\r\n|[\n\r]/g});function w0(t){return Th(t.source,Cu(t.source,t.start))}function Th(t,e){let r=t.locationOffset.column-1,n="".padStart(r)+t.body,o=e.line-1,i=t.locationOffset.line-1,s=e.line+i,a=e.line===1?r:0,c=e.column+a,u=`${t.name}:${s}:${c}
`,l=n.split(/\r\n|[\n\r]/g),f=l[o];if(f.length>120){let d=Math.floor(c/80),p=c%80,h=[];for(let m=0;m<f.length;m+=80)h.push(f.slice(m,m+80));return u+EQ([[`${s} |`,h[0]],...h.slice(1,d+1).map(m=>["|",m]),["|","^".padStart(p)],["|",h[d+1]]])}return u+EQ([[`${s-1} |`,l[o-1]],[`${s} |`,f],["|","^".padStart(c)],[`${s+1} |`,l[o+1]]])}function EQ(t){let e=t.filter(([n,o])=>o!==void 0),r=Math.max(...e.map(([n])=>n.length));return e.map(([n,o])=>n.padStart(r)+(o?" "+o:"")).join(`
`)}var XC=j(()=>{"use strict";Kx()});function bTe(t){let e=t[0];return e==null||"kind"in e||"length"in e?{nodes:e,source:t[1],positions:t[2],path:t[3],originalError:t[4],extensions:t[5]}:e}function vQ(t){return t===void 0||t.length===0?void 0:t}function ZC(t){return t.toString()}function eR(t){return t.toJSON()}var D,Ge=j(()=>{"use strict";Oa();Kx();XC();D=class t extends Error{constructor(e,...r){var n,o,i;let{nodes:s,source:a,positions:c,path:u,originalError:l,extensions:f}=bTe(r);super(e),this.name="GraphQLError",this.path=u??void 0,this.originalError=l??void 0,this.nodes=vQ(Array.isArray(s)?s:s?[s]:void 0);let d=vQ((n=this.nodes)===null||n===void 0?void 0:n.map(h=>h.loc).filter(h=>h!=null));this.source=a??(d==null||(o=d[0])===null||o===void 0?void 0:o.source),this.positions=c??d?.map(h=>h.start),this.locations=c&&a?c.map(h=>Cu(a,h)):d?.map(h=>Cu(h.source,h.start));let p=Br(l?.extensions)?l?.extensions:void 0;this.extensions=(i=f??p)!==null&&i!==void 0?i:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),l!=null&&l.stack?Object.defineProperty(this,"stack",{value:l.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let e=this.message;if(this.nodes)for(let r of this.nodes)r.loc&&(e+=`

`+w0(r.loc));else if(this.source&&this.locations)for(let r of this.locations)e+=`

`+Th(this.source,r);return e}toJSON(){let e={message:this.message};return this.locations!=null&&(e.locations=this.locations),this.path!=null&&(e.path=this.path),this.extensions!=null&&Object.keys(this.extensions).length>0&&(e.extensions=this.extensions),e}}});function hr(t,e,r){return new D(`Syntax Error: ${r}`,{source:t,positions:[e]})}var b0=j(()=>{"use strict";Ge()});function E0(t){let e=t?.kind;return typeof e=="string"&&ETe.has(e)}var nf,Ca,tR,ETe,br,Us=j(()=>{"use strict";nf=class{constructor(e,r,n){this.start=e.start,this.end=r.end,this.startToken=e,this.endToken=r,this.source=n}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}},Ca=class{constructor(e,r,n,o,i,s){this.kind=e,this.start=r,this.end=n,this.line=o,this.column=i,this.value=s,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}},tR={Name:[],Document:["definitions"],OperationDefinition:["description","name","variableDefinitions","directives","selectionSet"],VariableDefinition:["description","variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["description","name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"],TypeCoordinate:["name"],MemberCoordinate:["name","memberName"],ArgumentCoordinate:["name","fieldName","argumentName"],DirectiveCoordinate:["name"],DirectiveArgumentCoordinate:["name","argumentName"]},ETe=new Set(Object.keys(tR));br=(function(t){return t.QUERY="query",t.MUTATION="mutation",t.SUBSCRIPTION="subscription",t})(br||{})});var xe,xh=j(()=>{"use strict";xe=(function(t){return t.QUERY="QUERY",t.MUTATION="MUTATION",t.SUBSCRIPTION="SUBSCRIPTION",t.FIELD="FIELD",t.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",t.FRAGMENT_SPREAD="FRAGMENT_SPREAD",t.INLINE_FRAGMENT="INLINE_FRAGMENT",t.VARIABLE_DEFINITION="VARIABLE_DEFINITION",t.SCHEMA="SCHEMA",t.SCALAR="SCALAR",t.OBJECT="OBJECT",t.FIELD_DEFINITION="FIELD_DEFINITION",t.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",t.INTERFACE="INTERFACE",t.UNION="UNION",t.ENUM="ENUM",t.ENUM_VALUE="ENUM_VALUE",t.INPUT_OBJECT="INPUT_OBJECT",t.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION",t})(xe||{})});var y,bt=j(()=>{"use strict";y=(function(t){return t.NAME="Name",t.DOCUMENT="Document",t.OPERATION_DEFINITION="OperationDefinition",t.VARIABLE_DEFINITION="VariableDefinition",t.SELECTION_SET="SelectionSet",t.FIELD="Field",t.ARGUMENT="Argument",t.FRAGMENT_SPREAD="FragmentSpread",t.INLINE_FRAGMENT="InlineFragment",t.FRAGMENT_DEFINITION="FragmentDefinition",t.VARIABLE="Variable",t.INT="IntValue",t.FLOAT="FloatValue",t.STRING="StringValue",t.BOOLEAN="BooleanValue",t.NULL="NullValue",t.ENUM="EnumValue",t.LIST="ListValue",t.OBJECT="ObjectValue",t.OBJECT_FIELD="ObjectField",t.DIRECTIVE="Directive",t.NAMED_TYPE="NamedType",t.LIST_TYPE="ListType",t.NON_NULL_TYPE="NonNullType",t.SCHEMA_DEFINITION="SchemaDefinition",t.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",t.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",t.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",t.FIELD_DEFINITION="FieldDefinition",t.INPUT_VALUE_DEFINITION="InputValueDefinition",t.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",t.UNION_TYPE_DEFINITION="UnionTypeDefinition",t.ENUM_TYPE_DEFINITION="EnumTypeDefinition",t.ENUM_VALUE_DEFINITION="EnumValueDefinition",t.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",t.DIRECTIVE_DEFINITION="DirectiveDefinition",t.SCHEMA_EXTENSION="SchemaExtension",t.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",t.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",t.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",t.UNION_TYPE_EXTENSION="UnionTypeExtension",t.ENUM_TYPE_EXTENSION="EnumTypeExtension",t.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension",t.TYPE_COORDINATE="TypeCoordinate",t.MEMBER_COORDINATE="MemberCoordinate",t.ARGUMENT_COORDINATE="ArgumentCoordinate",t.DIRECTIVE_COORDINATE="DirectiveCoordinate",t.DIRECTIVE_ARGUMENT_COORDINATE="DirectiveArgumentCoordinate",t})(y||{})});function Wx(t){return t===9||t===32}function Ah(t){return t>=48&&t<=57}function TQ(t){return t>=97&&t<=122||t>=65&&t<=90}function of(t){return TQ(t)||t===95}function Yx(t){return TQ(t)||Ah(t)||t===95}var v0=j(()=>{"use strict"});function xQ(t){var e;let r=Number.MAX_SAFE_INTEGER,n=null,o=-1;for(let s=0;s<t.length;++s){var i;let a=t[s],c=vTe(a);c!==a.length&&(n=(i=n)!==null&&i!==void 0?i:s,o=s,s!==0&&c<r&&(r=c))}return t.map((s,a)=>a===0?s:s.slice(r)).slice((e=n)!==null&&e!==void 0?e:0,o+1)}function vTe(t){let e=0;for(;e<t.length&&Wx(t.charCodeAt(e));)++e;return e}function AQ(t){if(t==="")return!0;let e=!0,r=!1,n=!0,o=!1;for(let i=0;i<t.length;++i)switch(t.codePointAt(i)){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 11:case 12:case 14:case 15:return!1;case 13:return!1;case 10:if(e&&!o)return!1;o=!0,e=!0,r=!1;break;case 9:case 32:r||(r=e);break;default:n&&(n=r),e=!1}return!(e||n&&o)}function Xx(t,e){let r=t.replace(/"""/g,'\\"""'),n=r.split(/\r\n|[\n\r]/g),o=n.length===1,i=n.length>1&&n.slice(1).every(p=>p.length===0||Wx(p.charCodeAt(0))),s=r.endsWith('\\"""'),a=t.endsWith('"')&&!s,c=t.endsWith("\\"),u=a||c,l=!(e!=null&&e.minimize)&&(!o||t.length>70||u||i||s),f="",d=o&&Wx(t.charCodeAt(0));return(l&&!d||i)&&(f+=`
`),f+=r,(l||u)&&(f+=`
`),'"""'+f+'"""'}var T0=j(()=>{"use strict";v0()});var F,Ih=j(()=>{"use strict";F=(function(t){return t.SOF="<SOF>",t.EOF="<EOF>",t.BANG="!",t.DOLLAR="$",t.AMP="&",t.PAREN_L="(",t.PAREN_R=")",t.DOT=".",t.SPREAD="...",t.COLON=":",t.EQUALS="=",t.AT="@",t.BRACKET_L="[",t.BRACKET_R="]",t.BRACE_L="{",t.PIPE="|",t.BRACE_R="}",t.NAME="Name",t.INT="Int",t.FLOAT="Float",t.STRING="String",t.BLOCK_STRING="BlockString",t.COMMENT="Comment",t})(F||{})});function Zx(t){return t===F.BANG||t===F.DOLLAR||t===F.AMP||t===F.PAREN_L||t===F.PAREN_R||t===F.DOT||t===F.SPREAD||t===F.COLON||t===F.EQUALS||t===F.AT||t===F.BRACKET_L||t===F.BRACKET_R||t===F.BRACE_L||t===F.PIPE||t===F.BRACE_R}function Sh(t){return t>=0&&t<=55295||t>=57344&&t<=1114111}function eA(t,e){return SQ(t.charCodeAt(e))&&NQ(t.charCodeAt(e+1))}function SQ(t){return t>=55296&&t<=56319}function NQ(t){return t>=56320&&t<=57343}function _c(t,e){let r=t.source.body.codePointAt(e);if(r===void 0)return F.EOF;if(r>=32&&r<=126){let n=String.fromCodePoint(r);return n==='"'?`'"'`:`"${n}"`}return"U+"+r.toString(16).toUpperCase().padStart(4,"0")}function ar(t,e,r,n,o){let i=t.line,s=1+r-t.lineStart;return new Ca(e,r,n,i,s,o)}function TTe(t,e){let r=t.source.body,n=r.length,o=e;for(;o<n;){let i=r.charCodeAt(o);switch(i){case 65279:case 9:case 32:case 44:++o;continue;case 10:++o,++t.line,t.lineStart=o;continue;case 13:r.charCodeAt(o+1)===10?o+=2:++o,++t.line,t.lineStart=o;continue;case 35:return xTe(t,o);case 33:return ar(t,F.BANG,o,o+1);case 36:return ar(t,F.DOLLAR,o,o+1);case 38:return ar(t,F.AMP,o,o+1);case 40:return ar(t,F.PAREN_L,o,o+1);case 41:return ar(t,F.PAREN_R,o,o+1);case 46:if(r.charCodeAt(o+1)===46&&r.charCodeAt(o+2)===46)return ar(t,F.SPREAD,o,o+3);break;case 58:return ar(t,F.COLON,o,o+1);case 61:return ar(t,F.EQUALS,o,o+1);case 64:return ar(t,F.AT,o,o+1);case 91:return ar(t,F.BRACKET_L,o,o+1);case 93:return ar(t,F.BRACKET_R,o,o+1);case 123:return ar(t,F.BRACE_L,o,o+1);case 124:return ar(t,F.PIPE,o,o+1);case 125:return ar(t,F.BRACE_R,o,o+1);case 34:return r.charCodeAt(o+1)===34&&r.charCodeAt(o+2)===34?DTe(t,o):ITe(t,o)}if(Ah(i)||i===45)return ATe(t,o,i);if(of(i))return nR(t,o);throw hr(t.source,o,i===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:Sh(i)||eA(r,o)?`Unexpected character: ${_c(t,o)}.`:`Invalid character: ${_c(t,o)}.`)}return ar(t,F.EOF,n,n)}function xTe(t,e){let r=t.source.body,n=r.length,o=e+1;for(;o<n;){let i=r.charCodeAt(o);if(i===10||i===13)break;if(Sh(i))++o;else if(eA(r,o))o+=2;else break}return ar(t,F.COMMENT,e,o,r.slice(e+1,o))}function ATe(t,e,r){let n=t.source.body,o=e,i=r,s=!1;if(i===45&&(i=n.charCodeAt(++o)),i===48){if(i=n.charCodeAt(++o),Ah(i))throw hr(t.source,o,`Invalid number, unexpected digit after 0: ${_c(t,o)}.`)}else o=rR(t,o,i),i=n.charCodeAt(o);if(i===46&&(s=!0,i=n.charCodeAt(++o),o=rR(t,o,i),i=n.charCodeAt(o)),(i===69||i===101)&&(s=!0,i=n.charCodeAt(++o),(i===43||i===45)&&(i=n.charCodeAt(++o)),o=rR(t,o,i),i=n.charCodeAt(o)),i===46||of(i))throw hr(t.source,o,`Invalid number, expected digit but got: ${_c(t,o)}.`);return ar(t,s?F.FLOAT:F.INT,e,o,n.slice(e,o))}function rR(t,e,r){if(!Ah(r))throw hr(t.source,e,`Invalid number, expected digit but got: ${_c(t,e)}.`);let n=t.source.body,o=e+1;for(;Ah(n.charCodeAt(o));)++o;return o}function ITe(t,e){let r=t.source.body,n=r.length,o=e+1,i=o,s="";for(;o<n;){let a=r.charCodeAt(o);if(a===34)return s+=r.slice(i,o),ar(t,F.STRING,e,o+1,s);if(a===92){s+=r.slice(i,o);let c=r.charCodeAt(o+1)===117?r.charCodeAt(o+2)===123?STe(t,o):NTe(t,o):_Te(t,o);s+=c.value,o+=c.size,i=o;continue}if(a===10||a===13)break;if(Sh(a))++o;else if(eA(r,o))o+=2;else throw hr(t.source,o,`Invalid character within String: ${_c(t,o)}.`)}throw hr(t.source,o,"Unterminated string.")}function STe(t,e){let r=t.source.body,n=0,o=3;for(;o<12;){let i=r.charCodeAt(e+o++);if(i===125){if(o<5||!Sh(n))break;return{value:String.fromCodePoint(n),size:o}}if(n=n<<4|x0(i),n<0)break}throw hr(t.source,e,`Invalid Unicode escape sequence: "${r.slice(e,e+o)}".`)}function NTe(t,e){let r=t.source.body,n=IQ(r,e+2);if(Sh(n))return{value:String.fromCodePoint(n),size:6};if(SQ(n)&&r.charCodeAt(e+6)===92&&r.charCodeAt(e+7)===117){let o=IQ(r,e+8);if(NQ(o))return{value:String.fromCodePoint(n,o),size:12}}throw hr(t.source,e,`Invalid Unicode escape sequence: "${r.slice(e,e+6)}".`)}function IQ(t,e){return x0(t.charCodeAt(e))<<12|x0(t.charCodeAt(e+1))<<8|x0(t.charCodeAt(e+2))<<4|x0(t.charCodeAt(e+3))}function x0(t){return t>=48&&t<=57?t-48:t>=65&&t<=70?t-55:t>=97&&t<=102?t-87:-1}function _Te(t,e){let r=t.source.body;switch(r.charCodeAt(e+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:`
`,size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw hr(t.source,e,`Invalid character escape sequence: "${r.slice(e,e+2)}".`)}function DTe(t,e){let r=t.source.body,n=r.length,o=t.lineStart,i=e+3,s=i,a="",c=[];for(;i<n;){let u=r.charCodeAt(i);if(u===34&&r.charCodeAt(i+1)===34&&r.charCodeAt(i+2)===34){a+=r.slice(s,i),c.push(a);let l=ar(t,F.BLOCK_STRING,e,i+3,xQ(c).join(`
`));return t.line+=c.length-1,t.lineStart=o,l}if(u===92&&r.charCodeAt(i+1)===34&&r.charCodeAt(i+2)===34&&r.charCodeAt(i+3)===34){a+=r.slice(s,i),s=i+1,i+=4;continue}if(u===10||u===13){a+=r.slice(s,i),c.push(a),u===13&&r.charCodeAt(i+1)===10?i+=2:++i,a="",s=i,o=i;continue}if(Sh(u))++i;else if(eA(r,i))i+=2;else throw hr(t.source,i,`Invalid character within String: ${_c(t,i)}.`)}throw hr(t.source,i,"Unterminated string.")}function nR(t,e){let r=t.source.body,n=r.length,o=e+1;for(;o<n;){let i=r.charCodeAt(o);if(Yx(i))++o;else break}return ar(t,F.NAME,e,o,r.slice(e,o))}var Nc,A0=j(()=>{"use strict";b0();Us();T0();v0();Ih();Nc=class{constructor(e){let r=new Ca(F.SOF,0,0,0,0);this.source=e,this.lastToken=r,this.token=r,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let e=this.token;if(e.kind!==F.EOF)do if(e.next)e=e.next;else{let r=TTe(this,e.end);e.next=r,r.prev=e,e=r}while(e.kind===F.COMMENT);return e}}});function OTe(t,e){let r=t.source.body,n=r.length,o=e;if(o<n){let i=r.charCodeAt(o);switch(i){case 46:return ar(t,F.DOT,o,o+1);case 40:return ar(t,F.PAREN_L,o,o+1);case 41:return ar(t,F.PAREN_R,o,o+1);case 58:return ar(t,F.COLON,o,o+1);case 64:return ar(t,F.AT,o,o+1)}if(of(i))return nR(t,o);throw hr(t.source,o,`Invalid character: ${_c(t,o)}.`)}return ar(t,F.EOF,n,n)}var tA,_Q=j(()=>{"use strict";b0();Us();v0();A0();Ih();tA=class{line=1;lineStart=0;constructor(e){let r=new Ca(F.SOF,0,0,0,0);this.source=e,this.lastToken=r,this.token=r}get[Symbol.toStringTag](){return"SchemaCoordinateLexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let e=this.token;if(e.kind!==F.EOF){let r=OTe(this,e.end);e.next=r,r.prev=e,e=r}return e}}});function P(t){return rA(t,[])}function rA(t,e){switch(typeof t){case"string":return JSON.stringify(t);case"function":return t.name?`[function ${t.name}]`:"[function]";case"object":return CTe(t,e);default:return String(t)}}function CTe(t,e){if(t===null)return"null";if(e.includes(t))return"[Circular]";let r=[...e,t];if(RTe(t)){let n=t.toJSON();if(n!==t)return typeof n=="string"?n:rA(n,r)}else if(Array.isArray(t))return PTe(t,r);return kTe(t,r)}function RTe(t){return typeof t.toJSON=="function"}function kTe(t,e){let r=Object.entries(t);return r.length===0?"{}":e.length>2?"["+LTe(t)+"]":"{ "+r.map(([o,i])=>o+": "+rA(i,e)).join(", ")+" }"}function PTe(t,e){if(t.length===0)return"[]";if(e.length>2)return"[Array]";let r=Math.min(10,t.length),n=t.length-r,o=[];for(let i=0;i<r;++i)o.push(rA(t[i],e));return n===1?o.push("... 1 more item"):n>1&&o.push(`... ${n} more items`),"["+o.join(", ")+"]"}function LTe(t){let e=Object.prototype.toString.call(t).replace(/^\[object /,"").replace(/]$/,"");if(e==="Object"&&typeof t.constructor=="function"){let r=t.constructor.name;if(typeof r=="string"&&r!=="")return r}return e}var Gt=j(()=>{"use strict"});var FTe,go,I0=j(()=>{"use strict";Gt();FTe=globalThis.process&&!0,go=FTe?function(e,r){return e instanceof r}:function(e,r){if(e instanceof r)return!0;if(typeof e=="object"&&e!==null){var n;let o=r.prototype[Symbol.toStringTag],i=Symbol.toStringTag in e?e[Symbol.toStringTag]:(n=e.constructor)===null||n===void 0?void 0:n.name;if(o===i){let s=P(e);throw new Error(`Cannot use ${o} "${s}" from another module or realm.

Ensure that there is only one instance of "graphql" in the node_modules
directory. If different versions of "graphql" are the dependencies of other
relied on modules, use "resolutions" to ensure only one version is installed.

https://yarnpkg.com/en/docs/selective-version-resolutions

Duplicate "graphql" modules cannot be used at the same time since different
versions may have different capabilities and behavior. The data from one
version used in the function from another could produce confusing and
spurious results.`)}}return!1}});function S0(t){return go(t,vi)}var vi,nA=j(()=>{"use strict";yo();Gt();I0();vi=class{constructor(e,r="GraphQL request",n={line:1,column:1}){typeof e=="string"||Me(!1,`Body must be a string. Received: ${P(e)}.`),this.body=e,this.name=r,this.locationOffset=n,this.locationOffset.line>0||Me(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||Me(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}});function no(t,e){let r=new sf(t,e),n=r.parseDocument();return Object.defineProperty(n,"tokenCount",{enumerable:!1,value:r.tokenCount}),n}function N0(t,e){let r=new sf(t,e);r.expectToken(F.SOF);let n=r.parseValueLiteral(!1);return r.expectToken(F.EOF),n}function oR(t,e){let r=new sf(t,e);r.expectToken(F.SOF);let n=r.parseConstValueLiteral();return r.expectToken(F.EOF),n}function iR(t,e){let r=new sf(t,e);r.expectToken(F.SOF);let n=r.parseTypeReference();return r.expectToken(F.EOF),n}function _0(t){let e=S0(t)?t:new vi(t),r=new tA(e),n=new sf(t,{lexer:r});n.expectToken(F.SOF);let o=n.parseSchemaCoordinate();return n.expectToken(F.EOF),o}function oA(t){let e=t.value;return DQ(t.kind)+(e!=null?` "${e}"`:"")}function DQ(t){return Zx(t)?`"${t}"`:t}var sf,af=j(()=>{"use strict";b0();Us();xh();bt();A0();_Q();nA();Ih();sf=class{constructor(e,r={}){let i=r,{lexer:n}=i,o=Gr(i,["lexer"]);if(n)this._lexer=n;else{let s=S0(e)?e:new vi(e);this._lexer=new Nc(s)}this._options=o,this._tokenCounter=0}get tokenCount(){return this._tokenCounter}parseName(){let e=this.expectToken(F.NAME);return this.node(e,{kind:y.NAME,value:e.value})}parseDocument(){return this.node(this._lexer.token,{kind:y.DOCUMENT,definitions:this.many(F.SOF,this.parseDefinition,F.EOF)})}parseDefinition(){if(this.peek(F.BRACE_L))return this.parseOperationDefinition();let e=this.peekDescription(),r=e?this._lexer.lookahead():this._lexer.token;if(e&&r.kind===F.BRACE_L)throw hr(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are not supported on shorthand queries.");if(r.kind===F.NAME){switch(r.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}switch(r.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition()}if(e)throw hr(this._lexer.source,this._lexer.token.start,"Unexpected description, only GraphQL definitions support descriptions.");switch(r.value){case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(r)}parseOperationDefinition(){let e=this._lexer.token;if(this.peek(F.BRACE_L))return this.node(e,{kind:y.OPERATION_DEFINITION,operation:br.QUERY,description:void 0,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});let r=this.parseDescription(),n=this.parseOperationType(),o;return this.peek(F.NAME)&&(o=this.parseName()),this.node(e,{kind:y.OPERATION_DEFINITION,operation:n,description:r,name:o,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){let e=this.expectToken(F.NAME);switch(e.value){case"query":return br.QUERY;case"mutation":return br.MUTATION;case"subscription":return br.SUBSCRIPTION}throw this.unexpected(e)}parseVariableDefinitions(){return this.optionalMany(F.PAREN_L,this.parseVariableDefinition,F.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:y.VARIABLE_DEFINITION,description:this.parseDescription(),variable:this.parseVariable(),type:(this.expectToken(F.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(F.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){let e=this._lexer.token;return this.expectToken(F.DOLLAR),this.node(e,{kind:y.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:y.SELECTION_SET,selections:this.many(F.BRACE_L,this.parseSelection,F.BRACE_R)})}parseSelection(){return this.peek(F.SPREAD)?this.parseFragment():this.parseField()}parseField(){let e=this._lexer.token,r=this.parseName(),n,o;return this.expectOptionalToken(F.COLON)?(n=r,o=this.parseName()):o=r,this.node(e,{kind:y.FIELD,alias:n,name:o,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(F.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(e){let r=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(F.PAREN_L,r,F.PAREN_R)}parseArgument(e=!1){let r=this._lexer.token,n=this.parseName();return this.expectToken(F.COLON),this.node(r,{kind:y.ARGUMENT,name:n,value:this.parseValueLiteral(e)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){let e=this._lexer.token;this.expectToken(F.SPREAD);let r=this.expectOptionalKeyword("on");return!r&&this.peek(F.NAME)?this.node(e,{kind:y.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(e,{kind:y.INLINE_FRAGMENT,typeCondition:r?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){let e=this._lexer.token,r=this.parseDescription();return this.expectKeyword("fragment"),this._options.allowLegacyFragmentVariables===!0?this.node(e,{kind:y.FRAGMENT_DEFINITION,description:r,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(e,{kind:y.FRAGMENT_DEFINITION,description:r,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()}parseValueLiteral(e){let r=this._lexer.token;switch(r.kind){case F.BRACKET_L:return this.parseList(e);case F.BRACE_L:return this.parseObject(e);case F.INT:return this.advanceLexer(),this.node(r,{kind:y.INT,value:r.value});case F.FLOAT:return this.advanceLexer(),this.node(r,{kind:y.FLOAT,value:r.value});case F.STRING:case F.BLOCK_STRING:return this.parseStringLiteral();case F.NAME:switch(this.advanceLexer(),r.value){case"true":return this.node(r,{kind:y.BOOLEAN,value:!0});case"false":return this.node(r,{kind:y.BOOLEAN,value:!1});case"null":return this.node(r,{kind:y.NULL});default:return this.node(r,{kind:y.ENUM,value:r.value})}case F.DOLLAR:if(e)if(this.expectToken(F.DOLLAR),this._lexer.token.kind===F.NAME){let n=this._lexer.token.value;throw hr(this._lexer.source,r.start,`Unexpected variable "$${n}" in constant value.`)}else throw this.unexpected(r);return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){let e=this._lexer.token;return this.advanceLexer(),this.node(e,{kind:y.STRING,value:e.value,block:e.kind===F.BLOCK_STRING})}parseList(e){let r=()=>this.parseValueLiteral(e);return this.node(this._lexer.token,{kind:y.LIST,values:this.any(F.BRACKET_L,r,F.BRACKET_R)})}parseObject(e){let r=()=>this.parseObjectField(e);return this.node(this._lexer.token,{kind:y.OBJECT,fields:this.any(F.BRACE_L,r,F.BRACE_R)})}parseObjectField(e){let r=this._lexer.token,n=this.parseName();return this.expectToken(F.COLON),this.node(r,{kind:y.OBJECT_FIELD,name:n,value:this.parseValueLiteral(e)})}parseDirectives(e){let r=[];for(;this.peek(F.AT);)r.push(this.parseDirective(e));return r}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(e){let r=this._lexer.token;return this.expectToken(F.AT),this.node(r,{kind:y.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e)})}parseTypeReference(){let e=this._lexer.token,r;if(this.expectOptionalToken(F.BRACKET_L)){let n=this.parseTypeReference();this.expectToken(F.BRACKET_R),r=this.node(e,{kind:y.LIST_TYPE,type:n})}else r=this.parseNamedType();return this.expectOptionalToken(F.BANG)?this.node(e,{kind:y.NON_NULL_TYPE,type:r}):r}parseNamedType(){return this.node(this._lexer.token,{kind:y.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(F.STRING)||this.peek(F.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){let e=this._lexer.token,r=this.parseDescription();this.expectKeyword("schema");let n=this.parseConstDirectives(),o=this.many(F.BRACE_L,this.parseOperationTypeDefinition,F.BRACE_R);return this.node(e,{kind:y.SCHEMA_DEFINITION,description:r,directives:n,operationTypes:o})}parseOperationTypeDefinition(){let e=this._lexer.token,r=this.parseOperationType();this.expectToken(F.COLON);let n=this.parseNamedType();return this.node(e,{kind:y.OPERATION_TYPE_DEFINITION,operation:r,type:n})}parseScalarTypeDefinition(){let e=this._lexer.token,r=this.parseDescription();this.expectKeyword("scalar");let n=this.parseName(),o=this.parseConstDirectives();return this.node(e,{kind:y.SCALAR_TYPE_DEFINITION,description:r,name:n,directives:o})}parseObjectTypeDefinition(){let e=this._lexer.token,r=this.parseDescription();this.expectKeyword("type");let n=this.parseName(),o=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),s=this.parseFieldsDefinition();return this.node(e,{kind:y.OBJECT_TYPE_DEFINITION,description:r,name:n,interfaces:o,directives:i,fields:s})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(F.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(F.BRACE_L,this.parseFieldDefinition,F.BRACE_R)}parseFieldDefinition(){let e=this._lexer.token,r=this.parseDescription(),n=this.parseName(),o=this.parseArgumentDefs();this.expectToken(F.COLON);let i=this.parseTypeReference(),s=this.parseConstDirectives();return this.node(e,{kind:y.FIELD_DEFINITION,description:r,name:n,arguments:o,type:i,directives:s})}parseArgumentDefs(){return this.optionalMany(F.PAREN_L,this.parseInputValueDef,F.PAREN_R)}parseInputValueDef(){let e=this._lexer.token,r=this.parseDescription(),n=this.parseName();this.expectToken(F.COLON);let o=this.parseTypeReference(),i;this.expectOptionalToken(F.EQUALS)&&(i=this.parseConstValueLiteral());let s=this.parseConstDirectives();return this.node(e,{kind:y.INPUT_VALUE_DEFINITION,description:r,name:n,type:o,defaultValue:i,directives:s})}parseInterfaceTypeDefinition(){let e=this._lexer.token,r=this.parseDescription();this.expectKeyword("interface");let n=this.parseName(),o=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),s=this.parseFieldsDefinition();return this.node(e,{kind:y.INTERFACE_TYPE_DEFINITION,description:r,name:n,interfaces:o,directives:i,fields:s})}parseUnionTypeDefinition(){let e=this._lexer.token,r=this.parseDescription();this.expectKeyword("union");let n=this.parseName(),o=this.parseConstDirectives(),i=this.parseUnionMemberTypes();return this.node(e,{kind:y.UNION_TYPE_DEFINITION,description:r,name:n,directives:o,types:i})}parseUnionMemberTypes(){return this.expectOptionalToken(F.EQUALS)?this.delimitedMany(F.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){let e=this._lexer.token,r=this.parseDescription();this.expectKeyword("enum");let n=this.parseName(),o=this.parseConstDirectives(),i=this.parseEnumValuesDefinition();return this.node(e,{kind:y.ENUM_TYPE_DEFINITION,description:r,name:n,directives:o,values:i})}parseEnumValuesDefinition(){return this.optionalMany(F.BRACE_L,this.parseEnumValueDefinition,F.BRACE_R)}parseEnumValueDefinition(){let e=this._lexer.token,r=this.parseDescription(),n=this.parseEnumValueName(),o=this.parseConstDirectives();return this.node(e,{kind:y.ENUM_VALUE_DEFINITION,description:r,name:n,directives:o})}parseEnumValueName(){if(this._lexer.token.value==="true"||this._lexer.token.value==="false"||this._lexer.token.value==="null")throw hr(this._lexer.source,this._lexer.token.start,`${oA(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){let e=this._lexer.token,r=this.parseDescription();this.expectKeyword("input");let n=this.parseName(),o=this.parseConstDirectives(),i=this.parseInputFieldsDefinition();return this.node(e,{kind:y.INPUT_OBJECT_TYPE_DEFINITION,description:r,name:n,directives:o,fields:i})}parseInputFieldsDefinition(){return this.optionalMany(F.BRACE_L,this.parseInputValueDef,F.BRACE_R)}parseTypeSystemExtension(){let e=this._lexer.lookahead();if(e.kind===F.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)}parseSchemaExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");let r=this.parseConstDirectives(),n=this.optionalMany(F.BRACE_L,this.parseOperationTypeDefinition,F.BRACE_R);if(r.length===0&&n.length===0)throw this.unexpected();return this.node(e,{kind:y.SCHEMA_EXTENSION,directives:r,operationTypes:n})}parseScalarTypeExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");let r=this.parseName(),n=this.parseConstDirectives();if(n.length===0)throw this.unexpected();return this.node(e,{kind:y.SCALAR_TYPE_EXTENSION,name:r,directives:n})}parseObjectTypeExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");let r=this.parseName(),n=this.parseImplementsInterfaces(),o=this.parseConstDirectives(),i=this.parseFieldsDefinition();if(n.length===0&&o.length===0&&i.length===0)throw this.unexpected();return this.node(e,{kind:y.OBJECT_TYPE_EXTENSION,name:r,interfaces:n,directives:o,fields:i})}parseInterfaceTypeExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");let r=this.parseName(),n=this.parseImplementsInterfaces(),o=this.parseConstDirectives(),i=this.parseFieldsDefinition();if(n.length===0&&o.length===0&&i.length===0)throw this.unexpected();return this.node(e,{kind:y.INTERFACE_TYPE_EXTENSION,name:r,interfaces:n,directives:o,fields:i})}parseUnionTypeExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");let r=this.parseName(),n=this.parseConstDirectives(),o=this.parseUnionMemberTypes();if(n.length===0&&o.length===0)throw this.unexpected();return this.node(e,{kind:y.UNION_TYPE_EXTENSION,name:r,directives:n,types:o})}parseEnumTypeExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");let r=this.parseName(),n=this.parseConstDirectives(),o=this.parseEnumValuesDefinition();if(n.length===0&&o.length===0)throw this.unexpected();return this.node(e,{kind:y.ENUM_TYPE_EXTENSION,name:r,directives:n,values:o})}parseInputObjectTypeExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");let r=this.parseName(),n=this.parseConstDirectives(),o=this.parseInputFieldsDefinition();if(n.length===0&&o.length===0)throw this.unexpected();return this.node(e,{kind:y.INPUT_OBJECT_TYPE_EXTENSION,name:r,directives:n,fields:o})}parseDirectiveDefinition(){let e=this._lexer.token,r=this.parseDescription();this.expectKeyword("directive"),this.expectToken(F.AT);let n=this.parseName(),o=this.parseArgumentDefs(),i=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");let s=this.parseDirectiveLocations();return this.node(e,{kind:y.DIRECTIVE_DEFINITION,description:r,name:n,arguments:o,repeatable:i,locations:s})}parseDirectiveLocations(){return this.delimitedMany(F.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){let e=this._lexer.token,r=this.parseName();if(Object.prototype.hasOwnProperty.call(xe,r.value))return r;throw this.unexpected(e)}parseSchemaCoordinate(){let e=this._lexer.token,r=this.expectOptionalToken(F.AT),n=this.parseName(),o;!r&&this.expectOptionalToken(F.DOT)&&(o=this.parseName());let i;return(r||o)&&this.expectOptionalToken(F.PAREN_L)&&(i=this.parseName(),this.expectToken(F.COLON),this.expectToken(F.PAREN_R)),r?i?this.node(e,{kind:y.DIRECTIVE_ARGUMENT_COORDINATE,name:n,argumentName:i}):this.node(e,{kind:y.DIRECTIVE_COORDINATE,name:n}):o?i?this.node(e,{kind:y.ARGUMENT_COORDINATE,name:n,fieldName:o,argumentName:i}):this.node(e,{kind:y.MEMBER_COORDINATE,name:n,memberName:o}):this.node(e,{kind:y.TYPE_COORDINATE,name:n})}node(e,r){return this._options.noLocation!==!0&&(r.loc=new nf(e,this._lexer.lastToken,this._lexer.source)),r}peek(e){return this._lexer.token.kind===e}expectToken(e){let r=this._lexer.token;if(r.kind===e)return this.advanceLexer(),r;throw hr(this._lexer.source,r.start,`Expected ${DQ(e)}, found ${oA(r)}.`)}expectOptionalToken(e){return this._lexer.token.kind===e?(this.advanceLexer(),!0):!1}expectKeyword(e){let r=this._lexer.token;if(r.kind===F.NAME&&r.value===e)this.advanceLexer();else throw hr(this._lexer.source,r.start,`Expected "${e}", found ${oA(r)}.`)}expectOptionalKeyword(e){let r=this._lexer.token;return r.kind===F.NAME&&r.value===e?(this.advanceLexer(),!0):!1}unexpected(e){let r=e??this._lexer.token;return hr(this._lexer.source,r.start,`Unexpected ${oA(r)}.`)}any(e,r,n){this.expectToken(e);let o=[];for(;!this.expectOptionalToken(n);)o.push(r.call(this));return o}optionalMany(e,r,n){if(this.expectOptionalToken(e)){let o=[];do o.push(r.call(this));while(!this.expectOptionalToken(n));return o}return[]}many(e,r,n){this.expectToken(e);let o=[];do o.push(r.call(this));while(!this.expectOptionalToken(n));return o}delimitedMany(e,r){this.expectOptionalToken(e);let n=[];do n.push(r.call(this));while(this.expectOptionalToken(e));return n}advanceLexer(){let{maxTokens:e}=this._options,r=this._lexer.advance();if(r.kind!==F.EOF&&(++this._tokenCounter,e!==void 0&&this._tokenCounter>e))throw hr(this._lexer.source,r.start,`Document contains more that ${e} tokens. Parsing aborted.`)}}});function oo(t,e){let[r,n]=e?[t,e]:[void 0,t],o=" Did you mean ";r&&(o+=r+" ");let i=n.map(c=>`"${c}"`);switch(i.length){case 0:return"";case 1:return o+i[0]+"?";case 2:return o+i[0]+" or "+i[1]+"?"}let s=i.slice(0,5),a=s.pop();return o+s.join(", ")+", or "+a+"?"}var Ru=j(()=>{"use strict"});function sR(t){return t}var OQ=j(()=>{"use strict"});function io(t,e){let r=Object.create(null);for(let n of t)r[e(n)]=n;return r}var ku=j(()=>{"use strict"});function ts(t,e,r){let n=Object.create(null);for(let o of t)n[e(o)]=r(o);return n}var D0=j(()=>{"use strict"});function Bs(t,e){let r=Object.create(null);for(let n of Object.keys(t))r[n]=e(t[n],n);return r}var aR=j(()=>{"use strict"});function Dc(t,e){let r=0,n=0;for(;r<t.length&&n<e.length;){let o=t.charCodeAt(r),i=e.charCodeAt(n);if(iA(o)&&iA(i)){let s=0;do++r,s=s*10+o-cR,o=t.charCodeAt(r);while(iA(o)&&s>0);let a=0;do++n,a=a*10+i-cR,i=e.charCodeAt(n);while(iA(i)&&a>0);if(s<a)return-1;if(s>a)return 1}else{if(o<i)return-1;if(o>i)return 1;++r,++n}}return t.length-e.length}function iA(t){return!isNaN(t)&&cR<=t&&t<=UTe}var cR,UTe,O0=j(()=>{"use strict";cR=48,UTe=57});function wo(t,e){let r=Object.create(null),n=new uR(t),o=Math.floor(t.length*.4)+1;for(let i of e){let s=n.measure(i,o);s!==void 0&&(r[i]=s)}return Object.keys(r).sort((i,s)=>{let a=r[i]-r[s];return a!==0?a:Dc(i,s)})}function CQ(t){let e=t.length,r=new Array(e);for(let n=0;n<e;++n)r[n]=t.charCodeAt(n);return r}var uR,Pu=j(()=>{"use strict";O0();uR=class{constructor(e){this._input=e,this._inputLowerCase=e.toLowerCase(),this._inputArray=CQ(this._inputLowerCase),this._rows=[new Array(e.length+1).fill(0),new Array(e.length+1).fill(0),new Array(e.length+1).fill(0)]}measure(e,r){if(this._input===e)return 0;let n=e.toLowerCase();if(this._inputLowerCase===n)return 1;let o=CQ(n),i=this._inputArray;if(o.length<i.length){let l=o;o=i,i=l}let s=o.length,a=i.length;if(s-a>r)return;let c=this._rows;for(let l=0;l<=a;l++)c[0][l]=l;for(let l=1;l<=s;l++){let f=c[(l-1)%3],d=c[l%3],p=d[0]=l;for(let h=1;h<=a;h++){let m=o[l-1]===i[h-1]?0:1,g=Math.min(f[h]+1,d[h-1]+1,f[h-1]+m);if(l>1&&h>1&&o[l-1]===i[h-2]&&o[l-2]===i[h-1]){let w=c[(l-2)%3][h-2];g=Math.min(g,w+1)}g<p&&(p=g),d[h]=g}if(p>r)return}let u=c[s%3][a];return u<=r?u:void 0}}});function bo(t){if(t==null)return Object.create(null);if(Object.getPrototypeOf(t)===null)return t;let e=Object.create(null);for(let[r,n]of Object.entries(t))e[r]=n;return e}var sA=j(()=>{"use strict"});function RQ(t){return`"${t.replace(BTe,MTe)}"`}function MTe(t){return $Te[t.charCodeAt(0)]}var BTe,$Te,kQ=j(()=>{"use strict";BTe=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;$Te=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"]});function or(t,e,r=tR){let n=new Map;for(let w of Object.values(y))n.set(w,Cc(e,w));let o,i=Array.isArray(t),s=[t],a=-1,c=[],u=t,l,f,d=[],p=[];do{a++;let w=a===s.length,T=w&&c.length!==0;if(w){if(l=p.length===0?void 0:d[d.length-1],u=f,f=p.pop(),T)if(i){u=u.slice();let x=0;for(let[A,_]of c){let O=A-x;_===null?(u.splice(O,1),x++):u[O]=_}}else{u=b({},u);for(let[x,A]of c)u[x]=A}a=o.index,s=o.keys,c=o.edits,i=o.inArray,o=o.prev}else if(f){if(l=i?a:s[a],u=f[l],u==null)continue;d.push(l)}let v;if(!Array.isArray(u)){var h,m;E0(u)||Me(!1,`Invalid AST Node: ${P(u)}.`);let x=w?(h=n.get(u.kind))===null||h===void 0?void 0:h.leave:(m=n.get(u.kind))===null||m===void 0?void 0:m.enter;if(v=x?.call(e,u,l,f,d,p),v===Oc)break;if(v===!1){if(!w){d.pop();continue}}else if(v!==void 0&&(c.push([l,v]),!w))if(E0(v))u=v;else{d.pop();continue}}if(v===void 0&&T&&c.push([l,u]),w)d.pop();else{var g;o={inArray:i,index:a,keys:s,edits:c,prev:o},i=Array.isArray(u),s=i?u:(g=r[u.kind])!==null&&g!==void 0?g:[],a=-1,c=[],f&&p.push(f),f=u}}while(o!==void 0);return c.length!==0?c[c.length-1][1]:t}function Nh(t){let e=new Array(t.length).fill(null),r=Object.create(null);for(let n of Object.values(y)){let o=!1,i=new Array(t.length).fill(void 0),s=new Array(t.length).fill(void 0);for(let c=0;c<t.length;++c){let{enter:u,leave:l}=Cc(t[c],n);o||(o=u!=null||l!=null),i[c]=u,s[c]=l}if(!o)continue;let a={enter(...c){let u=c[0];for(let f=0;f<t.length;f++)if(e[f]===null){var l;let d=(l=i[f])===null||l===void 0?void 0:l.apply(t[f],c);if(d===!1)e[f]=u;else if(d===Oc)e[f]=Oc;else if(d!==void 0)return d}},leave(...c){let u=c[0];for(let f=0;f<t.length;f++)if(e[f]===null){var l;let d=(l=s[f])===null||l===void 0?void 0:l.apply(t[f],c);if(d===Oc)e[f]=Oc;else if(d!==void 0&&d!==!1)return d}else e[f]===u&&(e[f]=null)}};r[n]=a}return r}function Cc(t,e){let r=t[e];return typeof r=="object"?r:typeof r=="function"?{enter:r,leave:void 0}:{enter:t.enter,leave:t.leave}}function lR(t,e,r){let{enter:n,leave:o}=Cc(t,e);return r?o:n}var Oc,cf=j(()=>{"use strict";yo();Gt();Us();bt();Oc=Object.freeze({})});function qe(t){return or(t,jTe)}function Ae(t,e=""){var r;return(r=t?.filter(n=>n).join(e))!==null&&r!==void 0?r:""}function Ms(t){return nt(`{
`,aA(Ae(t,`
`)),`
}`)}function nt(t,e,r=""){return e!=null&&e!==""?t+e+r:""}function aA(t){return nt("  ",t.replace(/\n/g,`
  `))}function fR(t){var e;return(e=t?.some(r=>r.includes(`
`)))!==null&&e!==void 0?e:!1}var VTe,jTe,Ti=j(()=>{"use strict";T0();kQ();cf();VTe=80,jTe={Name:{leave:t=>t.value},Variable:{leave:t=>"$"+t.name},Document:{leave:t=>Ae(t.definitions,`

`)},OperationDefinition:{leave(t){let e=fR(t.variableDefinitions)?nt(`(
`,Ae(t.variableDefinitions,`
`),`
)`):nt("(",Ae(t.variableDefinitions,", "),")"),r=nt("",t.description,`
`)+Ae([t.operation,Ae([t.name,e]),Ae(t.directives," ")]," ");return(r==="query"?"":r+" ")+t.selectionSet}},VariableDefinition:{leave:({variable:t,type:e,defaultValue:r,directives:n,description:o})=>nt("",o,`
`)+t+": "+e+nt(" = ",r)+nt(" ",Ae(n," "))},SelectionSet:{leave:({selections:t})=>Ms(t)},Field:{leave({alias:t,name:e,arguments:r,directives:n,selectionSet:o}){let i=nt("",t,": ")+e,s=i+nt("(",Ae(r,", "),")");return s.length>VTe&&(s=i+nt(`(
`,aA(Ae(r,`
`)),`
)`)),Ae([s,Ae(n," "),o]," ")}},Argument:{leave:({name:t,value:e})=>t+": "+e},FragmentSpread:{leave:({name:t,directives:e})=>"..."+t+nt(" ",Ae(e," "))},InlineFragment:{leave:({typeCondition:t,directives:e,selectionSet:r})=>Ae(["...",nt("on ",t),Ae(e," "),r]," ")},FragmentDefinition:{leave:({name:t,typeCondition:e,variableDefinitions:r,directives:n,selectionSet:o,description:i})=>nt("",i,`
`)+`fragment ${t}${nt("(",Ae(r,", "),")")} on ${e} ${nt("",Ae(n," ")," ")}`+o},IntValue:{leave:({value:t})=>t},FloatValue:{leave:({value:t})=>t},StringValue:{leave:({value:t,block:e})=>e?Xx(t):RQ(t)},BooleanValue:{leave:({value:t})=>t?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:t})=>t},ListValue:{leave:({values:t})=>"["+Ae(t,", ")+"]"},ObjectValue:{leave:({fields:t})=>"{"+Ae(t,", ")+"}"},ObjectField:{leave:({name:t,value:e})=>t+": "+e},Directive:{leave:({name:t,arguments:e})=>"@"+t+nt("(",Ae(e,", "),")")},NamedType:{leave:({name:t})=>t},ListType:{leave:({type:t})=>"["+t+"]"},NonNullType:{leave:({type:t})=>t+"!"},SchemaDefinition:{leave:({description:t,directives:e,operationTypes:r})=>nt("",t,`
`)+Ae(["schema",Ae(e," "),Ms(r)]," ")},OperationTypeDefinition:{leave:({operation:t,type:e})=>t+": "+e},ScalarTypeDefinition:{leave:({description:t,name:e,directives:r})=>nt("",t,`
`)+Ae(["scalar",e,Ae(r," ")]," ")},ObjectTypeDefinition:{leave:({description:t,name:e,interfaces:r,directives:n,fields:o})=>nt("",t,`
`)+Ae(["type",e,nt("implements ",Ae(r," & ")),Ae(n," "),Ms(o)]," ")},FieldDefinition:{leave:({description:t,name:e,arguments:r,type:n,directives:o})=>nt("",t,`
`)+e+(fR(r)?nt(`(
`,aA(Ae(r,`
`)),`
)`):nt("(",Ae(r,", "),")"))+": "+n+nt(" ",Ae(o," "))},InputValueDefinition:{leave:({description:t,name:e,type:r,defaultValue:n,directives:o})=>nt("",t,`
`)+Ae([e+": "+r,nt("= ",n),Ae(o," ")]," ")},InterfaceTypeDefinition:{leave:({description:t,name:e,interfaces:r,directives:n,fields:o})=>nt("",t,`
`)+Ae(["interface",e,nt("implements ",Ae(r," & ")),Ae(n," "),Ms(o)]," ")},UnionTypeDefinition:{leave:({description:t,name:e,directives:r,types:n})=>nt("",t,`
`)+Ae(["union",e,Ae(r," "),nt("= ",Ae(n," | "))]," ")},EnumTypeDefinition:{leave:({description:t,name:e,directives:r,values:n})=>nt("",t,`
`)+Ae(["enum",e,Ae(r," "),Ms(n)]," ")},EnumValueDefinition:{leave:({description:t,name:e,directives:r})=>nt("",t,`
`)+Ae([e,Ae(r," ")]," ")},InputObjectTypeDefinition:{leave:({description:t,name:e,directives:r,fields:n})=>nt("",t,`
`)+Ae(["input",e,Ae(r," "),Ms(n)]," ")},DirectiveDefinition:{leave:({description:t,name:e,arguments:r,repeatable:n,locations:o})=>nt("",t,`
`)+"directive @"+e+(fR(r)?nt(`(
`,aA(Ae(r,`
`)),`
)`):nt("(",Ae(r,", "),")"))+(n?" repeatable":"")+" on "+Ae(o," | ")},SchemaExtension:{leave:({directives:t,operationTypes:e})=>Ae(["extend schema",Ae(t," "),Ms(e)]," ")},ScalarTypeExtension:{leave:({name:t,directives:e})=>Ae(["extend scalar",t,Ae(e," ")]," ")},ObjectTypeExtension:{leave:({name:t,interfaces:e,directives:r,fields:n})=>Ae(["extend type",t,nt("implements ",Ae(e," & ")),Ae(r," "),Ms(n)]," ")},InterfaceTypeExtension:{leave:({name:t,interfaces:e,directives:r,fields:n})=>Ae(["extend interface",t,nt("implements ",Ae(e," & ")),Ae(r," "),Ms(n)]," ")},UnionTypeExtension:{leave:({name:t,directives:e,types:r})=>Ae(["extend union",t,Ae(e," "),nt("= ",Ae(r," | "))]," ")},EnumTypeExtension:{leave:({name:t,directives:e,values:r})=>Ae(["extend enum",t,Ae(e," "),Ms(r)]," ")},InputObjectTypeExtension:{leave:({name:t,directives:e,fields:r})=>Ae(["extend input",t,Ae(e," "),Ms(r)]," ")},TypeCoordinate:{leave:({name:t})=>t},MemberCoordinate:{leave:({name:t,memberName:e})=>Ae([t,nt(".",e)])},ArgumentCoordinate:{leave:({name:t,fieldName:e,argumentName:r})=>Ae([t,nt(".",e),nt("(",r,":)")])},DirectiveCoordinate:{leave:({name:t})=>Ae(["@",t])},DirectiveArgumentCoordinate:{leave:({name:t,argumentName:e})=>Ae(["@",t,nt("(",e,":)")])}}});function rs(t,e){switch(t.kind){case y.NULL:return null;case y.INT:return parseInt(t.value,10);case y.FLOAT:return parseFloat(t.value);case y.STRING:case y.ENUM:case y.BOOLEAN:return t.value;case y.LIST:return t.values.map(r=>rs(r,e));case y.OBJECT:return ts(t.fields,r=>r.name.value,r=>rs(r.value,e));case y.VARIABLE:return e?.[t.name.value]}}var dR=j(()=>{"use strict";D0();bt()});function vn(t){if(t!=null||Me(!1,"Must provide name."),typeof t=="string"||Me(!1,"Expected name to be a string."),t.length===0)throw new D("Expected name to be a non-empty string.");for(let e=1;e<t.length;++e)if(!Yx(t.charCodeAt(e)))throw new D(`Names must only contain [_a-zA-Z0-9] but "${t}" does not.`);if(!of(t.charCodeAt(0)))throw new D(`Names must start with [_a-zA-Z] but "${t}" does not.`);return t}function C0(t){if(t==="true"||t==="false"||t==="null")throw new D(`Enum values cannot be named: ${t}`);return vn(t)}var R0=j(()=>{"use strict";yo();Ge();v0()});function Lu(t){return lt(t)||K(t)||Z(t)||Ue(t)||Pe(t)||pe(t)||Ie(t)||Y(t)}function pR(t){if(!Lu(t))throw new Error(`Expected ${P(t)} to be a GraphQL type.`);return t}function lt(t){return go(t,Ce)}function hR(t){if(!lt(t))throw new Error(`Expected ${P(t)} to be a GraphQL Scalar type.`);return t}function K(t){return go(t,Qe)}function k0(t){if(!K(t))throw new Error(`Expected ${P(t)} to be a GraphQL Object type.`);return t}function Z(t){return go(t,dt)}function P0(t){if(!Z(t))throw new Error(`Expected ${P(t)} to be a GraphQL Interface type.`);return t}function Ue(t){return go(t,Tr)}function mR(t){if(!Ue(t))throw new Error(`Expected ${P(t)} to be a GraphQL Union type.`);return t}function Pe(t){return go(t,Nt)}function yR(t){if(!Pe(t))throw new Error(`Expected ${P(t)} to be a GraphQL Enum type.`);return t}function pe(t){return go(t,Ye)}function gR(t){if(!pe(t))throw new Error(`Expected ${P(t)} to be a GraphQL Input Object type.`);return t}function Ie(t){return go(t,je)}function wR(t){if(!Ie(t))throw new Error(`Expected ${P(t)} to be a GraphQL List type.`);return t}function Y(t){return go(t,J)}function bR(t){if(!Y(t))throw new Error(`Expected ${P(t)} to be a GraphQL Non-Null type.`);return t}function xr(t){return lt(t)||Pe(t)||pe(t)||uf(t)&&xr(t.ofType)}function ER(t){if(!xr(t))throw new Error(`Expected ${P(t)} to be a GraphQL input type.`);return t}function xi(t){return lt(t)||K(t)||Z(t)||Ue(t)||Pe(t)||uf(t)&&xi(t.ofType)}function vR(t){if(!xi(t))throw new Error(`Expected ${P(t)} to be a GraphQL output type.`);return t}function tt(t){return lt(t)||Pe(t)}function TR(t){if(!tt(t))throw new Error(`Expected ${P(t)} to be a GraphQL leaf type.`);return t}function Ar(t){return K(t)||Z(t)||Ue(t)}function xR(t){if(!Ar(t))throw new Error(`Expected ${P(t)} to be a GraphQL composite type.`);return t}function st(t){return Z(t)||Ue(t)}function AR(t){if(!st(t))throw new Error(`Expected ${P(t)} to be a GraphQL abstract type.`);return t}function uf(t){return Ie(t)||Y(t)}function IR(t){if(!uf(t))throw new Error(`Expected ${P(t)} to be a GraphQL wrapping type.`);return t}function $s(t){return Lu(t)&&!Y(t)}function L0(t){if(!$s(t))throw new Error(`Expected ${P(t)} to be a GraphQL nullable type.`);return t}function ln(t){if(t)return Y(t)?t.ofType:t}function Mr(t){return lt(t)||K(t)||Z(t)||Ue(t)||Pe(t)||pe(t)}function SR(t){if(!Mr(t))throw new Error(`Expected ${P(t)} to be a GraphQL named type.`);return t}function ke(t){if(t){let e=t;for(;uf(e);)e=e.ofType;return e}}function F0(t){return typeof t=="function"?t():t}function U0(t){return typeof t=="function"?t():t}function LQ(t){var e;let r=F0((e=t.interfaces)!==null&&e!==void 0?e:[]);return Array.isArray(r)||Me(!1,`${t.name} interfaces must be an Array or a function which returns an Array.`),r}function FQ(t){let e=U0(t.fields);return _h(e)||Me(!1,`${t.name} fields must be an object with field names as keys or a function which returns such an object.`),Bs(e,(r,n)=>{var o;_h(r)||Me(!1,`${t.name}.${n} field config must be an object.`),r.resolve==null||typeof r.resolve=="function"||Me(!1,`${t.name}.${n} field resolver must be a function if provided, but got: ${P(r.resolve)}.`);let i=(o=r.args)!==null&&o!==void 0?o:{};return _h(i)||Me(!1,`${t.name}.${n} args must be an object with argument names as keys.`),{name:vn(n),description:r.description,type:r.type,args:NR(i),resolve:r.resolve,subscribe:r.subscribe,deprecationReason:r.deprecationReason,extensions:bo(r.extensions),astNode:r.astNode}})}function NR(t){return Object.entries(t).map(([e,r])=>({name:vn(e),description:r.description,type:r.type,defaultValue:r.defaultValue,deprecationReason:r.deprecationReason,extensions:bo(r.extensions),astNode:r.astNode}))}function _h(t){return Br(t)&&!Array.isArray(t)}function UQ(t){return Bs(t,e=>({description:e.description,type:e.type,args:_R(e.args),resolve:e.resolve,subscribe:e.subscribe,deprecationReason:e.deprecationReason,extensions:e.extensions,astNode:e.astNode}))}function _R(t){return ts(t,e=>e.name,e=>({description:e.description,type:e.type,defaultValue:e.defaultValue,deprecationReason:e.deprecationReason,extensions:e.extensions,astNode:e.astNode}))}function Ai(t){return Y(t.type)&&t.defaultValue===void 0}function GTe(t){let e=F0(t.types);return Array.isArray(e)||Me(!1,`Must provide Array of types or a function which returns such an array for Union ${t.name}.`),e}function cA(t,e){let r=t.getValues().map(o=>o.name),n=wo(e,r);return oo("the enum value",n)}function PQ(t,e){return _h(e)||Me(!1,`${t} values must be an object with value names as keys.`),Object.entries(e).map(([r,n])=>(_h(n)||Me(!1,`${t}.${r} must refer to an object with a "value" key representing an internal value but got: ${P(n)}.`),{name:C0(r),description:n.description,value:n.value!==void 0?n.value:r,deprecationReason:n.deprecationReason,extensions:bo(n.extensions),astNode:n.astNode}))}function zTe(t){let e=U0(t.fields);return _h(e)||Me(!1,`${t.name} fields must be an object with field names as keys or a function which returns such an object.`),Bs(e,(r,n)=>(!("resolve"in r)||Me(!1,`${t.name}.${n} field has a resolve property, but Input Types cannot define resolvers.`),{name:vn(n),description:r.description,type:r.type,defaultValue:r.defaultValue,deprecationReason:r.deprecationReason,extensions:bo(r.extensions),astNode:r.astNode}))}function Rc(t){return Y(t.type)&&t.defaultValue===void 0}var je,J,Ce,Qe,dt,Tr,Nt,Ye,Et=j(()=>{"use strict";yo();Ru();OQ();Gt();I0();Oa();ku();D0();aR();Pu();sA();Ge();bt();Ti();dR();R0();je=class{constructor(e){Lu(e)||Me(!1,`Expected ${P(e)} to be a GraphQL type.`),this.ofType=e}get[Symbol.toStringTag](){return"GraphQLList"}toString(){return"["+String(this.ofType)+"]"}toJSON(){return this.toString()}},J=class{constructor(e){$s(e)||Me(!1,`Expected ${P(e)} to be a GraphQL nullable type.`),this.ofType=e}get[Symbol.toStringTag](){return"GraphQLNonNull"}toString(){return String(this.ofType)+"!"}toJSON(){return this.toString()}};Ce=class{constructor(e){var r,n,o,i;let s=(r=e.parseValue)!==null&&r!==void 0?r:sR;this.name=vn(e.name),this.description=e.description,this.specifiedByURL=e.specifiedByURL,this.serialize=(n=e.serialize)!==null&&n!==void 0?n:sR,this.parseValue=s,this.parseLiteral=(o=e.parseLiteral)!==null&&o!==void 0?o:(a,c)=>s(rs(a,c)),this.extensions=bo(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=(i=e.extensionASTNodes)!==null&&i!==void 0?i:[],e.specifiedByURL==null||typeof e.specifiedByURL=="string"||Me(!1,`${this.name} must provide "specifiedByURL" as a string, but got: ${P(e.specifiedByURL)}.`),e.serialize==null||typeof e.serialize=="function"||Me(!1,`${this.name} must provide "serialize" function. If this custom Scalar is also used as an input type, ensure "parseValue" and "parseLiteral" functions are also provided.`),e.parseLiteral&&(typeof e.parseValue=="function"&&typeof e.parseLiteral=="function"||Me(!1,`${this.name} must provide both "parseValue" and "parseLiteral" functions.`))}get[Symbol.toStringTag](){return"GraphQLScalarType"}toConfig(){return{name:this.name,description:this.description,specifiedByURL:this.specifiedByURL,serialize:this.serialize,parseValue:this.parseValue,parseLiteral:this.parseLiteral,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}},Qe=class{constructor(e){var r;this.name=vn(e.name),this.description=e.description,this.isTypeOf=e.isTypeOf,this.extensions=bo(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=(r=e.extensionASTNodes)!==null&&r!==void 0?r:[],this._fields=()=>FQ(e),this._interfaces=()=>LQ(e),e.isTypeOf==null||typeof e.isTypeOf=="function"||Me(!1,`${this.name} must provide "isTypeOf" as a function, but got: ${P(e.isTypeOf)}.`)}get[Symbol.toStringTag](){return"GraphQLObjectType"}getFields(){return typeof this._fields=="function"&&(this._fields=this._fields()),this._fields}getInterfaces(){return typeof this._interfaces=="function"&&(this._interfaces=this._interfaces()),this._interfaces}toConfig(){return{name:this.name,description:this.description,interfaces:this.getInterfaces(),fields:UQ(this.getFields()),isTypeOf:this.isTypeOf,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}};dt=class{constructor(e){var r;this.name=vn(e.name),this.description=e.description,this.resolveType=e.resolveType,this.extensions=bo(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=(r=e.extensionASTNodes)!==null&&r!==void 0?r:[],this._fields=FQ.bind(void 0,e),this._interfaces=LQ.bind(void 0,e),e.resolveType==null||typeof e.resolveType=="function"||Me(!1,`${this.name} must provide "resolveType" as a function, but got: ${P(e.resolveType)}.`)}get[Symbol.toStringTag](){return"GraphQLInterfaceType"}getFields(){return typeof this._fields=="function"&&(this._fields=this._fields()),this._fields}getInterfaces(){return typeof this._interfaces=="function"&&(this._interfaces=this._interfaces()),this._interfaces}toConfig(){return{name:this.name,description:this.description,interfaces:this.getInterfaces(),fields:UQ(this.getFields()),resolveType:this.resolveType,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}},Tr=class{constructor(e){var r;this.name=vn(e.name),this.description=e.description,this.resolveType=e.resolveType,this.extensions=bo(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=(r=e.extensionASTNodes)!==null&&r!==void 0?r:[],this._types=GTe.bind(void 0,e),e.resolveType==null||typeof e.resolveType=="function"||Me(!1,`${this.name} must provide "resolveType" as a function, but got: ${P(e.resolveType)}.`)}get[Symbol.toStringTag](){return"GraphQLUnionType"}getTypes(){return typeof this._types=="function"&&(this._types=this._types()),this._types}toConfig(){return{name:this.name,description:this.description,types:this.getTypes(),resolveType:this.resolveType,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}};Nt=class{constructor(e){var r;this.name=vn(e.name),this.description=e.description,this.extensions=bo(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=(r=e.extensionASTNodes)!==null&&r!==void 0?r:[],this._values=typeof e.values=="function"?e.values:PQ(this.name,e.values),this._valueLookup=null,this._nameLookup=null}get[Symbol.toStringTag](){return"GraphQLEnumType"}getValues(){return typeof this._values=="function"&&(this._values=PQ(this.name,this._values())),this._values}getValue(e){return this._nameLookup===null&&(this._nameLookup=io(this.getValues(),r=>r.name)),this._nameLookup[e]}serialize(e){this._valueLookup===null&&(this._valueLookup=new Map(this.getValues().map(n=>[n.value,n])));let r=this._valueLookup.get(e);if(r===void 0)throw new D(`Enum "${this.name}" cannot represent value: ${P(e)}`);return r.name}parseValue(e){if(typeof e!="string"){let n=P(e);throw new D(`Enum "${this.name}" cannot represent non-string value: ${n}.`+cA(this,n))}let r=this.getValue(e);if(r==null)throw new D(`Value "${e}" does not exist in "${this.name}" enum.`+cA(this,e));return r.value}parseLiteral(e,r){if(e.kind!==y.ENUM){let o=qe(e);throw new D(`Enum "${this.name}" cannot represent non-enum value: ${o}.`+cA(this,o),{nodes:e})}let n=this.getValue(e.value);if(n==null){let o=qe(e);throw new D(`Value "${o}" does not exist in "${this.name}" enum.`+cA(this,o),{nodes:e})}return n.value}toConfig(){let e=ts(this.getValues(),r=>r.name,r=>({description:r.description,value:r.value,deprecationReason:r.deprecationReason,extensions:r.extensions,astNode:r.astNode}));return{name:this.name,description:this.description,values:e,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}};Ye=class{constructor(e){var r,n;this.name=vn(e.name),this.description=e.description,this.extensions=bo(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=(r=e.extensionASTNodes)!==null&&r!==void 0?r:[],this.isOneOf=(n=e.isOneOf)!==null&&n!==void 0?n:!1,this._fields=zTe.bind(void 0,e)}get[Symbol.toStringTag](){return"GraphQLInputObjectType"}getFields(){return typeof this._fields=="function"&&(this._fields=this._fields()),this._fields}toConfig(){let e=Bs(this.getFields(),r=>({description:r.description,type:r.type,defaultValue:r.defaultValue,deprecationReason:r.deprecationReason,extensions:r.extensions,astNode:r.astNode}));return{name:this.name,description:this.description,fields:e,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes,isOneOf:this.isOneOf}}toString(){return this.name}toJSON(){return this.toString()}}});function lf(t,e){return t===e?!0:Y(t)&&Y(e)||Ie(t)&&Ie(e)?lf(t.ofType,e.ofType):!1}function Vs(t,e,r){return e===r?!0:Y(r)?Y(e)?Vs(t,e.ofType,r.ofType):!1:Y(e)?Vs(t,e.ofType,r):Ie(r)?Ie(e)?Vs(t,e.ofType,r.ofType):!1:Ie(e)?!1:st(r)&&(Z(e)||K(e))&&t.isSubType(r,e)}function Fu(t,e,r){return e===r?!0:st(e)?st(r)?t.getPossibleTypes(e).some(n=>t.isSubType(r,n)):t.isSubType(e,r):st(r)?t.isSubType(r,e):!1}var B0=j(()=>{"use strict";Et()});function Kr(t){return Ra.some(({name:e})=>t.name===e)}function M0(t){if(Br(t)){if(typeof t.valueOf=="function"){let e=t.valueOf();if(!Br(e))return e}if(typeof t.toJSON=="function")return t.toJSON()}return t}var Dh,Oh,$r,Po,it,at,Er,Ra,ka=j(()=>{"use strict";Gt();Oa();Ge();bt();Ti();Et();Dh=2147483647,Oh=-2147483648,$r=new Ce({name:"Int",description:"The `Int` scalar type represents non-fractional signed whole numeric values. Int can represent values between -(2^31) and 2^31 - 1.",serialize(t){let e=M0(t);if(typeof e=="boolean")return e?1:0;let r=e;if(typeof e=="string"&&e!==""&&(r=Number(e)),typeof r!="number"||!Number.isInteger(r))throw new D(`Int cannot represent non-integer value: ${P(e)}`);if(r>Dh||r<Oh)throw new D("Int cannot represent non 32-bit signed integer value: "+P(e));return r},parseValue(t){if(typeof t!="number"||!Number.isInteger(t))throw new D(`Int cannot represent non-integer value: ${P(t)}`);if(t>Dh||t<Oh)throw new D(`Int cannot represent non 32-bit signed integer value: ${t}`);return t},parseLiteral(t){if(t.kind!==y.INT)throw new D(`Int cannot represent non-integer value: ${qe(t)}`,{nodes:t});let e=parseInt(t.value,10);if(e>Dh||e<Oh)throw new D(`Int cannot represent non 32-bit signed integer value: ${t.value}`,{nodes:t});return e}}),Po=new Ce({name:"Float",description:"The `Float` scalar type represents signed double-precision fractional values as specified by [IEEE 754](https://en.wikipedia.org/wiki/IEEE_floating_point).",serialize(t){let e=M0(t);if(typeof e=="boolean")return e?1:0;let r=e;if(typeof e=="string"&&e!==""&&(r=Number(e)),typeof r!="number"||!Number.isFinite(r))throw new D(`Float cannot represent non numeric value: ${P(e)}`);return r},parseValue(t){if(typeof t!="number"||!Number.isFinite(t))throw new D(`Float cannot represent non numeric value: ${P(t)}`);return t},parseLiteral(t){if(t.kind!==y.FLOAT&&t.kind!==y.INT)throw new D(`Float cannot represent non numeric value: ${qe(t)}`,t);return parseFloat(t.value)}}),it=new Ce({name:"String",description:"The `String` scalar type represents textual data, represented as UTF-8 character sequences. The String type is most often used by GraphQL to represent free-form human-readable text.",serialize(t){let e=M0(t);if(typeof e=="string")return e;if(typeof e=="boolean")return e?"true":"false";if(typeof e=="number"&&Number.isFinite(e))return e.toString();throw new D(`String cannot represent value: ${P(t)}`)},parseValue(t){if(typeof t!="string")throw new D(`String cannot represent a non string value: ${P(t)}`);return t},parseLiteral(t){if(t.kind!==y.STRING)throw new D(`String cannot represent a non string value: ${qe(t)}`,{nodes:t});return t.value}}),at=new Ce({name:"Boolean",description:"The `Boolean` scalar type represents `true` or `false`.",serialize(t){let e=M0(t);if(typeof e=="boolean")return e;if(Number.isFinite(e))return e!==0;throw new D(`Boolean cannot represent a non boolean value: ${P(e)}`)},parseValue(t){if(typeof t!="boolean")throw new D(`Boolean cannot represent a non boolean value: ${P(t)}`);return t},parseLiteral(t){if(t.kind!==y.BOOLEAN)throw new D(`Boolean cannot represent a non boolean value: ${qe(t)}`,{nodes:t});return t.value}}),Er=new Ce({name:"ID",description:'The `ID` scalar type represents a unique identifier, often used to refetch an object or as key for a cache. The ID type appears in a JSON response as a String; however, it is not intended to be human-readable. When expected as an input type, any string (such as `"4"`) or integer (such as `4`) input value will be accepted as an ID.',serialize(t){let e=M0(t);if(typeof e=="string")return e;if(Number.isInteger(e))return String(e);throw new D(`ID cannot represent value: ${P(t)}`)},parseValue(t){if(typeof t=="string")return t;if(typeof t=="number"&&Number.isInteger(t))return t.toString();throw new D(`ID cannot represent value: ${P(t)}`)},parseLiteral(t){if(t.kind!==y.STRING&&t.kind!==y.INT)throw new D("ID cannot represent a non-string and non-integer value: "+qe(t),{nodes:t});return t.value}}),Ra=Object.freeze([it,$r,Po,at,Er])});function Pa(t){return go(t,zt)}function DR(t){if(!Pa(t))throw new Error(`Expected ${P(t)} to be a GraphQL directive.`);return t}function os(t){return rn.some(({name:e})=>e===t.name)}var zt,La,Fa,Ch,ns,Rh,kh,rn,Lo=j(()=>{"use strict";yo();Gt();I0();Oa();sA();xh();R0();Et();ka();zt=class{constructor(e){var r,n;this.name=vn(e.name),this.description=e.description,this.locations=e.locations,this.isRepeatable=(r=e.isRepeatable)!==null&&r!==void 0?r:!1,this.extensions=bo(e.extensions),this.astNode=e.astNode,Array.isArray(e.locations)||Me(!1,`@${e.name} locations must be an Array.`);let o=(n=e.args)!==null&&n!==void 0?n:{};Br(o)&&!Array.isArray(o)||Me(!1,`@${e.name} args must be an object with argument names as keys.`),this.args=NR(o)}get[Symbol.toStringTag](){return"GraphQLDirective"}toConfig(){return{name:this.name,description:this.description,locations:this.locations,args:_R(this.args),isRepeatable:this.isRepeatable,extensions:this.extensions,astNode:this.astNode}}toString(){return"@"+this.name}toJSON(){return this.toString()}},La=new zt({name:"include",description:"Directs the executor to include this field or fragment only when the `if` argument is true.",locations:[xe.FIELD,xe.FRAGMENT_SPREAD,xe.INLINE_FRAGMENT],args:{if:{type:new J(at),description:"Included when true."}}}),Fa=new zt({name:"skip",description:"Directs the executor to skip this field or fragment when the `if` argument is true.",locations:[xe.FIELD,xe.FRAGMENT_SPREAD,xe.INLINE_FRAGMENT],args:{if:{type:new J(at),description:"Skipped when true."}}}),Ch="No longer supported",ns=new zt({name:"deprecated",description:"Marks an element of a GraphQL schema as no longer supported.",locations:[xe.FIELD_DEFINITION,xe.ARGUMENT_DEFINITION,xe.INPUT_FIELD_DEFINITION,xe.ENUM_VALUE],args:{reason:{type:it,description:"Explains why this element was deprecated, usually also including a suggestion for how to access supported similar data. Formatted using the Markdown syntax, as specified by [CommonMark](https://commonmark.org/).",defaultValue:Ch}}}),Rh=new zt({name:"specifiedBy",description:"Exposes a URL that specifies the behavior of this scalar.",locations:[xe.SCALAR],args:{url:{type:new J(it),description:"The URL that specifies the behavior of this scalar."}}}),kh=new zt({name:"oneOf",description:"Indicates exactly one field must be supplied and this field must not be `null`.",locations:[xe.INPUT_OBJECT],args:{}}),rn=Object.freeze([La,Fa,ns,Rh,kh])});function Ph(t){return typeof t=="object"&&typeof t?.[Symbol.iterator]=="function"}var uA=j(()=>{"use strict"});function Fo(t,e){if(Y(e)){let r=Fo(t,e.ofType);return r?.kind===y.NULL?null:r}if(t===null)return{kind:y.NULL};if(t===void 0)return null;if(Ie(e)){let r=e.ofType;if(Ph(t)){let n=[];for(let o of t){let i=Fo(o,r);i!=null&&n.push(i)}return{kind:y.LIST,values:n}}return Fo(t,r)}if(pe(e)){if(!Br(t))return null;let r=[];for(let n of Object.values(e.getFields())){let o=Fo(t[n.name],n.type);o&&r.push({kind:y.OBJECT_FIELD,name:{kind:y.NAME,value:n.name},value:o})}return{kind:y.OBJECT,fields:r}}if(tt(e)){let r=e.serialize(t);if(r==null)return null;if(typeof r=="boolean")return{kind:y.BOOLEAN,value:r};if(typeof r=="number"&&Number.isFinite(r)){let n=String(r);return BQ.test(n)?{kind:y.INT,value:n}:{kind:y.FLOAT,value:n}}if(typeof r=="string")return Pe(e)?{kind:y.ENUM,value:r}:e===Er&&BQ.test(r)?{kind:y.INT,value:r}:{kind:y.STRING,value:r};throw new TypeError(`Cannot convert value to AST: ${P(r)}.`)}wt(!1,"Unexpected input type: "+P(e))}var BQ,$0=j(()=>{"use strict";Gt();ro();uA();Oa();bt();Et();ka();BQ=/^-?(?:0|[1-9][0-9]*)$/});function Tn(t){return Ua.some(({name:e})=>t.name===e)}var ff,V0,j0,Uo,G0,df,z0,Ht,q0,is,ss,Bo,Ua,as=j(()=>{"use strict";Gt();ro();xh();Ti();$0();Et();ka();ff=new Qe({name:"__Schema",description:"A GraphQL Schema defines the capabilities of a GraphQL server. It exposes all available types and directives on the server, as well as the entry points for query, mutation, and subscription operations.",fields:()=>({description:{type:it,resolve:t=>t.description},types:{description:"A list of all types supported by this server.",type:new J(new je(new J(Uo))),resolve(t){return Object.values(t.getTypeMap())}},queryType:{description:"The type that query operations will be rooted at.",type:new J(Uo),resolve:t=>t.getQueryType()},mutationType:{description:"If this server supports mutation, the type that mutation operations will be rooted at.",type:Uo,resolve:t=>t.getMutationType()},subscriptionType:{description:"If this server support subscription, the type that subscription operations will be rooted at.",type:Uo,resolve:t=>t.getSubscriptionType()},directives:{description:"A list of all directives supported by this server.",type:new J(new je(new J(V0))),resolve:t=>t.getDirectives()}})}),V0=new Qe({name:"__Directive",description:`A Directive provides a way to describe alternate runtime execution and type validation behavior in a GraphQL document.

In some cases, you need to provide options to alter GraphQL's execution behavior in ways field arguments will not suffice, such as conditionally including or skipping a field. Directives provide this by describing additional information to the executor.`,fields:()=>({name:{type:new J(it),resolve:t=>t.name},description:{type:it,resolve:t=>t.description},isRepeatable:{type:new J(at),resolve:t=>t.isRepeatable},locations:{type:new J(new je(new J(j0))),resolve:t=>t.locations},args:{type:new J(new je(new J(df))),args:{includeDeprecated:{type:at,defaultValue:!1}},resolve(t,{includeDeprecated:e}){return e?t.args:t.args.filter(r=>r.deprecationReason==null)}}})}),j0=new Nt({name:"__DirectiveLocation",description:"A Directive can be adjacent to many parts of the GraphQL language, a __DirectiveLocation describes one such possible adjacencies.",values:{QUERY:{value:xe.QUERY,description:"Location adjacent to a query operation."},MUTATION:{value:xe.MUTATION,description:"Location adjacent to a mutation operation."},SUBSCRIPTION:{value:xe.SUBSCRIPTION,description:"Location adjacent to a subscription operation."},FIELD:{value:xe.FIELD,description:"Location adjacent to a field."},FRAGMENT_DEFINITION:{value:xe.FRAGMENT_DEFINITION,description:"Location adjacent to a fragment definition."},FRAGMENT_SPREAD:{value:xe.FRAGMENT_SPREAD,description:"Location adjacent to a fragment spread."},INLINE_FRAGMENT:{value:xe.INLINE_FRAGMENT,description:"Location adjacent to an inline fragment."},VARIABLE_DEFINITION:{value:xe.VARIABLE_DEFINITION,description:"Location adjacent to a variable definition."},SCHEMA:{value:xe.SCHEMA,description:"Location adjacent to a schema definition."},SCALAR:{value:xe.SCALAR,description:"Location adjacent to a scalar definition."},OBJECT:{value:xe.OBJECT,description:"Location adjacent to an object type definition."},FIELD_DEFINITION:{value:xe.FIELD_DEFINITION,description:"Location adjacent to a field definition."},ARGUMENT_DEFINITION:{value:xe.ARGUMENT_DEFINITION,description:"Location adjacent to an argument definition."},INTERFACE:{value:xe.INTERFACE,description:"Location adjacent to an interface definition."},UNION:{value:xe.UNION,description:"Location adjacent to a union definition."},ENUM:{value:xe.ENUM,description:"Location adjacent to an enum definition."},ENUM_VALUE:{value:xe.ENUM_VALUE,description:"Location adjacent to an enum value definition."},INPUT_OBJECT:{value:xe.INPUT_OBJECT,description:"Location adjacent to an input object type definition."},INPUT_FIELD_DEFINITION:{value:xe.INPUT_FIELD_DEFINITION,description:"Location adjacent to an input object field definition."}}}),Uo=new Qe({name:"__Type",description:"The fundamental unit of any GraphQL Schema is the type. There are many kinds of types in GraphQL as represented by the `__TypeKind` enum.\n\nDepending on the kind of a type, certain fields describe information about that type. Scalar types provide no information beyond a name, description and optional `specifiedByURL`, while Enum types provide their values. Object and Interface types provide the fields they describe. Abstract types, Union and Interface, provide the Object types possible at runtime. List and NonNull types compose other types.",fields:()=>({kind:{type:new J(q0),resolve(t){if(lt(t))return Ht.SCALAR;if(K(t))return Ht.OBJECT;if(Z(t))return Ht.INTERFACE;if(Ue(t))return Ht.UNION;if(Pe(t))return Ht.ENUM;if(pe(t))return Ht.INPUT_OBJECT;if(Ie(t))return Ht.LIST;if(Y(t))return Ht.NON_NULL;wt(!1,`Unexpected type: "${P(t)}".`)}},name:{type:it,resolve:t=>"name"in t?t.name:void 0},description:{type:it,resolve:t=>"description"in t?t.description:void 0},specifiedByURL:{type:it,resolve:t=>"specifiedByURL"in t?t.specifiedByURL:void 0},fields:{type:new je(new J(G0)),args:{includeDeprecated:{type:at,defaultValue:!1}},resolve(t,{includeDeprecated:e}){if(K(t)||Z(t)){let r=Object.values(t.getFields());return e?r:r.filter(n=>n.deprecationReason==null)}}},interfaces:{type:new je(new J(Uo)),resolve(t){if(K(t)||Z(t))return t.getInterfaces()}},possibleTypes:{type:new je(new J(Uo)),resolve(t,e,r,{schema:n}){if(st(t))return n.getPossibleTypes(t)}},enumValues:{type:new je(new J(z0)),args:{includeDeprecated:{type:at,defaultValue:!1}},resolve(t,{includeDeprecated:e}){if(Pe(t)){let r=t.getValues();return e?r:r.filter(n=>n.deprecationReason==null)}}},inputFields:{type:new je(new J(df)),args:{includeDeprecated:{type:at,defaultValue:!1}},resolve(t,{includeDeprecated:e}){if(pe(t)){let r=Object.values(t.getFields());return e?r:r.filter(n=>n.deprecationReason==null)}}},ofType:{type:Uo,resolve:t=>"ofType"in t?t.ofType:void 0},isOneOf:{type:at,resolve:t=>{if(pe(t))return t.isOneOf}}})}),G0=new Qe({name:"__Field",description:"Object and Interface types are described by a list of Fields, each of which has a name, potentially a list of arguments, and a return type.",fields:()=>({name:{type:new J(it),resolve:t=>t.name},description:{type:it,resolve:t=>t.description},args:{type:new J(new je(new J(df))),args:{includeDeprecated:{type:at,defaultValue:!1}},resolve(t,{includeDeprecated:e}){return e?t.args:t.args.filter(r=>r.deprecationReason==null)}},type:{type:new J(Uo),resolve:t=>t.type},isDeprecated:{type:new J(at),resolve:t=>t.deprecationReason!=null},deprecationReason:{type:it,resolve:t=>t.deprecationReason}})}),df=new Qe({name:"__InputValue",description:"Arguments provided to Fields or Directives and the input fields of an InputObject are represented as Input Values which describe their type and optionally a default value.",fields:()=>({name:{type:new J(it),resolve:t=>t.name},description:{type:it,resolve:t=>t.description},type:{type:new J(Uo),resolve:t=>t.type},defaultValue:{type:it,description:"A GraphQL-formatted string representing the default value for this input value.",resolve(t){let{type:e,defaultValue:r}=t,n=Fo(r,e);return n?qe(n):null}},isDeprecated:{type:new J(at),resolve:t=>t.deprecationReason!=null},deprecationReason:{type:it,resolve:t=>t.deprecationReason}})}),z0=new Qe({name:"__EnumValue",description:"One possible value for a given Enum. Enum values are unique values, not a placeholder for a string or numeric value. However an Enum value is returned in a JSON response as a string.",fields:()=>({name:{type:new J(it),resolve:t=>t.name},description:{type:it,resolve:t=>t.description},isDeprecated:{type:new J(at),resolve:t=>t.deprecationReason!=null},deprecationReason:{type:it,resolve:t=>t.deprecationReason}})}),Ht=(function(t){return t.SCALAR="SCALAR",t.OBJECT="OBJECT",t.INTERFACE="INTERFACE",t.UNION="UNION",t.ENUM="ENUM",t.INPUT_OBJECT="INPUT_OBJECT",t.LIST="LIST",t.NON_NULL="NON_NULL",t})(Ht||{}),q0=new Nt({name:"__TypeKind",description:"An enum describing what kind of type a given `__Type` is.",values:{SCALAR:{value:Ht.SCALAR,description:"Indicates this type is a scalar."},OBJECT:{value:Ht.OBJECT,description:"Indicates this type is an object. `fields` and `interfaces` are valid fields."},INTERFACE:{value:Ht.INTERFACE,description:"Indicates this type is an interface. `fields`, `interfaces`, and `possibleTypes` are valid fields."},UNION:{value:Ht.UNION,description:"Indicates this type is a union. `possibleTypes` is a valid field."},ENUM:{value:Ht.ENUM,description:"Indicates this type is an enum. `enumValues` is a valid field."},INPUT_OBJECT:{value:Ht.INPUT_OBJECT,description:"Indicates this type is an input object. `inputFields` is a valid field."},LIST:{value:Ht.LIST,description:"Indicates this type is a list. `ofType` is a valid field."},NON_NULL:{value:Ht.NON_NULL,description:"Indicates this type is a non-null. `ofType` is a valid field."}}}),is={name:"__schema",type:new J(ff),description:"Access the current type schema of this server.",args:[],resolve:(t,e,r,{schema:n})=>n,deprecationReason:void 0,extensions:Object.create(null),astNode:void 0},ss={name:"__type",type:Uo,description:"Request the type information of a single type.",args:[{name:"name",description:void 0,type:new J(it),defaultValue:void 0,deprecationReason:void 0,extensions:Object.create(null),astNode:void 0}],resolve:(t,{name:e},r,{schema:n})=>n.getType(e),deprecationReason:void 0,extensions:Object.create(null),astNode:void 0},Bo={name:"__typename",type:new J(it),description:"The name of the current Object type at runtime.",args:[],resolve:(t,e,r,{parentType:n})=>n.name,deprecationReason:void 0,extensions:Object.create(null),astNode:void 0},Ua=Object.freeze([ff,V0,j0,Uo,G0,df,z0,q0])});function Lh(t){return go(t,_r)}function pf(t){if(!Lh(t))throw new Error(`Expected ${P(t)} to be a GraphQL schema.`);return t}function js(t,e){let r=ke(t);if(!e.has(r)){if(e.add(r),Ue(r))for(let n of r.getTypes())js(n,e);else if(K(r)||Z(r)){for(let n of r.getInterfaces())js(n,e);for(let n of Object.values(r.getFields())){js(n.type,e);for(let o of n.args)js(o.type,e)}}else if(pe(r))for(let n of Object.values(r.getFields()))js(n.type,e)}return e}var _r,hf=j(()=>{"use strict";yo();Gt();I0();Oa();sA();Us();Et();Lo();as();_r=class{constructor(e){var r,n;this.__validationErrors=e.assumeValid===!0?[]:void 0,Br(e)||Me(!1,"Must provide configuration object."),!e.types||Array.isArray(e.types)||Me(!1,`"types" must be Array if provided but got: ${P(e.types)}.`),!e.directives||Array.isArray(e.directives)||Me(!1,`"directives" must be Array if provided but got: ${P(e.directives)}.`),this.description=e.description,this.extensions=bo(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=(r=e.extensionASTNodes)!==null&&r!==void 0?r:[],this._queryType=e.query,this._mutationType=e.mutation,this._subscriptionType=e.subscription,this._directives=(n=e.directives)!==null&&n!==void 0?n:rn;let o=new Set(e.types);if(e.types!=null)for(let i of e.types)o.delete(i),js(i,o);this._queryType!=null&&js(this._queryType,o),this._mutationType!=null&&js(this._mutationType,o),this._subscriptionType!=null&&js(this._subscriptionType,o);for(let i of this._directives)if(Pa(i))for(let s of i.args)js(s.type,o);js(ff,o),this._typeMap=Object.create(null),this._subTypeMap=Object.create(null),this._implementationsMap=Object.create(null);for(let i of o){if(i==null)continue;let s=i.name;if(s||Me(!1,"One of the provided types for building the Schema is missing a name."),this._typeMap[s]!==void 0)throw new Error(`Schema must contain uniquely named types but contains multiple types named "${s}".`);if(this._typeMap[s]=i,Z(i)){for(let a of i.getInterfaces())if(Z(a)){let c=this._implementationsMap[a.name];c===void 0&&(c=this._implementationsMap[a.name]={objects:[],interfaces:[]}),c.interfaces.push(i)}}else if(K(i)){for(let a of i.getInterfaces())if(Z(a)){let c=this._implementationsMap[a.name];c===void 0&&(c=this._implementationsMap[a.name]={objects:[],interfaces:[]}),c.objects.push(i)}}}}get[Symbol.toStringTag](){return"GraphQLSchema"}getQueryType(){return this._queryType}getMutationType(){return this._mutationType}getSubscriptionType(){return this._subscriptionType}getRootType(e){switch(e){case br.QUERY:return this.getQueryType();case br.MUTATION:return this.getMutationType();case br.SUBSCRIPTION:return this.getSubscriptionType()}}getTypeMap(){return this._typeMap}getType(e){return this.getTypeMap()[e]}getPossibleTypes(e){return Ue(e)?e.getTypes():this.getImplementations(e).objects}getImplementations(e){let r=this._implementationsMap[e.name];return r??{objects:[],interfaces:[]}}isSubType(e,r){let n=this._subTypeMap[e.name];if(n===void 0){if(n=Object.create(null),Ue(e))for(let o of e.getTypes())n[o.name]=!0;else{let o=this.getImplementations(e);for(let i of o.objects)n[i.name]=!0;for(let i of o.interfaces)n[i.name]=!0}this._subTypeMap[e.name]=n}return n[r.name]!==void 0}getDirectives(){return this._directives}getDirective(e){return this.getDirectives().find(r=>r.name===e)}toConfig(){return{description:this.description,query:this.getQueryType(),mutation:this.getMutationType(),subscription:this.getSubscriptionType(),types:Object.values(this.getTypeMap()),directives:this.getDirectives(),extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes,assumeValid:this.__validationErrors!==void 0}}}});function Fh(t){if(pf(t),t.__validationErrors)return t.__validationErrors;let e=new CR(t);qTe(e),QTe(e),JTe(e);let r=e.getErrors();return t.__validationErrors=r,r}function Gs(t){let e=Fh(t);if(e.length!==0)throw new Error(e.map(r=>r.message).join(`

`))}function qTe(t){let e=t.schema,r=e.getQueryType();if(!r)t.reportError("Query root type must be provided.",e.astNode);else if(!K(r)){var n;t.reportError(`Query root type must be Object type, it cannot be ${P(r)}.`,(n=OR(e,br.QUERY))!==null&&n!==void 0?n:r.astNode)}let o=e.getMutationType();if(o&&!K(o)){var i;t.reportError(`Mutation root type must be Object type if provided, it cannot be ${P(o)}.`,(i=OR(e,br.MUTATION))!==null&&i!==void 0?i:o.astNode)}let s=e.getSubscriptionType();if(s&&!K(s)){var a;t.reportError(`Subscription root type must be Object type if provided, it cannot be ${P(s)}.`,(a=OR(e,br.SUBSCRIPTION))!==null&&a!==void 0?a:s.astNode)}}function OR(t,e){var r;return(r=[t.astNode,...t.extensionASTNodes].flatMap(n=>{var o;return(o=n?.operationTypes)!==null&&o!==void 0?o:[]}).find(n=>n.operation===e))===null||r===void 0?void 0:r.type}function QTe(t){for(let r of t.schema.getDirectives()){if(!Pa(r)){t.reportError(`Expected directive but got: ${P(r)}.`,r?.astNode);continue}mf(t,r),r.locations.length===0&&t.reportError(`Directive @${r.name} must include 1 or more locations.`,r.astNode);for(let n of r.args)if(mf(t,n),xr(n.type)||t.reportError(`The type of @${r.name}(${n.name}:) must be Input Type but got: ${P(n.type)}.`,n.astNode),Ai(n)&&n.deprecationReason!=null){var e;t.reportError(`Required argument @${r.name}(${n.name}:) cannot be deprecated.`,[RR(n.astNode),(e=n.astNode)===null||e===void 0?void 0:e.type])}}}function mf(t,e){e.name.startsWith("__")&&t.reportError(`Name "${e.name}" must not begin with "__", which is reserved by GraphQL introspection.`,e.astNode)}function JTe(t){let e=exe(t),r=t.schema.getTypeMap();for(let n of Object.values(r)){if(!Mr(n)){t.reportError(`Expected GraphQL named type but got: ${P(n)}.`,n.astNode);continue}Tn(n)||mf(t,n),K(n)||Z(n)?(MQ(t,n),$Q(t,n)):Ue(n)?WTe(t,n):Pe(n)?YTe(t,n):pe(n)&&(XTe(t,n),e(n))}}function MQ(t,e){let r=Object.values(e.getFields());r.length===0&&t.reportError(`Type ${e.name} must define one or more fields.`,[e.astNode,...e.extensionASTNodes]);for(let s of r){if(mf(t,s),!xi(s.type)){var n;t.reportError(`The type of ${e.name}.${s.name} must be Output Type but got: ${P(s.type)}.`,(n=s.astNode)===null||n===void 0?void 0:n.type)}for(let a of s.args){let c=a.name;if(mf(t,a),!xr(a.type)){var o;t.reportError(`The type of ${e.name}.${s.name}(${c}:) must be Input Type but got: ${P(a.type)}.`,(o=a.astNode)===null||o===void 0?void 0:o.type)}if(Ai(a)&&a.deprecationReason!=null){var i;t.reportError(`Required argument ${e.name}.${s.name}(${c}:) cannot be deprecated.`,[RR(a.astNode),(i=a.astNode)===null||i===void 0?void 0:i.type])}}}}function $Q(t,e){let r=Object.create(null);for(let n of e.getInterfaces()){if(!Z(n)){t.reportError(`Type ${P(e)} must only implement Interface types, it cannot implement ${P(n)}.`,Q0(e,n));continue}if(e===n){t.reportError(`Type ${e.name} cannot implement itself because it would create a circular reference.`,Q0(e,n));continue}if(r[n.name]){t.reportError(`Type ${e.name} can only implement ${n.name} once.`,Q0(e,n));continue}r[n.name]=!0,KTe(t,e,n),HTe(t,e,n)}}function HTe(t,e,r){let n=e.getFields();for(let c of Object.values(r.getFields())){let u=c.name,l=n[u];if(!l){t.reportError(`Interface field ${r.name}.${u} expected but ${e.name} does not provide it.`,[c.astNode,e.astNode,...e.extensionASTNodes]);continue}if(!Vs(t.schema,l.type,c.type)){var o,i;t.reportError(`Interface field ${r.name}.${u} expects type ${P(c.type)} but ${e.name}.${u} is type ${P(l.type)}.`,[(o=c.astNode)===null||o===void 0?void 0:o.type,(i=l.astNode)===null||i===void 0?void 0:i.type])}for(let f of c.args){let d=f.name,p=l.args.find(h=>h.name===d);if(!p){t.reportError(`Interface field argument ${r.name}.${u}(${d}:) expected but ${e.name}.${u} does not provide it.`,[f.astNode,l.astNode]);continue}if(!lf(f.type,p.type)){var s,a;t.reportError(`Interface field argument ${r.name}.${u}(${d}:) expects type ${P(f.type)} but ${e.name}.${u}(${d}:) is type ${P(p.type)}.`,[(s=f.astNode)===null||s===void 0?void 0:s.type,(a=p.astNode)===null||a===void 0?void 0:a.type])}}for(let f of l.args){let d=f.name;!c.args.find(h=>h.name===d)&&Ai(f)&&t.reportError(`Object field ${e.name}.${u} includes required argument ${d} that is missing from the Interface field ${r.name}.${u}.`,[f.astNode,c.astNode])}}}function KTe(t,e,r){let n=e.getInterfaces();for(let o of r.getInterfaces())n.includes(o)||t.reportError(o===e?`Type ${e.name} cannot implement ${r.name} because it would create a circular reference.`:`Type ${e.name} must implement ${o.name} because it is implemented by ${r.name}.`,[...Q0(r,o),...Q0(e,r)])}function WTe(t,e){let r=e.getTypes();r.length===0&&t.reportError(`Union type ${e.name} must define one or more member types.`,[e.astNode,...e.extensionASTNodes]);let n=Object.create(null);for(let o of r){if(n[o.name]){t.reportError(`Union type ${e.name} can only include type ${o.name} once.`,VQ(e,o.name));continue}n[o.name]=!0,K(o)||t.reportError(`Union type ${e.name} can only include Object types, it cannot include ${P(o)}.`,VQ(e,String(o)))}}function YTe(t,e){let r=e.getValues();r.length===0&&t.reportError(`Enum type ${e.name} must define one or more values.`,[e.astNode,...e.extensionASTNodes]);for(let n of r)mf(t,n)}function XTe(t,e){let r=Object.values(e.getFields());r.length===0&&t.reportError(`Input Object type ${e.name} must define one or more fields.`,[e.astNode,...e.extensionASTNodes]);for(let i of r){if(mf(t,i),!xr(i.type)){var n;t.reportError(`The type of ${e.name}.${i.name} must be Input Type but got: ${P(i.type)}.`,(n=i.astNode)===null||n===void 0?void 0:n.type)}if(Rc(i)&&i.deprecationReason!=null){var o;t.reportError(`Required input field ${e.name}.${i.name} cannot be deprecated.`,[RR(i.astNode),(o=i.astNode)===null||o===void 0?void 0:o.type])}e.isOneOf&&ZTe(e,i,t)}}function ZTe(t,e,r){if(Y(e.type)){var n;r.reportError(`OneOf input field ${t.name}.${e.name} must be nullable.`,(n=e.astNode)===null||n===void 0?void 0:n.type)}e.defaultValue!==void 0&&r.reportError(`OneOf input field ${t.name}.${e.name} cannot have a default value.`,e.astNode)}function exe(t){let e=Object.create(null),r=[],n=Object.create(null);return o;function o(i){if(e[i.name])return;e[i.name]=!0,n[i.name]=r.length;let s=Object.values(i.getFields());for(let a of s)if(Y(a.type)&&pe(a.type.ofType)){let c=a.type.ofType,u=n[c.name];if(r.push(a),u===void 0)o(c);else{let l=r.slice(u),f=l.map(d=>d.name).join(".");t.reportError(`Cannot reference Input Object "${c.name}" within itself through a series of non-null fields: "${f}".`,l.map(d=>d.astNode))}r.pop()}n[i.name]=void 0}}function Q0(t,e){let{astNode:r,extensionASTNodes:n}=t;return(r!=null?[r,...n]:n).flatMap(i=>{var s;return(s=i.interfaces)!==null&&s!==void 0?s:[]}).filter(i=>i.name.value===e.name)}function VQ(t,e){let{astNode:r,extensionASTNodes:n}=t;return(r!=null?[r,...n]:n).flatMap(i=>{var s;return(s=i.types)!==null&&s!==void 0?s:[]}).filter(i=>i.name.value===e)}function RR(t){var e;return t==null||(e=t.directives)===null||e===void 0?void 0:e.find(r=>r.name.value===ns.name)}var CR,J0=j(()=>{"use strict";Gt();Ge();Us();B0();Et();Lo();as();hf();CR=class{constructor(e){this._errors=[],this.schema=e}reportError(e,r){let n=Array.isArray(r)?r.filter(Boolean):r;this._errors.push(new D(e,{nodes:n}))}getErrors(){return this._errors}}});function kt(t,e){switch(e.kind){case y.LIST_TYPE:{let r=kt(t,e.type);return r&&new je(r)}case y.NON_NULL_TYPE:{let r=kt(t,e.type);return r&&new J(r)}case y.NAMED_TYPE:return t.getType(e.name.value)}}var Ba=j(()=>{"use strict";bt();Et()});function txe(t,e,r){let n=r.name.value;if(n===is.name&&t.getQueryType()===e)return is;if(n===ss.name&&t.getQueryType()===e)return ss;if(n===Bo.name&&Ar(e))return Bo;if(K(e)||Z(e))return e.getFields()[n]}function Mo(t,e){return{enter(...r){let n=r[0];t.enter(n);let o=Cc(e,n.kind).enter;if(o){let i=o.apply(e,r);return i!==void 0&&(t.leave(n),E0(i)&&t.enter(i)),i}},leave(...r){let n=r[0],o=Cc(e,n.kind).leave,i;return o&&(i=o.apply(e,r)),t.leave(n),i}}}var Mn,lA=j(()=>{"use strict";Us();bt();cf();Et();as();Ba();Mn=class{constructor(e,r,n){this._schema=e,this._typeStack=[],this._parentTypeStack=[],this._inputTypeStack=[],this._fieldDefStack=[],this._defaultValueStack=[],this._directive=null,this._argument=null,this._enumValue=null,this._getFieldDef=n??txe,r&&(xr(r)&&this._inputTypeStack.push(r),Ar(r)&&this._parentTypeStack.push(r),xi(r)&&this._typeStack.push(r))}get[Symbol.toStringTag](){return"TypeInfo"}getType(){if(this._typeStack.length>0)return this._typeStack[this._typeStack.length-1]}getParentType(){if(this._parentTypeStack.length>0)return this._parentTypeStack[this._parentTypeStack.length-1]}getInputType(){if(this._inputTypeStack.length>0)return this._inputTypeStack[this._inputTypeStack.length-1]}getParentInputType(){if(this._inputTypeStack.length>1)return this._inputTypeStack[this._inputTypeStack.length-2]}getFieldDef(){if(this._fieldDefStack.length>0)return this._fieldDefStack[this._fieldDefStack.length-1]}getDefaultValue(){if(this._defaultValueStack.length>0)return this._defaultValueStack[this._defaultValueStack.length-1]}getDirective(){return this._directive}getArgument(){return this._argument}getEnumValue(){return this._enumValue}enter(e){let r=this._schema;switch(e.kind){case y.SELECTION_SET:{let o=ke(this.getType());this._parentTypeStack.push(Ar(o)?o:void 0);break}case y.FIELD:{let o=this.getParentType(),i,s;o&&(i=this._getFieldDef(r,o,e),i&&(s=i.type)),this._fieldDefStack.push(i),this._typeStack.push(xi(s)?s:void 0);break}case y.DIRECTIVE:this._directive=r.getDirective(e.name.value);break;case y.OPERATION_DEFINITION:{let o=r.getRootType(e.operation);this._typeStack.push(K(o)?o:void 0);break}case y.INLINE_FRAGMENT:case y.FRAGMENT_DEFINITION:{let o=e.typeCondition,i=o?kt(r,o):ke(this.getType());this._typeStack.push(xi(i)?i:void 0);break}case y.VARIABLE_DEFINITION:{let o=kt(r,e.type);this._inputTypeStack.push(xr(o)?o:void 0);break}case y.ARGUMENT:{var n;let o,i,s=(n=this.getDirective())!==null&&n!==void 0?n:this.getFieldDef();s&&(o=s.args.find(a=>a.name===e.name.value),o&&(i=o.type)),this._argument=o,this._defaultValueStack.push(o?o.defaultValue:void 0),this._inputTypeStack.push(xr(i)?i:void 0);break}case y.LIST:{let o=ln(this.getInputType()),i=Ie(o)?o.ofType:o;this._defaultValueStack.push(void 0),this._inputTypeStack.push(xr(i)?i:void 0);break}case y.OBJECT_FIELD:{let o=ke(this.getInputType()),i,s;pe(o)&&(s=o.getFields()[e.name.value],s&&(i=s.type)),this._defaultValueStack.push(s?s.defaultValue:void 0),this._inputTypeStack.push(xr(i)?i:void 0);break}case y.ENUM:{let o=ke(this.getInputType()),i;Pe(o)&&(i=o.getValue(e.value)),this._enumValue=i;break}default:}}leave(e){switch(e.kind){case y.SELECTION_SET:this._parentTypeStack.pop();break;case y.FIELD:this._fieldDefStack.pop(),this._typeStack.pop();break;case y.DIRECTIVE:this._directive=null;break;case y.OPERATION_DEFINITION:case y.INLINE_FRAGMENT:case y.FRAGMENT_DEFINITION:this._typeStack.pop();break;case y.VARIABLE_DEFINITION:this._inputTypeStack.pop();break;case y.ARGUMENT:this._argument=null,this._defaultValueStack.pop(),this._inputTypeStack.pop();break;case y.LIST:case y.OBJECT_FIELD:this._defaultValueStack.pop(),this._inputTypeStack.pop();break;case y.ENUM:this._enumValue=null;break;default:}}}});function K0(t){return Uh(t)||Bh(t)||Mh(t)}function Uh(t){return t.kind===y.OPERATION_DEFINITION||t.kind===y.FRAGMENT_DEFINITION}function kR(t){return t.kind===y.FIELD||t.kind===y.FRAGMENT_SPREAD||t.kind===y.INLINE_FRAGMENT}function fA(t){return t.kind===y.VARIABLE||t.kind===y.INT||t.kind===y.FLOAT||t.kind===y.STRING||t.kind===y.BOOLEAN||t.kind===y.NULL||t.kind===y.ENUM||t.kind===y.LIST||t.kind===y.OBJECT}function H0(t){return fA(t)&&(t.kind===y.LIST?t.values.some(H0):t.kind===y.OBJECT?t.fields.some(e=>H0(e.value)):t.kind!==y.VARIABLE)}function PR(t){return t.kind===y.NAMED_TYPE||t.kind===y.LIST_TYPE||t.kind===y.NON_NULL_TYPE}function Bh(t){return t.kind===y.SCHEMA_DEFINITION||cs(t)||t.kind===y.DIRECTIVE_DEFINITION}function cs(t){return t.kind===y.SCALAR_TYPE_DEFINITION||t.kind===y.OBJECT_TYPE_DEFINITION||t.kind===y.INTERFACE_TYPE_DEFINITION||t.kind===y.UNION_TYPE_DEFINITION||t.kind===y.ENUM_TYPE_DEFINITION||t.kind===y.INPUT_OBJECT_TYPE_DEFINITION}function Mh(t){return t.kind===y.SCHEMA_EXTENSION||Uu(t)}function Uu(t){return t.kind===y.SCALAR_TYPE_EXTENSION||t.kind===y.OBJECT_TYPE_EXTENSION||t.kind===y.INTERFACE_TYPE_EXTENSION||t.kind===y.UNION_TYPE_EXTENSION||t.kind===y.ENUM_TYPE_EXTENSION||t.kind===y.INPUT_OBJECT_TYPE_EXTENSION}function LR(t){return t.kind===y.TYPE_COORDINATE||t.kind===y.MEMBER_COORDINATE||t.kind===y.ARGUMENT_COORDINATE||t.kind===y.DIRECTIVE_COORDINATE||t.kind===y.DIRECTIVE_ARGUMENT_COORDINATE}var yf=j(()=>{"use strict";bt()});function W0(t){return{Document(e){for(let r of e.definitions)if(!Uh(r)){let n=r.kind===y.SCHEMA_DEFINITION||r.kind===y.SCHEMA_EXTENSION?"schema":'"'+r.name.value+'"';t.reportError(new D(`The ${n} definition is not executable.`,{nodes:r}))}return!1}}}var FR=j(()=>{"use strict";Ge();bt();yf()});function Y0(t){return{Field(e){let r=t.getParentType();if(r&&!t.getFieldDef()){let o=t.getSchema(),i=e.name.value,s=oo("to use an inline fragment on",rxe(o,r,i));s===""&&(s=oo(nxe(r,i))),t.reportError(new D(`Cannot query field "${i}" on type "${r.name}".`+s,{nodes:e}))}}}}function rxe(t,e,r){if(!st(e))return[];let n=new Set,o=Object.create(null);for(let s of t.getPossibleTypes(e))if(s.getFields()[r]){n.add(s),o[s.name]=1;for(let a of s.getInterfaces()){var i;a.getFields()[r]&&(n.add(a),o[a.name]=((i=o[a.name])!==null&&i!==void 0?i:0)+1)}}return[...n].sort((s,a)=>{let c=o[a.name]-o[s.name];return c!==0?c:Z(s)&&t.isSubType(s,a)?-1:Z(a)&&t.isSubType(a,s)?1:Dc(s.name,a.name)}).map(s=>s.name)}function nxe(t,e){if(K(t)||Z(t)){let r=Object.keys(t.getFields());return wo(e,r)}return[]}var UR=j(()=>{"use strict";Ru();O0();Pu();Ge();Et()});function X0(t){return{InlineFragment(e){let r=e.typeCondition;if(r){let n=kt(t.getSchema(),r);if(n&&!Ar(n)){let o=qe(r);t.reportError(new D(`Fragment cannot condition on non composite type "${o}".`,{nodes:r}))}}},FragmentDefinition(e){let r=kt(t.getSchema(),e.typeCondition);if(r&&!Ar(r)){let n=qe(e.typeCondition);t.reportError(new D(`Fragment "${e.name.value}" cannot condition on non composite type "${n}".`,{nodes:e.typeCondition}))}}}}var BR=j(()=>{"use strict";Ge();Ti();Et();Ba()});function Z0(t){return S(b({},MR(t)),{Argument(e){let r=t.getArgument(),n=t.getFieldDef(),o=t.getParentType();if(!r&&n&&o){let i=e.name.value,s=n.args.map(c=>c.name),a=wo(i,s);t.reportError(new D(`Unknown argument "${i}" on field "${o.name}.${n.name}".`+oo(a),{nodes:e}))}}})}function MR(t){let e=Object.create(null),r=t.getSchema(),n=r?r.getDirectives():rn;for(let s of n)e[s.name]=s.args.map(a=>a.name);let o=t.getDocument().definitions;for(let s of o)if(s.kind===y.DIRECTIVE_DEFINITION){var i;let a=(i=s.arguments)!==null&&i!==void 0?i:[];e[s.name.value]=a.map(c=>c.name.value)}return{Directive(s){let a=s.name.value,c=e[a];if(s.arguments&&c)for(let u of s.arguments){let l=u.name.value;if(!c.includes(l)){let f=wo(l,c);t.reportError(new D(`Unknown argument "${l}" on directive "@${a}".`+oo(f),{nodes:u}))}}return!1}}}var $R=j(()=>{"use strict";Ru();Pu();Ge();bt();Lo()});function $h(t){let e=Object.create(null),r=t.getSchema(),n=r?r.getDirectives():rn;for(let i of n)e[i.name]=i.locations;let o=t.getDocument().definitions;for(let i of o)i.kind===y.DIRECTIVE_DEFINITION&&(e[i.name.value]=i.locations.map(s=>s.value));return{Directive(i,s,a,c,u){let l=i.name.value,f=e[l];if(!f){t.reportError(new D(`Unknown directive "@${l}".`,{nodes:i}));return}let d=oxe(u);d&&!f.includes(d)&&t.reportError(new D(`Directive "@${l}" may not be used on ${d}.`,{nodes:i}))}}}function oxe(t){let e=t[t.length-1];switch("kind"in e||wt(!1),e.kind){case y.OPERATION_DEFINITION:return ixe(e.operation);case y.FIELD:return xe.FIELD;case y.FRAGMENT_SPREAD:return xe.FRAGMENT_SPREAD;case y.INLINE_FRAGMENT:return xe.INLINE_FRAGMENT;case y.FRAGMENT_DEFINITION:return xe.FRAGMENT_DEFINITION;case y.VARIABLE_DEFINITION:return xe.VARIABLE_DEFINITION;case y.SCHEMA_DEFINITION:case y.SCHEMA_EXTENSION:return xe.SCHEMA;case y.SCALAR_TYPE_DEFINITION:case y.SCALAR_TYPE_EXTENSION:return xe.SCALAR;case y.OBJECT_TYPE_DEFINITION:case y.OBJECT_TYPE_EXTENSION:return xe.OBJECT;case y.FIELD_DEFINITION:return xe.FIELD_DEFINITION;case y.INTERFACE_TYPE_DEFINITION:case y.INTERFACE_TYPE_EXTENSION:return xe.INTERFACE;case y.UNION_TYPE_DEFINITION:case y.UNION_TYPE_EXTENSION:return xe.UNION;case y.ENUM_TYPE_DEFINITION:case y.ENUM_TYPE_EXTENSION:return xe.ENUM;case y.ENUM_VALUE_DEFINITION:return xe.ENUM_VALUE;case y.INPUT_OBJECT_TYPE_DEFINITION:case y.INPUT_OBJECT_TYPE_EXTENSION:return xe.INPUT_OBJECT;case y.INPUT_VALUE_DEFINITION:{let r=t[t.length-3];return"kind"in r||wt(!1),r.kind===y.INPUT_OBJECT_TYPE_DEFINITION?xe.INPUT_FIELD_DEFINITION:xe.ARGUMENT_DEFINITION}default:wt(!1,"Unexpected kind: "+P(e.kind))}}function ixe(t){switch(t){case br.QUERY:return xe.QUERY;case br.MUTATION:return xe.MUTATION;case br.SUBSCRIPTION:return xe.SUBSCRIPTION}}var VR=j(()=>{"use strict";Gt();ro();Ge();Us();xh();bt();Lo()});function ew(t){return{FragmentSpread(e){let r=e.name.value;t.getFragment(r)||t.reportError(new D(`Unknown fragment "${r}".`,{nodes:e.name}))}}}var jR=j(()=>{"use strict";Ge()});function Vh(t){let e=t.getSchema(),r=e?e.getTypeMap():Object.create(null),n=Object.create(null);for(let i of t.getDocument().definitions)cs(i)&&(n[i.name.value]=!0);let o=[...Object.keys(r),...Object.keys(n)];return{NamedType(i,s,a,c,u){let l=i.name.value;if(!r[l]&&!n[l]){var f;let d=(f=u[2])!==null&&f!==void 0?f:a,p=d!=null&&sxe(d);if(p&&jQ.includes(l))return;let h=wo(l,p?jQ.concat(o):o);t.reportError(new D(`Unknown type "${l}".`+oo(h),{nodes:i}))}}}}function sxe(t){return"kind"in t&&(Bh(t)||Mh(t))}var jQ,GR=j(()=>{"use strict";Ru();Pu();Ge();yf();as();ka();jQ=[...Ra,...Ua].map(t=>t.name)});function tw(t){let e=0;return{Document(r){e=r.definitions.filter(n=>n.kind===y.OPERATION_DEFINITION).length},OperationDefinition(r){!r.name&&e>1&&t.reportError(new D("This anonymous operation must be the only defined operation.",{nodes:r}))}}}var zR=j(()=>{"use strict";Ge();bt()});function rw(t){var e,r,n;let o=t.getSchema(),i=(e=(r=(n=o?.astNode)!==null&&n!==void 0?n:o?.getQueryType())!==null&&r!==void 0?r:o?.getMutationType())!==null&&e!==void 0?e:o?.getSubscriptionType(),s=0;return{SchemaDefinition(a){if(i){t.reportError(new D("Cannot define a new schema within a schema extension.",{nodes:a}));return}s>0&&t.reportError(new D("Must provide only one schema definition.",{nodes:a})),++s}}}var qR=j(()=>{"use strict";Ge()});function nw(t){function e(r,n=Object.create(null),o=0){if(r.kind===y.FRAGMENT_SPREAD){let i=r.name.value;if(n[i]===!0)return!1;let s=t.getFragment(i);if(!s)return!1;try{return n[i]=!0,e(s,n,o)}finally{n[i]=void 0}}if(r.kind===y.FIELD&&(r.name.value==="fields"||r.name.value==="interfaces"||r.name.value==="possibleTypes"||r.name.value==="inputFields")&&(o++,o>=axe))return!0;if("selectionSet"in r&&r.selectionSet){for(let i of r.selectionSet.selections)if(e(i,n,o))return!0}return!1}return{Field(r){if((r.name.value==="__schema"||r.name.value==="__type")&&e(r))return t.reportError(new D("Maximum introspection depth exceeded",{nodes:[r]})),!1}}}var axe,QR=j(()=>{"use strict";Ge();bt();axe=3});function ow(t){let e=Object.create(null),r=[],n=Object.create(null);return{OperationDefinition:()=>!1,FragmentDefinition(i){return o(i),!1}};function o(i){if(e[i.name.value])return;let s=i.name.value;e[s]=!0;let a=t.getFragmentSpreads(i.selectionSet);if(a.length!==0){n[s]=r.length;for(let c of a){let u=c.name.value,l=n[u];if(r.push(c),l===void 0){let f=t.getFragment(u);f&&o(f)}else{let f=r.slice(l),d=f.slice(0,-1).map(p=>'"'+p.name.value+'"').join(", ");t.reportError(new D(`Cannot spread fragment "${u}" within itself`+(d!==""?` via ${d}.`:"."),{nodes:f}))}r.pop()}n[s]=void 0}}}var JR=j(()=>{"use strict";Ge()});function iw(t){let e=Object.create(null);return{OperationDefinition:{enter(){e=Object.create(null)},leave(r){let n=t.getRecursiveVariableUsages(r);for(let{node:o}of n){let i=o.name.value;e[i]!==!0&&t.reportError(new D(r.name?`Variable "$${i}" is not defined by operation "${r.name.value}".`:`Variable "$${i}" is not defined.`,{nodes:[o,r]}))}}},VariableDefinition(r){e[r.variable.name.value]=!0}}}var HR=j(()=>{"use strict";Ge()});function sw(t){let e=[],r=[];return{OperationDefinition(n){return e.push(n),!1},FragmentDefinition(n){return r.push(n),!1},Document:{leave(){let n=Object.create(null);for(let o of e)for(let i of t.getRecursivelyReferencedFragments(o))n[i.name.value]=!0;for(let o of r){let i=o.name.value;n[i]!==!0&&t.reportError(new D(`Fragment "${i}" is never used.`,{nodes:o}))}}}}}var KR=j(()=>{"use strict";Ge()});function aw(t){let e=[];return{OperationDefinition:{enter(){e=[]},leave(r){let n=Object.create(null),o=t.getRecursiveVariableUsages(r);for(let{node:i}of o)n[i.name.value]=!0;for(let i of e){let s=i.variable.name.value;n[s]!==!0&&t.reportError(new D(r.name?`Variable "$${s}" is never used in operation "${r.name.value}".`:`Variable "$${s}" is never used.`,{nodes:i}))}}},VariableDefinition(r){e.push(r)}}}var WR=j(()=>{"use strict";Ge()});function jh(t){switch(t.kind){case y.OBJECT:return S(b({},t),{fields:cxe(t.fields)});case y.LIST:return S(b({},t),{values:t.values.map(jh)});case y.INT:case y.FLOAT:case y.STRING:case y.BOOLEAN:case y.NULL:case y.ENUM:case y.VARIABLE:return t}}function cxe(t){return t.map(e=>S(b({},e),{value:jh(e.value)})).sort((e,r)=>Dc(e.name.value,r.name.value))}var YR=j(()=>{"use strict";O0();bt()});function zQ(t){return Array.isArray(t)?t.map(([e,r])=>`subfields "${e}" conflict because `+zQ(r)).join(" and "):t}function cw(t){let e=new mA,r=new ek,n=new Map;return{SelectionSet(o){let i=uxe(t,n,e,r,t.getParentType(),o);for(let[[s,a],c,u]of i){let l=zQ(a);t.reportError(new D(`Fields "${s}" conflict because ${l}. Use different aliases on the fields to fetch both if this was intentional.`,{nodes:c.concat(u)}))}}}}function uxe(t,e,r,n,o,i){let s=[],[a,c]=hA(t,e,o,i);if(fxe(t,s,e,r,n,a),c.length!==0)for(let u=0;u<c.length;u++){dA(t,s,e,r,n,!1,a,c[u]);for(let l=u+1;l<c.length;l++)pA(t,s,e,r,n,!1,c[u],c[l])}return s}function dA(t,e,r,n,o,i,s,a){if(n.has(s,a,i))return;n.add(s,a,i);let c=t.getFragment(a);if(!c)return;let[u,l]=ZR(t,r,c);if(s!==u){tk(t,e,r,n,o,i,s,u);for(let f of l)dA(t,e,r,n,o,i,s,f)}}function pA(t,e,r,n,o,i,s,a){if(s===a||o.has(s,a,i))return;o.add(s,a,i);let c=t.getFragment(s),u=t.getFragment(a);if(!c||!u)return;let[l,f]=ZR(t,r,c),[d,p]=ZR(t,r,u);tk(t,e,r,n,o,i,l,d);for(let h of p)pA(t,e,r,n,o,i,s,h);for(let h of f)pA(t,e,r,n,o,i,h,a)}function lxe(t,e,r,n,o,i,s,a,c){let u=[],[l,f]=hA(t,e,i,s),[d,p]=hA(t,e,a,c);tk(t,u,e,r,n,o,l,d);for(let h of p)dA(t,u,e,r,n,o,l,h);for(let h of f)dA(t,u,e,r,n,o,d,h);for(let h of f)for(let m of p)pA(t,u,e,r,n,o,h,m);return u}function fxe(t,e,r,n,o,i){for(let[s,a]of Object.entries(i))if(a.length>1)for(let c=0;c<a.length;c++)for(let u=c+1;u<a.length;u++){let l=qQ(t,r,n,o,!1,s,a[c],a[u]);l&&e.push(l)}}function tk(t,e,r,n,o,i,s,a){for(let[c,u]of Object.entries(s)){let l=a[c];if(l)for(let f of u)for(let d of l){let p=qQ(t,r,n,o,i,c,f,d);p&&e.push(p)}}}function qQ(t,e,r,n,o,i,s,a){let[c,u,l]=s,[f,d,p]=a,h=o||c!==f&&K(c)&&K(f);if(!h){let v=u.name.value,x=d.name.value;if(v!==x)return[[i,`"${v}" and "${x}" are different fields`],[u],[d]];if(!dxe(u,d))return[[i,"they have differing arguments"],[u],[d]]}let m=l?.type,g=p?.type;if(m&&g&&XR(m,g))return[[i,`they return conflicting types "${P(m)}" and "${P(g)}"`],[u],[d]];let w=u.selectionSet,T=d.selectionSet;if(w&&T){let v=lxe(t,e,r,n,h,ke(m),w,ke(g),T);return pxe(v,i,u,d)}}function dxe(t,e){let r=t.arguments,n=e.arguments;if(r===void 0||r.length===0)return n===void 0||n.length===0;if(n===void 0||n.length===0||r.length!==n.length)return!1;let o=new Map(n.map(({name:i,value:s})=>[i.value,s]));return r.every(i=>{let s=i.value,a=o.get(i.name.value);return a===void 0?!1:GQ(s)===GQ(a)})}function GQ(t){return qe(jh(t))}function XR(t,e){return Ie(t)?Ie(e)?XR(t.ofType,e.ofType):!0:Ie(e)?!0:Y(t)?Y(e)?XR(t.ofType,e.ofType):!0:Y(e)?!0:tt(t)||tt(e)?t!==e:!1}function hA(t,e,r,n){let o=e.get(n);if(o)return o;let i=Object.create(null),s=Object.create(null);QQ(t,r,n,i,s);let a=[i,Object.keys(s)];return e.set(n,a),a}function ZR(t,e,r){let n=e.get(r.selectionSet);if(n)return n;let o=kt(t.getSchema(),r.typeCondition);return hA(t,e,o,r.selectionSet)}function QQ(t,e,r,n,o){for(let i of r.selections)switch(i.kind){case y.FIELD:{let s=i.name.value,a;(K(e)||Z(e))&&(a=e.getFields()[s]);let c=i.alias?i.alias.value:s;n[c]||(n[c]=[]),n[c].push([e,i,a]);break}case y.FRAGMENT_SPREAD:o[i.name.value]=!0;break;case y.INLINE_FRAGMENT:{let s=i.typeCondition,a=s?kt(t.getSchema(),s):e;QQ(t,a,i.selectionSet,n,o);break}}}function pxe(t,e,r,n){if(t.length>0)return[[e,t.map(([o])=>o)],[r,...t.map(([,o])=>o).flat()],[n,...t.map(([,,o])=>o).flat()]]}var mA,ek,rk=j(()=>{"use strict";Gt();Ge();bt();Ti();Et();YR();Ba();mA=class{constructor(){this._data=new Map}has(e,r,n){var o;let i=(o=this._data.get(e))===null||o===void 0?void 0:o.get(r);return i===void 0?!1:n?!0:n===i}add(e,r,n){let o=this._data.get(e);o===void 0?this._data.set(e,new Map([[r,n]])):o.set(r,n)}},ek=class{constructor(){this._orderedPairSet=new mA}has(e,r,n){return e<r?this._orderedPairSet.has(e,r,n):this._orderedPairSet.has(r,e,n)}add(e,r,n){e<r?this._orderedPairSet.add(e,r,n):this._orderedPairSet.add(r,e,n)}}});function uw(t){return{InlineFragment(e){let r=t.getType(),n=t.getParentType();if(Ar(r)&&Ar(n)&&!Fu(t.getSchema(),r,n)){let o=P(n),i=P(r);t.reportError(new D(`Fragment cannot be spread here as objects of type "${o}" can never be of type "${i}".`,{nodes:e}))}},FragmentSpread(e){let r=e.name.value,n=hxe(t,r),o=t.getParentType();if(n&&o&&!Fu(t.getSchema(),n,o)){let i=P(o),s=P(n);t.reportError(new D(`Fragment "${r}" cannot be spread here as objects of type "${i}" can never be of type "${s}".`,{nodes:e}))}}}}function hxe(t,e){let r=t.getFragment(e);if(r){let n=kt(t.getSchema(),r.typeCondition);if(Ar(n))return n}}var nk=j(()=>{"use strict";Gt();Ge();Et();B0();Ba()});function lw(t){let e=t.getSchema(),r=Object.create(null);for(let o of t.getDocument().definitions)cs(o)&&(r[o.name.value]=o);return{ScalarTypeExtension:n,ObjectTypeExtension:n,InterfaceTypeExtension:n,UnionTypeExtension:n,EnumTypeExtension:n,InputObjectTypeExtension:n};function n(o){let i=o.name.value,s=r[i],a=e?.getType(i),c;if(s?c=mxe[s.kind]:a&&(c=yxe(a)),c){if(c!==o.kind){let u=gxe(o.kind);t.reportError(new D(`Cannot extend non-${u} type "${i}".`,{nodes:s?[s,o]:o}))}}else{let u=Object.keys(b(b({},r),e?.getTypeMap())),l=wo(i,u);t.reportError(new D(`Cannot extend type "${i}" because it is not defined.`+oo(l),{nodes:o.name}))}}}function yxe(t){if(lt(t))return y.SCALAR_TYPE_EXTENSION;if(K(t))return y.OBJECT_TYPE_EXTENSION;if(Z(t))return y.INTERFACE_TYPE_EXTENSION;if(Ue(t))return y.UNION_TYPE_EXTENSION;if(Pe(t))return y.ENUM_TYPE_EXTENSION;if(pe(t))return y.INPUT_OBJECT_TYPE_EXTENSION;wt(!1,"Unexpected type: "+P(t))}function gxe(t){switch(t){case y.SCALAR_TYPE_EXTENSION:return"scalar";case y.OBJECT_TYPE_EXTENSION:return"object";case y.INTERFACE_TYPE_EXTENSION:return"interface";case y.UNION_TYPE_EXTENSION:return"union";case y.ENUM_TYPE_EXTENSION:return"enum";case y.INPUT_OBJECT_TYPE_EXTENSION:return"input object";default:wt(!1,"Unexpected kind: "+P(t))}}var mxe,ok=j(()=>{"use strict";Ru();Gt();ro();Pu();Ge();bt();yf();Et();mxe={[y.SCALAR_TYPE_DEFINITION]:y.SCALAR_TYPE_EXTENSION,[y.OBJECT_TYPE_DEFINITION]:y.OBJECT_TYPE_EXTENSION,[y.INTERFACE_TYPE_DEFINITION]:y.INTERFACE_TYPE_EXTENSION,[y.UNION_TYPE_DEFINITION]:y.UNION_TYPE_EXTENSION,[y.ENUM_TYPE_DEFINITION]:y.ENUM_TYPE_EXTENSION,[y.INPUT_OBJECT_TYPE_DEFINITION]:y.INPUT_OBJECT_TYPE_EXTENSION}});function fw(t){return S(b({},ik(t)),{Field:{leave(e){var r;let n=t.getFieldDef();if(!n)return!1;let o=new Set((r=e.arguments)===null||r===void 0?void 0:r.map(i=>i.name.value));for(let i of n.args)if(!o.has(i.name)&&Ai(i)){let s=P(i.type);t.reportError(new D(`Field "${n.name}" argument "${i.name}" of type "${s}" is required, but it was not provided.`,{nodes:e}))}}}})}function ik(t){var e;let r=Object.create(null),n=t.getSchema(),o=(e=n?.getDirectives())!==null&&e!==void 0?e:rn;for(let a of o)r[a.name]=io(a.args.filter(Ai),c=>c.name);let i=t.getDocument().definitions;for(let a of i)if(a.kind===y.DIRECTIVE_DEFINITION){var s;let c=(s=a.arguments)!==null&&s!==void 0?s:[];r[a.name.value]=io(c.filter(wxe),u=>u.name.value)}return{Directive:{leave(a){let c=a.name.value,u=r[c];if(u){var l;let f=(l=a.arguments)!==null&&l!==void 0?l:[],d=new Set(f.map(p=>p.name.value));for(let[p,h]of Object.entries(u))if(!d.has(p)){let m=Lu(h.type)?P(h.type):qe(h.type);t.reportError(new D(`Directive "@${c}" argument "${p}" of type "${m}" is required, but it was not provided.`,{nodes:a}))}}}}}}function wxe(t){return t.type.kind===y.NON_NULL_TYPE&&t.defaultValue==null}var sk=j(()=>{"use strict";Gt();ku();Ge();bt();Ti();Et();Lo()});function dw(t){return{Field(e){let r=t.getType(),n=e.selectionSet;if(r)if(tt(ke(r))){if(n){let o=e.name.value,i=P(r);t.reportError(new D(`Field "${o}" must not have a selection since type "${i}" has no subfields.`,{nodes:n}))}}else if(n){if(n.selections.length===0){let o=e.name.value,i=P(r);t.reportError(new D(`Field "${o}" of type "${i}" must have at least one field selected.`,{nodes:e}))}}else{let o=e.name.value,i=P(r);t.reportError(new D(`Field "${o}" of type "${i}" must have a selection of subfields. Did you mean "${o} { ... }"?`,{nodes:e}))}}}}var ak=j(()=>{"use strict";Gt();Ge();Et()});function yA(t){return t.map(e=>typeof e=="number"?"["+e.toString()+"]":"."+e).join("")}var ck=j(()=>{"use strict"});function kc(t,e,r){return{prev:t,key:e,typename:r}}function Ir(t){let e=[],r=t;for(;r;)e.push(r.key),r=r.prev;return e.reverse()}var pw=j(()=>{"use strict"});function gf(t,e,r=bxe){return hw(t,e,r,void 0)}function bxe(t,e,r){let n="Invalid value "+P(e);throw t.length>0&&(n+=` at "value${yA(t)}"`),r.message=n+": "+r.message,r}function hw(t,e,r,n){if(Y(e)){if(t!=null)return hw(t,e.ofType,r,n);r(Ir(n),t,new D(`Expected non-nullable type "${P(e)}" not to be null.`));return}if(t==null)return null;if(Ie(e)){let o=e.ofType;return Ph(t)?Array.from(t,(i,s)=>{let a=kc(n,s,void 0);return hw(i,o,r,a)}):[hw(t,o,r,n)]}if(pe(e)){if(!Br(t)||Array.isArray(t)){r(Ir(n),t,new D(`Expected type "${e.name}" to be an object.`));return}let o={},i=e.getFields();for(let s of Object.values(i)){let a=t[s.name];if(a===void 0){if(s.defaultValue!==void 0)o[s.name]=s.defaultValue;else if(Y(s.type)){let c=P(s.type);r(Ir(n),t,new D(`Field "${s.name}" of required type "${c}" was not provided.`))}continue}o[s.name]=hw(a,s.type,r,kc(n,s.name,e.name))}for(let s of Object.keys(t))if(!i[s]){let a=wo(s,Object.keys(e.getFields()));r(Ir(n),t,new D(`Field "${s}" is not defined by type "${e.name}".`+oo(a)))}if(e.isOneOf){let s=Object.keys(o);s.length!==1&&r(Ir(n),t,new D(`Exactly one key must be specified for OneOf type "${e.name}".`));let a=s[0],c=o[a];c===null&&r(Ir(n).concat(a),c,new D(`Field "${a}" must be non-null.`))}return o}if(tt(e)){let o;try{o=e.parseValue(t)}catch(i){i instanceof D?r(Ir(n),t,i):r(Ir(n),t,new D(`Expected type "${e.name}". `+i.message,{originalError:i}));return}return o===void 0&&r(Ir(n),t,new D(`Expected type "${e.name}".`)),o}wt(!1,"Unexpected input type: "+P(e))}var uk=j(()=>{"use strict";Ru();Gt();ro();uA();Oa();pw();ck();Pu();Ge();Et()});function Sr(t,e,r){if(t){if(t.kind===y.VARIABLE){let n=t.name.value;if(r==null||r[n]===void 0)return;let o=r[n];return o===null&&Y(e)?void 0:o}if(Y(e))return t.kind===y.NULL?void 0:Sr(t,e.ofType,r);if(t.kind===y.NULL)return null;if(Ie(e)){let n=e.ofType;if(t.kind===y.LIST){let i=[];for(let s of t.values)if(JQ(s,r)){if(Y(n))return;i.push(null)}else{let a=Sr(s,n,r);if(a===void 0)return;i.push(a)}return i}let o=Sr(t,n,r);return o===void 0?void 0:[o]}if(pe(e)){if(t.kind!==y.OBJECT)return;let n=Object.create(null),o=io(t.fields,i=>i.name.value);for(let i of Object.values(e.getFields())){let s=o[i.name];if(!s||JQ(s.value,r)){if(i.defaultValue!==void 0)n[i.name]=i.defaultValue;else if(Y(i.type))return;continue}let a=Sr(s.value,i.type,r);if(a===void 0)return;n[i.name]=a}if(e.isOneOf){let i=Object.keys(n);if(i.length!==1||n[i[0]]===null)return}return n}if(tt(e)){let n;try{n=e.parseLiteral(t,r)}catch{return}return n===void 0?void 0:n}wt(!1,"Unexpected input type: "+P(e))}}function JQ(t,e){return t.kind===y.VARIABLE&&(e==null||e[t.name.value]===void 0)}var mw=j(()=>{"use strict";Gt();ro();ku();bt();Et()});function yw(t,e,r,n){let o=[],i=n?.maxErrors;try{let s=Exe(t,e,r,a=>{if(i!=null&&o.length>=i)throw new D("Too many errors processing variables, error limit reached. Execution aborted.");o.push(a)});if(o.length===0)return{coerced:s}}catch(s){o.push(s)}return{errors:o}}function Exe(t,e,r,n){let o={};for(let i of e){let s=i.variable.name.value,a=kt(t,i.type);if(!xr(a)){let u=qe(i.type);n(new D(`Variable "$${s}" expected value of type "${u}" which cannot be used as an input type.`,{nodes:i.type}));continue}if(!HQ(r,s)){if(i.defaultValue)o[s]=Sr(i.defaultValue,a);else if(Y(a)){let u=P(a);n(new D(`Variable "$${s}" of required type "${u}" was not provided.`,{nodes:i}))}continue}let c=r[s];if(c===null&&Y(a)){let u=P(a);n(new D(`Variable "$${s}" of non-null type "${u}" must not be null.`,{nodes:i}));continue}o[s]=gf(c,a,(u,l,f)=>{let d=`Variable "$${s}" got invalid value `+P(l);u.length>0&&(d+=` at "${s}${yA(u)}"`),n(new D(d+"; "+f.message,{nodes:i,originalError:f}))})}return o}function Bu(t,e,r){var n;let o={},i=(n=e.arguments)!==null&&n!==void 0?n:[],s=io(i,a=>a.name.value);for(let a of t.args){let c=a.name,u=a.type,l=s[c];if(!l){if(a.defaultValue!==void 0)o[c]=a.defaultValue;else if(Y(u))throw new D(`Argument "${c}" of required type "${P(u)}" was not provided.`,{nodes:e});continue}let f=l.value,d=f.kind===y.NULL;if(f.kind===y.VARIABLE){let h=f.name.value;if(r==null||!HQ(r,h)){if(a.defaultValue!==void 0)o[c]=a.defaultValue;else if(Y(u))throw new D(`Argument "${c}" of required type "${P(u)}" was provided the variable "$${h}" which was not provided a runtime value.`,{nodes:f});continue}d=r[h]==null}if(d&&Y(u))throw new D(`Argument "${c}" of non-null type "${P(u)}" must not be null.`,{nodes:f});let p=Sr(f,u,r);if(p===void 0)throw new D(`Argument "${c}" has invalid value ${qe(f)}.`,{nodes:f});o[c]=p}return o}function Vr(t,e,r){var n;let o=(n=e.directives)===null||n===void 0?void 0:n.find(i=>i.name.value===t.name);if(o)return Bu(t,o,r)}function HQ(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var Gh=j(()=>{"use strict";Gt();ku();ck();Ge();bt();Ti();Et();uk();Ba();mw()});function zh(t,e,r,n,o){let i=new Map;return gA(t,e,r,n,o,i,new Set),i}function WQ(t,e,r,n,o){let i=new Map,s=new Set;for(let a of o)a.selectionSet&&gA(t,e,r,n,a.selectionSet,i,s);return i}function gA(t,e,r,n,o,i,s){for(let a of o.selections)switch(a.kind){case y.FIELD:{if(!lk(r,a))continue;let c=vxe(a),u=i.get(c);u!==void 0?u.push(a):i.set(c,[a]);break}case y.INLINE_FRAGMENT:{if(!lk(r,a)||!KQ(t,a,n))continue;gA(t,e,r,n,a.selectionSet,i,s);break}case y.FRAGMENT_SPREAD:{let c=a.name.value;if(s.has(c)||!lk(r,a))continue;s.add(c);let u=e[c];if(!u||!KQ(t,u,n))continue;gA(t,e,r,n,u.selectionSet,i,s);break}}}function lk(t,e){let r=Vr(Fa,e,t);if(r?.if===!0)return!1;let n=Vr(La,e,t);return n?.if!==!1}function KQ(t,e,r){let n=e.typeCondition;if(!n)return!0;let o=kt(t,n);return o===r?!0:st(o)?t.isSubType(o,r):!1}function vxe(t){return t.alias?t.alias.value:t.name.value}var wA=j(()=>{"use strict";bt();Et();Lo();Ba();Gh()});function gw(t){return{OperationDefinition(e){if(e.operation==="subscription"){let r=t.getSchema(),n=r.getSubscriptionType();if(n){let o=e.name?e.name.value:null,i=Object.create(null),s=t.getDocument(),a=Object.create(null);for(let u of s.definitions)u.kind===y.FRAGMENT_DEFINITION&&(a[u.name.value]=u);let c=zh(r,a,i,n,e.selectionSet);if(c.size>1){let f=[...c.values()].slice(1).flat();t.reportError(new D(o!=null?`Subscription "${o}" must select only one top level field.`:"Anonymous Subscription must select only one top level field.",{nodes:f}))}for(let u of c.values())u[0].name.value.startsWith("__")&&t.reportError(new D(o!=null?`Subscription "${o}" must not select an introspection top level field.`:"Anonymous Subscription must not select an introspection top level field.",{nodes:u}))}}}}}var fk=j(()=>{"use strict";Ge();bt();wA()});function qh(t,e){let r=new Map;for(let n of t){let o=e(n),i=r.get(o);i===void 0?r.set(o,[n]):i.push(n)}return r}var bA=j(()=>{"use strict"});function ww(t){return{DirectiveDefinition(n){var o;let i=(o=n.arguments)!==null&&o!==void 0?o:[];return r(`@${n.name.value}`,i)},InterfaceTypeDefinition:e,InterfaceTypeExtension:e,ObjectTypeDefinition:e,ObjectTypeExtension:e};function e(n){var o;let i=n.name.value,s=(o=n.fields)!==null&&o!==void 0?o:[];for(let c of s){var a;let u=c.name.value,l=(a=c.arguments)!==null&&a!==void 0?a:[];r(`${i}.${u}`,l)}return!1}function r(n,o){let i=qh(o,s=>s.name.value);for(let[s,a]of i)a.length>1&&t.reportError(new D(`Argument "${n}(${s}:)" can only be defined once.`,{nodes:a.map(c=>c.name)}));return!1}}var dk=j(()=>{"use strict";bA();Ge()});function Qh(t){return{Field:e,Directive:e};function e(r){var n;let o=(n=r.arguments)!==null&&n!==void 0?n:[],i=qh(o,s=>s.name.value);for(let[s,a]of i)a.length>1&&t.reportError(new D(`There can be only one argument named "${s}".`,{nodes:a.map(c=>c.name)}))}}var pk=j(()=>{"use strict";bA();Ge()});function bw(t){let e=Object.create(null),r=t.getSchema();return{DirectiveDefinition(n){let o=n.name.value;if(r!=null&&r.getDirective(o)){t.reportError(new D(`Directive "@${o}" already exists in the schema. It cannot be redefined.`,{nodes:n.name}));return}return e[o]?t.reportError(new D(`There can be only one directive named "@${o}".`,{nodes:[e[o],n.name]})):e[o]=n.name,!1}}}var hk=j(()=>{"use strict";Ge()});function Jh(t){let e=Object.create(null),r=t.getSchema(),n=r?r.getDirectives():rn;for(let a of n)e[a.name]=!a.isRepeatable;let o=t.getDocument().definitions;for(let a of o)a.kind===y.DIRECTIVE_DEFINITION&&(e[a.name.value]=!a.repeatable);let i=Object.create(null),s=Object.create(null);return{enter(a){if(!("directives"in a)||!a.directives)return;let c;if(a.kind===y.SCHEMA_DEFINITION||a.kind===y.SCHEMA_EXTENSION)c=i;else if(cs(a)||Uu(a)){let u=a.name.value;c=s[u],c===void 0&&(s[u]=c=Object.create(null))}else c=Object.create(null);for(let u of a.directives){let l=u.name.value;e[l]&&(c[l]?t.reportError(new D(`The directive "@${l}" can only be used once at this location.`,{nodes:[c[l],u]})):c[l]=u)}}}}var mk=j(()=>{"use strict";Ge();bt();yf();Lo()});function Ew(t){let e=t.getSchema(),r=e?e.getTypeMap():Object.create(null),n=Object.create(null);return{EnumTypeDefinition:o,EnumTypeExtension:o};function o(i){var s;let a=i.name.value;n[a]||(n[a]=Object.create(null));let c=(s=i.values)!==null&&s!==void 0?s:[],u=n[a];for(let l of c){let f=l.name.value,d=r[a];Pe(d)&&d.getValue(f)?t.reportError(new D(`Enum value "${a}.${f}" already exists in the schema. It cannot also be defined in this type extension.`,{nodes:l.name})):u[f]?t.reportError(new D(`Enum value "${a}.${f}" can only be defined once.`,{nodes:[u[f],l.name]})):u[f]=l.name}return!1}}var yk=j(()=>{"use strict";Ge();Et()});function vw(t){let e=t.getSchema(),r=e?e.getTypeMap():Object.create(null),n=Object.create(null);return{InputObjectTypeDefinition:o,InputObjectTypeExtension:o,InterfaceTypeDefinition:o,InterfaceTypeExtension:o,ObjectTypeDefinition:o,ObjectTypeExtension:o};function o(i){var s;let a=i.name.value;n[a]||(n[a]=Object.create(null));let c=(s=i.fields)!==null&&s!==void 0?s:[],u=n[a];for(let l of c){let f=l.name.value;Txe(r[a],f)?t.reportError(new D(`Field "${a}.${f}" already exists in the schema. It cannot also be defined in this type extension.`,{nodes:l.name})):u[f]?t.reportError(new D(`Field "${a}.${f}" can only be defined once.`,{nodes:[u[f],l.name]})):u[f]=l.name}return!1}}function Txe(t,e){return K(t)||Z(t)||pe(t)?t.getFields()[e]!=null:!1}var gk=j(()=>{"use strict";Ge();Et()});function Tw(t){let e=Object.create(null);return{OperationDefinition:()=>!1,FragmentDefinition(r){let n=r.name.value;return e[n]?t.reportError(new D(`There can be only one fragment named "${n}".`,{nodes:[e[n],r.name]})):e[n]=r.name,!1}}}var wk=j(()=>{"use strict";Ge()});function Hh(t){let e=[],r=Object.create(null);return{ObjectValue:{enter(){e.push(r),r=Object.create(null)},leave(){let n=e.pop();n||wt(!1),r=n}},ObjectField(n){let o=n.name.value;r[o]?t.reportError(new D(`There can be only one input field named "${o}".`,{nodes:[r[o],n.name]})):r[o]=n.name}}}var bk=j(()=>{"use strict";ro();Ge()});function xw(t){let e=Object.create(null);return{OperationDefinition(r){let n=r.name;return n&&(e[n.value]?t.reportError(new D(`There can be only one operation named "${n.value}".`,{nodes:[e[n.value],n]})):e[n.value]=n),!1},FragmentDefinition:()=>!1}}var Ek=j(()=>{"use strict";Ge()});function Aw(t){let e=t.getSchema(),r=Object.create(null),n=e?{query:e.getQueryType(),mutation:e.getMutationType(),subscription:e.getSubscriptionType()}:{};return{SchemaDefinition:o,SchemaExtension:o};function o(i){var s;let a=(s=i.operationTypes)!==null&&s!==void 0?s:[];for(let c of a){let u=c.operation,l=r[u];n[u]?t.reportError(new D(`Type for ${u} already defined in the schema. It cannot be redefined.`,{nodes:c})):l?t.reportError(new D(`There can be only one ${u} type in schema.`,{nodes:[l,c]})):r[u]=c}return!1}}var vk=j(()=>{"use strict";Ge()});function Iw(t){let e=Object.create(null),r=t.getSchema();return{ScalarTypeDefinition:n,ObjectTypeDefinition:n,InterfaceTypeDefinition:n,UnionTypeDefinition:n,EnumTypeDefinition:n,InputObjectTypeDefinition:n};function n(o){let i=o.name.value;if(r!=null&&r.getType(i)){t.reportError(new D(`Type "${i}" already exists in the schema. It cannot also be defined in this type definition.`,{nodes:o.name}));return}return e[i]?t.reportError(new D(`There can be only one type named "${i}".`,{nodes:[e[i],o.name]})):e[i]=o.name,!1}}var Tk=j(()=>{"use strict";Ge()});function Sw(t){return{OperationDefinition(e){var r;let n=(r=e.variableDefinitions)!==null&&r!==void 0?r:[],o=qh(n,i=>i.variable.name.value);for(let[i,s]of o)s.length>1&&t.reportError(new D(`There can be only one variable named "$${i}".`,{nodes:s.map(a=>a.variable.name)}))}}}var xk=j(()=>{"use strict";bA();Ge()});function Nw(t){let e={};return{OperationDefinition:{enter(){e={}}},VariableDefinition(r){e[r.variable.name.value]=r},ListValue(r){let n=ln(t.getParentInputType());if(!Ie(n))return wf(t,r),!1},ObjectValue(r){let n=ke(t.getInputType());if(!pe(n))return wf(t,r),!1;let o=io(r.fields,i=>i.name.value);for(let i of Object.values(n.getFields()))if(!o[i.name]&&Rc(i)){let a=P(i.type);t.reportError(new D(`Field "${n.name}.${i.name}" of required type "${a}" was not provided.`,{nodes:r}))}n.isOneOf&&xxe(t,r,n,o)},ObjectField(r){let n=ke(t.getParentInputType());if(!t.getInputType()&&pe(n)){let i=wo(r.name.value,Object.keys(n.getFields()));t.reportError(new D(`Field "${r.name.value}" is not defined by type "${n.name}".`+oo(i),{nodes:r}))}},NullValue(r){let n=t.getInputType();Y(n)&&t.reportError(new D(`Expected value of type "${P(n)}", found ${qe(r)}.`,{nodes:r}))},EnumValue:r=>wf(t,r),IntValue:r=>wf(t,r),FloatValue:r=>wf(t,r),StringValue:r=>wf(t,r),BooleanValue:r=>wf(t,r)}}function wf(t,e){let r=t.getInputType();if(!r)return;let n=ke(r);if(!tt(n)){let o=P(r);t.reportError(new D(`Expected value of type "${o}", found ${qe(e)}.`,{nodes:e}));return}try{if(n.parseLiteral(e,void 0)===void 0){let i=P(r);t.reportError(new D(`Expected value of type "${i}", found ${qe(e)}.`,{nodes:e}))}}catch(o){let i=P(r);o instanceof D?t.reportError(o):t.reportError(new D(`Expected value of type "${i}", found ${qe(e)}; `+o.message,{nodes:e,originalError:o}))}}function xxe(t,e,r,n){var o;let i=Object.keys(n);if(i.length!==1){t.reportError(new D(`OneOf Input Object "${r.name}" must specify exactly one key.`,{nodes:[e]}));return}let a=(o=n[i[0]])===null||o===void 0?void 0:o.value;(!a||a.kind===y.NULL)&&t.reportError(new D(`Field "${r.name}.${i[0]}" must be non-null.`,{nodes:[e]}))}var Ak=j(()=>{"use strict";Ru();Gt();ku();Pu();Ge();bt();Ti();Et()});function _w(t){return{VariableDefinition(e){let r=kt(t.getSchema(),e.type);if(r!==void 0&&!xr(r)){let n=e.variable.name.value,o=qe(e.type);t.reportError(new D(`Variable "$${n}" cannot be non-input type "${o}".`,{nodes:e.type}))}}}}var Ik=j(()=>{"use strict";Ge();Ti();Et();Ba()});function Dw(t){let e=Object.create(null);return{OperationDefinition:{enter(){e=Object.create(null)},leave(r){let n=t.getRecursiveVariableUsages(r);for(let{node:o,type:i,defaultValue:s,parentType:a}of n){let c=o.name.value,u=e[c];if(u&&i){let l=t.getSchema(),f=kt(l,u.type);if(f&&!Axe(l,f,u.defaultValue,i,s)){let d=P(f),p=P(i);t.reportError(new D(`Variable "$${c}" of type "${d}" used in position expecting type "${p}".`,{nodes:[u,o]}))}pe(a)&&a.isOneOf&&$s(f)&&t.reportError(new D(`Variable "$${c}" is of type "${f}" but must be non-nullable to be used for OneOf Input Object "${a}".`,{nodes:[u,o]}))}}}},VariableDefinition(r){e[r.variable.name.value]=r}}}function Axe(t,e,r,n,o){if(Y(n)&&!Y(e)){if(!(r!=null&&r.kind!==y.NULL)&&!(o!==void 0))return!1;let a=n.ofType;return Vs(t,e,a)}return Vs(t,e,n)}var Sk=j(()=>{"use strict";Gt();Ge();bt();Et();B0();Ba()});var EA,Ow,YQ,Nk=j(()=>{"use strict";FR();UR();BR();$R();VR();jR();GR();zR();qR();QR();JR();HR();KR();WR();rk();nk();ok();sk();ak();fk();dk();pk();hk();mk();yk();gk();wk();bk();Ek();vk();Tk();xk();Ak();Ik();Sk();EA=Object.freeze([nw]),Ow=Object.freeze([W0,xw,tw,gw,Vh,X0,_w,dw,Y0,Tw,ew,sw,uw,ow,Sw,iw,aw,$h,Jh,Z0,Qh,Nw,fw,Dw,cw,Hh,...EA]),YQ=Object.freeze([rw,Aw,Iw,Ew,vw,ww,bw,Vh,$h,Jh,lw,MR,Qh,Hh,ik])});var vA,TA,bf,_k=j(()=>{"use strict";bt();cf();lA();vA=class{constructor(e,r){this._ast=e,this._fragments=void 0,this._fragmentSpreads=new Map,this._recursivelyReferencedFragments=new Map,this._onError=r}get[Symbol.toStringTag](){return"ASTValidationContext"}reportError(e){this._onError(e)}getDocument(){return this._ast}getFragment(e){let r;if(this._fragments)r=this._fragments;else{r=Object.create(null);for(let n of this.getDocument().definitions)n.kind===y.FRAGMENT_DEFINITION&&(r[n.name.value]=n);this._fragments=r}return r[e]}getFragmentSpreads(e){let r=this._fragmentSpreads.get(e);if(!r){r=[];let n=[e],o;for(;o=n.pop();)for(let i of o.selections)i.kind===y.FRAGMENT_SPREAD?r.push(i):i.selectionSet&&n.push(i.selectionSet);this._fragmentSpreads.set(e,r)}return r}getRecursivelyReferencedFragments(e){let r=this._recursivelyReferencedFragments.get(e);if(!r){r=[];let n=Object.create(null),o=[e.selectionSet],i;for(;i=o.pop();)for(let s of this.getFragmentSpreads(i)){let a=s.name.value;if(n[a]!==!0){n[a]=!0;let c=this.getFragment(a);c&&(r.push(c),o.push(c.selectionSet))}}this._recursivelyReferencedFragments.set(e,r)}return r}},TA=class extends vA{constructor(e,r,n){super(e,n),this._schema=r}get[Symbol.toStringTag](){return"SDLValidationContext"}getSchema(){return this._schema}},bf=class extends vA{constructor(e,r,n,o){super(r,o),this._schema=e,this._typeInfo=n,this._variableUsages=new Map,this._recursiveVariableUsages=new Map}get[Symbol.toStringTag](){return"ValidationContext"}getSchema(){return this._schema}getVariableUsages(e){let r=this._variableUsages.get(e);if(!r){let n=[],o=new Mn(this._schema);or(e,Mo(o,{VariableDefinition:()=>!1,Variable(i){n.push({node:i,type:o.getInputType(),defaultValue:o.getDefaultValue(),parentType:o.getParentInputType()})}})),r=n,this._variableUsages.set(e,r)}return r}getRecursiveVariableUsages(e){let r=this._recursiveVariableUsages.get(e);if(!r){r=this.getVariableUsages(e);for(let n of this.getRecursivelyReferencedFragments(e))r=r.concat(this.getVariableUsages(n));this._recursiveVariableUsages.set(e,r)}return r}getType(){return this._typeInfo.getType()}getParentType(){return this._typeInfo.getParentType()}getInputType(){return this._typeInfo.getInputType()}getParentInputType(){return this._typeInfo.getParentInputType()}getFieldDef(){return this._typeInfo.getFieldDef()}getDirective(){return this._typeInfo.getDirective()}getArgument(){return this._typeInfo.getArgument()}getEnumValue(){return this._typeInfo.getEnumValue()}}});function Pc(t,e,r=Ow,n,o=new Mn(t)){var i;let s=(i=n?.maxErrors)!==null&&i!==void 0?i:100;e||Me(!1,"Must provide document."),Gs(t);let a=Object.freeze({}),c=[],u=new bf(t,e,o,f=>{if(c.length>=s)throw c.push(new D("Too many validation errors, error limit reached. Validation aborted.")),a;c.push(f)}),l=Nh(r.map(f=>f(u)));try{or(e,Mo(o,l))}catch(f){if(f!==a)throw f}return c}function XQ(t,e,r=YQ){let n=[],o=new TA(t,e,s=>{n.push(s)}),i=r.map(s=>s(o));return or(t,Nh(i)),n}function ZQ(t){let e=XQ(t);if(e.length!==0)throw new Error(e.map(r=>r.message).join(`

`))}function eJ(t,e){let r=XQ(t,e);if(r.length!==0)throw new Error(r.map(n=>n.message).join(`

`))}var Cw=j(()=>{"use strict";yo();Ge();cf();J0();lA();Nk();_k()});function tJ(t){let e;return function(n,o,i){e===void 0&&(e=new WeakMap);let s=e.get(n);s===void 0&&(s=new WeakMap,e.set(n,s));let a=s.get(o);a===void 0&&(a=new WeakMap,s.set(o,a));let c=a.get(i);return c===void 0&&(c=t(n,o,i),a.set(i,c)),c}}var rJ=j(()=>{"use strict"});function Dk(t){return Promise.all(Object.values(t)).then(e=>{let r=Object.create(null);for(let[n,o]of Object.keys(t).entries())r[o]=e[n];return r})}var nJ=j(()=>{"use strict"});function oJ(t,e,r){let n=r;for(let o of t)n=to(n)?n.then(i=>e(i,o)):e(n,o);return n}var iJ=j(()=>{"use strict";Hx()});function sJ(t){return t instanceof Error?t:new Ok(t)}var Ok,aJ=j(()=>{"use strict";Gt();Ok=class extends Error{constructor(e){super("Unexpected error value: "+P(e)),this.name="NonErrorThrown",this.thrownValue=e}}});function xn(t,e,r){var n;let o=sJ(t);return Ixe(o)?o:new D(o.message,{nodes:(n=o.nodes)!==null&&n!==void 0?n:e,source:o.source,positions:o.positions,path:r,originalError:o})}function Ixe(t){return Array.isArray(t.path)}var xA=j(()=>{"use strict";aJ();Ge()});function Ma(t){arguments.length<2||Me(!1,"graphql@16 dropped long-deprecated support for positional arguments, please pass an object instead.");let{schema:e,document:r,variableValues:n,rootValue:o}=t;Rk(e,r,n);let i=kk(t);if(!("schema"in i))return{errors:i};try{let{operation:s}=i,a=Nxe(i,s,o);return to(a)?a.then(c=>AA(c,i.errors),c=>(i.errors.push(c),AA(null,i.errors))):AA(a,i.errors)}catch(s){return i.errors.push(s),AA(null,i.errors)}}function kw(t){let e=Ma(t);if(to(e))throw new Error("GraphQL execution failed to complete synchronously.");return e}function AA(t,e){return e.length===0?{data:t}:{errors:e,data:t}}function Rk(t,e,r){e||Me(!1,"Must provide document."),Gs(t),r==null||Br(r)||Me(!1,"Variables must be provided as an Object where each property is a variable value. Perhaps look to see if an unparsed JSON string was provided.")}function kk(t){var e,r,n;let{schema:o,document:i,rootValue:s,contextValue:a,variableValues:c,operationName:u,fieldResolver:l,typeResolver:f,subscribeFieldResolver:d,options:p}=t,h,m=Object.create(null);for(let T of i.definitions)switch(T.kind){case y.OPERATION_DEFINITION:if(u==null){if(h!==void 0)return[new D("Must provide operation name if query contains multiple operations.")];h=T}else((e=T.name)===null||e===void 0?void 0:e.value)===u&&(h=T);break;case y.FRAGMENT_DEFINITION:m[T.name.value]=T;break;default:}if(!h)return u!=null?[new D(`Unknown operation named "${u}".`)]:[new D("Must provide an operation.")];let g=(r=h.variableDefinitions)!==null&&r!==void 0?r:[],w=yw(o,g,c??{},{maxErrors:(n=p?.maxCoercionErrors)!==null&&n!==void 0?n:50});return w.errors?w.errors:{schema:o,fragments:m,rootValue:s,contextValue:a,operation:h,variableValues:w.coerced,fieldResolver:l??Ef,typeResolver:f??NA,subscribeFieldResolver:d??Ef,errors:[]}}function Nxe(t,e,r){let n=t.schema.getRootType(e.operation);if(n==null)throw new D(`Schema is not configured to execute ${e.operation} operation.`,{nodes:e});let o=zh(t.schema,t.fragments,t.variableValues,n,e.selectionSet),i=void 0;switch(e.operation){case br.QUERY:return IA(t,n,r,i,o);case br.MUTATION:return _xe(t,n,r,i,o);case br.SUBSCRIPTION:return IA(t,n,r,i,o)}}function _xe(t,e,r,n,o){return oJ(o.entries(),(i,[s,a])=>{let c=kc(n,s,e.name),u=lJ(t,e,r,a,c);return u===void 0?i:to(u)?u.then(l=>(i[s]=l,i)):(i[s]=u,i)},Object.create(null))}function IA(t,e,r,n,o){let i=Object.create(null),s=!1;try{for(let[a,c]of o.entries()){let u=kc(n,a,e.name),l=lJ(t,e,r,c,u);l!==void 0&&(i[a]=l,to(l)&&(s=!0))}}catch(a){if(s)return Dk(i).finally(()=>{throw a});throw a}return s?Dk(i):i}function lJ(t,e,r,n,o){var i;let s=Lk(t.schema,e,n[0]);if(!s)return;let a=s.type,c=(i=s.resolve)!==null&&i!==void 0?i:t.fieldResolver,u=Pk(t,s,n,e,o);try{let l=Bu(s,n[0],t.variableValues),f=t.contextValue,d=c(r,l,f,u),p;return to(d)?p=d.then(h=>Rw(t,a,n,u,o,h)):p=Rw(t,a,n,u,o,d),to(p)?p.then(void 0,h=>{let m=xn(h,n,Ir(o));return SA(m,a,t)}):p}catch(l){let f=xn(l,n,Ir(o));return SA(f,a,t)}}function Pk(t,e,r,n,o){return{fieldName:e.name,fieldNodes:r,returnType:e.type,parentType:n,path:o,schema:t.schema,fragments:t.fragments,rootValue:t.rootValue,operation:t.operation,variableValues:t.variableValues}}function SA(t,e,r){if(Y(e))throw t;return r.errors.push(t),null}function Rw(t,e,r,n,o,i){if(i instanceof Error)throw i;if(Y(e)){let s=Rw(t,e.ofType,r,n,o,i);if(s===null)throw new Error(`Cannot return null for non-nullable field ${n.parentType.name}.${n.fieldName}.`);return s}if(i==null)return null;if(Ie(e))return Dxe(t,e,r,n,o,i);if(tt(e))return Oxe(e,i);if(st(e))return Cxe(t,e,r,n,o,i);if(K(e))return Ck(t,e,r,n,o,i);wt(!1,"Cannot complete value of unexpected output type: "+P(e))}function Dxe(t,e,r,n,o,i){if(!Ph(i))throw new D(`Expected Iterable, but did not find one for field "${n.parentType.name}.${n.fieldName}".`);let s=e.ofType,a=!1,c=Array.from(i,(u,l)=>{let f=kc(o,l,void 0);try{let d;return to(u)?d=u.then(p=>Rw(t,s,r,n,f,p)):d=Rw(t,s,r,n,f,u),to(d)?(a=!0,d.then(void 0,p=>{let h=xn(p,r,Ir(f));return SA(h,s,t)})):d}catch(d){let p=xn(d,r,Ir(f));return SA(p,s,t)}});return a?Promise.all(c):c}function Oxe(t,e){let r=t.serialize(e);if(r==null)throw new Error(`Expected \`${P(t)}.serialize(${P(e)})\` to return non-nullable value, returned: ${P(r)}`);return r}function Cxe(t,e,r,n,o,i){var s;let a=(s=e.resolveType)!==null&&s!==void 0?s:t.typeResolver,c=t.contextValue,u=a(i,c,n,e);return to(u)?u.then(l=>Ck(t,cJ(l,t,e,r,n,i),r,n,o,i)):Ck(t,cJ(u,t,e,r,n,i),r,n,o,i)}function cJ(t,e,r,n,o,i){if(t==null)throw new D(`Abstract type "${r.name}" must resolve to an Object type at runtime for field "${o.parentType.name}.${o.fieldName}". Either the "${r.name}" type should provide a "resolveType" function or each possible type should provide an "isTypeOf" function.`,n);if(K(t))throw new D("Support for returning GraphQLObjectType from resolveType was removed in graphql-js@16.0.0 please return type name instead.");if(typeof t!="string")throw new D(`Abstract type "${r.name}" must resolve to an Object type at runtime for field "${o.parentType.name}.${o.fieldName}" with value ${P(i)}, received "${P(t)}".`);let s=e.schema.getType(t);if(s==null)throw new D(`Abstract type "${r.name}" was resolved to a type "${t}" that does not exist inside the schema.`,{nodes:n});if(!K(s))throw new D(`Abstract type "${r.name}" was resolved to a non-object type "${t}".`,{nodes:n});if(!e.schema.isSubType(r,s))throw new D(`Runtime Object type "${s.name}" is not a possible type for "${r.name}".`,{nodes:n});return s}function Ck(t,e,r,n,o,i){let s=Sxe(t,e,r);if(e.isTypeOf){let a=e.isTypeOf(i,t.contextValue,n);if(to(a))return a.then(c=>{if(!c)throw uJ(e,i,r);return IA(t,e,i,o,s)});if(!a)throw uJ(e,i,r)}return IA(t,e,i,o,s)}function uJ(t,e,r){return new D(`Expected value of type "${t.name}" but got: ${P(e)}.`,{nodes:r})}function Lk(t,e,r){let n=r.name.value;return n===is.name&&t.getQueryType()===e?is:n===ss.name&&t.getQueryType()===e?ss:n===Bo.name?Bo:e.getFields()[n]}var Sxe,NA,Ef,Pw=j(()=>{"use strict";yo();Gt();ro();uA();Oa();Hx();rJ();pw();nJ();iJ();Ge();xA();Us();bt();Et();as();J0();wA();Gh();Sxe=tJ((t,e,r)=>WQ(t.schema,t.fragments,t.variableValues,e,r));NA=function(t,e,r,n){if(Br(t)&&typeof t.__typename=="string")return t.__typename;let o=r.schema.getPossibleTypes(n),i=[];for(let s=0;s<o.length;s++){let a=o[s];if(a.isTypeOf){let c=a.isTypeOf(t,e,r);if(to(c))i[s]=c;else if(c)return i.length&&Promise.allSettled(i).catch(()=>{}),a.name}}if(i.length)return Promise.all(i).then(s=>{for(let a=0;a<s.length;a++)if(s[a])return o[a].name})},Ef=function(t,e,r,n){if(Br(t)||typeof t=="function"){let o=t[n.fieldName];return typeof o=="function"?t[n.fieldName](e,r,n):o}}});function fJ(t){return new Promise(e=>e(pJ(t)))}function dJ(t){let e=pJ(t);if(to(e))throw new Error("GraphQL execution failed to complete synchronously.");return e}function pJ(t){arguments.length<2||Me(!1,"graphql@16 dropped long-deprecated support for positional arguments, please pass an object instead.");let{schema:e,source:r,rootValue:n,contextValue:o,variableValues:i,operationName:s,fieldResolver:a,typeResolver:c}=t,u=Fh(e);if(u.length>0)return{errors:u};let l;try{l=no(r)}catch(d){return{errors:[d]}}let f=Pc(e,l);return f.length>0?{errors:f}:Ma({schema:e,document:l,rootValue:n,contextValue:o,variableValues:i,operationName:s,fieldResolver:a,typeResolver:c})}var hJ=j(()=>{"use strict";yo();Hx();af();J0();Cw();Pw()});var mJ=j(()=>{"use strict";hf();Et();Lo();ka();as();J0();R0()});var yJ=j(()=>{"use strict";nA();Kx();XC();bt();Ih();A0();af();Ti();cf();Us();yf();xh()});function Fk(t){return typeof t?.[Symbol.asyncIterator]=="function"}var gJ=j(()=>{"use strict"});function wJ(t,e){let r=t[Symbol.asyncIterator]();function n(i){return E(this,null,function*(){if(i.done)return i;try{return{value:yield e(i.value),done:!1}}catch(s){if(typeof r.return=="function")try{yield r.return()}catch{}throw s}})}return{next(){return E(this,null,function*(){return n(yield r.next())})},return(){return E(this,null,function*(){return typeof r.return=="function"?n(yield r.return()):{value:void 0,done:!0}})},throw(i){return E(this,null,function*(){if(typeof r.throw=="function")return n(yield r.throw(i));throw i})},[Symbol.asyncIterator](){return this}}}var bJ=j(()=>{"use strict"});function Uk(e){return E(this,arguments,function*(t){arguments.length<2||Me(!1,"graphql@16 dropped long-deprecated support for positional arguments, please pass an object instead.");let r=yield _A(t);return Fk(r)?wJ(r,o=>Ma(S(b({},t),{rootValue:o}))):r})}function Rxe(t){let e=t[0];return e&&"document"in e?e:{schema:e,document:t[1],rootValue:t[2],contextValue:t[3],variableValues:t[4],operationName:t[5],subscribeFieldResolver:t[6]}}function _A(...t){return E(this,null,function*(){let e=Rxe(t),{schema:r,document:n,variableValues:o}=e;Rk(r,n,o);let i=kk(e);if(!("schema"in i))return{errors:i};try{let s=yield kxe(i);if(!Fk(s))throw new Error(`Subscription field must return Async Iterable. Received: ${P(s)}.`);return s}catch(s){if(s instanceof D)return{errors:[s]};throw s}})}function kxe(t){return E(this,null,function*(){let{schema:e,fragments:r,operation:n,variableValues:o,rootValue:i}=t,s=e.getSubscriptionType();if(s==null)throw new D("Schema is not configured to execute subscription operation.",{nodes:n});let a=zh(e,r,o,s,n.selectionSet),[c,u]=[...a.entries()][0],l=Lk(e,s,u[0]);if(!l){let h=u[0].name.value;throw new D(`The subscription field "${h}" is not defined.`,{nodes:u})}let f=kc(void 0,c,s.name),d=Pk(t,l,u,s,f);try{var p;let h=Bu(l,u[0],o),m=t.contextValue,w=yield((p=l.subscribe)!==null&&p!==void 0?p:t.subscribeFieldResolver)(i,h,m,d);if(w instanceof Error)throw w;return w}catch(h){throw xn(h,u,Ir(f))}})}var EJ=j(()=>{"use strict";yo();Gt();gJ();pw();Ge();xA();wA();Pw();bJ();Gh()});var vJ=j(()=>{"use strict";pw();Pw();EJ();Gh()});function Bk(t){return{Field(e){let r=t.getFieldDef(),n=r?.deprecationReason;if(r&&n!=null){let o=t.getParentType();o!=null||wt(!1),t.reportError(new D(`The field ${o.name}.${r.name} is deprecated. ${n}`,{nodes:e}))}},Argument(e){let r=t.getArgument(),n=r?.deprecationReason;if(r&&n!=null){let o=t.getDirective();if(o!=null)t.reportError(new D(`Directive "@${o.name}" argument "${r.name}" is deprecated. ${n}`,{nodes:e}));else{let i=t.getParentType(),s=t.getFieldDef();i!=null&&s!=null||wt(!1),t.reportError(new D(`Field "${i.name}.${s.name}" argument "${r.name}" is deprecated. ${n}`,{nodes:e}))}}},ObjectField(e){let r=ke(t.getParentInputType());if(pe(r)){let n=r.getFields()[e.name.value],o=n?.deprecationReason;o!=null&&t.reportError(new D(`The input field ${r.name}.${n.name} is deprecated. ${o}`,{nodes:e}))}},EnumValue(e){let r=t.getEnumValue(),n=r?.deprecationReason;if(r&&n!=null){let o=ke(t.getInputType());o!=null||wt(!1),t.reportError(new D(`The enum value "${o.name}.${r.name}" is deprecated. ${n}`,{nodes:e}))}}}}var TJ=j(()=>{"use strict";ro();Ge();Et()});function Mk(t){return{Field(e){let r=ke(t.getType());r&&Tn(r)&&t.reportError(new D(`GraphQL introspection has been disabled, but the requested query contained the field "${e.name.value}".`,{nodes:e}))}}}var xJ=j(()=>{"use strict";Ge();Et();as()});var AJ=j(()=>{"use strict";Cw();_k();Nk();FR();UR();BR();$R();VR();jR();GR();zR();JR();HR();KR();WR();rk();nk();sk();ak();fk();pk();mk();wk();bk();Ek();xk();Ak();Ik();Sk();QR();qR();vk();Tk();yk();gk();dk();hk();ok();TJ();xJ()});var IJ=j(()=>{"use strict";Ge();b0();xA()});function Kh(t){let e=b({descriptions:!0,specifiedByUrl:!1,directiveIsRepeatable:!1,schemaDescription:!1,inputValueDeprecation:!1,oneOf:!1},t),r=e.descriptions?"description":"",n=e.specifiedByUrl?"specifiedByURL":"",o=e.directiveIsRepeatable?"isRepeatable":"",i=e.schemaDescription?r:"";function s(c){return e.inputValueDeprecation?c:""}let a=e.oneOf?"isOneOf":"";return`
    query IntrospectionQuery {
      __schema {
        ${i}
        queryType { name kind }
        mutationType { name kind }
        subscriptionType { name kind }
        types {
          ...FullType
        }
        directives {
          name
          ${r}
          ${o}
          locations
          args${s("(includeDeprecated: true)")} {
            ...InputValue
          }
        }
      }
    }

    fragment FullType on __Type {
      kind
      name
      ${r}
      ${n}
      ${a}
      fields(includeDeprecated: true) {
        name
        ${r}
        args${s("(includeDeprecated: true)")} {
          ...InputValue
        }
        type {
          ...TypeRef
        }
        isDeprecated
        deprecationReason
      }
      inputFields${s("(includeDeprecated: true)")} {
        ...InputValue
      }
      interfaces {
        ...TypeRef
      }
      enumValues(includeDeprecated: true) {
        name
        ${r}
        isDeprecated
        deprecationReason
      }
      possibleTypes {
        ...TypeRef
      }
    }

    fragment InputValue on __InputValue {
      name
      ${r}
      type { ...TypeRef }
      defaultValue
      ${s("isDeprecated")}
      ${s("deprecationReason")}
    }

    fragment TypeRef on __Type {
      kind
      name
      ofType {
        kind
        name
        ofType {
          kind
          name
          ofType {
            kind
            name
            ofType {
              kind
              name
              ofType {
                kind
                name
                ofType {
                  kind
                  name
                  ofType {
                    kind
                    name
                    ofType {
                      kind
                      name
                      ofType {
                        kind
                        name
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  `}var $k=j(()=>{"use strict"});function vf(t,e){let r=null;for(let o of t.definitions)if(o.kind===y.OPERATION_DEFINITION){var n;if(e==null){if(r)return null;r=o}else if(((n=o.name)===null||n===void 0?void 0:n.value)===e)return o}return r}var SJ=j(()=>{"use strict";bt()});function Vk(t,e){if(e.operation==="query"){let r=t.getQueryType();if(!r)throw new D("Schema does not define the required query root type.",{nodes:e});return r}if(e.operation==="mutation"){let r=t.getMutationType();if(!r)throw new D("Schema is not configured for mutations.",{nodes:e});return r}if(e.operation==="subscription"){let r=t.getSubscriptionType();if(!r)throw new D("Schema is not configured for subscriptions.",{nodes:e});return r}throw new D("Can only have query, mutation and subscription operations.",{nodes:e})}var NJ=j(()=>{"use strict";Ge()});function jk(t,e){let r=b({specifiedByUrl:!0,directiveIsRepeatable:!0,schemaDescription:!0,inputValueDeprecation:!0,oneOf:!0},e),n=no(Kh(r)),o=kw({schema:t,document:n});return!o.errors&&o.data||wt(!1),o.data}var _J=j(()=>{"use strict";ro();af();Pw();$k()});function DA(t,e){Br(t)&&Br(t.__schema)||Me(!1,`Invalid or incomplete introspection result. Ensure that you are passing "data" property of introspection response and no "errors" was returned alongside: ${P(t)}.`);let r=t.__schema,n=ts(r.types,I=>I.name,I=>d(I));for(let I of[...Ra,...Ua])n[I.name]&&(n[I.name]=I);let o=r.queryType?l(r.queryType):null,i=r.mutationType?l(r.mutationType):null,s=r.subscriptionType?l(r.subscriptionType):null,a=r.directives?r.directives.map(C):[];return new _r({description:r.description,query:o,mutation:i,subscription:s,types:Object.values(n),directives:a,assumeValid:e?.assumeValid});function c(I){if(I.kind===Ht.LIST){let k=I.ofType;if(!k)throw new Error("Decorated type deeper than introspection query.");return new je(c(k))}if(I.kind===Ht.NON_NULL){let k=I.ofType;if(!k)throw new Error("Decorated type deeper than introspection query.");let M=c(k);return new J(L0(M))}return u(I)}function u(I){let k=I.name;if(!k)throw new Error(`Unknown type reference: ${P(I)}.`);let M=n[k];if(!M)throw new Error(`Invalid or incomplete schema, unknown type: ${k}. Ensure that a full introspection query is used in order to build a client schema.`);return M}function l(I){return k0(u(I))}function f(I){return P0(u(I))}function d(I){if(I!=null&&I.name!=null&&I.kind!=null)switch(I.kind){case Ht.SCALAR:return p(I);case Ht.OBJECT:return m(I);case Ht.INTERFACE:return g(I);case Ht.UNION:return w(I);case Ht.ENUM:return T(I);case Ht.INPUT_OBJECT:return v(I)}let k=P(I);throw new Error(`Invalid or incomplete introspection result. Ensure that a full introspection query is used in order to build a client schema: ${k}.`)}function p(I){return new Ce({name:I.name,description:I.description,specifiedByURL:I.specifiedByURL})}function h(I){if(I.interfaces===null&&I.kind===Ht.INTERFACE)return[];if(!I.interfaces){let k=P(I);throw new Error(`Introspection result missing interfaces: ${k}.`)}return I.interfaces.map(f)}function m(I){return new Qe({name:I.name,description:I.description,interfaces:()=>h(I),fields:()=>x(I)})}function g(I){return new dt({name:I.name,description:I.description,interfaces:()=>h(I),fields:()=>x(I)})}function w(I){if(!I.possibleTypes){let k=P(I);throw new Error(`Introspection result missing possibleTypes: ${k}.`)}return new Tr({name:I.name,description:I.description,types:()=>I.possibleTypes.map(l)})}function T(I){if(!I.enumValues){let k=P(I);throw new Error(`Introspection result missing enumValues: ${k}.`)}return new Nt({name:I.name,description:I.description,values:ts(I.enumValues,k=>k.name,k=>({description:k.description,deprecationReason:k.deprecationReason}))})}function v(I){if(!I.inputFields){let k=P(I);throw new Error(`Introspection result missing inputFields: ${k}.`)}return new Ye({name:I.name,description:I.description,fields:()=>_(I.inputFields),isOneOf:I.isOneOf})}function x(I){if(!I.fields)throw new Error(`Introspection result missing fields: ${P(I)}.`);return ts(I.fields,k=>k.name,A)}function A(I){let k=c(I.type);if(!xi(k)){let M=P(k);throw new Error(`Introspection must provide output type for fields, but received: ${M}.`)}if(!I.args){let M=P(I);throw new Error(`Introspection result missing field args: ${M}.`)}return{description:I.description,deprecationReason:I.deprecationReason,type:k,args:_(I.args)}}function _(I){return ts(I,k=>k.name,O)}function O(I){let k=c(I.type);if(!xr(k)){let X=P(k);throw new Error(`Introspection must provide input type for arguments, but received: ${X}.`)}let M=I.defaultValue!=null?Sr(N0(I.defaultValue),k):void 0;return{description:I.description,type:k,defaultValue:M,deprecationReason:I.deprecationReason}}function C(I){if(!I.args){let k=P(I);throw new Error(`Introspection result missing directive args: ${k}.`)}if(!I.locations){let k=P(I);throw new Error(`Introspection result missing directive locations: ${k}.`)}return new zt({name:I.name,description:I.description,isRepeatable:I.isRepeatable,locations:I.locations.slice(),args:_(I.args)})}}var DJ=j(()=>{"use strict";yo();Gt();Oa();D0();af();Et();Lo();as();ka();hf();mw()});function Lw(t,e,r){pf(t),e!=null&&e.kind===y.DOCUMENT||Me(!1,"Must provide valid Document AST."),r?.assumeValid!==!0&&r?.assumeValidSDL!==!0&&eJ(e,t);let n=t.toConfig(),o=Gk(n,e,r);return n===o?t:new _r(o)}function Gk(t,e,r){var n,o,i,s;let a=[],c=Object.create(null),u=[],l,f=[];for(let R of e.definitions)if(R.kind===y.SCHEMA_DEFINITION)l=R;else if(R.kind===y.SCHEMA_EXTENSION)f.push(R);else if(cs(R))a.push(R);else if(Uu(R)){let W=R.name.value,H=c[W];c[W]=H?H.concat([R]):[R]}else R.kind===y.DIRECTIVE_DEFINITION&&u.push(R);if(Object.keys(c).length===0&&a.length===0&&u.length===0&&f.length===0&&l==null)return t;let d=Object.create(null);for(let R of t.types)d[R.name]=T(R);for(let R of a){var p;let W=R.name.value;d[W]=(p=OJ[W])!==null&&p!==void 0?p:ge(R)}let h=b(b({query:t.query&&g(t.query),mutation:t.mutation&&g(t.mutation),subscription:t.subscription&&g(t.subscription)},l&&M([l])),M(f));return S(b({description:(n=l)===null||n===void 0||(o=n.description)===null||o===void 0?void 0:o.value},h),{types:Object.values(d),directives:[...t.directives.map(w),...u.map(ye)],extensions:Object.create(null),astNode:(i=l)!==null&&i!==void 0?i:t.astNode,extensionASTNodes:t.extensionASTNodes.concat(f),assumeValid:(s=r?.assumeValid)!==null&&s!==void 0?s:!1});function m(R){return Ie(R)?new je(m(R.ofType)):Y(R)?new J(m(R.ofType)):g(R)}function g(R){return d[R.name]}function w(R){let W=R.toConfig();return new zt(S(b({},W),{args:Bs(W.args,k)}))}function T(R){if(Tn(R)||Kr(R))return R;if(lt(R))return A(R);if(K(R))return _(R);if(Z(R))return O(R);if(Ue(R))return C(R);if(Pe(R))return x(R);if(pe(R))return v(R);wt(!1,"Unexpected type: "+P(R))}function v(R){var W;let H=R.toConfig(),te=(W=c[H.name])!==null&&W!==void 0?W:[];return new Ye(S(b({},H),{fields:()=>b(b({},Bs(H.fields,_e=>S(b({},_e),{type:m(_e.type)}))),ot(te)),extensionASTNodes:H.extensionASTNodes.concat(te)}))}function x(R){var W;let H=R.toConfig(),te=(W=c[R.name])!==null&&W!==void 0?W:[];return new Nt(S(b({},H),{values:b(b({},H.values),ne(te)),extensionASTNodes:H.extensionASTNodes.concat(te)}))}function A(R){var W;let H=R.toConfig(),te=(W=c[H.name])!==null&&W!==void 0?W:[],_e=H.specifiedByURL;for(let He of te){var Ve;_e=(Ve=CJ(He))!==null&&Ve!==void 0?Ve:_e}return new Ce(S(b({},H),{specifiedByURL:_e,extensionASTNodes:H.extensionASTNodes.concat(te)}))}function _(R){var W;let H=R.toConfig(),te=(W=c[H.name])!==null&&W!==void 0?W:[];return new Qe(S(b({},H),{interfaces:()=>[...R.getInterfaces().map(g),...L(te)],fields:()=>b(b({},Bs(H.fields,I)),Te(te)),extensionASTNodes:H.extensionASTNodes.concat(te)}))}function O(R){var W;let H=R.toConfig(),te=(W=c[H.name])!==null&&W!==void 0?W:[];return new dt(S(b({},H),{interfaces:()=>[...R.getInterfaces().map(g),...L(te)],fields:()=>b(b({},Bs(H.fields,I)),Te(te)),extensionASTNodes:H.extensionASTNodes.concat(te)}))}function C(R){var W;let H=R.toConfig(),te=(W=c[H.name])!==null&&W!==void 0?W:[];return new Tr(S(b({},H),{types:()=>[...R.getTypes().map(g),...ae(te)],extensionASTNodes:H.extensionASTNodes.concat(te)}))}function I(R){return S(b({},R),{type:m(R.type),args:R.args&&Bs(R.args,k)})}function k(R){return S(b({},R),{type:m(R.type)})}function M(R){let W={};for(let te of R){var H;let _e=(H=te.operationTypes)!==null&&H!==void 0?H:[];for(let Ve of _e)W[Ve.operation]=X(Ve.type)}return W}function X(R){var W;let H=R.name.value,te=(W=OJ[H])!==null&&W!==void 0?W:d[H];if(te===void 0)throw new Error(`Unknown type: "${H}".`);return te}function re(R){return R.kind===y.LIST_TYPE?new je(re(R.type)):R.kind===y.NON_NULL_TYPE?new J(re(R.type)):X(R)}function ye(R){var W;return new zt({name:R.name.value,description:(W=R.description)===null||W===void 0?void 0:W.value,locations:R.locations.map(({value:H})=>H),isRepeatable:R.repeatable,args:$e(R.arguments),astNode:R})}function Te(R){let W=Object.create(null);for(let _e of R){var H;let Ve=(H=_e.fields)!==null&&H!==void 0?H:[];for(let He of Ve){var te;W[He.name.value]={type:re(He.type),description:(te=He.description)===null||te===void 0?void 0:te.value,args:$e(He.arguments),deprecationReason:OA(He),astNode:He}}}return W}function $e(R){let W=R??[],H=Object.create(null);for(let _e of W){var te;let Ve=re(_e.type);H[_e.name.value]={type:Ve,description:(te=_e.description)===null||te===void 0?void 0:te.value,defaultValue:Sr(_e.defaultValue,Ve),deprecationReason:OA(_e),astNode:_e}}return H}function ot(R){let W=Object.create(null);for(let _e of R){var H;let Ve=(H=_e.fields)!==null&&H!==void 0?H:[];for(let He of Ve){var te;let er=re(He.type);W[He.name.value]={type:er,description:(te=He.description)===null||te===void 0?void 0:te.value,defaultValue:Sr(He.defaultValue,er),deprecationReason:OA(He),astNode:He}}}return W}function ne(R){let W=Object.create(null);for(let _e of R){var H;let Ve=(H=_e.values)!==null&&H!==void 0?H:[];for(let He of Ve){var te;W[He.name.value]={description:(te=He.description)===null||te===void 0?void 0:te.value,deprecationReason:OA(He),astNode:He}}}return W}function L(R){return R.flatMap(W=>{var H,te;return(H=(te=W.interfaces)===null||te===void 0?void 0:te.map(X))!==null&&H!==void 0?H:[]})}function ae(R){return R.flatMap(W=>{var H,te;return(H=(te=W.types)===null||te===void 0?void 0:te.map(X))!==null&&H!==void 0?H:[]})}function ge(R){var W;let H=R.name.value,te=(W=c[H])!==null&&W!==void 0?W:[];switch(R.kind){case y.OBJECT_TYPE_DEFINITION:{var _e;let Xr=[R,...te];return new Qe({name:H,description:(_e=R.description)===null||_e===void 0?void 0:_e.value,interfaces:()=>L(Xr),fields:()=>Te(Xr),astNode:R,extensionASTNodes:te})}case y.INTERFACE_TYPE_DEFINITION:{var Ve;let Xr=[R,...te];return new dt({name:H,description:(Ve=R.description)===null||Ve===void 0?void 0:Ve.value,interfaces:()=>L(Xr),fields:()=>Te(Xr),astNode:R,extensionASTNodes:te})}case y.ENUM_TYPE_DEFINITION:{var He;let Xr=[R,...te];return new Nt({name:H,description:(He=R.description)===null||He===void 0?void 0:He.value,values:ne(Xr),astNode:R,extensionASTNodes:te})}case y.UNION_TYPE_DEFINITION:{var er;let Xr=[R,...te];return new Tr({name:H,description:(er=R.description)===null||er===void 0?void 0:er.value,types:()=>ae(Xr),astNode:R,extensionASTNodes:te})}case y.SCALAR_TYPE_DEFINITION:{var xo;return new Ce({name:H,description:(xo=R.description)===null||xo===void 0?void 0:xo.value,specifiedByURL:CJ(R),astNode:R,extensionASTNodes:te})}case y.INPUT_OBJECT_TYPE_DEFINITION:{var dn;let Xr=[R,...te];return new Ye({name:H,description:(dn=R.description)===null||dn===void 0?void 0:dn.value,fields:()=>ot(Xr),astNode:R,extensionASTNodes:te,isOneOf:Pxe(R)})}}}}function OA(t){let e=Vr(ns,t);return e?.reason}function CJ(t){let e=Vr(Rh,t);return e?.url}function Pxe(t){return!!Vr(kh,t)}var OJ,zk=j(()=>{"use strict";yo();Gt();ro();ku();aR();bt();yf();Et();Lo();as();ka();hf();Cw();Gh();mw();OJ=io([...Ra,...Ua],t=>t.name)});function CA(t,e){t!=null&&t.kind===y.DOCUMENT||Me(!1,"Must provide valid Document AST."),e?.assumeValid!==!0&&e?.assumeValidSDL!==!0&&ZQ(t);let n=Gk({description:void 0,types:[],directives:[],extensions:Object.create(null),extensionASTNodes:[],assumeValid:!1},t,e);if(n.astNode==null)for(let i of n.types)switch(i.name){case"Query":n.query=i;break;case"Mutation":n.mutation=i;break;case"Subscription":n.subscription=i;break}let o=[...n.directives,...rn.filter(i=>n.directives.every(s=>s.name!==i.name))];return new _r(S(b({},n),{directives:o}))}function qk(t,e){let r=no(t,{noLocation:e?.noLocation,allowLegacyFragmentVariables:e?.allowLegacyFragmentVariables});return CA(r,{assumeValidSDL:e?.assumeValidSDL,assumeValid:e?.assumeValid})}var RJ=j(()=>{"use strict";yo();bt();af();Lo();hf();Cw();zk()});function Jk(t){let e=t.toConfig(),r=ts(Qk(e.types),d=>d.name,f);return new _r(S(b({},e),{types:Object.values(r),directives:Qk(e.directives).map(s),query:i(e.query),mutation:i(e.mutation),subscription:i(e.subscription)}));function n(d){return Ie(d)?new je(n(d.ofType)):Y(d)?new J(n(d.ofType)):o(d)}function o(d){return r[d.name]}function i(d){return d&&o(d)}function s(d){let p=d.toConfig();return new zt(S(b({},p),{locations:kJ(p.locations,h=>h),args:a(p.args)}))}function a(d){return RA(d,p=>S(b({},p),{type:n(p.type)}))}function c(d){return RA(d,p=>S(b({},p),{type:n(p.type),args:p.args&&a(p.args)}))}function u(d){return RA(d,p=>S(b({},p),{type:n(p.type)}))}function l(d){return Qk(d).map(o)}function f(d){if(lt(d)||Tn(d))return d;if(K(d)){let p=d.toConfig();return new Qe(S(b({},p),{interfaces:()=>l(p.interfaces),fields:()=>c(p.fields)}))}if(Z(d)){let p=d.toConfig();return new dt(S(b({},p),{interfaces:()=>l(p.interfaces),fields:()=>c(p.fields)}))}if(Ue(d)){let p=d.toConfig();return new Tr(S(b({},p),{types:()=>l(p.types)}))}if(Pe(d)){let p=d.toConfig();return new Nt(S(b({},p),{values:RA(p.values,h=>h)}))}if(pe(d)){let p=d.toConfig();return new Ye(S(b({},p),{fields:()=>u(p.fields)}))}wt(!1,"Unexpected type: "+P(d))}}function RA(t,e){let r=Object.create(null);for(let n of Object.keys(t).sort(Dc))r[n]=e(t[n]);return r}function Qk(t){return kJ(t,e=>e.name)}function kJ(t,e){return t.slice().sort((r,n)=>{let o=e(r),i=e(n);return Dc(o,i)})}var PJ=j(()=>{"use strict";Gt();ro();D0();O0();Et();Lo();as();hf()});function Kk(t){return LJ(t,e=>!os(e),Lxe)}function Wk(t){return LJ(t,os,Tn)}function Lxe(t){return!Kr(t)&&!Tn(t)}function LJ(t,e,r){let n=t.getDirectives().filter(e),o=Object.values(t.getTypeMap()).filter(r);return[Fxe(t),...n.map(i=>zxe(i)),...o.map(i=>kA(i))].filter(Boolean).join(`

`)}function Fxe(t){if(t.description==null&&Uxe(t))return;let e=[],r=t.getQueryType();r&&e.push(`  query: ${r.name}`);let n=t.getMutationType();n&&e.push(`  mutation: ${n.name}`);let o=t.getSubscriptionType();return o&&e.push(`  subscription: ${o.name}`),us(t)+`schema {
${e.join(`
`)}
}`}function Uxe(t){let e=t.getQueryType();if(e&&e.name!=="Query")return!1;let r=t.getMutationType();if(r&&r.name!=="Mutation")return!1;let n=t.getSubscriptionType();return!(n&&n.name!=="Subscription")}function kA(t){if(lt(t))return Bxe(t);if(K(t))return Mxe(t);if(Z(t))return $xe(t);if(Ue(t))return Vxe(t);if(Pe(t))return jxe(t);if(pe(t))return Gxe(t);wt(!1,"Unexpected type: "+P(t))}function Bxe(t){return us(t)+`scalar ${t.name}`+qxe(t)}function FJ(t){let e=t.getInterfaces();return e.length?" implements "+e.map(r=>r.name).join(" & "):""}function Mxe(t){return us(t)+`type ${t.name}`+FJ(t)+UJ(t)}function $xe(t){return us(t)+`interface ${t.name}`+FJ(t)+UJ(t)}function Vxe(t){let e=t.getTypes(),r=e.length?" = "+e.join(" | "):"";return us(t)+"union "+t.name+r}function jxe(t){let e=t.getValues().map((r,n)=>us(r,"  ",!n)+"  "+r.name+Xk(r.deprecationReason));return us(t)+`enum ${t.name}`+Yk(e)}function Gxe(t){let e=Object.values(t.getFields()).map((r,n)=>us(r,"  ",!n)+"  "+Hk(r));return us(t)+`input ${t.name}`+(t.isOneOf?" @oneOf":"")+Yk(e)}function UJ(t){let e=Object.values(t.getFields()).map((r,n)=>us(r,"  ",!n)+"  "+r.name+BJ(r.args,"  ")+": "+String(r.type)+Xk(r.deprecationReason));return Yk(e)}function Yk(t){return t.length!==0?` {
`+t.join(`
`)+`
}`:""}function BJ(t,e=""){return t.length===0?"":t.every(r=>!r.description)?"("+t.map(Hk).join(", ")+")":`(
`+t.map((r,n)=>us(r,"  "+e,!n)+"  "+e+Hk(r)).join(`
`)+`
`+e+")"}function Hk(t){let e=Fo(t.defaultValue,t.type),r=t.name+": "+String(t.type);return e&&(r+=` = ${qe(e)}`),r+Xk(t.deprecationReason)}function zxe(t){return us(t)+"directive @"+t.name+BJ(t.args)+(t.isRepeatable?" repeatable":"")+" on "+t.locations.join(" | ")}function Xk(t){return t==null?"":t!==Ch?` @deprecated(reason: ${qe({kind:y.STRING,value:t})})`:" @deprecated"}function qxe(t){return t.specifiedByURL==null?"":` @specifiedBy(url: ${qe({kind:y.STRING,value:t.specifiedByURL})})`}function us(t,e="",r=!0){let{description:n}=t;if(n==null)return"";let o=qe({kind:y.STRING,value:n,block:AQ(n)});return(e&&!r?`
`+e:e)+o.replace(/\n/g,`
`+e)+`
`}var MJ=j(()=>{"use strict";Gt();ro();T0();bt();Ti();Et();Lo();as();ka();$0()});function Zk(t){let e=[];for(let r of t)e.push(...r.definitions);return{kind:y.DOCUMENT,definitions:e}}var $J=j(()=>{"use strict";bt()});function eP(t){let e=[],r=Object.create(null);for(let o of t.definitions)switch(o.kind){case y.OPERATION_DEFINITION:e.push(o);break;case y.FRAGMENT_DEFINITION:r[o.name.value]=VJ(o.selectionSet);break;default:}let n=Object.create(null);for(let o of e){let i=new Set;for(let a of VJ(o.selectionSet))jJ(i,r,a);let s=o.name?o.name.value:"";n[s]={kind:y.DOCUMENT,definitions:t.definitions.filter(a=>a===o||a.kind===y.FRAGMENT_DEFINITION&&i.has(a.name.value))}}return n}function jJ(t,e,r){if(!t.has(r)){t.add(r);let n=e[r];if(n!==void 0)for(let o of n)jJ(t,e,o)}}function VJ(t){let e=[];return or(t,{FragmentSpread(r){e.push(r.name.value)}}),e}var GJ=j(()=>{"use strict";bt();cf()});function tP(t){let e=S0(t)?t:new vi(t),r=e.body,n=new Nc(e),o="",i=!1;for(;n.advance().kind!==F.EOF;){let s=n.token,a=s.kind,c=!Zx(s.kind);i&&(c||s.kind===F.SPREAD)&&(o+=" ");let u=r.slice(s.start,s.end);a===F.BLOCK_STRING?o+=Xx(s.value,{minimize:!0}):o+=u,i=c}return o}var zJ=j(()=>{"use strict";T0();A0();nA();Ih()});function rP(t){let e=PA(t);if(e)throw e;return t}function PA(t){if(typeof t=="string"||Me(!1,"Expected name to be a string."),t.startsWith("__"))return new D(`Name "${t}" must not begin with "__", which is reserved by GraphQL introspection.`);try{vn(t)}catch(e){return e}}var qJ=j(()=>{"use strict";yo();Ge();R0()});function nP(t,e){return WJ(t,e).filter(r=>r.type in Dr)}function oP(t,e){return WJ(t,e).filter(r=>r.type in ls)}function WJ(t,e){return[...Jxe(t,e),...Qxe(t,e)]}function Qxe(t,e){let r=[],n=Lc(t.getDirectives(),e.getDirectives());for(let o of n.removed)r.push({type:Dr.DIRECTIVE_REMOVED,description:`${o.name} was removed.`});for(let[o,i]of n.persisted){let s=Lc(o.args,i.args);for(let a of s.added)Ai(a)&&r.push({type:Dr.REQUIRED_DIRECTIVE_ARG_ADDED,description:`A required arg ${a.name} on directive ${o.name} was added.`});for(let a of s.removed)r.push({type:Dr.DIRECTIVE_ARG_REMOVED,description:`${a.name} was removed from ${o.name}.`});o.isRepeatable&&!i.isRepeatable&&r.push({type:Dr.DIRECTIVE_REPEATABLE_REMOVED,description:`Repeatable flag was removed from ${o.name}.`});for(let a of o.locations)i.locations.includes(a)||r.push({type:Dr.DIRECTIVE_LOCATION_REMOVED,description:`${a} was removed from ${o.name}.`})}return r}function Jxe(t,e){let r=[],n=Lc(Object.values(t.getTypeMap()),Object.values(e.getTypeMap()));for(let o of n.removed)r.push({type:Dr.TYPE_REMOVED,description:Kr(o)?`Standard scalar ${o.name} was removed because it is not referenced anymore.`:`${o.name} was removed.`});for(let[o,i]of n.persisted)Pe(o)&&Pe(i)?r.push(...Wxe(o,i)):Ue(o)&&Ue(i)?r.push(...Kxe(o,i)):pe(o)&&pe(i)?r.push(...Hxe(o,i)):K(o)&&K(i)?r.push(...JJ(o,i),...QJ(o,i)):Z(o)&&Z(i)?r.push(...JJ(o,i),...QJ(o,i)):o.constructor!==i.constructor&&r.push({type:Dr.TYPE_CHANGED_KIND,description:`${o.name} changed from ${HJ(o)} to ${HJ(i)}.`});return r}function Hxe(t,e){let r=[],n=Lc(Object.values(t.getFields()),Object.values(e.getFields()));for(let o of n.added)Rc(o)?r.push({type:Dr.REQUIRED_INPUT_FIELD_ADDED,description:`A required field ${o.name} on input type ${t.name} was added.`}):r.push({type:ls.OPTIONAL_INPUT_FIELD_ADDED,description:`An optional field ${o.name} on input type ${t.name} was added.`});for(let o of n.removed)r.push({type:Dr.FIELD_REMOVED,description:`${t.name}.${o.name} was removed.`});for(let[o,i]of n.persisted)Uw(o.type,i.type)||r.push({type:Dr.FIELD_CHANGED_KIND,description:`${t.name}.${o.name} changed type from ${String(o.type)} to ${String(i.type)}.`});return r}function Kxe(t,e){let r=[],n=Lc(t.getTypes(),e.getTypes());for(let o of n.added)r.push({type:ls.TYPE_ADDED_TO_UNION,description:`${o.name} was added to union type ${t.name}.`});for(let o of n.removed)r.push({type:Dr.TYPE_REMOVED_FROM_UNION,description:`${o.name} was removed from union type ${t.name}.`});return r}function Wxe(t,e){let r=[],n=Lc(t.getValues(),e.getValues());for(let o of n.added)r.push({type:ls.VALUE_ADDED_TO_ENUM,description:`${o.name} was added to enum type ${t.name}.`});for(let o of n.removed)r.push({type:Dr.VALUE_REMOVED_FROM_ENUM,description:`${o.name} was removed from enum type ${t.name}.`});return r}function QJ(t,e){let r=[],n=Lc(t.getInterfaces(),e.getInterfaces());for(let o of n.added)r.push({type:ls.IMPLEMENTED_INTERFACE_ADDED,description:`${o.name} added to interfaces implemented by ${t.name}.`});for(let o of n.removed)r.push({type:Dr.IMPLEMENTED_INTERFACE_REMOVED,description:`${t.name} no longer implements interface ${o.name}.`});return r}function JJ(t,e){let r=[],n=Lc(Object.values(t.getFields()),Object.values(e.getFields()));for(let o of n.removed)r.push({type:Dr.FIELD_REMOVED,description:`${t.name}.${o.name} was removed.`});for(let[o,i]of n.persisted)r.push(...Yxe(t,o,i)),Fw(o.type,i.type)||r.push({type:Dr.FIELD_CHANGED_KIND,description:`${t.name}.${o.name} changed type from ${String(o.type)} to ${String(i.type)}.`});return r}function Yxe(t,e,r){let n=[],o=Lc(e.args,r.args);for(let i of o.removed)n.push({type:Dr.ARG_REMOVED,description:`${t.name}.${e.name} arg ${i.name} was removed.`});for(let[i,s]of o.persisted)if(!Uw(i.type,s.type))n.push({type:Dr.ARG_CHANGED_KIND,description:`${t.name}.${e.name} arg ${i.name} has changed type from ${String(i.type)} to ${String(s.type)}.`});else if(i.defaultValue!==void 0)if(s.defaultValue===void 0)n.push({type:ls.ARG_DEFAULT_VALUE_CHANGE,description:`${t.name}.${e.name} arg ${i.name} defaultValue was removed.`});else{let c=KJ(i.defaultValue,i.type),u=KJ(s.defaultValue,s.type);c!==u&&n.push({type:ls.ARG_DEFAULT_VALUE_CHANGE,description:`${t.name}.${e.name} arg ${i.name} has changed defaultValue from ${c} to ${u}.`})}for(let i of o.added)Ai(i)?n.push({type:Dr.REQUIRED_ARG_ADDED,description:`A required arg ${i.name} on ${t.name}.${e.name} was added.`}):n.push({type:ls.OPTIONAL_ARG_ADDED,description:`An optional arg ${i.name} on ${t.name}.${e.name} was added.`});return n}function Fw(t,e){return Ie(t)?Ie(e)&&Fw(t.ofType,e.ofType)||Y(e)&&Fw(t,e.ofType):Y(t)?Y(e)&&Fw(t.ofType,e.ofType):Mr(e)&&t.name===e.name||Y(e)&&Fw(t,e.ofType)}function Uw(t,e){return Ie(t)?Ie(e)&&Uw(t.ofType,e.ofType):Y(t)?Y(e)&&Uw(t.ofType,e.ofType)||!Y(e)&&Uw(t.ofType,e):Mr(e)&&t.name===e.name}function HJ(t){if(lt(t))return"a Scalar type";if(K(t))return"an Object type";if(Z(t))return"an Interface type";if(Ue(t))return"a Union type";if(Pe(t))return"an Enum type";if(pe(t))return"an Input type";wt(!1,"Unexpected type: "+P(t))}function KJ(t,e){let r=Fo(t,e);return r!=null||wt(!1),qe(jh(r))}function Lc(t,e){let r=[],n=[],o=[],i=io(t,({name:a})=>a),s=io(e,({name:a})=>a);for(let a of t){let c=s[a.name];c===void 0?n.push(a):o.push([a,c])}for(let a of e)i[a.name]===void 0&&r.push(a);return{added:r,persisted:o,removed:n}}var Dr,ls,YJ=j(()=>{"use strict";Gt();ro();ku();Ti();Et();ka();$0();YR();Dr=(function(t){return t.TYPE_REMOVED="TYPE_REMOVED",t.TYPE_CHANGED_KIND="TYPE_CHANGED_KIND",t.TYPE_REMOVED_FROM_UNION="TYPE_REMOVED_FROM_UNION",t.VALUE_REMOVED_FROM_ENUM="VALUE_REMOVED_FROM_ENUM",t.REQUIRED_INPUT_FIELD_ADDED="REQUIRED_INPUT_FIELD_ADDED",t.IMPLEMENTED_INTERFACE_REMOVED="IMPLEMENTED_INTERFACE_REMOVED",t.FIELD_REMOVED="FIELD_REMOVED",t.FIELD_CHANGED_KIND="FIELD_CHANGED_KIND",t.REQUIRED_ARG_ADDED="REQUIRED_ARG_ADDED",t.ARG_REMOVED="ARG_REMOVED",t.ARG_CHANGED_KIND="ARG_CHANGED_KIND",t.DIRECTIVE_REMOVED="DIRECTIVE_REMOVED",t.DIRECTIVE_ARG_REMOVED="DIRECTIVE_ARG_REMOVED",t.REQUIRED_DIRECTIVE_ARG_ADDED="REQUIRED_DIRECTIVE_ARG_ADDED",t.DIRECTIVE_REPEATABLE_REMOVED="DIRECTIVE_REPEATABLE_REMOVED",t.DIRECTIVE_LOCATION_REMOVED="DIRECTIVE_LOCATION_REMOVED",t})(Dr||{}),ls=(function(t){return t.VALUE_ADDED_TO_ENUM="VALUE_ADDED_TO_ENUM",t.TYPE_ADDED_TO_UNION="TYPE_ADDED_TO_UNION",t.OPTIONAL_INPUT_FIELD_ADDED="OPTIONAL_INPUT_FIELD_ADDED",t.OPTIONAL_ARG_ADDED="OPTIONAL_ARG_ADDED",t.IMPLEMENTED_INTERFACE_ADDED="IMPLEMENTED_INTERFACE_ADDED",t.ARG_DEFAULT_VALUE_CHANGE="ARG_DEFAULT_VALUE_CHANGE",t})(ls||{})});function iP(t,e){return LA(t,_0(e))}function Xxe(t,e){let r=e.name.value,n=t.getType(r);if(n!=null)return{kind:"NamedType",type:n}}function Zxe(t,e){let r=e.name.value,n=t.getType(r);if(!n)throw new Error(`Expected ${P(r)} to be defined as a type in the schema.`);if(!Pe(n)&&!pe(n)&&!K(n)&&!Z(n))throw new Error(`Expected ${P(r)} to be an Enum, Input Object, Object or Interface type.`);if(Pe(n)){let s=e.memberName.value,a=n.getValue(s);return a==null?void 0:{kind:"EnumValue",type:n,enumValue:a}}if(pe(n)){let s=e.memberName.value,a=n.getFields()[s];return a==null?void 0:{kind:"InputField",type:n,inputField:a}}let o=e.memberName.value,i=n.getFields()[o];if(i!=null)return{kind:"Field",type:n,field:i}}function eAe(t,e){let r=e.name.value,n=t.getType(r);if(n==null)throw new Error(`Expected ${P(r)} to be defined as a type in the schema.`);if(!K(n)&&!Z(n))throw new Error(`Expected ${P(r)} to be an object type or interface type.`);let o=e.fieldName.value,i=n.getFields()[o];if(i==null)throw new Error(`Expected ${P(o)} to exist as a field of type ${P(r)} in the schema.`);let s=e.argumentName.value,a=i.args.find(c=>c.name===s);if(a!=null)return{kind:"FieldArgument",type:n,field:i,fieldArgument:a}}function tAe(t,e){let r=e.name.value,n=t.getDirective(r);if(n)return{kind:"Directive",directive:n}}function rAe(t,e){let r=e.name.value,n=t.getDirective(r);if(!n)throw new Error(`Expected ${P(r)} to be defined as a directive in the schema.`);let{argumentName:{value:o}}=e,i=n.args.find(s=>s.name===o);if(i)return{kind:"DirectiveArgument",directive:n,directiveArgument:i}}function LA(t,e){switch(e.kind){case y.TYPE_COORDINATE:return Xxe(t,e);case y.MEMBER_COORDINATE:return Zxe(t,e);case y.ARGUMENT_COORDINATE:return eAe(t,e);case y.DIRECTIVE_COORDINATE:return tAe(t,e);case y.DIRECTIVE_ARGUMENT_COORDINATE:return rAe(t,e)}}var XJ=j(()=>{"use strict";Gt();bt();af();Et()});var ZJ=j(()=>{"use strict";$k();SJ();NJ();_J();DJ();RJ();zk();PJ();MJ();Ba();mw();dR();$0();lA();uk();$J();GJ();zJ();B0();qJ();YJ();XJ()});var Bw={};vt(Bw,{BREAK:()=>Oc,BreakingChangeType:()=>Dr,DEFAULT_DEPRECATION_REASON:()=>Ch,DangerousChangeType:()=>ls,DirectiveLocation:()=>xe,ExecutableDefinitionsRule:()=>W0,FieldsOnCorrectTypeRule:()=>Y0,FragmentsOnCompositeTypesRule:()=>X0,GRAPHQL_MAX_INT:()=>Dh,GRAPHQL_MIN_INT:()=>Oh,GraphQLBoolean:()=>at,GraphQLDeprecatedDirective:()=>ns,GraphQLDirective:()=>zt,GraphQLEnumType:()=>Nt,GraphQLError:()=>D,GraphQLFloat:()=>Po,GraphQLID:()=>Er,GraphQLIncludeDirective:()=>La,GraphQLInputObjectType:()=>Ye,GraphQLInt:()=>$r,GraphQLInterfaceType:()=>dt,GraphQLList:()=>je,GraphQLNonNull:()=>J,GraphQLObjectType:()=>Qe,GraphQLOneOfDirective:()=>kh,GraphQLScalarType:()=>Ce,GraphQLSchema:()=>_r,GraphQLSkipDirective:()=>Fa,GraphQLSpecifiedByDirective:()=>Rh,GraphQLString:()=>it,GraphQLUnionType:()=>Tr,Kind:()=>y,KnownArgumentNamesRule:()=>Z0,KnownDirectivesRule:()=>$h,KnownFragmentNamesRule:()=>ew,KnownTypeNamesRule:()=>Vh,Lexer:()=>Nc,Location:()=>nf,LoneAnonymousOperationRule:()=>tw,LoneSchemaDefinitionRule:()=>rw,MaxIntrospectionDepthRule:()=>nw,NoDeprecatedCustomRule:()=>Bk,NoFragmentCyclesRule:()=>ow,NoSchemaIntrospectionCustomRule:()=>Mk,NoUndefinedVariablesRule:()=>iw,NoUnusedFragmentsRule:()=>sw,NoUnusedVariablesRule:()=>aw,OperationTypeNode:()=>br,OverlappingFieldsCanBeMergedRule:()=>cw,PossibleFragmentSpreadsRule:()=>uw,PossibleTypeExtensionsRule:()=>lw,ProvidedRequiredArgumentsRule:()=>fw,ScalarLeafsRule:()=>dw,SchemaMetaFieldDef:()=>is,SingleFieldSubscriptionsRule:()=>gw,Source:()=>vi,Token:()=>Ca,TokenKind:()=>F,TypeInfo:()=>Mn,TypeKind:()=>Ht,TypeMetaFieldDef:()=>ss,TypeNameMetaFieldDef:()=>Bo,UniqueArgumentDefinitionNamesRule:()=>ww,UniqueArgumentNamesRule:()=>Qh,UniqueDirectiveNamesRule:()=>bw,UniqueDirectivesPerLocationRule:()=>Jh,UniqueEnumValueNamesRule:()=>Ew,UniqueFieldDefinitionNamesRule:()=>vw,UniqueFragmentNamesRule:()=>Tw,UniqueInputFieldNamesRule:()=>Hh,UniqueOperationNamesRule:()=>xw,UniqueOperationTypesRule:()=>Aw,UniqueTypeNamesRule:()=>Iw,UniqueVariableNamesRule:()=>Sw,ValidationContext:()=>bf,ValuesOfCorrectTypeRule:()=>Nw,VariablesAreInputTypesRule:()=>_w,VariablesInAllowedPositionRule:()=>Dw,__Directive:()=>V0,__DirectiveLocation:()=>j0,__EnumValue:()=>z0,__Field:()=>G0,__InputValue:()=>df,__Schema:()=>ff,__Type:()=>Uo,__TypeKind:()=>q0,assertAbstractType:()=>AR,assertCompositeType:()=>xR,assertDirective:()=>DR,assertEnumType:()=>yR,assertEnumValueName:()=>C0,assertInputObjectType:()=>gR,assertInputType:()=>ER,assertInterfaceType:()=>P0,assertLeafType:()=>TR,assertListType:()=>wR,assertName:()=>vn,assertNamedType:()=>SR,assertNonNullType:()=>bR,assertNullableType:()=>L0,assertObjectType:()=>k0,assertOutputType:()=>vR,assertScalarType:()=>hR,assertSchema:()=>pf,assertType:()=>pR,assertUnionType:()=>mR,assertValidName:()=>rP,assertValidSchema:()=>Gs,assertWrappingType:()=>IR,astFromValue:()=>Fo,buildASTSchema:()=>CA,buildClientSchema:()=>DA,buildSchema:()=>qk,coerceInputValue:()=>gf,concatAST:()=>Zk,createSourceEventStream:()=>_A,defaultFieldResolver:()=>Ef,defaultTypeResolver:()=>NA,doTypesOverlap:()=>Fu,execute:()=>Ma,executeSync:()=>kw,extendSchema:()=>Lw,findBreakingChanges:()=>nP,findDangerousChanges:()=>oP,formatError:()=>eR,getArgumentValues:()=>Bu,getDirectiveValues:()=>Vr,getEnterLeaveForKind:()=>Cc,getIntrospectionQuery:()=>Kh,getLocation:()=>Cu,getNamedType:()=>ke,getNullableType:()=>ln,getOperationAST:()=>vf,getOperationRootType:()=>Vk,getVariableValues:()=>yw,getVisitFn:()=>lR,graphql:()=>fJ,graphqlSync:()=>dJ,introspectionFromSchema:()=>jk,introspectionTypes:()=>Ua,isAbstractType:()=>st,isCompositeType:()=>Ar,isConstValueNode:()=>H0,isDefinitionNode:()=>K0,isDirective:()=>Pa,isEnumType:()=>Pe,isEqualType:()=>lf,isExecutableDefinitionNode:()=>Uh,isInputObjectType:()=>pe,isInputType:()=>xr,isInterfaceType:()=>Z,isIntrospectionType:()=>Tn,isLeafType:()=>tt,isListType:()=>Ie,isNamedType:()=>Mr,isNonNullType:()=>Y,isNullableType:()=>$s,isObjectType:()=>K,isOutputType:()=>xi,isRequiredArgument:()=>Ai,isRequiredInputField:()=>Rc,isScalarType:()=>lt,isSchema:()=>Lh,isSchemaCoordinateNode:()=>LR,isSelectionNode:()=>kR,isSpecifiedDirective:()=>os,isSpecifiedScalarType:()=>Kr,isType:()=>Lu,isTypeDefinitionNode:()=>cs,isTypeExtensionNode:()=>Uu,isTypeNode:()=>PR,isTypeSubTypeOf:()=>Vs,isTypeSystemDefinitionNode:()=>Bh,isTypeSystemExtensionNode:()=>Mh,isUnionType:()=>Ue,isValidNameError:()=>PA,isValueNode:()=>fA,isWrappingType:()=>uf,lexicographicSortSchema:()=>Jk,locatedError:()=>xn,parse:()=>no,parseConstValue:()=>oR,parseSchemaCoordinate:()=>_0,parseType:()=>iR,parseValue:()=>N0,print:()=>qe,printError:()=>ZC,printIntrospectionSchema:()=>Wk,printLocation:()=>w0,printSchema:()=>Kk,printSourceLocation:()=>Th,printType:()=>kA,recommendedRules:()=>EA,resolveASTSchemaCoordinate:()=>LA,resolveObjMapThunk:()=>U0,resolveReadonlyArrayThunk:()=>F0,resolveSchemaCoordinate:()=>iP,responsePathAsArray:()=>Ir,separateOperations:()=>eP,specifiedDirectives:()=>rn,specifiedRules:()=>Ow,specifiedScalarTypes:()=>Ra,stripIgnoredCharacters:()=>tP,subscribe:()=>Uk,syntaxError:()=>hr,typeFromAST:()=>kt,validate:()=>Pc,validateSchema:()=>Fh,valueFromAST:()=>Sr,valueFromASTUntyped:()=>rs,version:()=>wQ,versionInfo:()=>eo,visit:()=>or,visitInParallel:()=>Nh,visitWithTypeInfo:()=>Mo});var se=j(()=>{"use strict";bQ();hJ();mJ();yJ();vJ();AJ();IJ();ZJ()});var FA=$((Hit,tH)=>{"use strict";var nAe=(function(){function t(r,n){if(typeof r!="function")throw new TypeError("DataLoader must be constructed with a function which accepts "+("Array<key> and returns Promise<Array<value>>, but got: "+r+"."));this._batchLoadFn=r,this._maxBatchSize=aAe(n),this._batchScheduleFn=cAe(n),this._cacheKeyFn=uAe(n),this._cacheMap=lAe(n),this._batch=null,this.name=fAe(n)}var e=t.prototype;return e.load=function(n){if(n==null)throw new TypeError("The loader.load() function must be called with a value, "+("but got: "+String(n)+"."));var o=iAe(this),i=this._cacheMap,s;if(i){s=this._cacheKeyFn(n);var a=i.get(s);if(a){var c=o.cacheHits||(o.cacheHits=[]);return new Promise(function(l){c.push(function(){l(a)})})}}o.keys.push(n);var u=new Promise(function(l,f){o.callbacks.push({resolve:l,reject:f})});return i&&i.set(s,u),u},e.loadMany=function(n){if(!eH(n))throw new TypeError("The loader.loadMany() function must be called with Array<key> "+("but got: "+n+"."));for(var o=[],i=0;i<n.length;i++)o.push(this.load(n[i]).catch(function(s){return s}));return Promise.all(o)},e.clear=function(n){var o=this._cacheMap;if(o){var i=this._cacheKeyFn(n);o.delete(i)}return this},e.clearAll=function(){var n=this._cacheMap;return n&&n.clear(),this},e.prime=function(n,o){var i=this._cacheMap;if(i){var s=this._cacheKeyFn(n);if(i.get(s)===void 0){var a;o instanceof Error?(a=Promise.reject(o),a.catch(function(){})):a=Promise.resolve(o),i.set(s,a)}}return this},t})(),oAe=typeof process=="object"&&typeof process.nextTick=="function"?function(t){sP||(sP=Promise.resolve()),sP.then(function(){process.nextTick(t)})}:typeof setImmediate=="function"?function(t){setImmediate(t)}:function(t){setTimeout(t)},sP;function iAe(t){var e=t._batch;if(e!==null&&!e.hasDispatched&&e.keys.length<t._maxBatchSize)return e;var r={hasDispatched:!1,keys:[],callbacks:[]};return t._batch=r,t._batchScheduleFn(function(){sAe(t,r)}),r}function sAe(t,e){if(e.hasDispatched=!0,e.keys.length===0){cP(e);return}var r;try{r=t._batchLoadFn(e.keys)}catch(n){return aP(t,e,new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function "+("errored synchronously: "+String(n)+".")))}if(!r||typeof r.then!="function")return aP(t,e,new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did "+("not return a Promise: "+String(r)+".")));r.then(function(n){if(!eH(n))throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did "+("not return a Promise of an Array: "+String(n)+"."));if(n.length!==e.keys.length)throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array of the same length as the Array of keys."+(`

Keys:
`+String(e.keys))+(`

Values:
`+String(n)));cP(e);for(var o=0;o<e.callbacks.length;o++){var i=n[o];i instanceof Error?e.callbacks[o].reject(i):e.callbacks[o].resolve(i)}}).catch(function(n){aP(t,e,n)})}function aP(t,e,r){cP(e);for(var n=0;n<e.keys.length;n++)t.clear(e.keys[n]),e.callbacks[n].reject(r)}function cP(t){if(t.cacheHits)for(var e=0;e<t.cacheHits.length;e++)t.cacheHits[e]()}function aAe(t){var e=!t||t.batch!==!1;if(!e)return 1;var r=t&&t.maxBatchSize;if(r===void 0)return 1/0;if(typeof r!="number"||r<1)throw new TypeError("maxBatchSize must be a positive number: "+r);return r}function cAe(t){var e=t&&t.batchScheduleFn;if(e===void 0)return oAe;if(typeof e!="function")throw new TypeError("batchScheduleFn must be a function: "+e);return e}function uAe(t){var e=t&&t.cacheKeyFn;if(e===void 0)return function(r){return r};if(typeof e!="function")throw new TypeError("cacheKeyFn must be a function: "+e);return e}function lAe(t){var e=!t||t.cache!==!1;if(!e)return null;var r=t&&t.cacheMap;if(r===void 0)return new Map;if(r!==null){var n=["get","set","delete","clear"],o=n.filter(function(i){return r&&typeof r[i]!="function"});if(o.length!==0)throw new TypeError("Custom cacheMap missing methods: "+o.join(", "))}return r}function fAe(t){return t&&t.name?t.name:null}function eH(t){return typeof t=="object"&&t!==null&&typeof t.length=="number"&&(t.length===0||t.length>0&&Object.prototype.hasOwnProperty.call(t,t.length-1))}tH.exports=nAe});var _H=$(Bc=>{"use strict";Object.defineProperty(Bc,"__esModule",{value:!0});Bc.connectionDefinitions=SAe;Bc.connectionArgs=Bc.backwardConnectionArgs=Bc.forwardConnectionArgs=void 0;var nn=(se(),zb(Bw)),SH=Object.freeze({after:{type:nn.GraphQLString,description:"Returns the items in the list that come after the specified cursor."},first:{type:nn.GraphQLInt,description:"Returns the first n items from the list."}});Bc.forwardConnectionArgs=SH;var NH=Object.freeze({before:{type:nn.GraphQLString,description:"Returns the items in the list that come before the specified cursor."},last:{type:nn.GraphQLInt,description:"Returns the last n items from the list."}});Bc.backwardConnectionArgs=NH;var IAe=b(b({},SH),NH);Bc.connectionArgs=IAe;function SAe(t){var e;let{nodeType:r}=t,n=(e=t.name)!==null&&e!==void 0?e:(0,nn.getNamedType)(r).name,o=new nn.GraphQLObjectType({name:n+"Edge",description:"An edge in a connection.",fields:()=>{var s;return b({node:{type:r,resolve:t.resolveNode,description:"The item at the end of the edge"},cursor:{type:new nn.GraphQLNonNull(nn.GraphQLString),resolve:t.resolveCursor,description:"A cursor for use in pagination"}},(0,nn.resolveObjMapThunk)((s=t.edgeFields)!==null&&s!==void 0?s:{}))}}),i=new nn.GraphQLObjectType({name:n+"Connection",description:"A connection to a list of items.",fields:()=>{var s;return b({pageInfo:{type:new nn.GraphQLNonNull(NAe),description:"Information to aid in pagination."},edges:{type:new nn.GraphQLList(o),description:"A list of edges."}},(0,nn.resolveObjMapThunk)((s=t.connectionFields)!==null&&s!==void 0?s:{}))}});return{edgeType:o,connectionType:i}}var NAe=new nn.GraphQLObjectType({name:"PageInfo",description:"Information about pagination in a connection.",fields:()=>({hasNextPage:{type:new nn.GraphQLNonNull(nn.GraphQLBoolean),description:"When paginating forwards, are there more items?"},hasPreviousPage:{type:new nn.GraphQLNonNull(nn.GraphQLBoolean),description:"When paginating backwards, are there more items?"},startCursor:{type:nn.GraphQLString,description:"When paginating backwards, the cursor to continue."},endCursor:{type:nn.GraphQLString,description:"When paginating forwards, the cursor to continue."}})})});var RP=$(sI=>{"use strict";Object.defineProperty(sI,"__esModule",{value:!0});sI.base64=_Ae;sI.unbase64=OAe;function _Ae(t){let e=CAe(t),r="",n=e.length,o=n%3;for(let i=0;i<n-o;i+=3){let s=e[i],a=e[i+1],c=e[i+2];r+=OP(s),r+=CP(s,a),r+=DH(a,c),r+=DAe(c)}if(o===1){let i=e[n-1];r+=OP(i)+CP(i,0)+"=="}else if(o===2){let i=e[n-2],s=e[n-1];r+=OP(i)+CP(i,s)+DH(s,0)+"="}return r}function OP(t){return iI(t>>2&63)}function CP(t,e){return iI((t<<4|e>>4)&63)}function DH(t,e){return iI((t<<2|e>>6)&63)}function DAe(t){return iI(t&63)}function OAe(t){let e=[];for(let n=0;n<t.length;n+=4){let o=nI(t[n]),i=nI(t[n+1]),s=nI(t[n+2]),a=nI(t[n+3]);if(o===-1||i===-1||s===-1||a===-1)return"";let c=o<<18|i<<12|s<<6|a;e.push(c>>16&255),e.push(c>>8&255),e.push(c&255)}let r=t.length-1;for(;t[r]==="=";)--r,e.pop();return RAe(e)}var OH="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function iI(t){return OH.charAt(t)}function nI(t){return t===void 0?-1:t==="="?0:OH.indexOf(t)}function CAe(t){let e=[];for(let r of t){let n=r.codePointAt(0);n<128?e.push(n):n<2048?(e.push(192|n>>6),e.push(128|n&63)):n<65536?(e.push(224|n>>12),e.push(128|n>>6&63),e.push(128|n&63)):(e.push(240|n>>18),e.push(128|n>>12&63),e.push(128|n>>6&63),e.push(128|n&63))}return e}function RAe(t){let e="";for(let r=0;r<t.length;){let n=t[r++];if((n&128)===0){e+=oI(n);continue}let o=t[r++];if((n&224)===192){e+=oI((n&31)<<6|o&63);continue}let i=t[r++];if((n&240)===224){e+=oI((n&15)<<12|(o&63)<<6|i&63);continue}let s=t[r++];e+=oI((n&7)<<18|(o&63)<<12|(i&63)<<6|s&63)}return e}function oI(t){return t>1114111?"":String.fromCodePoint(t)}});var LH=$($a=>{"use strict";Object.defineProperty($a,"__esModule",{value:!0});$a.connectionFromArray=RH;$a.connectionFromPromisedArray=kAe;$a.connectionFromArraySlice=PP;$a.connectionFromPromisedArraySlice=PAe;$a.offsetToCursor=LP;$a.cursorToOffset=PH;$a.cursorForObjectInConnection=LAe;$a.getOffsetWithDefault=kP;var CH=RP();function RH(t,e){return PP(t,e,{sliceStart:0,arrayLength:t.length})}function kAe(t,e){return t.then(r=>RH(r,e))}function PP(t,e,r){let{after:n,before:o,first:i,last:s}=e,{sliceStart:a,arrayLength:c}=r,u=a+t.length,l=Math.max(a,0),f=Math.min(u,c),d=kP(n,-1);0<=d&&d<c&&(l=Math.max(l,d+1));let p=kP(o,f);if(0<=p&&p<c&&(f=Math.min(f,p)),typeof i=="number"){if(i<0)throw new Error('Argument "first" must be a non-negative integer');f=Math.min(f,l+i)}if(typeof s=="number"){if(s<0)throw new Error('Argument "last" must be a non-negative integer');l=Math.max(l,f-s)}let m=t.slice(l-a,f-a).map((x,A)=>({cursor:LP(l+A),node:x})),g=m[0],w=m[m.length-1],T=n!=null?d+1:0,v=o!=null?p:c;return{edges:m,pageInfo:{startCursor:g?g.cursor:null,endCursor:w?w.cursor:null,hasPreviousPage:typeof s=="number"?l>T:!1,hasNextPage:typeof i=="number"?f<v:!1}}}function PAe(t,e,r){return t.then(n=>PP(n,e,r))}var kH="arrayconnection:";function LP(t){return(0,CH.base64)(kH+t.toString())}function PH(t){return parseInt((0,CH.unbase64)(t).substring(kH.length),10)}function LAe(t,e){let r=t.indexOf(e);return r===-1?null:LP(r)}function kP(t,e){if(typeof t!="string")return e;let r=PH(t);return isNaN(r)?e:r}});var FH=$(FP=>{"use strict";Object.defineProperty(FP,"__esModule",{value:!0});FP.mutationWithClientMutationId=FAe;var Tf=(se(),zb(Bw));function FAe(t){let{name:e,inputFields:r,outputFields:n,mutateAndGetPayload:o}=t,i=()=>S(b({},(0,Tf.resolveObjMapThunk)(r)),{clientMutationId:{type:Tf.GraphQLString}}),s=()=>S(b({},(0,Tf.resolveObjMapThunk)(n)),{clientMutationId:{type:Tf.GraphQLString}}),a=new Tf.GraphQLObjectType({name:e+"Payload",fields:s}),c=new Tf.GraphQLInputObjectType({name:e+"Input",fields:i});return{type:a,description:t.description,deprecationReason:t.deprecationReason,extensions:t.extensions,args:{input:{type:new Tf.GraphQLNonNull(c)}},resolve:(u,{input:l},f,d)=>{let{clientMutationId:p}=l,h=o(l,f,d);if(UAe(h))return h.then(m);return m(h);function m(g){return typeof g=="object"&&g!==null&&(g.clientMutationId=p),g}}}}function UAe(t){return typeof t?.then=="function"}});var MH=$(Zh=>{"use strict";Object.defineProperty(Zh,"__esModule",{value:!0});Zh.nodeDefinitions=BAe;Zh.toGlobalId=BH;Zh.fromGlobalId=MAe;Zh.globalIdField=$Ae;var $o=(se(),zb(Bw)),UH=RP();function BAe(t,e){let r=new $o.GraphQLInterfaceType({name:"Node",description:"An object with an ID",fields:()=>({id:{type:new $o.GraphQLNonNull($o.GraphQLID),description:"The id of the object."}}),resolveType:e}),n={description:"Fetches an object given its ID",type:r,args:{id:{type:new $o.GraphQLNonNull($o.GraphQLID),description:"The ID of an object"}},resolve:(i,{id:s},a,c)=>t(s,a,c)},o={description:"Fetches objects given their IDs",type:new $o.GraphQLNonNull(new $o.GraphQLList(r)),args:{ids:{type:new $o.GraphQLNonNull(new $o.GraphQLList(new $o.GraphQLNonNull($o.GraphQLID))),description:"The IDs of objects"}},resolve:(i,{ids:s},a,c)=>s.map(u=>t(u,a,c))};return{nodeInterface:r,nodeField:n,nodesField:o}}function BH(t,e){return(0,UH.base64)([t,$o.GraphQLID.serialize(e)].join(":"))}function MAe(t){let e=(0,UH.unbase64)(t),r=e.indexOf(":");return{type:e.substring(0,r),id:e.substring(r+1)}}function $Ae(t,e){return{description:"The ID of an object",type:new $o.GraphQLNonNull($o.GraphQLID),resolve:(r,n,o,i)=>BH(t??i.parentType.name,e?e(r,o,i):r.id)}}});var $H=$(UP=>{"use strict";Object.defineProperty(UP,"__esModule",{value:!0});UP.pluralIdentifyingRootField=VAe;var jw=(se(),zb(Bw));function VAe(t){return{description:t.description,type:new jw.GraphQLList(t.outputType),args:{[t.argName]:{type:new jw.GraphQLNonNull(new jw.GraphQLList(new jw.GraphQLNonNull((0,jw.getNullableType)(t.inputType))))}},resolve(e,r,n,o){return r[t.argName].map(s=>t.resolveSingleInput(s,n,o))}}}});var VH=$(on=>{"use strict";Object.defineProperty(on,"__esModule",{value:!0});Object.defineProperty(on,"backwardConnectionArgs",{enumerable:!0,get:function(){return aI.backwardConnectionArgs}});Object.defineProperty(on,"connectionArgs",{enumerable:!0,get:function(){return aI.connectionArgs}});Object.defineProperty(on,"connectionDefinitions",{enumerable:!0,get:function(){return aI.connectionDefinitions}});Object.defineProperty(on,"forwardConnectionArgs",{enumerable:!0,get:function(){return aI.forwardConnectionArgs}});Object.defineProperty(on,"connectionFromArray",{enumerable:!0,get:function(){return Mu.connectionFromArray}});Object.defineProperty(on,"connectionFromArraySlice",{enumerable:!0,get:function(){return Mu.connectionFromArraySlice}});Object.defineProperty(on,"connectionFromPromisedArray",{enumerable:!0,get:function(){return Mu.connectionFromPromisedArray}});Object.defineProperty(on,"connectionFromPromisedArraySlice",{enumerable:!0,get:function(){return Mu.connectionFromPromisedArraySlice}});Object.defineProperty(on,"cursorForObjectInConnection",{enumerable:!0,get:function(){return Mu.cursorForObjectInConnection}});Object.defineProperty(on,"cursorToOffset",{enumerable:!0,get:function(){return Mu.cursorToOffset}});Object.defineProperty(on,"getOffsetWithDefault",{enumerable:!0,get:function(){return Mu.getOffsetWithDefault}});Object.defineProperty(on,"offsetToCursor",{enumerable:!0,get:function(){return Mu.offsetToCursor}});Object.defineProperty(on,"mutationWithClientMutationId",{enumerable:!0,get:function(){return jAe.mutationWithClientMutationId}});Object.defineProperty(on,"nodeDefinitions",{enumerable:!0,get:function(){return cI.nodeDefinitions}});Object.defineProperty(on,"fromGlobalId",{enumerable:!0,get:function(){return cI.fromGlobalId}});Object.defineProperty(on,"globalIdField",{enumerable:!0,get:function(){return cI.globalIdField}});Object.defineProperty(on,"toGlobalId",{enumerable:!0,get:function(){return cI.toGlobalId}});Object.defineProperty(on,"pluralIdentifyingRootField",{enumerable:!0,get:function(){return GAe.pluralIdentifyingRootField}});var aI=_H(),Mu=LH(),jAe=FH(),cI=MH(),GAe=$H()});var pX=$((zwt,dX)=>{"use strict";function WDe(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var o=t.charAt(n),i=o.charCodeAt(0);if(e[i]!==255)throw new TypeError(o+" is ambiguous");e[i]=n}var s=t.length,a=t.charAt(0),c=Math.log(s)/Math.log(256),u=Math.log(256)/Math.log(s);function l(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var h=0,m=0,g=0,w=p.length;g!==w&&p[g]===0;)g++,h++;for(var T=(w-g)*u+1>>>0,v=new Uint8Array(T);g!==w;){for(var x=p[g],A=0,_=T-1;(x!==0||A<m)&&_!==-1;_--,A++)x+=256*v[_]>>>0,v[_]=x%s>>>0,x=x/s>>>0;if(x!==0)throw new Error("Non-zero carry");m=A,g++}for(var O=T-m;O!==T&&v[O]===0;)O++;for(var C=a.repeat(h);O<T;++O)C+=t.charAt(v[O]);return C}function f(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var h=0;if(p[h]!==" "){for(var m=0,g=0;p[h]===a;)m++,h++;for(var w=(p.length-h)*c+1>>>0,T=new Uint8Array(w);p[h];){var v=e[p.charCodeAt(h)];if(v===255)return;for(var x=0,A=w-1;(v!==0||x<g)&&A!==-1;A--,x++)v+=s*T[A]>>>0,T[A]=v%256>>>0,v=v/256>>>0;if(v!==0)throw new Error("Non-zero carry");g=x,h++}if(p[h]!==" "){for(var _=w-g;_!==w&&T[_]===0;)_++;for(var O=new Uint8Array(m+(w-_)),C=m;_!==w;)O[C++]=T[_++];return O}}}function d(p){var h=f(p);if(h)return h;throw new Error("Non-base"+s+" character")}return{encode:l,decodeUnsafe:f,decode:d}}dX.exports=WDe});var wS=$((qwt,hX)=>{"use strict";var YDe=new TextDecoder,XDe=t=>YDe.decode(t),ZDe=new TextEncoder,e2e=t=>ZDe.encode(t);function t2e(t,e){let r=new Uint8Array(e),n=0;for(let o of t)r.set(o,n),n+=o.length;return r}hX.exports={decodeText:XDe,encodeText:e2e,concat:t2e}});var yX=$((Qwt,mX)=>{"use strict";var{encodeText:r2e}=wS(),mF=class{constructor(e,r,n,o){this.name=e,this.code=r,this.codeBuf=r2e(this.code),this.alphabet=o,this.codec=n(o)}encode(e){return this.codec.encode(e)}decode(e){for(let r of e)if(this.alphabet&&this.alphabet.indexOf(r)<0)throw new Error(`invalid character '${r}' in '${e}'`);return this.codec.decode(e)}};mX.exports=mF});var wX=$((Jwt,gX)=>{"use strict";var n2e=(t,e,r)=>{let n={};for(let u=0;u<e.length;++u)n[e[u]]=u;let o=t.length;for(;t[o-1]==="=";)--o;let i=new Uint8Array(o*r/8|0),s=0,a=0,c=0;for(let u=0;u<o;++u){let l=n[t[u]];if(l===void 0)throw new SyntaxError("Invalid character "+t[u]);a=a<<r|l,s+=r,s>=8&&(s-=8,i[c++]=255&a>>s)}if(s>=r||255&a<<8-s)throw new SyntaxError("Unexpected end of data");return i},o2e=(t,e,r)=>{let n=e[e.length-1]==="=",o=(1<<r)-1,i="",s=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],s+=8;s>r;)s-=r,i+=e[o&a>>s];if(s&&(i+=e[o&a<<r-s]),n)for(;i.length*r&7;)i+="=";return i},i2e=t=>e=>({encode(r){return o2e(r,e,t)},decode(r){return n2e(r,e,t)}});gX.exports={rfc4648:i2e}});var TX=$((Hwt,vX)=>{"use strict";var wb=pX(),s2e=yX(),{rfc4648:jn}=wX(),{decodeText:a2e,encodeText:c2e}=wS(),u2e=()=>({encode:a2e,decode:c2e}),bX=[["identity","\0",u2e,""],["base2","0",jn(1),"01"],["base8","7",jn(3),"01234567"],["base10","9",wb,"0123456789"],["base16","f",jn(4),"0123456789abcdef"],["base16upper","F",jn(4),"0123456789ABCDEF"],["base32hex","v",jn(5),"0123456789abcdefghijklmnopqrstuv"],["base32hexupper","V",jn(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV"],["base32hexpad","t",jn(5),"0123456789abcdefghijklmnopqrstuv="],["base32hexpadupper","T",jn(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV="],["base32","b",jn(5),"abcdefghijklmnopqrstuvwxyz234567"],["base32upper","B",jn(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"],["base32pad","c",jn(5),"abcdefghijklmnopqrstuvwxyz234567="],["base32padupper","C",jn(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567="],["base32z","h",jn(5),"ybndrfg8ejkmcpqxot1uwisza345h769"],["base36","k",wb,"0123456789abcdefghijklmnopqrstuvwxyz"],["base36upper","K",wb,"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"],["base58btc","z",wb,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base58flickr","Z",wb,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base64","m",jn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64pad","M",jn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],["base64url","u",jn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"],["base64urlpad","U",jn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]],EX=bX.reduce((t,e)=>(t[e[0]]=new s2e(e[0],e[1],e[2],e[3]),t),{}),l2e=bX.reduce((t,e)=>(t[e[1]]=EX[e[0]],t),{});vX.exports={names:EX,codes:l2e}});var IX=$((zc,AX)=>{"use strict";var Fm=TX(),{encodeText:f2e,decodeText:bS,concat:xX}=wS();function d2e(t,e){if(!e)throw new Error("requires an encoded Uint8Array");let{name:r,codeBuf:n}=zf(t);return y2e(r,e),xX([n,e],n.length+e.length)}function p2e(t,e){let r=zf(t),n=f2e(r.encode(e));return xX([r.codeBuf,n],r.codeBuf.length+n.length)}function h2e(t){t instanceof Uint8Array&&(t=bS(t));let e=t[0];return["f","F","v","V","t","T","b","B","c","C","h","k","K"].includes(e)&&(t=t.toLowerCase()),zf(t[0]).decode(t.substring(1))}function m2e(t){if(t instanceof Uint8Array&&(t=bS(t)),Object.prototype.toString.call(t)!=="[object String]")return!1;try{return zf(t[0]).name}catch{return!1}}function y2e(t,e){zf(t).decode(bS(e))}function zf(t){if(Object.prototype.hasOwnProperty.call(Fm.names,t))return Fm.names[t];if(Object.prototype.hasOwnProperty.call(Fm.codes,t))return Fm.codes[t];throw new Error(`Unsupported encoding: ${t}`)}function g2e(t){return t instanceof Uint8Array&&(t=bS(t)),zf(t[0])}zc=AX.exports=d2e;zc.encode=p2e;zc.decode=h2e;zc.isEncoded=m2e;zc.encoding=zf;zc.encodingFromData=g2e;var w2e=Object.freeze(Fm.names),b2e=Object.freeze(Fm.codes);zc.names=w2e;zc.codes=b2e});var _X=$((Zwt,NX)=>{"use strict";NX.exports=function t(e){if(typeof e=="number"&&isNaN(e))throw new Error("NaN is not allowed");if(typeof e=="number"&&!isFinite(e))throw new Error("Infinity is not allowed");return e===null||typeof e!="object"?JSON.stringify(e):e.toJSON instanceof Function?t(e.toJSON()):Array.isArray(e)?`[${e.reduce((o,i,s)=>`${o}${s===0?"":","}${t(i===void 0||typeof i=="symbol"?null:i)}`,"")}]`:`{${Object.keys(e).sort().reduce((n,o)=>{if(e[o]===void 0||typeof e[o]=="symbol")return n;let i=n.length===0?"":",";return`${n}${i}${t(o)}:${t(e[o])}`},"")}}`}});var $ee=$((lTt,Mee)=>{"use strict";Mee.exports=function(t,e){e||(e={}),typeof e=="function"&&(e={cmp:e});var r=typeof e.cycles=="boolean"?e.cycles:!1,n=e.cmp&&(function(i){return function(s){return function(a,c){var u={key:a,value:s[a]},l={key:c,value:s[c]};return i(u,l)}}})(e.cmp),o=[];return(function i(s){if(s&&s.toJSON&&typeof s.toJSON=="function"&&(s=s.toJSON()),s!==void 0){if(typeof s=="number")return isFinite(s)?""+s:"null";if(typeof s!="object")return JSON.stringify(s);var a,c;if(Array.isArray(s)){for(c="[",a=0;a<s.length;a++)a&&(c+=","),c+=i(s[a])||"null";return c+"]"}if(s===null)return"null";if(o.indexOf(s)!==-1){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var u=o.push(s)-1,l=Object.keys(s).sort(n&&n(s));for(c="",a=0;a<l.length;a++){var f=l[a],d=i(s[f]);d&&(c&&(c+=","),c+=JSON.stringify(f)+":"+d)}return o.splice(u,1),"{"+c+"}"}})(t)}});var KU="6.16.0";function ate(t,e,r){let n=e.split("|").map(i=>i.trim());for(let i=0;i<n.length;i++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===e)return}let o=new Error(`invalid value for type ${e}`);throw o.code="INVALID_ARGUMENT",o.argument=`value.${r}`,o.value=t,o}function kr(t){return E(this,null,function*(){let e=Object.keys(t);return(yield Promise.all(e.map(n=>Promise.resolve(t[n])))).reduce((n,o,i)=>(n[e[i]]=o,n),{})})}function he(t,e,r){for(let n in e){let o=e[n],i=r?r[n]:null;i&&ate(o,i,n),Object.defineProperty(t,n,{enumerable:!0,value:o,writable:!1})}}function ud(t,e){if(t==null)return"null";if(e==null&&(e=new Set),typeof t=="object"){if(e.has(t))return"[Circular]";e.add(t)}if(Array.isArray(t))return"[ "+t.map(r=>ud(r,e)).join(", ")+" ]";if(t instanceof Uint8Array){let r="0123456789abcdef",n="0x";for(let o=0;o<t.length;o++)n+=r[t[o]>>4],n+=r[t[o]&15];return n}if(typeof t=="object"&&typeof t.toJSON=="function")return ud(t.toJSON(),e);switch(typeof t){case"boolean":case"number":case"symbol":return t.toString();case"bigint":return BigInt(t).toString();case"string":return JSON.stringify(t);case"object":{let r=Object.keys(t);return r.sort(),"{ "+r.map(n=>`${ud(n,e)}: ${ud(t[n],e)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function ur(t,e){return t&&t.code===e}function fl(t){return ur(t,"CALL_EXCEPTION")}function Ot(t,e,r){let n=t;{let i=[];if(r){if("message"in r||"code"in r||"name"in r)throw new Error(`value will overwrite populated values: ${ud(r)}`);for(let s in r){if(s==="shortMessage")continue;let a=r[s];i.push(s+"="+ud(a))}}i.push(`code=${e}`),i.push(`version=${KU}`),i.length&&(t+=" ("+i.join(", ")+")")}let o;switch(e){case"INVALID_ARGUMENT":o=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":o=new RangeError(t);break;default:o=new Error(t)}return he(o,{code:e}),r&&Object.assign(o,r),o.shortMessage==null&&he(o,{shortMessage:n}),o}function B(t,e,r,n){if(!t)throw Ot(e,r,n)}function N(t,e,r,n){B(t,e,"INVALID_ARGUMENT",{argument:r,value:n})}function ld(t,e,r){r==null&&(r=""),r&&(r=": "+r),B(t>=e,"missing argument"+r,"MISSING_ARGUMENT",{count:t,expectedCount:e}),B(t<=e,"too many arguments"+r,"UNEXPECTED_ARGUMENT",{count:t,expectedCount:e})}var cte=["NFD","NFC","NFKD","NFKC"].reduce((t,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"\xE9".normalize("NFD")!=="e\u0301")throw new Error("broken");t.push(e)}catch{}return t},[]);function Wb(t){B(cte.indexOf(t)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:t}})}function ms(t,e,r){if(r==null&&(r=""),t!==e){let n=r,o="new";r&&(n+=".",o+=" "+r),B(!1,`private constructor; use ${n}from* methods`,"UNSUPPORTED_OPERATION",{operation:o})}}function YU(t,e,r){if(t instanceof Uint8Array)return r?new Uint8Array(t):t;if(typeof t=="string"&&t.length%2===0&&t.match(/^0x[0-9a-f]*$/i)){let n=new Uint8Array((t.length-2)/2),o=2;for(let i=0;i<n.length;i++)n[i]=parseInt(t.substring(o,o+2),16),o+=2;return n}N(!1,"invalid BytesLike value",e||"value",t)}function Re(t,e){return YU(t,e,!1)}function Pr(t,e){return YU(t,e,!0)}function pt(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&t.length!==2+2*e||e===!0&&t.length%2!==0)}function Kc(t){return pt(t,!0)||t instanceof Uint8Array}var WU="0123456789abcdef";function ee(t){let e=Re(t),r="0x";for(let n=0;n<e.length;n++){let o=e[n];r+=WU[(o&240)>>4]+WU[o&15]}return r}function Tt(t){return"0x"+t.map(e=>ee(e).substring(2)).join("")}function ys(t){return pt(t,!0)?(t.length-2)/2:Re(t).length}function ir(t,e,r){let n=Re(t);return r!=null&&r>n.length&&B(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:r}),ee(n.slice(e??0,r??n.length))}function XU(t,e,r){let n=Re(t);B(e>=n.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(n),length:e,offset:e+1});let o=new Uint8Array(e);return o.fill(0),r?o.set(n,e-n.length):o.set(n,0),ee(o)}function Jn(t,e){return XU(t,e,!0)}function Yb(t,e){return XU(t,e,!1)}var Qm=BigInt(0),gs=BigInt(1),fd=9007199254740991;function Wc(t,e){let r=pd(t,"value"),n=BigInt(Be(e,"width"));if(B(r>>n===Qm,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),r>>n-gs){let o=(gs<<n)-gs;return-((~r&o)+gs)}return r}function dd(t,e){let r=ie(t,"value"),n=BigInt(Be(e,"width")),o=gs<<n-gs;if(r<Qm){r=-r,B(r<=o,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});let i=(gs<<n)-gs;return(~r&i)+gs}else B(r<o,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});return r}function Ci(t,e){let r=pd(t,"value"),n=BigInt(Be(e,"bits"));return r&(gs<<n)-gs}function ie(t,e){switch(typeof t){case"bigint":return t;case"number":return N(Number.isInteger(t),"underflow",e||"value",t),N(t>=-fd&&t<=fd,"overflow",e||"value",t),BigInt(t);case"string":try{if(t==="")throw new Error("empty string");return t[0]==="-"&&t[1]!=="-"?-BigInt(t.substring(1)):BigInt(t)}catch(r){N(!1,`invalid BigNumberish string: ${r.message}`,e||"value",t)}}N(!1,"invalid BigNumberish value",e||"value",t)}function pd(t,e){let r=ie(t,e);return B(r>=Qm,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),r}var ZU="0123456789abcdef";function Xa(t){if(t instanceof Uint8Array){let e="0x0";for(let r of t)e+=ZU[r>>4],e+=ZU[r&15];return BigInt(e)}return ie(t)}function Be(t,e){switch(typeof t){case"bigint":return N(t>=-fd&&t<=fd,"overflow",e||"value",t),Number(t);case"number":return N(Number.isInteger(t),"underflow",e||"value",t),N(t>=-fd&&t<=fd,"overflow",e||"value",t),t;case"string":try{if(t==="")throw new Error("empty string");return Be(BigInt(t),e)}catch(r){N(!1,`invalid numeric string: ${r.message}`,e||"value",t)}}N(!1,"invalid numeric value",e||"value",t)}function Xb(t){return Be(Xa(t))}function lo(t,e){let r=pd(t,"value"),n=r.toString(16);if(e==null)n.length%2&&(n="0"+n);else{let o=Be(e,"width");if(o===0&&r===Qm)return"0x";for(B(o*2>=n.length,`value exceeds width (${o} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});n.length<o*2;)n="0"+n}return"0x"+n}function lr(t,e){let r=pd(t,"value");if(r===Qm){let i=e!=null?Be(e,"width"):0;return new Uint8Array(i)}let n=r.toString(16);if(n.length%2&&(n="0"+n),e!=null){let i=Be(e,"width");for(;n.length<i*2;)n="00"+n;B(i*2===n.length,`value exceeds width (${i} bytes)`,"NUMERIC_FAULT",{operation:"toBeArray",fault:"overflow",value:t})}let o=new Uint8Array(n.length/2);for(let i=0;i<o.length;i++){let s=i*2;o[i]=parseInt(n.substring(s,s+2),16)}return o}function Hn(t){let e=ee(Kc(t)?t:lr(t)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}var eB="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var MRe=BigInt(0),tB=BigInt(58);function Zb(t){let e=Re(t),r=Xa(e),n="";for(;r;)n=eB[Number(r%tB)]+n,r/=tB;for(let o=0;o<e.length&&!e[o];o++)n=eB[0]+n;return n}function iN(t){t=atob(t);let e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return Re(e)}function sN(t){let e=Re(t),r="";for(let n=0;n<e.length;n++)r+=String.fromCharCode(e[n]);return btoa(r)}var Yc=class{filter;emitter;#e;constructor(e,r,n){this.#e=r,he(this,{emitter:e,filter:n})}removeListener(){return E(this,null,function*(){this.#e!=null&&(yield this.emitter.off(this.filter,this.#e))})}};function ute(t,e,r,n,o){N(!1,`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function rB(t,e,r,n,o){if(t==="BAD_PREFIX"||t==="UNEXPECTED_CONTINUE"){let i=0;for(let s=e+1;s<r.length&&r[s]>>6===2;s++)i++;return i}return t==="OVERRUN"?r.length-e-1:0}function lte(t,e,r,n,o){return t==="OVERLONG"?(N(typeof o=="number","invalid bad code point for replacement","badCodepoint",o),n.push(o),0):(n.push(65533),rB(t,e,r,n,o))}var aN=Object.freeze({error:ute,ignore:rB,replace:lte});function fte(t,e){e==null&&(e=aN.error);let r=Re(t,"bytes"),n=[],o=0;for(;o<r.length;){let i=r[o++];if(i>>7===0){n.push(i);continue}let s=null,a=null;if((i&224)===192)s=1,a=127;else if((i&240)===224)s=2,a=2047;else if((i&248)===240)s=3,a=65535;else{(i&192)===128?o+=e("UNEXPECTED_CONTINUE",o-1,r,n):o+=e("BAD_PREFIX",o-1,r,n);continue}if(o-1+s>=r.length){o+=e("OVERRUN",o-1,r,n);continue}let c=i&(1<<8-s-1)-1;for(let u=0;u<s;u++){let l=r[o];if((l&192)!=128){o+=e("MISSING_CONTINUE",o,r,n),c=null;break}c=c<<6|l&63,o++}if(c!==null){if(c>1114111){o+=e("OUT_OF_RANGE",o-1-s,r,n,c);continue}if(c>=55296&&c<=57343){o+=e("UTF16_SURROGATE",o-1-s,r,n,c);continue}if(c<=a){o+=e("OVERLONG",o-1-s,r,n,c);continue}n.push(c)}}return n}function Kn(t,e){N(typeof t=="string","invalid string value","str",t),e!=null&&(Wb(e),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){let o=t.charCodeAt(n);if(o<128)r.push(o);else if(o<2048)r.push(o>>6|192),r.push(o&63|128);else if((o&64512)==55296){n++;let i=t.charCodeAt(n);N(n<t.length&&(i&64512)===56320,"invalid surrogate pair","str",t);let s=65536+((o&1023)<<10)+(i&1023);r.push(s>>18|240),r.push(s>>12&63|128),r.push(s>>6&63|128),r.push(s&63|128)}else r.push(o>>12|224),r.push(o>>6&63|128),r.push(o&63|128)}return new Uint8Array(r)}function dte(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function Za(t,e){return dte(fte(t,e))}function eE(t){function e(r,n){return E(this,null,function*(){B(n==null||!n.cancelled,"request cancelled before sending","CANCELLED");let o=r.url.split(":")[0].toLowerCase();B(o==="http"||o==="https",`unsupported protocol ${o}`,"UNSUPPORTED_OPERATION",{info:{protocol:o},operation:"request"}),B(o==="https"||!r.credentials||r.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let i=null,s=new AbortController,a=setTimeout(()=>{i=Ot("request timeout","TIMEOUT"),s.abort()},r.timeout);n&&n.addListener(()=>{i=Ot("request cancelled","CANCELLED"),s.abort()});let c=Object.assign({},t,{method:r.method,headers:new Headers(Array.from(r)),body:r.body||void 0,signal:s.signal}),u;try{u=yield fetch(r.url,c)}catch(p){throw clearTimeout(a),i||p}clearTimeout(a);let l={};u.headers.forEach((p,h)=>{l[h.toLowerCase()]=p});let f=yield u.arrayBuffer(),d=f==null?null:new Uint8Array(f);return{statusCode:u.status,statusMessage:u.statusText,headers:l,body:d}})}return e}var WRe=eE({});var pte=12,hte=250,nB=eE(),mte=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),yte=new RegExp("^ipfs://(ipfs/)?(.*)$","i"),cN=!1;function iB(t,e){return E(this,null,function*(){try{let r=t.match(mte);if(!r)throw new Error("invalid data");return new Ys(200,"OK",{"content-type":r[1]||"text/plain"},r[2]?iN(r[3]):gte(r[3]))}catch{return new Ys(599,"BAD REQUEST (invalid data: URI)",{},null,new qo(t))}})}function sB(t){function e(r,n){return E(this,null,function*(){try{let o=r.match(yte);if(!o)throw new Error("invalid link");return new qo(`${t}${o[2]}`)}catch{return new Ys(599,"BAD REQUEST (invalid IPFS URI)",{},null,new qo(r))}})}return e}var tE={data:iB,ipfs:sB("https://gateway.ipfs.io/ipfs/")},aB=new WeakMap,Jm=class{#e;#t;constructor(e){this.#e=[],this.#t=!1,aB.set(e,()=>{if(!this.#t){this.#t=!0;for(let r of this.#e)setTimeout(()=>{r()},0);this.#e=[]}})}addListener(e){B(!this.#t,"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),this.#e.push(e)}get cancelled(){return this.#t}checkSignal(){B(!this.cancelled,"cancelled","CANCELLED",{})}};function rE(t){if(t==null)throw new Error("missing signal; should not happen");return t.checkSignal(),t}var qo=class t{#e;#t;#r;#n;#o;#s;#i;#a;#f;#u;#h;#m;#c;#l;#d;get url(){return this.#s}set url(e){this.#s=String(e)}get body(){return this.#i==null?null:new Uint8Array(this.#i)}set body(e){if(e==null)this.#i=void 0,this.#a=void 0;else if(typeof e=="string")this.#i=Kn(e),this.#a="text/plain";else if(e instanceof Uint8Array)this.#i=e,this.#a="application/octet-stream";else if(typeof e=="object")this.#i=Kn(JSON.stringify(e)),this.#a="application/json";else throw new Error("invalid body")}hasBody(){return this.#i!=null}get method(){return this.#n?this.#n:this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),this.#n=String(e).toUpperCase()}get headers(){let e=Object.assign({},this.#r);return this.#f&&(e.authorization=`Basic ${sN(Kn(this.#f))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&this.#a&&(e["content-type"]=this.#a),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,r){this.#r[String(e).toLowerCase()]=String(r)}clearHeaders(){this.#r={}}[Symbol.iterator](){let e=this.headers,r=Object.keys(e),n=0;return{next:()=>{if(n<r.length){let o=r[n++];return{value:[o,e[o]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return this.#f||null}setCredentials(e,r){N(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),this.#f=`${e}:${r}`}get allowGzip(){return this.#t}set allowGzip(e){this.#t=!!e}get allowInsecureAuthentication(){return!!this.#e}set allowInsecureAuthentication(e){this.#e=!!e}get timeout(){return this.#o}set timeout(e){N(e>=0,"timeout must be non-zero","timeout",e),this.#o=e}get preflightFunc(){return this.#u||null}set preflightFunc(e){this.#u=e}get processFunc(){return this.#h||null}set processFunc(e){this.#h=e}get retryFunc(){return this.#m||null}set retryFunc(e){this.#m=e}get getUrlFunc(){return this.#d||nB}set getUrlFunc(e){this.#d=e}constructor(e){this.#s=String(e),this.#e=!1,this.#t=!0,this.#r={},this.#n="",this.#o=3e5,this.#l={slotInterval:hte,maxAttempts:pte},this.#d=null}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${this.#i?ee(this.#i):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(this.#l.slotInterval=e.slotInterval),e.maxAttempts!=null&&(this.#l.maxAttempts=e.maxAttempts)}#p(e,r,n,o,i){return E(this,null,function*(){if(e>=this.#l.maxAttempts)return i.makeServerError("exceeded maximum retry limit");B(oB()<=r,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:o}),n>0&&(yield wte(n));let s=this.clone(),a=(s.url.split(":")[0]||"").toLowerCase();if(a in tE){let l=yield tE[a](s.url,rE(o.#c));if(l instanceof Ys){let f=l;if(this.processFunc){rE(o.#c);try{f=yield this.processFunc(s,f)}catch(d){(d.throttle==null||typeof d.stall!="number")&&f.makeServerError("error in post-processing function",d).assertOk()}}return f}s=l}this.preflightFunc&&(s=yield this.preflightFunc(s));let c=yield this.getUrlFunc(s,rE(o.#c)),u=new Ys(c.statusCode,c.statusMessage,c.headers,c.body,o);if(u.statusCode===301||u.statusCode===302){try{let l=u.headers.location||"";return s.redirect(l).#p(e+1,r,0,o,u)}catch{}return u}else if(u.statusCode===429&&(this.retryFunc==null||(yield this.retryFunc(s,u,e)))){let l=u.headers["retry-after"],f=this.#l.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof l=="string"&&l.match(/^[1-9][0-9]*$/)&&(f=parseInt(l)),s.clone().#p(e+1,r,f,o,u)}if(this.processFunc){rE(o.#c);try{u=yield this.processFunc(s,u)}catch(l){(l.throttle==null||typeof l.stall!="number")&&u.makeServerError("error in post-processing function",l).assertOk();let f=this.#l.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return l.stall>=0&&(f=l.stall),s.clone().#p(e+1,r,f,o,u)}}return u})}send(){return B(this.#c==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),this.#c=new Jm(this),this.#p(0,oB()+this.timeout,0,this,new Ys(0,"",{},null,this))}cancel(){B(this.#c!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});let e=aB.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){let r=this.url.split(":")[0].toLowerCase(),n=e.split(":")[0].toLowerCase();B(this.method==="GET"&&(r!=="https"||n!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});let o=new t(e);return o.method="GET",o.allowGzip=this.allowGzip,o.timeout=this.timeout,o.#r=Object.assign({},this.#r),this.#i&&(o.#i=new Uint8Array(this.#i)),o.#a=this.#a,o}clone(){let e=new t(this.url);return e.#n=this.#n,this.#i&&(e.#i=this.#i),e.#a=this.#a,e.#r=Object.assign({},this.#r),e.#f=this.#f,this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),e.#u=this.#u,e.#h=this.#h,e.#m=this.#m,e.#l=Object.assign({},this.#l),e.#d=this.#d,e}static lockConfig(){cN=!0}static getGateway(e){return tE[e.toLowerCase()]||null}static registerGateway(e,r){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(cN)throw new Error("gateways locked");tE[e]=r}static registerGetUrl(e){if(cN)throw new Error("gateways locked");nB=e}static createGetUrlFunc(e){return eE(e)}static createDataGateway(){return iB}static createIpfsGatewayFunc(e){return sB(e)}},Ys=class t{#e;#t;#r;#n;#o;#s;toString(){return`<FetchResponse status=${this.statusCode} body=${this.#n?ee(this.#n):"null"}>`}get statusCode(){return this.#e}get statusMessage(){return this.#t}get headers(){return Object.assign({},this.#r)}get body(){return this.#n==null?null:new Uint8Array(this.#n)}get bodyText(){try{return this.#n==null?"":Za(this.#n)}catch{B(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{B(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){let e=this.headers,r=Object.keys(e),n=0;return{next:()=>{if(n<r.length){let o=r[n++];return{value:[o,e[o]],done:!1}}return{value:void 0,done:!0}}}}constructor(e,r,n,o,i){this.#e=e,this.#t=r,this.#r=Object.keys(n).reduce((s,a)=>(s[a.toLowerCase()]=String(n[a]),s),{}),this.#n=o==null?null:new Uint8Array(o),this.#o=i||null,this.#s={message:""}}makeServerError(e,r){let n;e?n=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,n=`CLIENT ESCALATED SERVER ERROR (${e})`);let o=new t(599,n,this.headers,this.body,this.#o||void 0);return o.#s={message:e,error:r},o}throwThrottleError(e,r){r==null?r=-1:N(Number.isInteger(r)&&r>=0,"invalid stall timeout","stall",r);let n=new Error(e||"throttling requests");throw he(n,{stall:r,throttle:!0}),n}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return this.#n!=null}get request(){return this.#o}ok(){return this.#s.message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:r}=this.#s;e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let n=null;this.request&&(n=this.request.url);let o=null;try{this.#n&&(o=Za(this.#n))}catch{}B(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:r,info:{requestUrl:n,responseBody:o,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}};function oB(){return new Date().getTime()}function gte(t){return Kn(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,r)=>String.fromCharCode(parseInt(r,16))))}function wte(t){return new Promise(e=>setTimeout(e,t))}var bte=BigInt(-1),ws=BigInt(0),md=BigInt(1),Ete=BigInt(5),hd={},yd="0000";for(;yd.length<80;)yd+=yd;function dl(t){let e=yd;for(;e.length<t;)e+=e;return BigInt("1"+e.substring(0,t))}function Hm(t,e,r){let n=BigInt(e.width);if(e.signed){let o=md<<n-md;B(r==null||t>=-o&&t<o,"overflow","NUMERIC_FAULT",{operation:r,fault:"overflow",value:t}),t>ws?t=Wc(Ci(t,n),n):t=-Wc(Ci(-t,n),n)}else{let o=md<<n;B(r==null||t>=0&&t<o,"overflow","NUMERIC_FAULT",{operation:r,fault:"overflow",value:t}),t=(t%o+o)%o&o-md}return t}function uN(t){typeof t=="number"&&(t=`fixed128x${t}`);let e=!0,r=128,n=18;if(typeof t=="string"){if(t!=="fixed")if(t==="ufixed")e=!1;else{let i=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);N(i,"invalid fixed format","format",t),e=i[1]!=="u",r=parseInt(i[2]),n=parseInt(i[3])}}else if(t){let i=t,s=(a,c,u)=>i[a]==null?u:(N(typeof i[a]===c,"invalid fixed format ("+a+" not "+c+")","format."+a,i[a]),i[a]);e=s("signed","boolean",e),r=s("width","number",r),n=s("decimals","number",n)}N(r%8===0,"invalid FixedNumber width (not byte aligned)","format.width",r),N(n<=80,"invalid FixedNumber decimals (too large)","format.decimals",n);let o=(e?"":"u")+"fixed"+String(r)+"x"+String(n);return{signed:e,width:r,decimals:n,name:o}}function vte(t,e){let r="";t<ws&&(r="-",t*=bte);let n=t.toString();if(e===0)return r+n;for(;n.length<=e;)n=yd+n;let o=n.length-e;for(n=n.substring(0,o)+"."+n.substring(o);n[0]==="0"&&n[1]!==".";)n=n.substring(1);for(;n[n.length-1]==="0"&&n[n.length-2]!==".";)n=n.substring(0,n.length-1);return r+n}var Km=class t{format;#e;#t;#r;_value;constructor(e,r,n){ms(e,hd,"FixedNumber"),this.#t=r,this.#e=n;let o=vte(r,n.decimals);he(this,{format:n.name,_value:o}),this.#r=dl(n.decimals)}get signed(){return this.#e.signed}get width(){return this.#e.width}get decimals(){return this.#e.decimals}get value(){return this.#t}#n(e){N(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)}#o(e,r){return e=Hm(e,this.#e,r),new t(hd,e,this.#e)}#s(e,r){return this.#n(e),this.#o(this.#t+e.#t,r)}addUnsafe(e){return this.#s(e)}add(e){return this.#s(e,"add")}#i(e,r){return this.#n(e),this.#o(this.#t-e.#t,r)}subUnsafe(e){return this.#i(e)}sub(e){return this.#i(e,"sub")}#a(e,r){return this.#n(e),this.#o(this.#t*e.#t/this.#r,r)}mulUnsafe(e){return this.#a(e)}mul(e){return this.#a(e,"mul")}mulSignal(e){this.#n(e);let r=this.#t*e.#t;return B(r%this.#r===ws,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),this.#o(r/this.#r,"mulSignal")}#f(e,r){return B(e.#t!==ws,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#n(e),this.#o(this.#t*this.#r/e.#t,r)}divUnsafe(e){return this.#f(e)}div(e){return this.#f(e,"div")}divSignal(e){B(e.#t!==ws,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#n(e);let r=this.#t*this.#r;return B(r%e.#t===ws,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),this.#o(r/e.#t,"divSignal")}cmp(e){let r=this.value,n=e.value,o=this.decimals-e.decimals;return o>0?n*=dl(o):o<0&&(r*=dl(-o)),r<n?-1:r>n?1:0}eq(e){return this.cmp(e)===0}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=this.#t;return this.#t<ws&&(e-=this.#r-md),e=this.#t/this.#r*this.#r,this.#o(e,"floor")}ceiling(){let e=this.#t;return this.#t>ws&&(e+=this.#r-md),e=this.#t/this.#r*this.#r,this.#o(e,"ceiling")}round(e){if(e==null&&(e=0),e>=this.decimals)return this;let r=this.decimals-e,n=Ete*dl(r-1),o=this.value+n,i=dl(r);return o=o/i*i,Hm(o,this.#e,"round"),new t(hd,o,this.#e)}isZero(){return this.#t===ws}isNegative(){return this.#t<ws}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return t.fromString(this.toString(),e)}static fromValue(e,r,n){let o=r==null?0:Be(r),i=uN(n),s=ie(e,"value"),a=o-i.decimals;if(a>0){let c=dl(a);B(s%c===ws,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),s/=c}else a<0&&(s*=dl(-a));return Hm(s,i,"fromValue"),new t(hd,s,i)}static fromString(e,r){let n=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);N(n&&n[2].length+n[3].length>0,"invalid FixedNumber string value","value",e);let o=uN(r),i=n[2]||"0",s=n[3]||"";for(;s.length<o.decimals;)s+=yd;B(s.substring(o.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),s=s.substring(0,o.decimals);let a=BigInt(n[1]+i+s);return Hm(a,o,"fromString"),new t(hd,a,o)}static fromBytes(e,r){let n=Xa(Re(e,"value")),o=uN(r);return o.signed&&(n=Wc(n,o.width)),Hm(n,o,"fromBytes"),new t(hd,n,o)}};function Tte(t){let e=t.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function cB(t,e,r){let n=0;for(let o=0;o<r;o++)n=n*256+t[e+o];return n}function uB(t,e,r,n){let o=[];for(;r<e+1+n;){let i=lB(t,r);o.push(i.result),r+=i.consumed,B(r<=e+1+n,"child data too short","BUFFER_OVERRUN",{buffer:t,length:n,offset:e})}return{consumed:1+n,result:o}}function lB(t,e){B(t.length!==0,"data too short","BUFFER_OVERRUN",{buffer:t,length:0,offset:1});let r=n=>{B(n<=t.length,"data short segment too short","BUFFER_OVERRUN",{buffer:t,length:t.length,offset:n})};if(t[e]>=248){let n=t[e]-247;r(e+1+n);let o=cB(t,e+1,n);return r(e+1+n+o),uB(t,e,e+1+n,n+o)}else if(t[e]>=192){let n=t[e]-192;return r(e+1+n),uB(t,e,e+1,n)}else if(t[e]>=184){let n=t[e]-183;r(e+1+n);let o=cB(t,e+1,n);r(e+1+n+o);let i=ee(t.slice(e+1+n,e+1+n+o));return{consumed:1+n+o,result:i}}else if(t[e]>=128){let n=t[e]-128;r(e+1+n);let o=ee(t.slice(e+1,e+1+n));return{consumed:1+n,result:o}}return{consumed:1,result:Tte(t[e])}}function Xc(t){let e=Re(t,"data"),r=lB(e,0);return N(r.consumed===e.length,"unexpected junk after rlp payload","data",t),r.result}function fB(t){let e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function pB(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(i){n=n.concat(pB(i))}),n.length<=55)return n.unshift(192+n.length),n;let o=fB(n.length);return o.unshift(247+o.length),o.concat(n)}let e=Array.prototype.slice.call(Re(t,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;let r=fB(e.length);return r.unshift(183+r.length),r.concat(e)}var dB="0123456789abcdef";function Qo(t){let e="0x";for(let r of pB(t))e+=dB[r>>4],e+=dB[r&15];return e}var xte=["wei","kwei","mwei","gwei","szabo","finney","ether"];function lN(t,e){N(typeof t=="string","value must be a string","value",t);let r=18;if(typeof e=="string"){let n=xte.indexOf(e);N(n>=0,"invalid unit","unit",e),r=3*n}else e!=null&&(r=Be(e,"unit"));return Km.fromString(t,{decimals:r,width:512}).value}function hB(t){return lN(t,18)}var _n=32,fN=new Uint8Array(_n),Dte=["then"],nE={},gB=new WeakMap;function pl(t){return gB.get(t)}function mB(t,e){gB.set(t,e)}function Wm(t,e){let r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);throw r.error=e,r}function dN(t,e,r){return t.indexOf(null)>=0?e.map((n,o)=>n instanceof ec?dN(pl(n),n,r):n):t.reduce((n,o,i)=>{let s=e.getValue(o);return o in n||(r&&s instanceof ec&&(s=dN(pl(s),s,r)),n[o]=s),n},{})}var ec=class t extends Array{#e;constructor(...e){let r=e[0],n=e[1],o=(e[2]||[]).slice(),i=!0;r!==nE&&(n=e,o=[],i=!1),super(n.length),n.forEach((c,u)=>{this[u]=c});let s=o.reduce((c,u)=>(typeof u=="string"&&c.set(u,(c.get(u)||0)+1),c),new Map);if(mB(this,Object.freeze(n.map((c,u)=>{let l=o[u];return l!=null&&s.get(l)===1?l:null}))),this.#e=[],this.#e==null&&this.#e,!i)return;Object.freeze(this);let a=new Proxy(this,{get:(c,u,l)=>{if(typeof u=="string"){if(u.match(/^[0-9]+$/)){let d=Be(u,"%index");if(d<0||d>=this.length)throw new RangeError("out of result range");let p=c[d];return p instanceof Error&&Wm(`index ${d}`,p),p}if(Dte.indexOf(u)>=0)return Reflect.get(c,u,l);let f=c[u];if(f instanceof Function)return function(...d){return f.apply(this===l?c:this,d)};if(!(u in c))return c.getValue.apply(this===l?c:this,[u])}return Reflect.get(c,u,l)}});return mB(a,pl(this)),a}toArray(e){let r=[];return this.forEach((n,o)=>{n instanceof Error&&Wm(`index ${o}`,n),e&&n instanceof t&&(n=n.toArray(e)),r.push(n)}),r}toObject(e){let r=pl(this);return r.reduce((n,o,i)=>(B(o!=null,`value at index ${i} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),dN(r,this,e)),{})}slice(e,r){e==null&&(e=0),e<0&&(e+=this.length,e<0&&(e=0)),r==null&&(r=this.length),r<0&&(r+=this.length,r<0&&(r=0)),r>this.length&&(r=this.length);let n=pl(this),o=[],i=[];for(let s=e;s<r;s++)o.push(this[s]),i.push(n[s]);return new t(nE,o,i)}filter(e,r){let n=pl(this),o=[],i=[];for(let s=0;s<this.length;s++){let a=this[s];a instanceof Error&&Wm(`index ${s}`,a),e.call(r,a,s,this)&&(o.push(a),i.push(n[s]))}return new t(nE,o,i)}map(e,r){let n=[];for(let o=0;o<this.length;o++){let i=this[o];i instanceof Error&&Wm(`index ${o}`,i),n.push(e.call(r,i,o,this))}return n}getValue(e){let r=pl(this).indexOf(e);if(r===-1)return;let n=this[r];return n instanceof Error&&Wm(`property ${JSON.stringify(e)}`,n.error),n}static fromItems(e,r){return new t(nE,e,r)}};function yB(t){let e=lr(t);return B(e.length<=_n,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:_n,offset:e.length}),e.length!==_n&&(e=Pr(Tt([fN.slice(e.length%_n),e]))),e}var Zr=class{name;type;localName;dynamic;constructor(e,r,n,o){he(this,{name:e,type:r,localName:n,dynamic:o},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,r){N(!1,e,this.localName,r)}},hl=class{#e;#t;constructor(){this.#e=[],this.#t=0}get data(){return Tt(this.#e)}get length(){return this.#t}#r(e){return this.#e.push(e),this.#t+=e.length,e.length}appendWriter(e){return this.#r(Pr(e.data))}writeBytes(e){let r=Pr(e),n=r.length%_n;return n&&(r=Pr(Tt([r,fN.slice(n)]))),this.#r(r)}writeValue(e){return this.#r(yB(e))}writeUpdatableValue(){let e=this.#e.length;return this.#e.push(fN),this.#t+=_n,r=>{this.#e[e]=yB(r)}}},oE=class t{allowLoose;#e;#t;#r;#n;#o;constructor(e,r,n){he(this,{allowLoose:!!r}),this.#e=Pr(e),this.#r=0,this.#n=null,this.#o=n??1024,this.#t=0}get data(){return ee(this.#e)}get dataLength(){return this.#e.length}get consumed(){return this.#t}get bytes(){return new Uint8Array(this.#e)}#s(e){if(this.#n)return this.#n.#s(e);this.#r+=e,B(this.#o<1||this.#r<=this.#o*this.dataLength,`compressed ABI data exceeds inflation ratio of ${this.#o} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:Pr(this.#e),offset:this.#t,length:e,info:{bytesRead:this.#r,dataLength:this.dataLength}})}#i(e,r,n){let o=Math.ceil(r/_n)*_n;return this.#t+o>this.#e.length&&(this.allowLoose&&n&&this.#t+r<=this.#e.length?o=r:B(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:Pr(this.#e),length:this.#e.length,offset:this.#t+o})),this.#e.slice(this.#t,this.#t+o)}subReader(e){let r=new t(this.#e.slice(this.#t+e),this.allowLoose,this.#o);return r.#n=this,r}readBytes(e,r){let n=this.#i(0,e,!!r);return this.#s(e),this.#t+=n.length,n.slice(0,e)}readValue(){return Xa(this.readBytes(_n))}readIndex(){return Xb(this.readBytes(_n))}};var[Ote,Cte]=ct.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Zc=new Uint32Array(80),eu=new Uint32Array(80),iE=class extends Hb{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:n,Bl:o,Ch:i,Cl:s,Dh:a,Dl:c,Eh:u,El:l,Fh:f,Fl:d,Gh:p,Gl:h,Hh:m,Hl:g}=this;return[e,r,n,o,i,s,a,c,u,l,f,d,p,h,m,g]}set(e,r,n,o,i,s,a,c,u,l,f,d,p,h,m,g){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=o|0,this.Ch=i|0,this.Cl=s|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=f|0,this.Fl=d|0,this.Gh=p|0,this.Gl=h|0,this.Hh=m|0,this.Hl=g|0}process(e,r){for(let v=0;v<16;v++,r+=4)Zc[v]=e.getUint32(r),eu[v]=e.getUint32(r+=4);for(let v=16;v<80;v++){let x=Zc[v-15]|0,A=eu[v-15]|0,_=ct.rotrSH(x,A,1)^ct.rotrSH(x,A,8)^ct.shrSH(x,A,7),O=ct.rotrSL(x,A,1)^ct.rotrSL(x,A,8)^ct.shrSL(x,A,7),C=Zc[v-2]|0,I=eu[v-2]|0,k=ct.rotrSH(C,I,19)^ct.rotrBH(C,I,61)^ct.shrSH(C,I,6),M=ct.rotrSL(C,I,19)^ct.rotrBL(C,I,61)^ct.shrSL(C,I,6),X=ct.add4L(O,M,eu[v-7],eu[v-16]),re=ct.add4H(X,_,k,Zc[v-7],Zc[v-16]);Zc[v]=re|0,eu[v]=X|0}let{Ah:n,Al:o,Bh:i,Bl:s,Ch:a,Cl:c,Dh:u,Dl:l,Eh:f,El:d,Fh:p,Fl:h,Gh:m,Gl:g,Hh:w,Hl:T}=this;for(let v=0;v<80;v++){let x=ct.rotrSH(f,d,14)^ct.rotrSH(f,d,18)^ct.rotrBH(f,d,41),A=ct.rotrSL(f,d,14)^ct.rotrSL(f,d,18)^ct.rotrBL(f,d,41),_=f&p^~f&m,O=d&h^~d&g,C=ct.add5L(T,A,O,Cte[v],eu[v]),I=ct.add5H(C,w,x,_,Ote[v],Zc[v]),k=C|0,M=ct.rotrSH(n,o,28)^ct.rotrBH(n,o,34)^ct.rotrBH(n,o,39),X=ct.rotrSL(n,o,28)^ct.rotrBL(n,o,34)^ct.rotrBL(n,o,39),re=n&i^n&a^i&a,ye=o&s^o&c^s&c;w=m|0,T=g|0,m=p|0,g=h|0,p=f|0,h=d|0,{h:f,l:d}=ct.add(u|0,l|0,I|0,k|0),u=a|0,l=c|0,a=i|0,c=s|0,i=n|0,s=o|0;let Te=ct.add3L(k,X,ye);n=ct.add3H(Te,I,M,re),o=Te|0}({h:n,l:o}=ct.add(this.Ah|0,this.Al|0,n|0,o|0)),{h:i,l:s}=ct.add(this.Bh|0,this.Bl|0,i|0,s|0),{h:a,l:c}=ct.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=ct.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:f,l:d}=ct.add(this.Eh|0,this.El|0,f|0,d|0),{h:p,l:h}=ct.add(this.Fh|0,this.Fl|0,p|0,h|0),{h:m,l:g}=ct.add(this.Gh|0,this.Gl|0,m|0,g|0),{h:w,l:T}=ct.add(this.Hh|0,this.Hl|0,w|0,T|0),this.set(n,o,i,s,a,c,u,l,f,d,p,h,m,g,w,T)}roundClean(){Zc.fill(0),eu.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};var pN=class extends iE{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}},ml=zm(()=>new iE);var wB=zm(()=>new pN);function Rte(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}var bB=Rte(),Gke=bB.crypto||bB.msCrypto;function hN(t){switch(t){case"sha256":return ad.create();case"sha512":return ml.create()}N(!1,"invalid hashing algorithm name","algorithm",t)}var EB=!1,vB=function(t){return ul(t)},TB=vB;function Wt(t){let e=Re(t,"data");return ee(TB(e))}Wt._=vB;Wt.lock=function(){EB=!0};Wt.register=function(t){if(EB)throw new TypeError("keccak256 is locked");TB=t};Object.freeze(Wt);var kte=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),AB=Uint8Array.from({length:16},(t,e)=>e),Pte=AB.map(t=>(9*t+5)%16),yN=[AB],gN=[Pte];for(let t=0;t<4;t++)for(let e of[yN,gN])e.push(e[t].map(r=>kte[r]));var IB=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(t=>new Uint8Array(t)),Lte=yN.map((t,e)=>t.map(r=>IB[e][r])),Fte=gN.map((t,e)=>t.map(r=>IB[e][r])),Ute=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),Bte=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),sE=(t,e)=>t<<e|t>>>32-e;function xB(t,e,r,n){return t===0?e^r^n:t===1?e&r|~e&n:t===2?(e|~r)^n:t===3?e&n|r&~n:e^(r|~n)}var aE=new Uint32Array(16),mN=class extends Hb{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){let{h0:e,h1:r,h2:n,h3:o,h4:i}=this;return[e,r,n,o,i]}set(e,r,n,o,i){this.h0=e|0,this.h1=r|0,this.h2=n|0,this.h3=o|0,this.h4=i|0}process(e,r){for(let p=0;p<16;p++,r+=4)aE[p]=e.getUint32(r,!0);let n=this.h0|0,o=n,i=this.h1|0,s=i,a=this.h2|0,c=a,u=this.h3|0,l=u,f=this.h4|0,d=f;for(let p=0;p<5;p++){let h=4-p,m=Ute[p],g=Bte[p],w=yN[p],T=gN[p],v=Lte[p],x=Fte[p];for(let A=0;A<16;A++){let _=sE(n+xB(p,i,a,u)+aE[w[A]]+m,v[A])+f|0;n=f,f=u,u=sE(a,10)|0,a=i,i=_}for(let A=0;A<16;A++){let _=sE(o+xB(h,s,c,l)+aE[T[A]]+g,x[A])+d|0;o=d,d=l,l=sE(c,10)|0,c=s,s=_}}this.set(this.h1+a+l|0,this.h2+u+d|0,this.h3+f+o|0,this.h4+n+s|0,this.h0+i+c|0)}roundClean(){aE.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}},wN=zm(()=>new mN);var SB=function(t){return hN("sha256").update(t).digest()},NB=function(t){return hN("sha512").update(t).digest()},_B=SB,DB=NB,OB=!1,CB=!1;function tu(t){let e=Re(t,"data");return ee(_B(e))}tu._=SB;tu.lock=function(){OB=!0};tu.register=function(t){if(OB)throw new Error("sha256 is locked");_B=t};Object.freeze(tu);function cE(t){let e=Re(t,"data");return ee(DB(e))}cE._=NB;cE.lock=function(){CB=!0};cE.register=function(t){if(CB)throw new Error("sha512 is locked");DB=t};Object.freeze(tu);var tc="0x0000000000000000000000000000000000000000";var uE="0x0000000000000000000000000000000000000000000000000000000000000000";var RB=BigInt(0),kB=BigInt(1),EN=BigInt(2),PB=BigInt(27),LB=BigInt(28),lE=BigInt(35),FB=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Mte=FB/EN,$te=Symbol.for("nodejs.util.inspect.custom"),yl={};function bN(t){return Jn(lr(t),32)}var cn=class t{#e;#t;#r;#n;get r(){return this.#e}set r(e){N(ys(e)===32,"invalid r","value",e),this.#e=ee(e)}get s(){return N(parseInt(this.#t.substring(0,3))<8,"non-canonical s; use ._s","s",this.#t),this.#t}set s(e){N(ys(e)===32,"invalid s","value",e),this.#t=ee(e)}get _s(){return this.#t}isValid(){return BigInt(this.#t)<=Mte}get v(){return this.#r}set v(e){let r=Be(e,"value");N(r===27||r===28,"invalid v","v",e),this.#r=r}get networkV(){return this.#n}get legacyChainId(){let e=this.networkV;return e==null?null:t.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){let e=Re(this.s);return this.yParity&&(e[0]|=128),ee(e)}get compactSerialized(){return Tt([this.r,this.yParityAndS])}get serialized(){return Tt([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(e,r,n,o){ms(e,yl,"Signature"),this.#e=r,this.#t=n,this.#r=o,this.#n=null}getCanonical(){if(this.isValid())return this;let e=FB-BigInt(this._s),r=55-this.v,n=new t(yl,this.r,bN(e),r);return this.networkV&&(n.#n=this.networkV),n}clone(){let e=new t(yl,this.r,this._s,this.v);return this.networkV&&(e.#n=this.networkV),e}toJSON(){let e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this._s,v:this.v}}[$te](){return this.toString()}toString(){return this.isValid()?`Signature { r: ${this.r}, s: ${this._s}, v: ${this.v} }`:`Signature { r: ${this.r}, s: ${this._s}, v: ${this.v}, valid: false }`}static getChainId(e){let r=ie(e,"v");return r==PB||r==LB?RB:(N(r>=lE,"invalid EIP-155 v","v",e),(r-lE)/EN)}static getChainIdV(e,r){return ie(e)*EN+BigInt(35+r-27)}static getNormalizedV(e){let r=ie(e);return r===RB||r===PB?27:r===kB||r===LB?28:(N(r>=lE,"invalid v","v",e),r&kB?27:28)}static from(e){function r(u,l){N(u,l,"signature",e)}if(e==null)return new t(yl,uE,uE,27);if(typeof e=="string"){let u=Re(e,"signature");if(u.length===64){let l=ee(u.slice(0,32)),f=u.slice(32,64),d=f[0]&128?28:27;return f[0]&=127,new t(yl,l,ee(f),d)}if(u.length===65){let l=ee(u.slice(0,32)),f=ee(u.slice(32,64)),d=t.getNormalizedV(u[64]);return new t(yl,l,f,d)}r(!1,"invalid raw signature length")}if(e instanceof t)return e.clone();let n=e.r;r(n!=null,"missing r");let o=bN(n),i=(function(u,l){if(u!=null)return bN(u);if(l!=null){r(pt(l,32),"invalid yParityAndS");let f=Re(l);return f[0]&=127,ee(f)}r(!1,"missing s")})(e.s,e.yParityAndS),{networkV:s,v:a}=(function(u,l,f){if(u!=null){let d=ie(u);return{networkV:d>=lE?d:void 0,v:t.getNormalizedV(d)}}if(l!=null)return r(pt(l,32),"invalid yParityAndS"),{v:Re(l)[0]&128?28:27};if(f!=null){switch(Be(f,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}r(!1,"invalid yParity")}r(!1,"missing v")})(e.v,e.yParityAndS,e.yParity),c=new t(yl,o,i,a);return s&&(c.#n=s),r(e.yParity==null||Be(e.yParity,"sig.yParity")===c.yParity,"yParity mismatch"),r(e.yParityAndS==null||e.yParityAndS===c.yParityAndS,"yParityAndS mismatch"),c}};var ru=class t{#e;constructor(e){N(ys(e)===32,"invalid private key","privateKey","[REDACTED]"),this.#e=ee(e)}get privateKey(){return this.#e}get publicKey(){return t.computePublicKey(this.#e)}get compressedPublicKey(){return t.computePublicKey(this.#e,!0)}sign(e){N(ys(e)===32,"invalid digest length","digest",e);let r=Qn.sign(Pr(e),Pr(this.#e),{lowS:!0});return cn.from({r:lo(r.r,32),s:lo(r.s,32),v:r.recovery?28:27})}computeSharedSecret(e){let r=t.computePublicKey(e);return ee(Qn.getSharedSecret(Pr(this.#e),Re(r),!1))}static computePublicKey(e,r){let n=Re(e,"key");if(n.length===32){let i=Qn.getPublicKey(n,!!r);return ee(i)}if(n.length===64){let i=new Uint8Array(65);i[0]=4,i.set(n,1),n=i}let o=Qn.ProjectivePoint.fromHex(n);return ee(o.toRawBytes(r))}static recoverPublicKey(e,r){N(ys(e)===32,"invalid digest length","digest",e);let n=cn.from(r),o=Qn.Signature.fromCompact(Pr(Tt([n.r,n.s])));o=o.addRecoveryBit(n.yParity);let i=o.recoverPublicKey(Pr(e));return N(i!=null,"invalid signature for digest","signature",r),"0x"+i.toHex(!1)}static addPoints(e,r,n){let o=Qn.ProjectivePoint.fromHex(t.computePublicKey(e).substring(2)),i=Qn.ProjectivePoint.fromHex(t.computePublicKey(r).substring(2));return"0x"+o.add(i).toHex(!!n)}};var Vte=BigInt(0),jte=BigInt(36);function UB(t){t=t.toLowerCase();let e=t.substring(2).split(""),r=new Uint8Array(40);for(let o=0;o<40;o++)r[o]=e[o].charCodeAt(0);let n=Re(Wt(r));for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&(e[o]=e[o].toUpperCase()),(n[o>>1]&15)>=8&&(e[o+1]=e[o+1].toUpperCase());return"0x"+e.join("")}var vN={};for(let t=0;t<10;t++)vN[String(t)]=String(t);for(let t=0;t<26;t++)vN[String.fromCharCode(65+t)]=String(10+t);var BB=15;function Gte(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>vN[n]).join("");for(;e.length>=BB;){let n=e.substring(0,BB);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}var zte=(function(){let t={};for(let e=0;e<36;e++){let r="0123456789abcdefghijklmnopqrstuvwxyz"[e];t[r]=BigInt(e)}return t})();function qte(t){t=t.toLowerCase();let e=Vte;for(let r=0;r<t.length;r++)e=e*jte+zte[t[r]];return e}function rt(t){if(N(typeof t=="string","invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith("0x")||(t="0x"+t);let e=UB(t);return N(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,"bad address checksum","address",t),e}if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){N(t.substring(2,4)===Gte(t),"bad icap checksum","address",t);let e=qte(t.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return UB("0x"+e)}N(!1,"invalid address","address",t)}function TN(t){let e=rt(t.from),n=ie(t.nonce,"tx.nonce").toString(16);return n==="0"?n="0x":n.length%2?n="0x0"+n:n="0x"+n,rt(ir(Wt(Qo([e,n])),12))}function fE(t){return t&&typeof t.getAddress=="function"}function xN(t,e){return E(this,null,function*(){let r=yield e;return(r==null||r==="0x0000000000000000000000000000000000000000")&&(B(typeof t!="string","unconfigured name","UNCONFIGURED_NAME",{value:t}),N(!1,"invalid AddressLike value; did not resolve to a value address","target",t)),rt(r)})}function en(t,e){if(typeof t=="string")return t.match(/^0x[0-9a-f]{40}$/i)?rt(t):(B(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),xN(t,e.resolveName(t)));if(fE(t))return xN(t,t.getAddress());if(t&&typeof t.then=="function")return xN(t,t);N(!1,"unsupported addressable value","target",t)}var bs={};function Se(t,e){let r=!1;return e<0&&(r=!0,e*=-1),new fr(bs,`${r?"":"u"}int${e}`,t,{signed:r,width:e})}function Pt(t,e){return new fr(bs,`bytes${e||""}`,t,{size:e})}var MB=Symbol.for("_ethers_typed"),fr=class t{type;value;#e;_typedSymbol;constructor(e,r,n,o){o==null&&(o=null),ms(bs,e,"Typed"),he(this,{_typedSymbol:MB,type:r,value:n}),this.#e=o,this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return this.#e}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return this.#e===!0?-1:this.#e===!1?this.value.length:null}static from(e,r){return new t(bs,e,r)}static uint8(e){return Se(e,8)}static uint16(e){return Se(e,16)}static uint24(e){return Se(e,24)}static uint32(e){return Se(e,32)}static uint40(e){return Se(e,40)}static uint48(e){return Se(e,48)}static uint56(e){return Se(e,56)}static uint64(e){return Se(e,64)}static uint72(e){return Se(e,72)}static uint80(e){return Se(e,80)}static uint88(e){return Se(e,88)}static uint96(e){return Se(e,96)}static uint104(e){return Se(e,104)}static uint112(e){return Se(e,112)}static uint120(e){return Se(e,120)}static uint128(e){return Se(e,128)}static uint136(e){return Se(e,136)}static uint144(e){return Se(e,144)}static uint152(e){return Se(e,152)}static uint160(e){return Se(e,160)}static uint168(e){return Se(e,168)}static uint176(e){return Se(e,176)}static uint184(e){return Se(e,184)}static uint192(e){return Se(e,192)}static uint200(e){return Se(e,200)}static uint208(e){return Se(e,208)}static uint216(e){return Se(e,216)}static uint224(e){return Se(e,224)}static uint232(e){return Se(e,232)}static uint240(e){return Se(e,240)}static uint248(e){return Se(e,248)}static uint256(e){return Se(e,256)}static uint(e){return Se(e,256)}static int8(e){return Se(e,-8)}static int16(e){return Se(e,-16)}static int24(e){return Se(e,-24)}static int32(e){return Se(e,-32)}static int40(e){return Se(e,-40)}static int48(e){return Se(e,-48)}static int56(e){return Se(e,-56)}static int64(e){return Se(e,-64)}static int72(e){return Se(e,-72)}static int80(e){return Se(e,-80)}static int88(e){return Se(e,-88)}static int96(e){return Se(e,-96)}static int104(e){return Se(e,-104)}static int112(e){return Se(e,-112)}static int120(e){return Se(e,-120)}static int128(e){return Se(e,-128)}static int136(e){return Se(e,-136)}static int144(e){return Se(e,-144)}static int152(e){return Se(e,-152)}static int160(e){return Se(e,-160)}static int168(e){return Se(e,-168)}static int176(e){return Se(e,-176)}static int184(e){return Se(e,-184)}static int192(e){return Se(e,-192)}static int200(e){return Se(e,-200)}static int208(e){return Se(e,-208)}static int216(e){return Se(e,-216)}static int224(e){return Se(e,-224)}static int232(e){return Se(e,-232)}static int240(e){return Se(e,-240)}static int248(e){return Se(e,-248)}static int256(e){return Se(e,-256)}static int(e){return Se(e,-256)}static bytes1(e){return Pt(e,1)}static bytes2(e){return Pt(e,2)}static bytes3(e){return Pt(e,3)}static bytes4(e){return Pt(e,4)}static bytes5(e){return Pt(e,5)}static bytes6(e){return Pt(e,6)}static bytes7(e){return Pt(e,7)}static bytes8(e){return Pt(e,8)}static bytes9(e){return Pt(e,9)}static bytes10(e){return Pt(e,10)}static bytes11(e){return Pt(e,11)}static bytes12(e){return Pt(e,12)}static bytes13(e){return Pt(e,13)}static bytes14(e){return Pt(e,14)}static bytes15(e){return Pt(e,15)}static bytes16(e){return Pt(e,16)}static bytes17(e){return Pt(e,17)}static bytes18(e){return Pt(e,18)}static bytes19(e){return Pt(e,19)}static bytes20(e){return Pt(e,20)}static bytes21(e){return Pt(e,21)}static bytes22(e){return Pt(e,22)}static bytes23(e){return Pt(e,23)}static bytes24(e){return Pt(e,24)}static bytes25(e){return Pt(e,25)}static bytes26(e){return Pt(e,26)}static bytes27(e){return Pt(e,27)}static bytes28(e){return Pt(e,28)}static bytes29(e){return Pt(e,29)}static bytes30(e){return Pt(e,30)}static bytes31(e){return Pt(e,31)}static bytes32(e){return Pt(e,32)}static address(e){return new t(bs,"address",e)}static bool(e){return new t(bs,"bool",!!e)}static bytes(e){return new t(bs,"bytes",e)}static string(e){return new t(bs,"string",e)}static array(e,r){throw new Error("not implemented yet")}static tuple(e,r){throw new Error("not implemented yet")}static overrides(e){return new t(bs,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===MB}static dereference(e,r){if(t.isTyped(e)){if(e.type!==r)throw new Error(`invalid type: expecetd ${r}, got ${e.type}`);return e.value}return e}};var dE=class extends Zr{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,r){let n=fr.dereference(r,"string");try{n=rt(n)}catch(o){return this._throwError(o.message,r)}return e.writeValue(n)}decode(e){return rt(lo(e.readValue(),20))}};var pE=class extends Zr{coder;constructor(e){super(e.name,e.type,"_",e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,r){return this.coder.encode(e,r)}decode(e){return this.coder.decode(e)}};function AN(t,e,r){let n=[];if(Array.isArray(r))n=r;else if(r&&typeof r=="object"){let c={};n=e.map(u=>{let l=u.localName;return B(l,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:u},value:r}),B(!c[l],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:u},value:r}),c[l]=!0,r[l]})}else N(!1,"invalid tuple value","tuple",r);N(e.length===n.length,"types/value length mismatch","tuple",r);let o=new hl,i=new hl,s=[];e.forEach((c,u)=>{let l=n[u];if(c.dynamic){let f=i.length;c.encode(i,l);let d=o.writeUpdatableValue();s.push(p=>{d(p+f)})}else c.encode(o,l)}),s.forEach(c=>{c(o.length)});let a=t.appendWriter(o);return a+=t.appendWriter(i),a}function IN(t,e){let r=[],n=[],o=t.subReader(0);return e.forEach(i=>{let s=null;if(i.dynamic){let a=t.readIndex(),c=o.subReader(a);try{s=i.decode(c)}catch(u){if(ur(u,"BUFFER_OVERRUN"))throw u;s=u,s.baseType=i.name,s.name=i.localName,s.type=i.type}}else try{s=i.decode(t)}catch(a){if(ur(a,"BUFFER_OVERRUN"))throw a;s=a,s.baseType=i.name,s.name=i.localName,s.type=i.type}if(s==null)throw new Error("investigate");r.push(s),n.push(i.localName||null)}),ec.fromItems(r,n)}var hE=class extends Zr{coder;length;constructor(e,r,n){let o=e.type+"["+(r>=0?r:"")+"]",i=r===-1||e.dynamic;super("array",o,n,i),he(this,{coder:e,length:r})}defaultValue(){let e=this.coder.defaultValue(),r=[];for(let n=0;n<this.length;n++)r.push(e);return r}encode(e,r){let n=fr.dereference(r,"array");Array.isArray(n)||this._throwError("expected array value",n);let o=this.length;o===-1&&(o=n.length,e.writeValue(n.length)),ld(n.length,o,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let s=0;s<n.length;s++)i.push(this.coder);return AN(e,i,n)}decode(e){let r=this.length;r===-1&&(r=e.readIndex(),B(r*_n<=e.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:e.bytes,offset:r*_n,length:e.dataLength}));let n=[];for(let o=0;o<r;o++)n.push(new pE(this.coder));return IN(e,n)}};var mE=class extends Zr{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,r){let n=fr.dereference(r,"bool");return e.writeValue(n?1:0)}decode(e){return!!e.readValue()}};var Ym=class extends Zr{constructor(e,r){super(e,e,r,!0)}defaultValue(){return"0x"}encode(e,r){r=Pr(r);let n=e.writeValue(r.length);return n+=e.writeBytes(r),n}decode(e){return e.readBytes(e.readIndex(),!0)}},yE=class extends Ym{constructor(e){super("bytes",e)}decode(e){return ee(super.decode(e))}};var gE=class extends Zr{size;constructor(e,r){let n="bytes"+String(e);super(n,n,r,!1),he(this,{size:e},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,r){let n=Pr(fr.dereference(r,this.type));return n.length!==this.size&&this._throwError("incorrect data length",r),e.writeBytes(n)}decode(e){return ee(e.readBytes(this.size))}};var Qte=new Uint8Array([]),wE=class extends Zr{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,r){return r!=null&&this._throwError("not null",r),e.writeBytes(Qte)}decode(e){return e.readBytes(0),null}};var Jte=BigInt(0),Hte=BigInt(1),Kte=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),bE=class extends Zr{size;signed;constructor(e,r,n){let o=(r?"int":"uint")+e*8;super(o,o,n,!1),he(this,{size:e,signed:r},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(e,r){let n=ie(fr.dereference(r,this.type)),o=Ci(Kte,_n*8);if(this.signed){let i=Ci(o,this.size*8-1);(n>i||n<-(i+Hte))&&this._throwError("value out-of-bounds",r),n=dd(n,8*_n)}else(n<Jte||n>Ci(o,this.size*8))&&this._throwError("value out-of-bounds",r);return e.writeValue(n)}decode(e){let r=Ci(e.readValue(),this.size*8);return this.signed&&(r=Wc(r,this.size*8)),r}};var EE=class extends Ym{constructor(e){super("string",e)}defaultValue(){return""}encode(e,r){return super.encode(e,Kn(fr.dereference(r,"string")))}decode(e){return Za(super.decode(e))}};var gl=class extends Zr{coders;constructor(e,r){let n=!1,o=[];e.forEach(s=>{s.dynamic&&(n=!0),o.push(s.type)});let i="tuple("+o.join(",")+")";super("tuple",i,r,n),he(this,{coders:Object.freeze(e.slice())})}defaultValue(){let e=[];this.coders.forEach(n=>{e.push(n.defaultValue())});let r=this.coders.reduce((n,o)=>{let i=o.localName;return i&&(n[i]||(n[i]=0),n[i]++),n},{});return this.coders.forEach((n,o)=>{let i=n.localName;!i||r[i]!==1||(i==="length"&&(i="_length"),e[i]==null&&(e[i]=e[o]))}),Object.freeze(e)}encode(e,r){let n=fr.dereference(r,"tuple");return AN(e,this.coders,n)}decode(e){return IN(e,this.coders)}};function SN(t,e){return{address:rt(t),storageKeys:e.map((r,n)=>(N(pt(r,32),"invalid slot",`storageKeys[${n}]`,r),r.toLowerCase()))}}function Jo(t){if(Array.isArray(t))return t.map((r,n)=>Array.isArray(r)?(N(r.length===2,"invalid slot set",`value[${n}]`,r),SN(r[0],r[1])):(N(r!=null&&typeof r=="object","invalid address-slot set","value",t),SN(r.address,r.storageKeys)));N(t!=null&&typeof t=="object","invalid access list","value",t);let e=Object.keys(t).map(r=>{let n=t[r].reduce((o,i)=>(o[i]=!0,o),{});return SN(r,Object.keys(n).sort())});return e.sort((r,n)=>r.address.localeCompare(n.address)),e}function Xm(t){return{address:rt(t.address),nonce:ie(t.nonce!=null?t.nonce:0),chainId:ie(t.chainId!=null?t.chainId:0),signature:cn.from(t.signature)}}function Wte(t){let e;return typeof t=="string"?e=ru.computePublicKey(t,!1):e=t.publicKey,rt(Wt("0x"+e.substring(4)).substring(26))}function $B(t,e){return Wte(ru.recoverPublicKey(t,e))}var pn=BigInt(0),Yte=BigInt(2),Xte=BigInt(27),Zte=BigInt(28),ere=BigInt(35),tre=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),rre=Symbol.for("nodejs.util.inspect.custom"),NN=4096*32,vE=128;function nre(t){return{blobToKzgCommitment:n=>{if("computeBlobProof"in t){if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return Re(t.blobToKzgCommitment(ee(n)))}else if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return Re(t.blobToKzgCommitment(n));if("blobToKZGCommitment"in t&&typeof t.blobToKZGCommitment=="function")return Re(t.blobToKZGCommitment(ee(n)));N(!1,"unsupported KZG library","kzg",t)},computeBlobKzgProof:(n,o)=>{if("computeBlobProof"in t&&typeof t.computeBlobProof=="function")return Re(t.computeBlobProof(ee(n),ee(o)));if("computeBlobKzgProof"in t&&typeof t.computeBlobKzgProof=="function")return t.computeBlobKzgProof(n,o);if("computeBlobKZGProof"in t&&typeof t.computeBlobKZGProof=="function")return Re(t.computeBlobKZGProof(ee(n),ee(o)));N(!1,"unsupported KZG library","kzg",t)}}}function VB(t,e){let r=t.toString(16);for(;r.length<2;)r="0"+r;return r+=tu(e).substring(4),"0x"+r}function gd(t){return t==="0x"?null:rt(t)}function TE(t,e){try{return Jo(t)}catch(r){N(!1,r.message,e,t)}}function ore(t,e){try{if(!Array.isArray(t))throw new Error("authorizationList: invalid array");let r=[];for(let n=0;n<t.length;n++){let o=t[n];if(!Array.isArray(o))throw new Error(`authorization[${n}]: invalid array`);if(o.length!==6)throw new Error(`authorization[${n}]: wrong length`);if(!o[1])throw new Error(`authorization[${n}]: null address`);r.push({address:gd(o[1]),nonce:tr(o[2],"nonce"),chainId:tr(o[0],"chainId"),signature:cn.from({yParity:bl(o[3],"yParity"),r:Jn(o[4],32),s:Jn(o[5],32)})})}return r}catch(r){N(!1,r.message,e,t)}}function bl(t,e){return t==="0x"?0:Be(t,e)}function tr(t,e){if(t==="0x")return pn;let r=ie(t,e);return N(r<=tre,"value exceeds uint size",e,r),r}function xt(t,e){let r=ie(t,"value"),n=lr(r);return N(n.length<=32,"value too large",`tx.${e}`,r),n}function xE(t){return Jo(t).map(e=>[e.address,e.storageKeys])}function ire(t){return t.map(e=>[xt(e.chainId,"chainId"),e.address,xt(e.nonce,"nonce"),xt(e.signature.yParity,"yParity"),lr(e.signature.r),lr(e.signature._s)])}function sre(t,e){N(Array.isArray(t),`invalid ${e}`,"value",t);for(let r=0;r<t.length;r++)N(pt(t[r],32),"invalid ${ param } hash",`value[${r}]`,t[r]);return t}function are(t){let e=Xc(t);N(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",t);let r={type:0,nonce:bl(e[0],"nonce"),gasPrice:tr(e[1],"gasPrice"),gasLimit:tr(e[2],"gasLimit"),to:gd(e[3]),value:tr(e[4],"value"),data:ee(e[5]),chainId:pn};if(e.length===6)return r;let n=tr(e[6],"v"),o=tr(e[7],"r"),i=tr(e[8],"s");if(o===pn&&i===pn)r.chainId=n;else{let s=(n-ere)/Yte;s<pn&&(s=pn),r.chainId=s,N(s!==pn||n===Xte||n===Zte,"non-canonical legacy v","v",e[6]),r.signature=cn.from({r:Jn(e[7],32),s:Jn(e[8],32),v:n})}return r}function cre(t,e){let r=[xt(t.nonce,"nonce"),xt(t.gasPrice||0,"gasPrice"),xt(t.gasLimit,"gasLimit"),t.to||"0x",xt(t.value,"value"),t.data],n=pn;if(t.chainId!=pn)n=ie(t.chainId,"tx.chainId"),N(!e||e.networkV==null||e.legacyChainId===n,"tx.chainId/sig.v mismatch","sig",e);else if(t.signature){let i=t.signature.legacyChainId;i!=null&&(n=i)}if(!e)return n!==pn&&(r.push(lr(n)),r.push("0x"),r.push("0x")),Qo(r);let o=BigInt(27+e.yParity);return n!==pn?o=cn.getChainIdV(n,e.v):BigInt(e.v)!==o&&N(!1,"tx.chainId/sig.v mismatch","sig",e),r.push(lr(o)),r.push(lr(e.r)),r.push(lr(e._s)),Qo(r)}function AE(t,e){let r;try{if(r=bl(e[0],"yParity"),r!==0&&r!==1)throw new Error("bad yParity")}catch{N(!1,"invalid yParity","yParity",e[0])}let n=Jn(e[1],32),o=Jn(e[2],32),i=cn.from({r:n,s:o,yParity:r});t.signature=i}function ure(t){let e=Xc(Re(t).slice(1));N(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",ee(t));let r={type:2,chainId:tr(e[0],"chainId"),nonce:bl(e[1],"nonce"),maxPriorityFeePerGas:tr(e[2],"maxPriorityFeePerGas"),maxFeePerGas:tr(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:tr(e[4],"gasLimit"),to:gd(e[5]),value:tr(e[6],"value"),data:ee(e[7]),accessList:TE(e[8],"accessList")};return e.length===9||AE(r,e.slice(9)),r}function lre(t,e){let r=[xt(t.chainId,"chainId"),xt(t.nonce,"nonce"),xt(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),xt(t.maxFeePerGas||0,"maxFeePerGas"),xt(t.gasLimit,"gasLimit"),t.to||"0x",xt(t.value,"value"),t.data,xE(t.accessList||[])];return e&&(r.push(xt(e.yParity,"yParity")),r.push(lr(e.r)),r.push(lr(e.s))),Tt(["0x02",Qo(r)])}function fre(t){let e=Xc(Re(t).slice(1));N(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",ee(t));let r={type:1,chainId:tr(e[0],"chainId"),nonce:bl(e[1],"nonce"),gasPrice:tr(e[2],"gasPrice"),gasLimit:tr(e[3],"gasLimit"),to:gd(e[4]),value:tr(e[5],"value"),data:ee(e[6]),accessList:TE(e[7],"accessList")};return e.length===8||AE(r,e.slice(8)),r}function dre(t,e){let r=[xt(t.chainId,"chainId"),xt(t.nonce,"nonce"),xt(t.gasPrice||0,"gasPrice"),xt(t.gasLimit,"gasLimit"),t.to||"0x",xt(t.value,"value"),t.data,xE(t.accessList||[])];return e&&(r.push(xt(e.yParity,"recoveryParam")),r.push(lr(e.r)),r.push(lr(e.s))),Tt(["0x01",Qo(r)])}function pre(t){let e=Xc(Re(t).slice(1)),r="3",n=null,o=null;if(e.length===4&&Array.isArray(e[0])){r="3 (network format)";let s=e[1],a=e[2],c=e[3];N(Array.isArray(s),"invalid network format: blobs not an array","fields[1]",s),N(Array.isArray(a),"invalid network format: commitments not an array","fields[2]",a),N(Array.isArray(c),"invalid network format: proofs not an array","fields[3]",c),N(s.length===a.length,"invalid network format: blobs/commitments length mismatch","fields",e),N(s.length===c.length,"invalid network format: blobs/proofs length mismatch","fields",e),o=[];for(let u=0;u<e[1].length;u++)o.push({data:s[u],commitment:a[u],proof:c[u]});e=e[0]}else if(e.length===5&&Array.isArray(e[0])){r="3 (EIP-7594 network format)",n=Be(e[1]);let s=e[2],a=e[3],c=e[4];N(n===1,`unsupported EIP-7594 network format version: ${n}`,"fields[1]",n),N(Array.isArray(s),"invalid EIP-7594 network format: blobs not an array","fields[2]",s),N(Array.isArray(a),"invalid EIP-7594 network format: commitments not an array","fields[3]",a),N(Array.isArray(c),"invalid EIP-7594 network format: proofs not an array","fields[4]",c),N(s.length===a.length,"invalid network format: blobs/commitments length mismatch","fields",e),N(s.length*vE===c.length,"invalid network format: blobs/proofs length mismatch","fields",e),o=[];for(let u=0;u<s.length;u++){let l=[];for(let f=0;f<vE;f++)l.push(c[u*vE+f]);o.push({data:s[u],commitment:a[u],proof:Tt(l)})}e=e[0]}N(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${r}`,"data",ee(t));let i={type:3,chainId:tr(e[0],"chainId"),nonce:bl(e[1],"nonce"),maxPriorityFeePerGas:tr(e[2],"maxPriorityFeePerGas"),maxFeePerGas:tr(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:tr(e[4],"gasLimit"),to:gd(e[5]),value:tr(e[6],"value"),data:ee(e[7]),accessList:TE(e[8],"accessList"),maxFeePerBlobGas:tr(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10],blobWrapperVersion:n};o&&(i.blobs=o),N(i.to!=null,`invalid address for transaction type: ${r}`,"data",t),N(Array.isArray(i.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",t);for(let s=0;s<i.blobVersionedHashes.length;s++)N(pt(i.blobVersionedHashes[s],32),`invalid blobVersionedHash at index ${s}: must be length 32`,"data",t);return e.length===11||AE(i,e.slice(11)),i}function hre(t,e,r){let n=[xt(t.chainId,"chainId"),xt(t.nonce,"nonce"),xt(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),xt(t.maxFeePerGas||0,"maxFeePerGas"),xt(t.gasLimit,"gasLimit"),t.to||tc,xt(t.value,"value"),t.data,xE(t.accessList||[]),xt(t.maxFeePerBlobGas||0,"maxFeePerBlobGas"),sre(t.blobVersionedHashes||[],"blobVersionedHashes")];if(e&&(n.push(xt(e.yParity,"yParity")),n.push(lr(e.r)),n.push(lr(e.s)),r)){if(t.blobWrapperVersion!=null){let o=lr(t.blobWrapperVersion),i=[];for(let{proof:s}of r){let a=Re(s),c=a.length/vE;for(let u=0;u<a.length;u+=c)i.push(a.subarray(u,u+c))}return Tt(["0x03",Qo([n,o,r.map(s=>s.data),r.map(s=>s.commitment),i])])}return Tt(["0x03",Qo([n,r.map(o=>o.data),r.map(o=>o.commitment),r.map(o=>o.proof)])])}return Tt(["0x03",Qo(n)])}function mre(t){let e=Xc(Re(t).slice(1));N(Array.isArray(e)&&(e.length===10||e.length===13),"invalid field count for transaction type: 4","data",ee(t));let r={type:4,chainId:tr(e[0],"chainId"),nonce:bl(e[1],"nonce"),maxPriorityFeePerGas:tr(e[2],"maxPriorityFeePerGas"),maxFeePerGas:tr(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:tr(e[4],"gasLimit"),to:gd(e[5]),value:tr(e[6],"value"),data:ee(e[7]),accessList:TE(e[8],"accessList"),authorizationList:ore(e[9],"authorizationList")};return e.length===10||AE(r,e.slice(10)),r}function yre(t,e){let r=[xt(t.chainId,"chainId"),xt(t.nonce,"nonce"),xt(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),xt(t.maxFeePerGas||0,"maxFeePerGas"),xt(t.gasLimit,"gasLimit"),t.to||"0x",xt(t.value,"value"),t.data,xE(t.accessList||[]),ire(t.authorizationList||[])];return e&&(r.push(xt(e.yParity,"yParity")),r.push(lr(e.r)),r.push(lr(e.s))),Tt(["0x04",Qo(r)])}var wl=class t{#e;#t;#r;#n;#o;#s;#i;#a;#f;#u;#h;#m;#c;#l;#d;#p;#w;#y;get type(){return this.#e}set type(e){switch(e){case null:this.#e=null;break;case 0:case"legacy":this.#e=0;break;case 1:case"berlin":case"eip-2930":this.#e=1;break;case 2:case"london":case"eip-1559":this.#e=2;break;case 3:case"cancun":case"eip-4844":this.#e=3;break;case 4:case"pectra":case"eip-7702":this.#e=4;break;default:N(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){let e=this.#t;return e==null&&this.type===3?tc:e}set to(e){this.#t=e==null?null:rt(e)}get nonce(){return this.#n}set nonce(e){this.#n=Be(e,"value")}get gasLimit(){return this.#o}set gasLimit(e){this.#o=ie(e)}get gasPrice(){let e=this.#s;return e==null&&(this.type===0||this.type===1)?pn:e}set gasPrice(e){this.#s=e==null?null:ie(e,"gasPrice")}get maxPriorityFeePerGas(){let e=this.#i;return e??(this.type===2||this.type===3?pn:null)}set maxPriorityFeePerGas(e){this.#i=e==null?null:ie(e,"maxPriorityFeePerGas")}get maxFeePerGas(){let e=this.#a;return e??(this.type===2||this.type===3?pn:null)}set maxFeePerGas(e){this.#a=e==null?null:ie(e,"maxFeePerGas")}get data(){return this.#r}set data(e){this.#r=ee(e)}get value(){return this.#f}set value(e){this.#f=ie(e,"value")}get chainId(){return this.#u}set chainId(e){this.#u=ie(e)}get signature(){return this.#h||null}set signature(e){this.#h=e==null?null:cn.from(e)}isValid(){let e=this.signature;if(e&&!e.isValid())return!1;let r=this.authorizationList;if(r){for(let n of r)if(!n.signature.isValid())return!1}return!0}get accessList(){let e=this.#m||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){this.#m=e==null?null:Jo(e)}get authorizationList(){let e=this.#w||null;return e==null&&this.type===4?[]:e}set authorizationList(e){this.#w=e==null?null:e.map(r=>Xm(r))}get maxFeePerBlobGas(){let e=this.#c;return e==null&&this.type===3?pn:e}set maxFeePerBlobGas(e){this.#c=e==null?null:ie(e,"maxFeePerBlobGas")}get blobVersionedHashes(){let e=this.#l;return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){N(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let r=0;r<e.length;r++)N(pt(e[r],32),"invalid blobVersionedHash",`value[${r}]`,e[r])}this.#l=e}get blobs(){return this.#p==null?null:this.#p.map(e=>Object.assign({},e))}set blobs(e){if(e==null){this.#p=null;return}let r=[],n=[];for(let o=0;o<e.length;o++){let i=e[o];if(Kc(i)){B(this.#d,"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let s=Re(i);if(N(s.length<=NN,"blob is too large",`blobs[${o}]`,i),s.length!==NN){let u=new Uint8Array(NN);u.set(s),s=u}let a=this.#d.blobToKzgCommitment(s),c=ee(this.#d.computeBlobKzgProof(s,a));r.push({data:ee(s),commitment:ee(a),proof:c}),n.push(VB(1,a))}else{let s=ee(i.data),a=ee(i.commitment),c=ee(i.proof);r.push({data:s,commitment:a,proof:c}),n.push(VB(1,a))}}this.#p=r,this.#l=n}get kzg(){return this.#d}set kzg(e){e==null?this.#d=null:this.#d=nre(e)}get blobWrapperVersion(){return this.#y}set blobWrapperVersion(e){this.#y=e}constructor(){this.#e=null,this.#t=null,this.#n=0,this.#o=pn,this.#s=null,this.#i=null,this.#a=null,this.#r="0x",this.#f=pn,this.#u=pn,this.#h=null,this.#m=null,this.#c=null,this.#l=null,this.#d=null,this.#p=null,this.#w=null,this.#y=null}get hash(){return this.signature==null?null:Wt(this.#g(!0,!1))}get unsignedHash(){return Wt(this.unsignedSerialized)}get from(){return this.signature==null?null:$B(this.unsignedHash,this.signature.getCanonical())}get fromPublicKey(){return this.signature==null?null:ru.recoverPublicKey(this.unsignedHash,this.signature.getCanonical())}isSigned(){return this.signature!=null}#g(e,r){B(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});let n=e?this.signature:null;switch(this.inferType()){case 0:return cre(this,n);case 1:return dre(this,n);case 2:return lre(this,n);case 3:return hre(this,n,r?this.blobs:null);case 4:return yre(this,n)}B(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get serialized(){return this.#g(!0,!0)}get unsignedSerialized(){return this.#g(!1,!1)}inferType(){let e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){let e=this.gasPrice!=null,r=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,n=this.accessList!=null,o=this.#c!=null||this.#l;this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&B(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),B(!r||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),B(this.type!==0||!n,"legacy transaction cannot have accessList","BAD_DATA",{value:this});let i=[];return this.type!=null?i.push(this.type):this.authorizationList&&this.authorizationList.length?i.push(4):r?i.push(2):e?(i.push(1),n||i.push(0)):n?(i.push(1),i.push(2)):(o&&this.to||(i.push(0),i.push(1),i.push(2)),i.push(3)),i.sort(),i}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return t.from(this)}toJSON(){let e=r=>r==null?null:r.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}[rre](){return this.toString()}toString(){let e=[],r=o=>{let i=this[o];typeof i=="string"&&(i=JSON.stringify(i)),e.push(`${o}: ${i}`)};this.type&&r("type"),r("to"),r("data"),r("nonce"),r("gasLimit"),r("value"),this.chainId!=null&&r("chainId"),this.signature&&(r("from"),e.push(`signature: ${this.signature.toString()}`));let n=this.authorizationList;if(n){let o=[];for(let i of n){let s=[];s.push(`address: ${JSON.stringify(i.address)}`),i.nonce!=null&&s.push(`nonce: ${i.nonce}`),i.chainId!=null&&s.push(`chainId: ${i.chainId}`),i.signature&&s.push(`signature: ${i.signature.toString()}`),o.push(`Authorization { ${s.join(", ")} }`)}e.push(`authorizations: [ ${o.join(", ")} ]`)}return`Transaction { ${e.join(", ")} }`}static from(e){if(e==null)return new t;if(typeof e=="string"){let n=Re(e);if(n[0]>=127)return t.from(are(n));switch(n[0]){case 1:return t.from(fre(n));case 2:return t.from(ure(n));case 3:return t.from(pre(n));case 4:return t.from(mre(n))}B(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}let r=new t;return e.type!=null&&(r.type=e.type),e.to!=null&&(r.to=e.to),e.nonce!=null&&(r.nonce=e.nonce),e.gasLimit!=null&&(r.gasLimit=e.gasLimit),e.gasPrice!=null&&(r.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(r.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(r.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(r.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(r.data=e.data),e.value!=null&&(r.value=e.value),e.chainId!=null&&(r.chainId=e.chainId),e.signature!=null&&(r.signature=cn.from(e.signature)),e.accessList!=null&&(r.accessList=e.accessList),e.authorizationList!=null&&(r.authorizationList=e.authorizationList),e.blobVersionedHashes!=null&&(r.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(r.kzg=e.kzg),e.blobWrapperVersion!=null&&(r.blobWrapperVersion=e.blobWrapperVersion),e.blobs!=null&&(r.blobs=e.blobs),e.hash!=null&&(N(r.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),N(r.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(N(r.isSigned(),"unsigned transaction cannot define '.from'","tx",e),N(r.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),r}};function Es(t){return Wt(Kn(t))}var gre="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI",jB=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),GB=4;function wre(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),o=1,i=[0,1];for(let A=1;A<n;A++)i.push(o+=r());let s=r(),a=e;e+=s;let c=0,u=0;function l(){return c==0&&(u=u<<8|t[e++],c=8),u>>--c&1}let f=31,d=2**f,p=d>>>1,h=p>>1,m=d-1,g=0;for(let A=0;A<f;A++)g=g<<1|l();let w=[],T=0,v=d;for(;;){let A=Math.floor(((g-T+1)*o-1)/v),_=0,O=n;for(;O-_>1;){let k=_+O>>>1;A<i[k]?O=k:_=k}if(_==0)break;w.push(_);let C=T+Math.floor(v*i[_]/o),I=T+Math.floor(v*i[_+1]/o)-1;for(;((C^I)&p)==0;)g=g<<1&m|l(),C=C<<1&m,I=I<<1&m|1;for(;C&~I&h;)g=g&p|g<<1&m>>>1|l(),C=C<<1^p,I=(I^p)<<1|p|1;T=C,v=1+I-C}let x=n-4;return w.map(A=>{switch(A-x){case 3:return x+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return x+256+(t[a++]<<8|t[a++]);case 1:return x+t[a++];default:return A-1}})}function bre(t){let e=0;return()=>t[e++]}function JB(t){return bre(wre(Ere(t)))}function Ere(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((o,i)=>e[o.charCodeAt(0)]=i);let r=t.length,n=new Uint8Array(6*r>>3);for(let o=0,i=0,s=0,a=0;o<r;o++)a=a<<6|e[t.charCodeAt(o)],s+=6,s>=8&&(n[i++]=a>>(s-=8));return n}function vre(t){return t&1?~t>>1:t>>1}function Tre(t,e){let r=Array(t);for(let n=0,o=0;n<t;n++)r[n]=o+=vre(e());return r}function ty(t,e=0){let r=[];for(;;){let n=t(),o=t();if(!o)break;e+=n;for(let i=0;i<o;i++)r.push(e+i);e+=o+1}return r}function HB(t){return ry(()=>{let e=ty(t);if(e.length)return e})}function KB(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(xre(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(Are(r,t))}return e.flat()}function ry(t){let e=[];for(;;){let r=t(e.length);if(!r)break;e.push(r)}return e}function WB(t,e,r){let n=Array(t).fill().map(()=>[]);for(let o=0;o<e;o++)Tre(t,r).forEach((i,s)=>n[s].push(i));return n}function xre(t,e){let r=1+e(),n=e(),o=ry(e);return WB(o.length,1+t,e).flatMap((s,a)=>{let[c,...u]=s;return Array(o[a]).fill().map((l,f)=>{let d=f*n;return[c+f*r,u.map(p=>p+d)]})})}function Are(t,e){let r=1+e();return WB(r,1+t,e).map(o=>[o[0],o.slice(1)])}function Ire(t){let e=[],r=ty(t);return o(n([]),[]),e;function n(i){let s=t(),a=ry(()=>{let c=ty(t).map(u=>r[u]);if(c.length)return n(c)});return{S:s,B:a,Q:i}}function o({S:i,B:s},a,c){if(!(i&4&&c===a[a.length-1])){i&2&&(c=a[a.length-1]),i&1&&e.push(a);for(let u of s)for(let l of u.Q)o(u,[...a,l],c)}}}function Sre(t){return t.toString(16).toUpperCase().padStart(2,"0")}function YB(t){return`{${Sre(t)}}`}function Nre(t){let e=[];for(let r=0,n=t.length;r<n;){let o=t.codePointAt(r);r+=o<65536?1:2,e.push(o)}return e}function Ed(t){let r=t.length;if(r<4096)return String.fromCodePoint(...t);let n=[];for(let o=0;o<r;)n.push(String.fromCodePoint(...t.slice(o,o+=4096)));return n.join("")}function _re(t,e){let r=t.length,n=r-e.length;for(let o=0;n==0&&o<r;o++)n=t[o]-e[o];return n}var Dre="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g",ny=44032,SE=4352,NE=4449,_E=4519,XB=19,ZB=21,vd=28,DE=ZB*vd,Ore=XB*DE,Cre=ny+Ore,Rre=SE+XB,kre=NE+ZB,Pre=_E+vd;function Zm(t){return t>>24&255}function eM(t){return t&16777215}var DN,zB,ON,IE;function Lre(){let t=JB(Dre);DN=new Map(HB(t).flatMap((e,r)=>e.map(n=>[n,r+1<<24]))),zB=new Set(ty(t)),ON=new Map,IE=new Map;for(let[e,r]of KB(t)){if(!zB.has(e)&&r.length==2){let[n,o]=r,i=IE.get(n);i||(i=new Map,IE.set(n,i)),i.set(o,e)}ON.set(e,r.reverse())}}function tM(t){return t>=ny&&t<Cre}function Fre(t,e){if(t>=SE&&t<Rre&&e>=NE&&e<kre)return ny+(t-SE)*DE+(e-NE)*vd;if(tM(t)&&e>_E&&e<Pre&&(t-ny)%vd==0)return t+(e-_E);{let r=IE.get(t);return r&&(r=r.get(e),r)?r:-1}}function rM(t){DN||Lre();let e=[],r=[],n=!1;function o(i){let s=DN.get(i);s&&(n=!0,i|=s),e.push(i)}for(let i of t)for(;;){if(i<128)e.push(i);else if(tM(i)){let s=i-ny,a=s/DE|0,c=s%DE/vd|0,u=s%vd;o(SE+a),o(NE+c),u>0&&o(_E+u)}else{let s=ON.get(i);s?r.push(...s):o(i)}if(!r.length)break;i=r.pop()}if(n&&e.length>1){let i=Zm(e[0]);for(let s=1;s<e.length;s++){let a=Zm(e[s]);if(a==0||i<=a){i=a;continue}let c=s-1;for(;;){let u=e[c+1];if(e[c+1]=e[c],e[c]=u,!c||(i=Zm(e[--c]),i<=a))break}i=Zm(e[s])}}return e}function Ure(t){let e=[],r=[],n=-1,o=0;for(let i of t){let s=Zm(i),a=eM(i);if(n==-1)s==0?n=a:e.push(a);else if(o>0&&o>=s)s==0?(e.push(n,...r),r.length=0,n=a):r.push(a),o=s;else{let c=Fre(n,a);c>=0?n=c:o==0&&s==0?(e.push(n),n=a):(r.push(a),o=s)}}return n>=0&&e.push(n,...r),e}function nM(t){return rM(t).map(eM)}function Bre(t){return Ure(rM(t))}var qB=45;var oM=".",iM=65039,sM=1,OE=t=>Array.from(t);function oy(t,e){return t.P.has(e)||t.Q.has(e)}var CN=class extends Array{get is_emoji(){return!0}},RN,aM,vl,kN,cM,Mre,bd,_N,wd,El,QB,PN;function LN(){if(RN)return;let t=JB(gre),e=()=>ty(t),r=()=>new Set(e()),n=(l,f)=>f.forEach(d=>l.add(d));RN=new Map(KB(t)),aM=r(),vl=e(),kN=new Set(e().map(l=>vl[l])),vl=new Set(vl),cM=r(),Mre=r();let o=HB(t),i=t(),s=()=>{let l=new Set;return e().forEach(f=>n(l,o[f])),n(l,e()),l};bd=ry(l=>{let f=ry(t).map(d=>d+96);if(f.length){let d=l>=i;f[0]-=32,f=Ed(f),d&&(f=`Restricted[${f}]`);let p=s(),h=s(),m=!t();return{N:f,P:p,Q:h,M:m,R:d}}}),_N=r(),wd=new Map;let a=e().concat(OE(_N)).sort((l,f)=>l-f);a.forEach((l,f)=>{let d=t(),p=a[f]=d?a[f-d]:{V:[],M:new Map};p.V.push(l),_N.has(l)||wd.set(l,p)});for(let{V:l,M:f}of new Set(wd.values())){let d=[];for(let h of l){let m=bd.filter(w=>oy(w,h)),g=d.find(({G:w})=>m.some(T=>w.has(T)));g||(g={G:new Set,V:[]},d.push(g)),g.V.push(h),n(g.G,m)}let p=d.flatMap(h=>OE(h.G));for(let{G:h,V:m}of d){let g=new Set(p.filter(w=>!h.has(w)));for(let w of m)f.set(w,g)}}El=new Set;let c=new Set,u=l=>El.has(l)?c.add(l):El.add(l);for(let l of bd){for(let f of l.P)u(f);for(let f of l.Q)u(f)}for(let l of El)!wd.has(l)&&!c.has(l)&&wd.set(l,sM);n(El,nM(El)),QB=Ire(t).map(l=>CN.from(l)).sort(_re),PN=new Map;for(let l of QB){let f=[PN];for(let d of l){let p=f.map(h=>{let m=h.get(d);return m||(m=new Map,h.set(d,m)),m});d===iM?f.push(...p):f=p}for(let d of f)d.V=l}}function FN(t){return(uM(t)?"":`${UN(CE([t]))} `)+YB(t)}function UN(t){return`"${t}"\u200E`}function $re(t){if(t.length>=4&&t[2]==qB&&t[3]==qB)throw new Error(`invalid label extension: "${Ed(t.slice(0,4))}"`)}function Vre(t){for(let r=t.lastIndexOf(95);r>0;)if(t[--r]!==95)throw new Error("underscore allowed only at start")}function jre(t){let e=t[0],r=jB.get(e);if(r)throw ey(`leading ${r}`);let n=t.length,o=-1;for(let i=1;i<n;i++){e=t[i];let s=jB.get(e);if(s){if(o==i)throw ey(`${r} + ${s}`);o=i+1,r=s}}if(o==n)throw ey(`trailing ${r}`)}function CE(t,e=1/0,r=YB){let n=[];Gre(t[0])&&n.push("\u25CC"),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let o=0,i=t.length;for(let s=0;s<i;s++){let a=t[s];uM(a)&&(n.push(Ed(t.slice(o,s))),n.push(r(a)),o=s+1)}return n.push(Ed(t.slice(o,i))),n.join("")}function Gre(t){return LN(),vl.has(t)}function uM(t){return LN(),cM.has(t)}function lM(t){return Jre(zre(t,Bre,Wre))}function zre(t,e,r){if(!t)return[];LN();let n=0;return t.split(oM).map(o=>{let i=Nre(o),s={input:i,offset:n};n+=i.length+1;try{let a=s.tokens=Kre(i,e,r),c=a.length,u;if(!c)throw new Error("empty label");let l=s.output=a.flat();if(Vre(l),!(s.emoji=c>1||a[0].is_emoji)&&l.every(d=>d<128))$re(l),u="ASCII";else{let d=a.flatMap(p=>p.is_emoji?[]:p);if(!d.length)u="Emoji";else{if(vl.has(l[0]))throw ey("leading combining mark");for(let m=1;m<c;m++){let g=a[m];if(!g.is_emoji&&vl.has(g[0]))throw ey(`emoji + combining mark: "${Ed(a[m-1])} + ${CE([g[0]])}"`)}jre(l);let p=OE(new Set(d)),[h]=Qre(p);Hre(h,d),qre(h,p),u=h.N}}s.type=u}catch(a){s.error=a}return s})}function qre(t,e){let r,n=[];for(let o of e){let i=wd.get(o);if(i===sM)return;if(i){let s=i.M.get(o);if(r=r?r.filter(a=>s.has(a)):OE(s),!r.length)return}else n.push(o)}if(r){for(let o of r)if(n.every(i=>oy(o,i)))throw new Error(`whole-script confusable: ${t.N}/${o.N}`)}}function Qre(t){let e=bd;for(let r of t){let n=e.filter(o=>oy(o,r));if(!n.length)throw bd.some(o=>oy(o,r))?dM(e[0],r):fM(r);if(e=n,n.length==1)break}return e}function Jre(t){return t.map(({input:e,error:r,output:n})=>{if(r){let o=r.message;throw new Error(t.length==1?o:`Invalid label ${UN(CE(e,63))}: ${o}`)}return Ed(n)}).join(oM)}function fM(t){return new Error(`disallowed character: ${FN(t)}`)}function dM(t,e){let r=FN(e),n=bd.find(o=>o.P.has(e));return n&&(r=`${n.N} ${r}`),new Error(`illegal mixture: ${t.N} + ${r}`)}function ey(t){return new Error(`illegal placement: ${t}`)}function Hre(t,e){for(let r of e)if(!oy(t,r))throw dM(t,r);if(t.M){let r=nM(e);for(let n=1,o=r.length;n<o;n++)if(kN.has(r[n])){let i=n+1;for(let s;i<o&&kN.has(s=r[i]);i++)for(let a=n;a<i;a++)if(r[a]==s)throw new Error(`duplicate non-spacing marks: ${FN(s)}`);if(i-n>GB)throw new Error(`excessive non-spacing marks: ${UN(CE(r.slice(n-1,i)))} (${i-n}/${GB})`);n=i}}}function Kre(t,e,r){let n=[],o=[];for(t=t.slice().reverse();t.length;){let i=Yre(t);if(i)o.length&&(n.push(e(o)),o=[]),n.push(r(i));else{let s=t.pop();if(El.has(s))o.push(s);else{let a=RN.get(s);if(a)o.push(...a);else if(!aM.has(s))throw fM(s)}}}return o.length&&n.push(e(o)),n}function Wre(t){return t.filter(e=>e!=iM)}function Yre(t,e){let r=PN,n,o=t.length;for(;o&&(r=r.get(t[--o]),!!r);){let{V:i}=r;i&&(n=i,e&&e.push(...t.slice(o).reverse()),t.length=o)}return n}var hM=new Uint8Array(32);hM.fill(0);function pM(t){return N(t.length!==0,"invalid ENS name; empty component","comp",t),t}function mM(t){let e=Kn(yM(t)),r=[];if(t.length===0)return r;let n=0;for(let o=0;o<e.length;o++)e[o]===46&&(r.push(pM(e.slice(n,o))),n=o+1);return N(n<e.length,"invalid ENS name; empty component","name",t),r.push(pM(e.slice(n))),r}function yM(t){try{if(t.length===0)throw new Error("empty label");return lM(t)}catch(e){N(!1,`invalid ENS name (${e.message})`,"name",t)}}function Td(t){N(typeof t=="string","invalid ENS name; not a string","name",t),N(t.length,"invalid ENS name (empty label)","name",t);let e=hM,r=mM(t);for(;r.length;)e=Wt(Tt([e,Wt(r.pop())]));return ee(e)}function BN(t,e){let r=e??63;return N(r<=255,"DNS encoded label cannot exceed 255","length",r),ee(Tt(mM(t).map(n=>{N(n.length<=r,`label ${JSON.stringify(t)} exceeds ${r} bytes`,"name",t);let o=new Uint8Array(n.length+1);return o.set(n,1),o[0]=o.length-1,o})))+"00"}var EM=new Uint8Array(32);EM.fill(0);var Xre=BigInt(-1),vM=BigInt(0),TM=BigInt(1),Zre=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function ene(t){let e=Re(t),r=e.length%32;return r?Tt([e,EM.slice(r)]):ee(e)}var tne=lo(TM,32),rne=lo(vM,32),gM={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},MN=["name","version","chainId","verifyingContract","salt"];function wM(t){return function(e){return N(typeof e=="string",`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}var nne={name:wM("name"),version:wM("version"),chainId:function(t){let e=ie(t,"domain.chainId");return N(e>=0,"invalid chain ID","domain.chainId",t),Number.isSafeInteger(e)?Number(e):Hn(e)},verifyingContract:function(t){try{return rt(t).toLowerCase()}catch{}N(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){let e=Re(t,"domain.salt");return N(e.length===32,'invalid domain value "salt"',"domain.salt",t),ee(e)}};function $N(t){{let e=t.match(/^(u?)int(\d+)$/);if(e){let r=e[1]==="",n=parseInt(e[2]);N(n%8===0&&n!==0&&n<=256&&e[2]===String(n),"invalid numeric width","type",t);let o=Ci(Zre,r?n-1:n),i=r?(o+TM)*Xre:vM;return function(s){let a=ie(s,"value");return N(a>=i&&a<=o,`value out-of-bounds for ${t}`,"value",a),lo(r?dd(a,256):a,32)}}}{let e=t.match(/^bytes(\d+)$/);if(e){let r=parseInt(e[1]);return N(r!==0&&r<=32&&e[1]===String(r),"invalid bytes width","type",t),function(n){let o=Re(n);return N(o.length===r,`invalid length for ${t}`,"value",n),ene(n)}}}switch(t){case"address":return function(e){return Jn(rt(e),32)};case"bool":return function(e){return e?tne:rne};case"bytes":return function(e){return Wt(e)};case"string":return function(e){return Es(e)}}return null}function bM(t,e){return`${t}(${e.map(({name:r,type:n})=>n+" "+r).join(",")})`}function RE(t){let e=t.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:t}}var xd=class t{primaryType;#e;get types(){return JSON.parse(this.#e)}#t;#r;constructor(e){this.#t=new Map,this.#r=new Map;let r=new Map,n=new Map,o=new Map,i={};Object.keys(e).forEach(c=>{i[c]=e[c].map(({name:u,type:l})=>{let{base:f,index:d}=RE(l);return f==="int"&&!e.int&&(f="int256"),f==="uint"&&!e.uint&&(f="uint256"),{name:u,type:f+(d||"")}}),r.set(c,new Set),n.set(c,[]),o.set(c,new Set)}),this.#e=JSON.stringify(i);for(let c in i){let u=new Set;for(let l of i[c]){N(!u.has(l.name),`duplicate variable name ${JSON.stringify(l.name)} in ${JSON.stringify(c)}`,"types",e),u.add(l.name);let f=RE(l.type).base;N(f!==c,`circular type reference to ${JSON.stringify(f)}`,"types",e),!$N(f)&&(N(n.has(f),`unknown type ${JSON.stringify(f)}`,"types",e),n.get(f).push(c),r.get(c).add(f))}}let s=Array.from(n.keys()).filter(c=>n.get(c).length===0);N(s.length!==0,"missing primary type","types",e),N(s.length===1,`ambiguous primary types or unused types: ${s.map(c=>JSON.stringify(c)).join(", ")}`,"types",e),he(this,{primaryType:s[0]});function a(c,u){N(!u.has(c),`circular type reference to ${JSON.stringify(c)}`,"types",e),u.add(c);for(let l of r.get(c))if(n.has(l)){a(l,u);for(let f of u)o.get(f).add(l)}u.delete(c)}a(this.primaryType,new Set);for(let[c,u]of o){let l=Array.from(u);l.sort(),this.#t.set(c,bM(c,i[c])+l.map(f=>bM(f,i[f])).join(""))}}getEncoder(e){let r=this.#r.get(e);return r||(r=this.#n(e),this.#r.set(e,r)),r}#n(e){{let o=$N(e);if(o)return o}let r=RE(e).array;if(r){let o=r.prefix,i=this.getEncoder(o);return s=>{N(r.count===-1||r.count===s.length,`array length mismatch; expected length ${r.count}`,"value",s);let a=s.map(i);return this.#t.has(o)&&(a=a.map(Wt)),Wt(Tt(a))}}let n=this.types[e];if(n){let o=Es(this.#t.get(e));return i=>{let s=n.map(({name:a,type:c})=>{let u=this.getEncoder(c)(i[a]);return this.#t.has(c)?Wt(u):u});return s.unshift(o),Tt(s)}}N(!1,`unknown type: ${e}`,"type",e)}encodeType(e){let r=this.#t.get(e);return N(r,`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return Wt(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,n){if($N(e))return n(e,r);let o=RE(e).array;if(o)return N(o.count===-1||o.count===r.length,`array length mismatch; expected length ${o.count}`,"value",r),r.map(s=>this._visit(o.prefix,s,n));let i=this.types[e];if(i)return i.reduce((s,{name:a,type:c})=>(s[a]=this._visit(c,r[a],n),s),{});N(!1,`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new t(e)}static getPrimaryType(e){return t.from(e).primaryType}static hashStruct(e,r,n){return t.from(r).hashStruct(e,n)}static hashDomain(e){let r=[];for(let n in e){if(e[n]==null)continue;let o=gM[n];N(o,`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),r.push({name:n,type:o})}return r.sort((n,o)=>MN.indexOf(n.name)-MN.indexOf(o.name)),t.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,n){return Tt(["0x1901",t.hashDomain(e),t.from(r).hash(n)])}static hash(e,r,n){return Wt(t.encode(e,r,n))}static resolveNames(e,r,n,o){return E(this,null,function*(){e=Object.assign({},e);for(let a in e)e[a]==null&&delete e[a];let i={};e.verifyingContract&&!pt(e.verifyingContract,20)&&(i[e.verifyingContract]="0x");let s=t.from(r);s.visit(n,(a,c)=>(a==="address"&&!pt(c,20)&&(i[c]="0x"),c));for(let a in i)i[a]=yield o(a);return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),n=s.visit(n,(a,c)=>a==="address"&&i[c]?i[c]:c),{domain:e,value:n}})}static getPayload(e,r,n){t.hashDomain(e);let o={},i=[];MN.forEach(c=>{let u=e[c];u!=null&&(o[c]=nne[c](u),i.push({name:c,type:gM[c]}))});let s=t.from(r);r=s.types;let a=Object.assign({},r);return N(a.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",r),a.EIP712Domain=i,s.encode(n),{types:a,domain:o,primaryType:s.primaryType,message:s.visit(n,(c,u)=>{if(c.match(/^bytes(\d*)/))return ee(Re(u));if(c.match(/^u?int/))return ie(u).toString();switch(c){case"address":return u.toLowerCase();case"bool":return!!u;case"string":return N(typeof u=="string","invalid string","value",u),u}N(!1,"unsupported type","type",c)})}}};function fo(t){let e=new Set;return t.forEach(r=>e.add(r)),Object.freeze(e)}var one="external public payable override",ine=fo(one.split(" ")),RM="constant external internal payable private public pure view override",sne=fo(RM.split(" ")),kM="constructor error event fallback function receive struct",PM=fo(kM.split(" ")),LM="calldata memory storage payable indexed",ane=fo(LM.split(" ")),cne="tuple returns",une=[kM,LM,cne,RM].join(" "),lne=fo(une.split(" ")),fne={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},dne=new RegExp("^(\\s*)"),pne=new RegExp("^([0-9]+)"),hne=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),FM=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),UM=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$"),vs=class t{#e;#t;get offset(){return this.#e}get length(){return this.#t.length-this.#e}constructor(e){this.#e=0,this.#t=e.slice()}clone(){return new t(this.#t)}reset(){this.#e=0}#r(e=0,r=0){return new t(this.#t.slice(e,r).map(n=>Object.freeze(Object.assign({},n,{match:n.match-e,linkBack:n.linkBack-e,linkNext:n.linkNext-e}))))}popKeyword(e){let r=this.peek();if(r.type!=="KEYWORD"||!e.has(r.text))throw new Error(`expected keyword ${r.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){let r=this.peek();throw new Error(`expected ${e}; got ${r.type} ${JSON.stringify(r.text)}`)}return this.pop().text}popParen(){let e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");let r=this.#r(this.#e+1,e.match+1);return this.#e=e.match+1,r}popParams(){let e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");let r=[];for(;this.#e<e.match-1;){let n=this.peek().linkNext;r.push(this.#r(this.#e+1,n)),this.#e=n}return this.#e=e.match+1,r}peek(){if(this.#e>=this.#t.length)throw new Error("out-of-bounds");return this.#t[this.#e]}peekKeyword(e){let r=this.peekType("KEYWORD");return r!=null&&e.has(r)?r:null}peekType(e){if(this.length===0)return null;let r=this.peek();return r.type===e?r.text:null}pop(){let e=this.peek();return this.#e++,e}toString(){let e=[];for(let r=this.#e;r<this.#t.length;r++){let n=this.#t[r];e.push(`${n.type}:${n.text}`)}return`<TokenString ${e.join(" ")}>`}};function nu(t){let e=[],r=s=>{let a=i<t.length?JSON.stringify(t[i]):"$EOI";throw new Error(`invalid token ${a} at ${i}: ${s}`)},n=[],o=[],i=0;for(;i<t.length;){let s=t.substring(i),a=s.match(dne);a&&(i+=a[1].length,s=t.substring(i));let c={depth:n.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:i,value:-1};e.push(c);let u=fne[s[0]]||"";if(u){if(c.type=u,c.text=s[0],i++,u==="OPEN_PAREN")n.push(e.length-1),o.push(e.length-1);else if(u=="CLOSE_PAREN")n.length===0&&r("no matching open bracket"),c.match=n.pop(),e[c.match].match=e.length-1,c.depth--,c.linkBack=o.pop(),e[c.linkBack].linkNext=e.length-1;else if(u==="COMMA")c.linkBack=o.pop(),e[c.linkBack].linkNext=e.length-1,o.push(e.length-1);else if(u==="OPEN_BRACKET")c.type="BRACKET";else if(u==="CLOSE_BRACKET"){let l=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){let f=e.pop().text;l=f+l,e[e.length-1].value=Be(f)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=l}continue}if(a=s.match(hne),a){if(c.text=a[1],i+=c.text.length,lne.has(c.text)){c.type="KEYWORD";continue}if(c.text.match(UM)){c.type="TYPE";continue}c.type="ID";continue}if(a=s.match(pne),a){c.text=a[1],c.type="NUMBER",i+=c.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(s[0])} at position ${i}`)}return new vs(e.map(s=>Object.freeze(s)))}function xM(t,e){let r=[];for(let n in e.keys())t.has(n)&&r.push(n);if(r.length>1)throw new Error(`conflicting types: ${r.join(", ")}`)}function PE(t,e){if(e.peekKeyword(PM)){let r=e.pop().text;if(r!==t)throw new Error(`expected ${t}, got ${r}`)}return e.popType("ID")}function nc(t,e){let r=new Set;for(;;){let n=t.peekType("KEYWORD");if(n==null||e&&!e.has(n))break;if(t.pop(),r.has(n))throw new Error(`duplicate keywords: ${JSON.stringify(n)}`);r.add(n)}return Object.freeze(r)}function BM(t){let e=nc(t,sne);return xM(e,fo("constant payable nonpayable".split(" "))),xM(e,fo("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function rc(t,e){return t.popParams().map(r=>un.from(r,e))}function MM(t){if(t.peekType("AT")){if(t.pop(),t.peekType("NUMBER"))return ie(t.pop().text);throw new Error("invalid gas")}return null}function Il(t){if(t.length)throw new Error(`unexpected tokens at offset ${t.offset}: ${t.toString()}`)}var mne=new RegExp(/^(.*)\[([0-9]*)\]$/);function AM(t){let e=t.match(UM);if(N(e,"invalid type","type",t),t==="uint")return"uint256";if(t==="int")return"int256";if(e[2]){let r=parseInt(e[2]);N(r!==0&&r<=32,"invalid bytes length","type",t)}else if(e[3]){let r=parseInt(e[3]);N(r!==0&&r<=256&&r%8===0,"invalid numeric width","type",t)}return t}var Nr={},Io=Symbol.for("_ethers_internal"),IM="_ParamTypeInternal",SM="_ErrorInternal",NM="_EventInternal",_M="_ConstructorInternal",DM="_FallbackInternal",OM="_FunctionInternal",CM="_StructInternal",un=class t{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(e,r,n,o,i,s,a,c){if(ms(e,Nr,"ParamType"),Object.defineProperty(this,Io,{value:IM}),s&&(s=Object.freeze(s.slice())),o==="array"){if(a==null||c==null)throw new Error("")}else if(a!=null||c!=null)throw new Error("");if(o==="tuple"){if(s==null)throw new Error("")}else if(s!=null)throw new Error("");he(this,{name:r,type:n,baseType:o,indexed:i,components:s,arrayLength:a,arrayChildren:c})}format(e){if(e==null&&(e="sighash"),e==="json"){let n=this.name||"";if(this.isArray()){let i=JSON.parse(this.arrayChildren.format("json"));return i.name=n,i.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(i)}let o={type:this.baseType==="tuple"?"tuple":this.type,name:n};return typeof this.indexed=="boolean"&&(o.indexed=this.indexed),this.isTuple()&&(o.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(o)}let r="";return this.isArray()?(r+=this.arrayChildren.format(e),r+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?r+="("+this.components.map(n=>n.format(e)).join(e==="full"?", ":",")+")":r+=this.type,e!=="sighash"&&(this.indexed===!0&&(r+=" indexed"),e==="full"&&this.name&&(r+=" "+this.name)),r}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,r){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");let n=this;return e.map(o=>n.arrayChildren.walk(o,r))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");let n=this;return e.map((o,i)=>n.components[i].walk(o,r))}return r(this.type,e)}#e(e,r,n,o){if(this.isArray()){if(!Array.isArray(r))throw new Error("invalid array value");if(this.arrayLength!==-1&&r.length!==this.arrayLength)throw new Error("array is wrong length");let s=this.arrayChildren,a=r.slice();a.forEach((c,u)=>{s.#e(e,c,n,l=>{a[u]=l})}),o(a);return}if(this.isTuple()){let s=this.components,a;if(Array.isArray(r))a=r.slice();else{if(r==null||typeof r!="object")throw new Error("invalid tuple value");a=s.map(c=>{if(!c.name)throw new Error("cannot use object value with unnamed components");if(!(c.name in r))throw new Error(`missing value for component ${c.name}`);return r[c.name]})}if(a.length!==this.components.length)throw new Error("array is wrong length");a.forEach((c,u)=>{s[u].#e(e,c,n,l=>{a[u]=l})}),o(a);return}let i=n(this.type,r);i.then?e.push((function(){return E(this,null,function*(){o(yield i)})})()):o(i)}walkAsync(e,r){return E(this,null,function*(){let n=[],o=[e];return this.#e(n,e,r,i=>{o[0]=i}),n.length&&(yield Promise.all(n)),o[0]})}static from(e,r){if(t.isParamType(e))return e;if(typeof e=="string")try{return t.from(nu(e),r)}catch{N(!1,"invalid param type","obj",e)}else if(e instanceof vs){let a="",c="",u=null;nc(e,fo(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(c="tuple",u=e.popParams().map(m=>t.from(m)),a=`tuple(${u.map(m=>m.format()).join(",")})`):(a=AM(e.popType("TYPE")),c=a);let l=null,f=null;for(;e.length&&e.peekType("BRACKET");){let m=e.pop();l=new t(Nr,"",a,c,null,u,f,l),f=m.value,a+=m.text,c="array",u=null}let d=null;if(nc(e,ane).has("indexed")){if(!r)throw new Error("");d=!0}let h=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new t(Nr,h,a,c,d,u,f,l)}let n=e.name;N(!n||typeof n=="string"&&n.match(FM),"invalid name","obj.name",n);let o=e.indexed;o!=null&&(N(r,"parameter cannot be indexed","obj.indexed",e.indexed),o=!!o);let i=e.type,s=i.match(mne);if(s){let a=parseInt(s[2]||"-1"),c=t.from({type:s[1],components:e.components});return new t(Nr,n||"",i,"array",o,null,a,c)}if(i==="tuple"||i.startsWith("tuple(")||i.startsWith("(")){let a=e.components!=null?e.components.map(u=>t.from(u)):null;return new t(Nr,n||"",i,"tuple",o,a,null,null)}return i=AM(e.type),new t(Nr,n||"",i,i,o,null,null,null)}static isParamType(e){return e&&e[Io]===IM}},Sl=class t{type;inputs;constructor(e,r,n){ms(e,Nr,"Fragment"),n=Object.freeze(n.slice()),he(this,{type:r,inputs:n})}static from(e){if(typeof e=="string"){try{t.from(JSON.parse(e))}catch{}return t.from(nu(e))}if(e instanceof vs)switch(e.peekKeyword(PM)){case"constructor":return xl.from(e);case"error":return Ri.from(e);case"event":return Tl.from(e);case"fallback":case"receive":return kE.from(e);case"function":return Al.from(e);case"struct":return iy.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return xl.from(e);case"error":return Ri.from(e);case"event":return Tl.from(e);case"fallback":case"receive":return kE.from(e);case"function":return Al.from(e);case"struct":return iy.from(e)}B(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}N(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return xl.isFragment(e)}static isError(e){return Ri.isFragment(e)}static isEvent(e){return Tl.isFragment(e)}static isFunction(e){return Al.isFragment(e)}static isStruct(e){return iy.isFragment(e)}},Ad=class extends Sl{name;constructor(e,r,n,o){super(e,r,o),N(typeof n=="string"&&n.match(FM),"invalid identifier","name",n),o=Object.freeze(o.slice()),he(this,{name:n})}};function sy(t,e){return"("+e.map(r=>r.format(t)).join(t==="full"?", ":",")+")"}var Ri=class t extends Ad{constructor(e,r,n){super(e,"error",r,n),Object.defineProperty(this,Io,{value:SM})}get selector(){return Es(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r=[];return e!=="sighash"&&r.push("error"),r.push(this.name+sy(e,this.inputs)),r.join(" ")}static from(e){if(t.isFragment(e))return e;if(typeof e=="string")return t.from(nu(e));if(e instanceof vs){let r=PE("error",e),n=rc(e);return Il(e),new t(Nr,r,n)}return new t(Nr,e.name,e.inputs?e.inputs.map(un.from):[])}static isFragment(e){return e&&e[Io]===SM}},Tl=class t extends Ad{anonymous;constructor(e,r,n,o){super(e,"event",r,n),Object.defineProperty(this,Io,{value:NM}),he(this,{anonymous:o})}get topicHash(){return Es(this.format("sighash"))}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r=[];return e!=="sighash"&&r.push("event"),r.push(this.name+sy(e,this.inputs)),e!=="sighash"&&this.anonymous&&r.push("anonymous"),r.join(" ")}static getTopicHash(e,r){return r=(r||[]).map(o=>un.from(o)),new t(Nr,e,r,!1).topicHash}static from(e){if(t.isFragment(e))return e;if(typeof e=="string")try{return t.from(nu(e))}catch{N(!1,"invalid event fragment","obj",e)}else if(e instanceof vs){let r=PE("event",e),n=rc(e,!0),o=!!nc(e,fo(["anonymous"])).has("anonymous");return Il(e),new t(Nr,r,n,o)}return new t(Nr,e.name,e.inputs?e.inputs.map(r=>un.from(r,!0)):[],!!e.anonymous)}static isFragment(e){return e&&e[Io]===NM}},xl=class t extends Sl{payable;gas;constructor(e,r,n,o,i){super(e,r,n),Object.defineProperty(this,Io,{value:_M}),he(this,{payable:o,gas:i})}format(e){if(B(e!=null&&e!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),e==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r=[`constructor${sy(e,this.inputs)}`];return this.payable&&r.push("payable"),this.gas!=null&&r.push(`@${this.gas.toString()}`),r.join(" ")}static from(e){if(t.isFragment(e))return e;if(typeof e=="string")try{return t.from(nu(e))}catch{N(!1,"invalid constuctor fragment","obj",e)}else if(e instanceof vs){nc(e,fo(["constructor"]));let r=rc(e),n=!!nc(e,ine).has("payable"),o=MM(e);return Il(e),new t(Nr,"constructor",r,n,o)}return new t(Nr,"constructor",e.inputs?e.inputs.map(un.from):[],!!e.payable,e.gas!=null?e.gas:null)}static isFragment(e){return e&&e[Io]===_M}},kE=class t extends Sl{payable;constructor(e,r,n){super(e,"fallback",r),Object.defineProperty(this,Io,{value:DM}),he(this,{payable:n})}format(e){let r=this.inputs.length===0?"receive":"fallback";if(e==="json"){let n=this.payable?"payable":"nonpayable";return JSON.stringify({type:r,stateMutability:n})}return`${r}()${this.payable?" payable":""}`}static from(e){if(t.isFragment(e))return e;if(typeof e=="string")try{return t.from(nu(e))}catch{N(!1,"invalid fallback fragment","obj",e)}else if(e instanceof vs){let r=e.toString(),n=e.peekKeyword(fo(["fallback","receive"]));if(N(n,"type must be fallback or receive","obj",r),e.popKeyword(fo(["fallback","receive"]))==="receive"){let a=rc(e);return N(a.length===0,"receive cannot have arguments","obj.inputs",a),nc(e,fo(["payable"])),Il(e),new t(Nr,[],!0)}let i=rc(e);i.length?N(i.length===1&&i[0].type==="bytes","invalid fallback inputs","obj.inputs",i.map(a=>a.format("minimal")).join(", ")):i=[un.from("bytes")];let s=BM(e);if(N(s==="nonpayable"||s==="payable","fallback cannot be constants","obj.stateMutability",s),nc(e,fo(["returns"])).has("returns")){let a=rc(e);N(a.length===1&&a[0].type==="bytes","invalid fallback outputs","obj.outputs",a.map(c=>c.format("minimal")).join(", "))}return Il(e),new t(Nr,i,s==="payable")}if(e.type==="receive")return new t(Nr,[],!0);if(e.type==="fallback"){let r=[un.from("bytes")],n=e.stateMutability==="payable";return new t(Nr,r,n)}N(!1,"invalid fallback description","obj",e)}static isFragment(e){return e&&e[Io]===DM}},Al=class t extends Ad{constant;outputs;stateMutability;payable;gas;constructor(e,r,n,o,i,s){super(e,"function",r,o),Object.defineProperty(this,Io,{value:OM}),i=Object.freeze(i.slice()),he(this,{constant:n==="view"||n==="pure",gas:s,outputs:i,payable:n==="payable",stateMutability:n})}get selector(){return Es(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e))),outputs:this.outputs.map(n=>JSON.parse(n.format(e)))});let r=[];return e!=="sighash"&&r.push("function"),r.push(this.name+sy(e,this.inputs)),e!=="sighash"&&(this.stateMutability!=="nonpayable"&&r.push(this.stateMutability),this.outputs&&this.outputs.length&&(r.push("returns"),r.push(sy(e,this.outputs))),this.gas!=null&&r.push(`@${this.gas.toString()}`)),r.join(" ")}static getSelector(e,r){return r=(r||[]).map(o=>un.from(o)),new t(Nr,e,"view",r,[],null).selector}static from(e){if(t.isFragment(e))return e;if(typeof e=="string")try{return t.from(nu(e))}catch{N(!1,"invalid function fragment","obj",e)}else if(e instanceof vs){let n=PE("function",e),o=rc(e),i=BM(e),s=[];nc(e,fo(["returns"])).has("returns")&&(s=rc(e));let a=MM(e);return Il(e),new t(Nr,n,i,o,s,a)}let r=e.stateMutability;return r==null&&(r="payable",typeof e.constant=="boolean"?(r="view",e.constant||(r="payable",typeof e.payable=="boolean"&&!e.payable&&(r="nonpayable"))):typeof e.payable=="boolean"&&!e.payable&&(r="nonpayable")),new t(Nr,e.name,r,e.inputs?e.inputs.map(un.from):[],e.outputs?e.outputs.map(un.from):[],e.gas!=null?e.gas:null)}static isFragment(e){return e&&e[Io]===OM}},iy=class t extends Ad{constructor(e,r,n){super(e,"struct",r,n),Object.defineProperty(this,Io,{value:CM})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return t.from(nu(e))}catch{N(!1,"invalid struct fragment","obj",e)}else if(e instanceof vs){let r=PE("struct",e),n=rc(e);return Il(e),new t(Nr,r,n)}return new t(Nr,e.name,e.inputs?e.inputs.map(un.from):[])}static isFragment(e){return e&&e[Io]===CM}};var Ts=new Map;Ts.set(0,"GENERIC_PANIC");Ts.set(1,"ASSERT_FALSE");Ts.set(17,"OVERFLOW");Ts.set(18,"DIVIDE_BY_ZERO");Ts.set(33,"ENUM_RANGE_ERROR");Ts.set(34,"BAD_STORAGE_DATA");Ts.set(49,"STACK_UNDERFLOW");Ts.set(50,"ARRAY_RANGE_ERROR");Ts.set(65,"OUT_OF_MEMORY");Ts.set(81,"UNINITIALIZED_FUNCTION_CALL");var yne=new RegExp(/^bytes([0-9]*)$/),gne=new RegExp(/^(u?int)([0-9]*)$/),VN=null,$M=1024;function wne(t,e,r,n){let o="missing revert data",i=null,s=null,a=null;if(r){o="execution reverted";let u=Re(r);if(r=ee(r),u.length===0)o+=" (no data present; likely require(false) occurred",i="require(false)";else if(u.length%32!==4)o+=" (could not decode reason; invalid data length)";else if(ee(u.slice(0,4))==="0x08c379a0")try{i=n.decode(["string"],u.slice(4))[0],a={signature:"Error(string)",name:"Error",args:[i]},o+=`: ${JSON.stringify(i)}`}catch{o+=" (could not decode reason; invalid string data)"}else if(ee(u.slice(0,4))==="0x4e487b71")try{let l=Number(n.decode(["uint256"],u.slice(4))[0]);a={signature:"Panic(uint256)",name:"Panic",args:[l]},i=`Panic due to ${Ts.get(l)||"UNKNOWN"}(${l})`,o+=`: ${i}`}catch{o+=" (could not decode panic code)"}else o+=" (unknown custom error)"}let c={to:e.to?rt(e.to):null,data:e.data||"0x"};return e.from&&(c.from=rt(e.from)),Ot(o,"CALL_EXCEPTION",{action:t,data:r,reason:i,transaction:c,invocation:s,revert:a})}var ou=class t{#e(e){if(e.isArray())return new hE(this.#e(e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new gl(e.components.map(n=>this.#e(n)),e.name);switch(e.baseType){case"address":return new dE(e.name);case"bool":return new mE(e.name);case"string":return new EE(e.name);case"bytes":return new yE(e.name);case"":return new wE(e.name)}let r=e.type.match(gne);if(r){let n=parseInt(r[2]||"256");return N(n!==0&&n<=256&&n%8===0,"invalid "+r[1]+" bit length","param",e),new bE(n/8,r[1]==="int",e.name)}if(r=e.type.match(yne),r){let n=parseInt(r[1]);return N(n!==0&&n<=32,"invalid bytes length","param",e),new gE(n,e.name)}N(!1,"invalid type","type",e.type)}getDefaultValue(e){let r=e.map(o=>this.#e(un.from(o)));return new gl(r,"_").defaultValue()}encode(e,r){ld(r.length,e.length,"types/values length mismatch");let n=e.map(s=>this.#e(un.from(s))),o=new gl(n,"_"),i=new hl;return o.encode(i,r),i.data}decode(e,r,n){let o=e.map(s=>this.#e(un.from(s)));return new gl(o,"_").decode(new oE(r,n,$M))}static _setDefaultMaxInflation(e){N(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),$M=e}static defaultAbiCoder(){return VN==null&&(VN=new t),VN}static getBuiltinCallException(e,r,n){return wne(e,r,n,t.defaultAbiCoder())}};var LE=class{fragment;name;signature;topic;args;constructor(e,r,n){let o=e.name,i=e.format();he(this,{fragment:e,name:o,signature:i,topic:r,args:n})}},FE=class{fragment;name;args;signature;selector;value;constructor(e,r,n,o){let i=e.name,s=e.format();he(this,{fragment:e,name:i,args:n,signature:s,selector:r,value:o})}},UE=class{fragment;name;args;signature;selector;constructor(e,r,n){let o=e.name,i=e.format();he(this,{fragment:e,name:o,args:n,signature:i,selector:r})}},ay=class{hash;_isIndexed;static isIndexed(e){return!!(e&&e._isIndexed)}constructor(e){he(this,{hash:e,_isIndexed:!0})}},VM={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},jM={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:t=>`reverted with reason string ${JSON.stringify(t)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:t=>{let e="unknown panic code";return t>=0&&t<=255&&VM[t.toString()]&&(e=VM[t.toString()]),`reverted with panic code 0x${t.toString(16)} (${e})`}}},cy=class t{fragments;deploy;fallback;receive;#e;#t;#r;#n;constructor(e){let r=[];typeof e=="string"?r=JSON.parse(e):r=e,this.#r=new Map,this.#e=new Map,this.#t=new Map;let n=[];for(let s of r)try{n.push(Sl.from(s))}catch(a){console.log(`[Warning] Invalid Fragment ${JSON.stringify(s)}:`,a.message)}he(this,{fragments:Object.freeze(n)});let o=null,i=!1;this.#n=this.getAbiCoder(),this.fragments.forEach((s,a)=>{let c;switch(s.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}he(this,{deploy:s});return;case"fallback":s.inputs.length===0?i=!0:(N(!o||s.payable!==o.payable,"conflicting fallback fragments",`fragments[${a}]`,s),o=s,i=o.payable);return;case"function":c=this.#r;break;case"event":c=this.#t;break;case"error":c=this.#e;break;default:return}let u=s.format();c.has(u)||c.set(u,s)}),this.deploy||he(this,{deploy:xl.from("constructor()")}),he(this,{fallback:o,receive:i})}format(e){let r=e?"minimal":"full";return this.fragments.map(o=>o.format(r))}formatJson(){let e=this.fragments.map(r=>r.format("json"));return JSON.stringify(e.map(r=>JSON.parse(r)))}getAbiCoder(){return ou.defaultAbiCoder()}#o(e,r,n){if(pt(e)){let i=e.toLowerCase();for(let s of this.#r.values())if(i===s.selector)return s;return null}if(e.indexOf("(")===-1){let i=[];for(let[s,a]of this.#r)s.split("(")[0]===e&&i.push(a);if(r){let s=r.length>0?r[r.length-1]:null,a=r.length,c=!0;fr.isTyped(s)&&s.type==="overrides"&&(c=!1,a--);for(let u=i.length-1;u>=0;u--){let l=i[u].inputs.length;l!==a&&(!c||l!==a-1)&&i.splice(u,1)}for(let u=i.length-1;u>=0;u--){let l=i[u].inputs;for(let f=0;f<r.length;f++)if(fr.isTyped(r[f])){if(f>=l.length){if(r[f].type==="overrides")continue;i.splice(u,1);break}if(r[f].type!==l[f].baseType){i.splice(u,1);break}}}}if(i.length===1&&r&&r.length!==i[0].inputs.length){let s=r[r.length-1];(s==null||Array.isArray(s)||typeof s!="object")&&i.splice(0,1)}if(i.length===0)return null;if(i.length>1&&n){let s=i.map(a=>JSON.stringify(a.format())).join(", ");N(!1,`ambiguous function description (i.e. matches ${s})`,"key",e)}return i[0]}let o=this.#r.get(Al.from(e).format());return o||null}getFunctionName(e){let r=this.#o(e,null,!1);return N(r,"no matching function","key",e),r.name}hasFunction(e){return!!this.#o(e,null,!1)}getFunction(e,r){return this.#o(e,r||null,!0)}forEachFunction(e){let r=Array.from(this.#r.keys());r.sort((n,o)=>n.localeCompare(o));for(let n=0;n<r.length;n++){let o=r[n];e(this.#r.get(o),n)}}#s(e,r,n){if(pt(e)){let i=e.toLowerCase();for(let s of this.#t.values())if(i===s.topicHash)return s;return null}if(e.indexOf("(")===-1){let i=[];for(let[s,a]of this.#t)s.split("(")[0]===e&&i.push(a);if(r){for(let s=i.length-1;s>=0;s--)i[s].inputs.length<r.length&&i.splice(s,1);for(let s=i.length-1;s>=0;s--){let a=i[s].inputs;for(let c=0;c<r.length;c++)if(fr.isTyped(r[c])&&r[c].type!==a[c].baseType){i.splice(s,1);break}}}if(i.length===0)return null;if(i.length>1&&n){let s=i.map(a=>JSON.stringify(a.format())).join(", ");N(!1,`ambiguous event description (i.e. matches ${s})`,"key",e)}return i[0]}let o=this.#t.get(Tl.from(e).format());return o||null}getEventName(e){let r=this.#s(e,null,!1);return N(r,"no matching event","key",e),r.name}hasEvent(e){return!!this.#s(e,null,!1)}getEvent(e,r){return this.#s(e,r||null,!0)}forEachEvent(e){let r=Array.from(this.#t.keys());r.sort((n,o)=>n.localeCompare(o));for(let n=0;n<r.length;n++){let o=r[n];e(this.#t.get(o),n)}}getError(e,r){if(pt(e)){let o=e.toLowerCase();if(jM[o])return Ri.from(jM[o].signature);for(let i of this.#e.values())if(o===i.selector)return i;return null}if(e.indexOf("(")===-1){let o=[];for(let[i,s]of this.#e)i.split("(")[0]===e&&o.push(s);if(o.length===0)return e==="Error"?Ri.from("error Error(string)"):e==="Panic"?Ri.from("error Panic(uint256)"):null;if(o.length>1){let i=o.map(s=>JSON.stringify(s.format())).join(", ");N(!1,`ambiguous error description (i.e. ${i})`,"name",e)}return o[0]}if(e=Ri.from(e).format(),e==="Error(string)")return Ri.from("error Error(string)");if(e==="Panic(uint256)")return Ri.from("error Panic(uint256)");let n=this.#e.get(e);return n||null}forEachError(e){let r=Array.from(this.#e.keys());r.sort((n,o)=>n.localeCompare(o));for(let n=0;n<r.length;n++){let o=r[n];e(this.#e.get(o),n)}}_decodeParams(e,r){return this.#n.decode(e,r)}_encodeParams(e,r){return this.#n.encode(e,r)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,r){if(typeof e=="string"){let n=this.getError(e);N(n,"unknown error","fragment",e),e=n}return N(ir(r,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",r),this._decodeParams(e.inputs,ir(r,4))}encodeErrorResult(e,r){if(typeof e=="string"){let n=this.getError(e);N(n,"unknown error","fragment",e),e=n}return Tt([e.selector,this._encodeParams(e.inputs,r||[])])}decodeFunctionData(e,r){if(typeof e=="string"){let n=this.getFunction(e);N(n,"unknown function","fragment",e),e=n}return N(ir(r,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",r),this._decodeParams(e.inputs,ir(r,4))}encodeFunctionData(e,r){if(typeof e=="string"){let n=this.getFunction(e);N(n,"unknown function","fragment",e),e=n}return Tt([e.selector,this._encodeParams(e.inputs,r||[])])}decodeFunctionResult(e,r){if(typeof e=="string"){let i=this.getFunction(e);N(i,"unknown function","fragment",e),e=i}let n="invalid length for result data",o=Pr(r);if(o.length%32===0)try{return this.#n.decode(e.outputs,o)}catch{n="could not decode result data"}B(!1,n,"BAD_DATA",{value:ee(o),info:{method:e.name,signature:e.format()}})}makeError(e,r){let n=Re(e,"data"),o=ou.getBuiltinCallException("call",r,n);if(o.message.startsWith("execution reverted (unknown custom error)")){let a=ee(n.slice(0,4)),c=this.getError(a);if(c)try{let u=this.#n.decode(c.inputs,n.slice(4));o.revert={name:c.name,signature:c.format(),args:u},o.reason=o.revert.signature,o.message=`execution reverted: ${o.reason}`}catch{o.message="execution reverted (coult not decode custom error)"}}let s=this.parseTransaction(r);return s&&(o.invocation={method:s.name,signature:s.signature,args:s.args}),o}encodeFunctionResult(e,r){if(typeof e=="string"){let n=this.getFunction(e);N(n,"unknown function","fragment",e),e=n}return ee(this.#n.encode(e.outputs,r||[]))}encodeFilterTopics(e,r){if(typeof e=="string"){let i=this.getEvent(e);N(i,"unknown event","eventFragment",e),e=i}B(r.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:r.length,expectedCount:e.inputs.length});let n=[];e.anonymous||n.push(e.topicHash);let o=(i,s)=>i.type==="string"?Es(s):i.type==="bytes"?Wt(ee(s)):(i.type==="bool"&&typeof s=="boolean"?s=s?"0x01":"0x00":i.type.match(/^u?int/)?s=lo(s):i.type.match(/^bytes/)?s=Yb(s,32):i.type==="address"&&this.#n.encode(["address"],[s]),Jn(ee(s),32));for(r.forEach((i,s)=>{let a=e.inputs[s];if(!a.indexed){N(i==null,"cannot filter non-indexed parameters; must be null","contract."+a.name,i);return}i==null?n.push(null):a.baseType==="array"||a.baseType==="tuple"?N(!1,"filtering with tuples or arrays not supported","contract."+a.name,i):Array.isArray(i)?n.push(i.map(c=>o(a,c))):n.push(o(a,i))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,r){if(typeof e=="string"){let s=this.getEvent(e);N(s,"unknown event","eventFragment",e),e=s}let n=[],o=[],i=[];return e.anonymous||n.push(e.topicHash),N(r.length===e.inputs.length,"event arguments/values mismatch","values",r),e.inputs.forEach((s,a)=>{let c=r[a];if(s.indexed)if(s.type==="string")n.push(Es(c));else if(s.type==="bytes")n.push(Wt(c));else{if(s.baseType==="tuple"||s.baseType==="array")throw new Error("not implemented");n.push(this.#n.encode([s.type],[c]))}else o.push(s),i.push(c)}),{data:this.#n.encode(o,i),topics:n}}decodeEventLog(e,r,n){if(typeof e=="string"){let p=this.getEvent(e);N(p,"unknown event","eventFragment",e),e=p}if(n!=null&&!e.anonymous){let p=e.topicHash;N(pt(n[0],32)&&n[0].toLowerCase()===p,"fragment/topic mismatch","topics[0]",n[0]),n=n.slice(1)}let o=[],i=[],s=[];e.inputs.forEach((p,h)=>{p.indexed?p.type==="string"||p.type==="bytes"||p.baseType==="tuple"||p.baseType==="array"?(o.push(un.from({type:"bytes32",name:p.name})),s.push(!0)):(o.push(p),s.push(!1)):(i.push(p),s.push(!1))});let a=n!=null?this.#n.decode(o,Tt(n)):null,c=this.#n.decode(i,r,!0),u=[],l=[],f=0,d=0;return e.inputs.forEach((p,h)=>{let m=null;if(p.indexed)if(a==null)m=new ay(null);else if(s[h])m=new ay(a[d++]);else try{m=a[d++]}catch(g){m=g}else try{m=c[f++]}catch(g){m=g}u.push(m),l.push(p.name||null)}),ec.fromItems(u,l)}parseTransaction(e){let r=Re(e.data,"tx.data"),n=ie(e.value!=null?e.value:0,"tx.value"),o=this.getFunction(ee(r.slice(0,4)));if(!o)return null;let i=this.#n.decode(o.inputs,r.slice(4));return new FE(o,o.selector,i,n)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){let r=this.getEvent(e.topics[0]);return!r||r.anonymous?null:new LE(r,r.topicHash,this.decodeEventLog(r,e.data,e.topics))}parseError(e){let r=ee(e),n=this.getError(ir(r,0,4));if(!n)return null;let o=this.#n.decode(n.inputs,ir(r,4));return new UE(n,n.selector,o)}static from(e){return e instanceof t?e:typeof e=="string"?new t(JSON.parse(e)):typeof e.formatJson=="function"?new t(e.formatJson()):typeof e.format=="function"?new t(e.format("json")):new t(e)}};var GM=BigInt(0);function Id(t){return t??null}function zr(t){return t==null?null:t.toString()}var Sd=class{gasPrice;maxFeePerGas;maxPriorityFeePerGas;constructor(e,r,n){he(this,{gasPrice:Id(e),maxFeePerGas:Id(r),maxPriorityFeePerGas:Id(n)})}toJSON(){let{gasPrice:e,maxFeePerGas:r,maxPriorityFeePerGas:n}=this;return{_type:"FeeData",gasPrice:zr(e),maxFeePerGas:zr(r),maxPriorityFeePerGas:zr(n)}}};function su(t){let e={};t.to&&(e.to=t.to),t.from&&(e.from=t.from),t.data&&(e.data=ee(t.data));let r="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(let o of r)!(o in t)||t[o]==null||(e[o]=ie(t[o],`request.${o}`));let n="type,nonce".split(/,/);for(let o of n)!(o in t)||t[o]==null||(e[o]=Be(t[o],`request.${o}`));return t.accessList&&(e.accessList=Jo(t.accessList)),t.authorizationList&&(e.authorizationList=t.authorizationList.slice()),"blockTag"in t&&(e.blockTag=t.blockTag),"enableCcipRead"in t&&(e.enableCcipRead=!!t.enableCcipRead),"customData"in t&&(e.customData=t.customData),"blobVersionedHashes"in t&&t.blobVersionedHashes&&(e.blobVersionedHashes=t.blobVersionedHashes.slice()),"kzg"in t&&(e.kzg=t.kzg),"blobWrapperVersion"in t&&(e.blobWrapperVersion=t.blobWrapperVersion),"blobs"in t&&t.blobs&&(e.blobs=t.blobs.map(o=>Kc(o)?ee(o):Object.assign({},o))),e}var uy=class{provider;number;hash;timestamp;parentHash;parentBeaconBlockRoot;nonce;difficulty;gasLimit;gasUsed;stateRoot;receiptsRoot;blobGasUsed;excessBlobGas;miner;prevRandao;extraData;baseFeePerGas;#e;constructor(e,r){this.#e=e.transactions.map(n=>typeof n!="string"?new iu(n,r):n),he(this,{provider:r,hash:Id(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:Id(e.prevRandao),extraData:e.extraData,baseFeePerGas:Id(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return this.#e.map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){let e=this.#e.slice();return e.length===0?[]:(B(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){let{baseFeePerGas:e,difficulty:r,extraData:n,gasLimit:o,gasUsed:i,hash:s,miner:a,prevRandao:c,nonce:u,number:l,parentHash:f,parentBeaconBlockRoot:d,stateRoot:p,receiptsRoot:h,timestamp:m,transactions:g}=this;return{_type:"Block",baseFeePerGas:zr(e),difficulty:zr(r),extraData:n,gasLimit:zr(o),gasUsed:zr(i),blobGasUsed:zr(this.blobGasUsed),excessBlobGas:zr(this.excessBlobGas),hash:s,miner:a,prevRandao:c,nonce:u,number:l,parentHash:f,timestamp:m,parentBeaconBlockRoot:d,stateRoot:p,receiptsRoot:h,transactions:g}}[Symbol.iterator](){let e=0,r=this.transactions;return{next:()=>e<this.length?{value:r[e++],done:!1}:{value:void 0,done:!0}}}get length(){return this.#e.length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}getTransaction(e){return E(this,null,function*(){let r;if(typeof e=="number")r=this.#e[e];else{let n=e.toLowerCase();for(let o of this.#e)if(typeof o=="string"){if(o!==n)continue;r=o;break}else{if(o.hash!==n)continue;r=o;break}}if(r==null)throw new Error("no such tx");return typeof r=="string"?yield this.provider.getTransaction(r):r})}getPrefetchedTransaction(e){let r=this.prefetchedTransactions;if(typeof e=="number")return r[e];e=e.toLowerCase();for(let n of r)if(n.hash===e)return n;N(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return Ene(this)}},xs=class{provider;transactionHash;blockHash;blockNumber;removed;address;data;topics;index;transactionIndex;constructor(e,r){this.provider=r;let n=Object.freeze(e.topics.slice());he(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:n,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){let{address:e,blockHash:r,blockNumber:n,data:o,index:i,removed:s,topics:a,transactionHash:c,transactionIndex:u}=this;return{_type:"log",address:e,blockHash:r,blockNumber:n,data:o,index:i,removed:s,topics:a,transactionHash:c,transactionIndex:u}}getBlock(){return E(this,null,function*(){let e=yield this.provider.getBlock(this.blockHash);return B(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e})}getTransaction(){return E(this,null,function*(){let e=yield this.provider.getTransaction(this.transactionHash);return B(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e})}getTransactionReceipt(){return E(this,null,function*(){let e=yield this.provider.getTransactionReceipt(this.transactionHash);return B(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e})}removedEvent(){return vne(this)}},Nl=class{provider;to;from;contractAddress;hash;index;blockHash;blockNumber;logsBloom;gasUsed;blobGasUsed;cumulativeGasUsed;gasPrice;blobGasPrice;type;status;root;#e;constructor(e,r){this.#e=Object.freeze(e.logs.map(o=>new xs(o,r)));let n=GM;e.effectiveGasPrice!=null?n=e.effectiveGasPrice:e.gasPrice!=null&&(n=e.gasPrice),he(this,{provider:r,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:n,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return this.#e}toJSON(){let{to:e,from:r,contractAddress:n,hash:o,index:i,blockHash:s,blockNumber:a,logsBloom:c,logs:u,status:l,root:f}=this;return{_type:"TransactionReceipt",blockHash:s,blockNumber:a,contractAddress:n,cumulativeGasUsed:zr(this.cumulativeGasUsed),from:r,gasPrice:zr(this.gasPrice),blobGasUsed:zr(this.blobGasUsed),blobGasPrice:zr(this.blobGasPrice),gasUsed:zr(this.gasUsed),hash:o,index:i,logs:u,logsBloom:c,root:f,status:l,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}getBlock(){return E(this,null,function*(){let e=yield this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e})}getTransaction(){return E(this,null,function*(){let e=yield this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e})}getResult(){return E(this,null,function*(){return yield this.provider.getTransactionResult(this.hash)})}confirmations(){return E(this,null,function*(){return(yield this.provider.getBlockNumber())-this.blockNumber+1})}removedEvent(){return qM(this)}reorderedEvent(e){return B(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),zM(this,e)}},iu=class t{provider;blockNumber;blockHash;index;hash;type;to;from;nonce;gasLimit;gasPrice;maxPriorityFeePerGas;maxFeePerGas;maxFeePerBlobGas;data;value;chainId;signature;accessList;blobVersionedHashes;authorizationList;#e;constructor(e,r){this.provider=r,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,this.authorizationList=e.authorizationList!=null?e.authorizationList:null,this.#e=-1}toJSON(){let{blockNumber:e,blockHash:r,index:n,hash:o,type:i,to:s,from:a,nonce:c,data:u,signature:l,accessList:f,blobVersionedHashes:d}=this;return{_type:"TransactionResponse",accessList:f,blockNumber:e,blockHash:r,blobVersionedHashes:d,chainId:zr(this.chainId),data:u,from:a,gasLimit:zr(this.gasLimit),gasPrice:zr(this.gasPrice),hash:o,maxFeePerGas:zr(this.maxFeePerGas),maxPriorityFeePerGas:zr(this.maxPriorityFeePerGas),maxFeePerBlobGas:zr(this.maxFeePerBlobGas),nonce:c,signature:l,to:s,index:n,type:i,value:zr(this.value)}}getBlock(){return E(this,null,function*(){let e=this.blockNumber;if(e==null){let n=yield this.getTransaction();n&&(e=n.blockNumber)}if(e==null)return null;let r=this.provider.getBlock(e);if(r==null)throw new Error("TODO");return r})}getTransaction(){return E(this,null,function*(){return this.provider.getTransaction(this.hash)})}confirmations(){return E(this,null,function*(){if(this.blockNumber==null){let{tx:r,blockNumber:n}=yield kr({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return r==null||r.blockNumber==null?0:n-r.blockNumber+1}return(yield this.provider.getBlockNumber())-this.blockNumber+1})}wait(e,r){return E(this,null,function*(){let n=e??1,o=r??0,i=this.#e,s=-1,a=i===-1,c=()=>E(this,null,function*(){if(a)return null;let{blockNumber:d,nonce:p}=yield kr({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(p<this.nonce){i=d;return}if(a)return null;let h=yield this.getTransaction();if(!(h&&h.blockNumber!=null))for(s===-1&&(s=i-3,s<this.#e&&(s=this.#e));s<=d;){if(a)return null;let m=yield this.provider.getBlock(s,!0);if(m==null)return;for(let g of m)if(g===this.hash)return;for(let g=0;g<m.length;g++){let w=yield m.getTransaction(g);if(w.from===this.from&&w.nonce===this.nonce){if(a)return null;let T=yield this.provider.getTransactionReceipt(w.hash);if(T==null||d-T.blockNumber+1<n)return;let v="replaced";w.data===this.data&&w.to===this.to&&w.value===this.value?v="repriced":w.data==="0x"&&w.from===w.to&&w.value===GM&&(v="cancelled"),B(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:v==="replaced"||v==="cancelled",reason:v,replacement:w.replaceableTransaction(i),hash:w.hash,receipt:T})}}s++}}),u=d=>{if(d==null||d.status!==0)return d;B(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:d.to,from:d.from,data:""},receipt:d})},l=yield this.provider.getTransactionReceipt(this.hash);if(n===0)return u(l);if(l){if(n===1||(yield l.confirmations())>=n)return u(l)}else if(yield c(),n===0)return null;return yield new Promise((d,p)=>{let h=[],m=()=>{h.forEach(w=>w())};if(h.push(()=>{a=!0}),o>0){let w=setTimeout(()=>{m(),p(Ot("wait for transaction timeout","TIMEOUT"))},o);h.push(()=>{clearTimeout(w)})}let g=w=>E(this,null,function*(){if((yield w.confirmations())>=n){m();try{d(u(w))}catch(T){p(T)}}});if(h.push(()=>{this.provider.off(this.hash,g)}),this.provider.on(this.hash,g),i>=0){let w=()=>E(this,null,function*(){try{yield c()}catch(T){if(ur(T,"TRANSACTION_REPLACED")){m(),p(T);return}}a||this.provider.once("block",w)});h.push(()=>{this.provider.off("block",w)}),this.provider.once("block",w)}})})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return B(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),qM(this)}reorderedEvent(e){return B(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),B(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),zM(this,e)}replaceableTransaction(e){N(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);let r=new t(this,this.provider);return r.#e=e,r}};function Ene(t){return{orphan:"drop-block",hash:t.hash,number:t.number}}function zM(t,e){return{orphan:"reorder-transaction",tx:t,other:e}}function qM(t){return{orphan:"drop-transaction",tx:t}}function vne(t){return{orphan:"drop-log",log:{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,address:t.address,data:t.data,topics:Object.freeze(t.topics.slice()),index:t.index}}}var Nd=class extends xs{interface;fragment;args;constructor(e,r,n){super(e,e.provider);let o=r.decodeEventLog(n,e.data,e.topics);he(this,{args:o,fragment:n,interface:r})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}},ly=class extends xs{error;constructor(e,r){super(e,e.provider),he(this,{error:r})}},jN=class extends Nl{#e;constructor(e,r,n){super(n,r),this.#e=e}get logs(){return super.logs.map(e=>{let r=e.topics.length?this.#e.getEvent(e.topics[0]):null;if(r)try{return new Nd(e,this.#e,r)}catch(n){return new ly(e,n)}return e})}},_d=class t extends iu{#e;constructor(e,r,n){super(n,r),this.#e=e}wait(e,r){return E(this,null,function*(){let n=yield Wa(t.prototype,this,"wait").call(this,e,r);return n==null?null:new jN(this.#e,this.provider,n)})}},fy=class extends Yc{log;constructor(e,r,n,o){super(e,r,n),he(this,{log:o})}getBlock(){return E(this,null,function*(){return yield this.log.getBlock()})}getTransaction(){return E(this,null,function*(){return yield this.log.getTransaction()})}getTransactionReceipt(){return E(this,null,function*(){return yield this.log.getTransactionReceipt()})}},BE=class extends fy{constructor(e,r,n,o,i){super(e,r,n,new Nd(i,e.interface,o));let s=e.interface.decodeEventLog(o,this.log.data,this.log.topics);he(this,{args:s,fragment:o})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}};var QM=BigInt(0);function HM(t){return t&&typeof t.call=="function"}function KM(t){return t&&typeof t.estimateGas=="function"}function jE(t){return t&&typeof t.resolveName=="function"}function WM(t){return t&&typeof t.sendTransaction=="function"}function YM(t){if(t!=null){if(jE(t))return t;if(t.provider)return t.provider}}var GN=class{#e;fragment;constructor(e,r,n){if(he(this,{fragment:r}),r.inputs.length<n.length)throw new Error("too many arguments");let o=Dl(e.runner,"resolveName"),i=jE(o)?o:null;this.#e=(function(){return E(this,null,function*(){let s=yield Promise.all(r.inputs.map((a,c)=>n[c]==null?null:a.walkAsync(n[c],(l,f)=>l==="address"?Array.isArray(f)?Promise.all(f.map(d=>en(d,i))):en(f,i):f)));return e.interface.encodeFilterTopics(r,s)})})()}getTopicFilter(){return this.#e}};function Dl(t,e){return t==null?null:typeof t[e]=="function"?t:t.provider&&typeof t.provider[e]=="function"?t.provider:null}function _l(t){return t==null?null:t.provider||null}function XM(t,e){return E(this,null,function*(){let r=fr.dereference(t,"overrides");N(typeof r=="object","invalid overrides parameter","overrides",t);let n=su(r);return N(n.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",n.to),N(n.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",n.data),n.from&&(n.from=n.from),n})}function Tne(t,e,r){return E(this,null,function*(){let n=Dl(t,"resolveName"),o=jE(n)?n:null;return yield Promise.all(e.map((i,s)=>i.walkAsync(r[s],(a,c)=>(c=fr.dereference(c,a),a==="address"?en(c,o):c))))})}function xne(t){let e=function(s){return E(this,null,function*(){let a=yield XM(s,["data"]);a.to=yield t.getAddress(),a.from&&(a.from=yield en(a.from,YM(t.runner)));let c=t.interface,u=ie(a.value||QM,"overrides.value")===QM,l=(a.data||"0x")==="0x";c.fallback&&!c.fallback.payable&&c.receive&&!l&&!u&&N(!1,"cannot send data to receive or send value to non-payable fallback","overrides",s),N(c.fallback||l,"cannot send data to receive-only contract","overrides.data",a.data);let f=c.receive||c.fallback&&c.fallback.payable;return N(f||u,"cannot send value to non-payable fallback","overrides.value",a.value),N(c.fallback||l,"cannot send data to receive-only contract","overrides.data",a.data),a})},r=function(s){return E(this,null,function*(){let a=Dl(t.runner,"call");B(HM(a),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});let c=yield e(s);try{return yield a.call(c)}catch(u){throw fl(u)&&u.data?t.interface.makeError(u.data,c):u}})},n=function(s){return E(this,null,function*(){let a=t.runner;B(WM(a),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let c=yield a.sendTransaction(yield e(s)),u=_l(t.runner);return new _d(t.interface,u,c)})},o=function(s){return E(this,null,function*(){let a=Dl(t.runner,"estimateGas");return B(KM(a),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),yield a.estimateGas(yield e(s))})},i=s=>E(null,null,function*(){return yield n(s)});return he(i,{_contract:t,estimateGas:o,populateTransaction:e,send:n,staticCall:r}),i}function Ane(t,e){let r=function(...u){let l=t.interface.getFunction(e,u);return B(l,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:u}}),l},n=function(...u){return E(this,null,function*(){let l=r(...u),f={};if(l.inputs.length+1===u.length&&(f=yield XM(u.pop()),f.from&&(f.from=yield en(f.from,YM(t.runner)))),l.inputs.length!==u.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");let d=yield Tne(t.runner,l.inputs,u);return Object.assign({},f,yield kr({to:t.getAddress(),data:t.interface.encodeFunctionData(l,d)}))})},o=function(...u){return E(this,null,function*(){let l=yield a(...u);return l.length===1?l[0]:l})},i=function(...u){return E(this,null,function*(){let l=t.runner;B(WM(l),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let f=yield l.sendTransaction(yield n(...u)),d=_l(t.runner);return new _d(t.interface,d,f)})},s=function(...u){return E(this,null,function*(){let l=Dl(t.runner,"estimateGas");return B(KM(l),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),yield l.estimateGas(yield n(...u))})},a=function(...u){return E(this,null,function*(){let l=Dl(t.runner,"call");B(HM(l),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});let f=yield n(...u),d="0x";try{d=yield l.call(f)}catch(h){throw fl(h)&&h.data?t.interface.makeError(h.data,f):h}let p=r(...u);return t.interface.decodeFunctionResult(p,d)})},c=(...u)=>E(null,null,function*(){return r(...u).constant?yield o(...u):yield i(...u)});return he(c,{name:t.interface.getFunctionName(e),_contract:t,_key:e,getFragment:r,estimateGas:s,populateTransaction:n,send:i,staticCall:o,staticCallResult:a}),Object.defineProperty(c,"fragment",{configurable:!1,enumerable:!0,get:()=>{let u=t.interface.getFunction(e);return B(u,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),u}}),c}function Ine(t,e){let r=function(...o){let i=t.interface.getEvent(e,o);return B(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:o}}),i},n=function(...o){return new GN(t,r(...o),o)};return he(n,{name:t.interface.getEventName(e),_contract:t,_key:e,getFragment:r}),Object.defineProperty(n,"fragment",{configurable:!1,enumerable:!0,get:()=>{let o=t.interface.getEvent(e);return B(o,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),o}}),n}var $E=Symbol.for("_ethersInternal_contract"),ZM=new WeakMap;function Sne(t,e){ZM.set(t[$E],e)}function Ho(t){return ZM.get(t[$E])}function Nne(t){return t&&typeof t=="object"&&"getTopicFilter"in t&&typeof t.getTopicFilter=="function"&&t.fragment}function QN(t,e){return E(this,null,function*(){let r,n=null;if(Array.isArray(e)){let i=function(s){if(pt(s,32))return s;let a=t.interface.getEvent(s);return N(a,"unknown fragment","name",s),a.topicHash};r=e.map(s=>s==null?null:Array.isArray(s)?s.map(i):i(s))}else e==="*"?r=[null]:typeof e=="string"?pt(e,32)?r=[e]:(n=t.interface.getEvent(e),N(n,"unknown fragment","event",e),r=[n.topicHash]):Nne(e)?r=yield e.getTopicFilter():"fragment"in e?(n=e.fragment,r=[n.topicHash]):N(!1,"unknown event name","event",e);r=r.map(i=>{if(i==null)return null;if(Array.isArray(i)){let s=Array.from(new Set(i.map(a=>a.toLowerCase())).values());return s.length===1?s[0]:(s.sort(),s)}return i.toLowerCase()});let o=r.map(i=>i==null?"null":Array.isArray(i)?i.join("|"):i).join("&");return{fragment:n,tag:o,topics:r}})}function dy(t,e){return E(this,null,function*(){let{subs:r}=Ho(t);return r.get((yield QN(t,e)).tag)||null})}function JM(t,e,r){return E(this,null,function*(){let n=_l(t.runner);B(n,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});let{fragment:o,tag:i,topics:s}=yield QN(t,r),{addr:a,subs:c}=Ho(t),u=c.get(i);if(!u){let f={address:a||t,topics:s},d=g=>{let w=o;if(w==null)try{w=t.interface.getEvent(g.topics[0])}catch{}if(w){let T=w,v=o?t.interface.decodeEventLog(o,g.data,g.topics):[];qN(t,r,v,x=>new BE(t,x,r,T,g))}else qN(t,r,[],T=>new fy(t,T,r,g))},p=[];u={tag:i,listeners:[],start:()=>{p.length||p.push(n.on(f,d))},stop:()=>E(null,null,function*(){if(p.length==0)return;let g=p;p=[],yield Promise.all(g),n.off(f,d)})},c.set(i,u)}return u})}var zN=Promise.resolve();function _ne(t,e,r,n){return E(this,null,function*(){yield zN;let o=yield dy(t,e);if(!o)return!1;let i=o.listeners.length;return o.listeners=o.listeners.filter(({listener:s,once:a})=>{let c=Array.from(r);n&&c.push(n(a?null:s));try{s.call(t,...c)}catch{}return!a}),o.listeners.length===0&&(o.stop(),Ho(t).subs.delete(o.tag)),i>0})}function qN(t,e,r,n){return E(this,null,function*(){try{yield zN}catch{}let o=_ne(t,e,r,n);return zN=o,yield o})}var ME=["then"],VE=class t{target;interface;runner;filters;[$E];fallback;constructor(e,r,n,o){N(typeof e=="string"||fE(e),"invalid value for Contract target","target",e),n==null&&(n=null);let i=cy.from(r);he(this,{target:e,runner:n,interface:i}),Object.defineProperty(this,$E,{value:{}});let s,a=null,c=null;if(o){let f=_l(n);c=new _d(this.interface,f,o)}let u=new Map;if(typeof e=="string")if(pt(e))a=e,s=Promise.resolve(e);else{let f=Dl(n,"resolveName");if(!jE(f))throw Ot("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});s=f.resolveName(e).then(d=>{if(d==null)throw Ot("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return Ho(this).addr=d,d})}else s=e.getAddress().then(f=>{if(f==null)throw new Error("TODO");return Ho(this).addr=f,f});Sne(this,{addrPromise:s,addr:a,deployTx:c,subs:u});let l=new Proxy({},{get:(f,d,p)=>{if(typeof d=="symbol"||ME.indexOf(d)>=0)return Reflect.get(f,d,p);try{return this.getEvent(d)}catch(h){if(!ur(h,"INVALID_ARGUMENT")||h.argument!=="key")throw h}},has:(f,d)=>ME.indexOf(d)>=0?Reflect.has(f,d):Reflect.has(f,d)||this.interface.hasEvent(String(d))});return he(this,{filters:l}),he(this,{fallback:i.receive||i.fallback?xne(this):null}),new Proxy(this,{get:(f,d,p)=>{if(typeof d=="symbol"||d in f||ME.indexOf(d)>=0)return Reflect.get(f,d,p);try{return f.getFunction(d)}catch(h){if(!ur(h,"INVALID_ARGUMENT")||h.argument!=="key")throw h}},has:(f,d)=>typeof d=="symbol"||d in f||ME.indexOf(d)>=0?Reflect.has(f,d):f.interface.hasFunction(d)})}connect(e){return new t(this.target,this.interface,e)}attach(e){return new t(e,this.interface,this.runner)}getAddress(){return E(this,null,function*(){return yield Ho(this).addrPromise})}getDeployedCode(){return E(this,null,function*(){let e=_l(this.runner);B(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});let r=yield e.getCode(yield this.getAddress());return r==="0x"?null:r})}waitForDeployment(){return E(this,null,function*(){let e=this.deploymentTransaction();if(e)return yield e.wait(),this;if((yield this.getDeployedCode())!=null)return this;let n=_l(this.runner);return B(n!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((o,i)=>{let s=()=>E(this,null,function*(){try{if((yield this.getDeployedCode())!=null)return o(this);n.once("block",s)}catch(a){i(a)}});s()})})}deploymentTransaction(){return Ho(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),Ane(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),Ine(this,e)}queryTransaction(e){return E(this,null,function*(){throw new Error("@TODO")})}queryFilter(e,r,n){return E(this,null,function*(){r==null&&(r=0),n==null&&(n="latest");let{addr:o,addrPromise:i}=Ho(this),s=o||(yield i),{fragment:a,topics:c}=yield QN(this,e),u={address:s,topics:c,fromBlock:r,toBlock:n},l=_l(this.runner);return B(l,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(yield l.getLogs(u)).map(f=>{let d=a;if(d==null)try{d=this.interface.getEvent(f.topics[0])}catch{}if(d)try{return new Nd(f,this.interface,d)}catch(p){return new ly(f,p)}return new xs(f,l)})})}on(e,r){return E(this,null,function*(){let n=yield JM(this,"on",e);return n.listeners.push({listener:r,once:!1}),n.start(),this})}once(e,r){return E(this,null,function*(){let n=yield JM(this,"once",e);return n.listeners.push({listener:r,once:!0}),n.start(),this})}emit(e,...r){return E(this,null,function*(){return yield qN(this,e,r,null)})}listenerCount(e){return E(this,null,function*(){if(e){let o=yield dy(this,e);return o?o.listeners.length:0}let{subs:r}=Ho(this),n=0;for(let{listeners:o}of r.values())n+=o.length;return n})}listeners(e){return E(this,null,function*(){if(e){let o=yield dy(this,e);return o?o.listeners.map(({listener:i})=>i):[]}let{subs:r}=Ho(this),n=[];for(let{listeners:o}of r.values())n=n.concat(o.map(({listener:i})=>i));return n})}off(e,r){return E(this,null,function*(){let n=yield dy(this,e);if(!n)return this;if(r){let o=n.listeners.map(({listener:i})=>i).indexOf(r);o>=0&&n.listeners.splice(o,1)}return(r==null||n.listeners.length===0)&&(n.stop(),Ho(this).subs.delete(n.tag)),this})}removeAllListeners(e){return E(this,null,function*(){if(e){let r=yield dy(this,e);if(!r)return this;r.stop(),Ho(this).subs.delete(r.tag)}else{let{subs:r}=Ho(this);for(let{tag:n,stop:o}of r.values())o(),r.delete(n)}return this})}addListener(e,r){return E(this,null,function*(){return yield this.on(e,r)})}removeListener(e,r){return E(this,null,function*(){return yield this.off(e,r)})}static buildClass(e){class r extends t{constructor(o,i=null){super(o,e,i)}}return r}static from(e,r,n){return n==null&&(n=null),new this(e,r,n)}};function Dne(){return VE}var Xs=class extends Dne(){};function JN(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):N(!1,"unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}var GE=class{name;constructor(e){he(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}encodeAddress(e,r){return E(this,null,function*(){throw new Error("unsupported coin")})}decodeAddress(e,r){return E(this,null,function*(){throw new Error("unsupported coin")})}};var t8=new RegExp("^(ipfs)://(.*)$","i"),e8=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),t8,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")],Dd=class t{provider;address;name;#e;#t;constructor(e,r,n){he(this,{provider:e,address:r,name:n}),this.#e=null,this.#t=new Xs(r,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e)}supportsWildcard(){return E(this,null,function*(){return this.#e==null&&(this.#e=E(this,null,function*(){try{return yield this.#t.supportsInterface("0x9061b923")}catch(e){if(ur(e,"CALL_EXCEPTION"))return!1;throw this.#e=null,e}})),yield this.#e})}#r(e,r){return E(this,null,function*(){r=(r||[]).slice();let n=this.#t.interface;r.unshift(Td(this.name));let o=null;(yield this.supportsWildcard())&&(o=n.getFunction(e),B(o,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),r=[BN(this.name,255),n.encodeFunctionData(o,r)],e="resolve(bytes,bytes)"),r.push({enableCcipRead:!0});try{let i=yield this.#t[e](...r);return o?n.decodeFunctionResult(o,i)[0]:i}catch(i){if(!ur(i,"CALL_EXCEPTION"))throw i}return null})}getAddress(e){return E(this,null,function*(){if(e==null&&(e=60),e===60)try{let i=yield this.#r("addr(bytes32)");return i==null||i===tc?null:i}catch(i){if(ur(i,"CALL_EXCEPTION"))return null;throw i}if(e>=0&&e<2147483648){let i=e+2147483648,s=yield this.#r("addr(bytes32,uint)",[i]);if(pt(s,20))return rt(s)}let r=null;for(let i of this.provider.plugins)if(i instanceof GE&&i.supportsCoinType(e)){r=i;break}if(r==null)return null;let n=yield this.#r("addr(bytes32,uint)",[e]);if(n==null||n==="0x")return null;let o=yield r.decodeAddress(e,n);if(o!=null)return o;B(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:n}})})}getText(e){return E(this,null,function*(){let r=yield this.#r("text(bytes32,string)",[e]);return r==null||r==="0x"?null:r})}getContentHash(){return E(this,null,function*(){let e=yield this.#r("contenthash(bytes32)");if(e==null||e==="0x")return null;let r=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){let o=r[1]==="e3010170"?"ipfs":"ipns",i=parseInt(r[4],16);if(r[5].length===i*2)return`${o}://${Zb("0x"+r[2])}`}let n=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(n&&n[1].length===64)return`bzz://${n[1]}`;B(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})})}getAvatar(){return E(this,null,function*(){return(yield this._getAvatar()).url})}_getAvatar(){return E(this,null,function*(){let e=[{type:"name",value:this.name}];try{let r=yield this.getText("avatar");if(r==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:r});for(let n=0;n<e8.length;n++){let o=r.match(e8[n]);if(o==null)continue;let i=o[1].toLowerCase();switch(i){case"https":case"data":return e.push({type:"url",value:r}),{linkage:e,url:r};case"ipfs":{let s=JN(r);return e.push({type:"ipfs",value:r}),e.push({type:"url",value:s}),{linkage:e,url:s}}case"erc721":case"erc1155":{let s=i==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:i,value:r});let a=yield this.getAddress();if(a==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};let c=(o[2]||"").split("/");if(c.length!==2)return e.push({type:`!${i}caip`,value:o[2]||""}),{url:null,linkage:e};let u=c[1],l=new Xs(c[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(i==="erc721"){let m=yield l.ownerOf(u);if(a!==m)return e.push({type:"!owner",value:m}),{url:null,linkage:e};e.push({type:"owner",value:m})}else if(i==="erc1155"){let m=yield l.balanceOf(a,u);if(!m)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:m.toString()})}let f=yield l[s](u);if(f==null||f==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:f}),i==="erc1155"&&(f=f.replace("{id}",lo(u,32).substring(2)),e.push({type:"metadata-url-expanded",value:f})),f.match(/^ipfs:/i)&&(f=JN(f)),e.push({type:"metadata-url",value:f});let d={},p=yield new qo(f).send();p.assertOk();try{d=p.bodyJson}catch{try{e.push({type:"!metadata",value:p.bodyText})}catch{let w=p.body;return w&&e.push({type:"!metadata",value:ee(w)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!d)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(d)});let h=d.image;if(typeof h!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!h.match(/^(https:\/\/|data:)/i)){if(h.match(t8)==null)return e.push({type:"!imageUrl-ipfs",value:h}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:h}),h=JN(h)}return e.push({type:"url",value:h}),{linkage:e,url:h}}}}}catch{}return{linkage:e,url:null}})}static getEnsAddress(e){return E(this,null,function*(){let r=yield e.getNetwork(),n=r.getPlugin("org.ethers.plugins.network.Ens");return B(n,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:r}}),n.address})}static#n(e,r){return E(this,null,function*(){let n=yield t.getEnsAddress(e);try{let i=yield new Xs(n,["function resolver(bytes32) view returns (address)"],e).resolver(Td(r),{enableCcipRead:!0});return i===tc?null:i}catch(o){throw o}return null})}static fromName(e,r){return E(this,null,function*(){let n=r;for(;;){if(n===""||n==="."||r!=="eth"&&n==="eth")return null;let o=yield t.#n(e,n);if(o!=null){let i=new t(e,o,r);return n!==r&&!(yield i.supportsWildcard())?null:i}n=n.split(".").slice(1).join(".")}})}};var r8=BigInt(0);function At(t,e){return function(r){return r==null?e:t(r)}}function py(t,e){return r=>{if(e&&r==null)return null;if(!Array.isArray(r))throw new Error("not an array");return r.map(n=>t(n))}}function hy(t,e){return r=>{let n={};for(let o in t){let i=o;if(e&&o in e&&!(i in r)){for(let s of e[o])if(s in r){i=s;break}}try{let s=t[o](r[i]);s!==void 0&&(n[o]=s)}catch(s){let a=s instanceof Error?s.message:"not-an-error";B(!1,`invalid value for value.${o} (${a})`,"BAD_DATA",{value:r})}}return n}}function One(t){switch(t){case!0:case"true":return!0;case!1:case"false":return!1}N(!1,`invalid boolean; ${JSON.stringify(t)}`,"value",t)}function Od(t){return N(pt(t,!0),"invalid data","value",t),t}function Dn(t){return N(pt(t,32),"invalid hash","value",t),t}var Cne=hy({address:rt,blockHash:Dn,blockNumber:Be,data:Od,index:Be,removed:At(One,!1),topics:py(Dn),transactionHash:Dn,transactionIndex:Be},{index:["logIndex"]});function n8(t){return Cne(t)}var Rne=hy({hash:At(Dn),parentHash:Dn,parentBeaconBlockRoot:At(Dn,null),number:Be,timestamp:Be,nonce:At(Od),difficulty:ie,gasLimit:ie,gasUsed:ie,stateRoot:At(Dn,null),receiptsRoot:At(Dn,null),blobGasUsed:At(ie,null),excessBlobGas:At(ie,null),miner:At(rt),prevRandao:At(Dn,null),extraData:Od,baseFeePerGas:At(ie)},{prevRandao:["mixHash"]});function o8(t){let e=Rne(t);return e.transactions=t.transactions.map(r=>typeof r=="string"?r:HN(r)),e}var kne=hy({transactionIndex:Be,blockNumber:Be,transactionHash:Dn,address:rt,topics:py(Dn),data:Od,index:Be,blockHash:Dn},{index:["logIndex"]});function Pne(t){return kne(t)}var Lne=hy({to:At(rt,null),from:At(rt,null),contractAddress:At(rt,null),index:Be,root:At(ee),gasUsed:ie,blobGasUsed:At(ie,null),logsBloom:At(Od),blockHash:Dn,hash:Dn,logs:py(Pne),blockNumber:Be,cumulativeGasUsed:ie,effectiveGasPrice:At(ie),blobGasPrice:At(ie,null),status:At(Be),type:At(Be,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function i8(t){return Lne(t)}function HN(t){t.to&&ie(t.to)===r8&&(t.to="0x0000000000000000000000000000000000000000");let e=hy({hash:Dn,index:At(Be,void 0),type:r=>r==="0x"||r==null?0:Be(r),accessList:At(Jo,null),blobVersionedHashes:At(py(Dn,!0),null),authorizationList:At(py(r=>{let n;if(r.signature)n=r.signature;else{let o=r.yParity;o==="0x1b"?o=0:o==="0x1c"&&(o=1),n=Object.assign({},r,{yParity:o})}return{address:rt(r.address),chainId:ie(r.chainId),nonce:ie(r.nonce),signature:cn.from(n)}},!1),null),blockHash:At(Dn,null),blockNumber:At(Be,null),transactionIndex:At(Be,null),from:rt,gasPrice:At(ie),maxPriorityFeePerGas:At(ie),maxFeePerGas:At(ie),maxFeePerBlobGas:At(ie,null),gasLimit:ie,to:At(rt,null),value:ie,nonce:Be,data:Od,creates:At(rt,null),chainId:At(ie,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(t);if(e.to==null&&e.creates==null&&(e.creates=TN(e)),(t.type===1||t.type===2)&&t.accessList==null&&(e.accessList=[]),t.signature?e.signature=cn.from(t.signature):e.signature=cn.from(t),e.chainId==null){let r=e.signature.legacyChainId;r!=null&&(e.chainId=r)}return e.blockHash&&ie(e.blockHash)===r8&&(e.blockHash=null),e}var Fne="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",Cd=class t{name;constructor(e){he(this,{name:e})}clone(){return new t(this.name)}},Rd=class t extends Cd{effectiveBlock;txBase;txCreate;txDataZero;txDataNonzero;txAccessListStorageKey;txAccessListAddress;constructor(e,r){e==null&&(e=0),super(`org.ethers.network.plugins.GasCost#${e||0}`);let n={effectiveBlock:e};function o(i,s){let a=(r||{})[i];a==null&&(a=s),N(typeof a=="number",`invalud value for ${i}`,"costs",r),n[i]=a}o("txBase",21e3),o("txCreate",32e3),o("txDataZero",4),o("txDataNonzero",16),o("txAccessListStorageKey",1900),o("txAccessListAddress",2400),he(this,n)}clone(){return new t(this.effectiveBlock,this)}},kd=class t extends Cd{address;targetNetwork;constructor(e,r){super("org.ethers.plugins.network.Ens"),he(this,{address:e||Fne,targetNetwork:r??1})}clone(){return new t(this.address,this.targetNetwork)}};var my=class extends Cd{#e;#t;get url(){return this.#e}get processFunc(){return this.#t}constructor(e,r){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin"),this.#e=e,this.#t=r}clone(){return this}};var KN=new Map,Ko=class t{#e;#t;#r;constructor(e,r){this.#e=e,this.#t=ie(r),this.#r=new Map}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return this.#e}set name(e){this.#e=e}get chainId(){return this.#t}set chainId(e){this.#t=ie(e,"chainId")}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===ie(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===ie(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===ie(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(this.#r.values())}attachPlugin(e){if(this.#r.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#r.set(e.name,e.clone()),this}getPlugin(e){return this.#r.get(e)||null}getPlugins(e){return this.plugins.filter(r=>r.name.split("#")[0]===e)}clone(){let e=new t(this.name,this.chainId);return this.plugins.forEach(r=>{e.attachPlugin(r.clone())}),e}computeIntrinsicGas(e){let r=this.getPlugin("org.ethers.plugins.network.GasCost")||new Rd,n=r.txBase;if(e.to==null&&(n+=r.txCreate),e.data)for(let o=2;o<e.data.length;o+=2)e.data.substring(o,o+2)==="00"?n+=r.txDataZero:n+=r.txDataNonzero;if(e.accessList){let o=Jo(e.accessList);for(let i in o)n+=r.txAccessListAddress+r.txAccessListStorageKey*o[i].storageKeys.length}return n}static from(e){if(Une(),e==null)return t.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){let r=KN.get(e);if(r)return r();if(typeof e=="bigint")return new t("unknown",e);N(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){N(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);let r=new t(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&r.attachPlugin(new kd(e.ensAddress,e.ensNetwork)),r}N(!1,"invalid network","network",e)}static register(e,r){typeof e=="number"&&(e=BigInt(e));let n=KN.get(e);n&&N(!1,`conflicting network for ${JSON.stringify(n.name)}`,"nameOrChainId",e),KN.set(e,r)}};function s8(t,e){let r=String(t);if(!r.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${t}`);let n=r.split(".");if(n.length===1&&n.push(""),n.length!==2)throw new Error(`invalid gwei value: ${t}`);for(;n[1].length<e;)n[1]+="0";if(n[1].length>9){let o=BigInt(n[1].substring(0,9));n[1].substring(9).match(/^0+$/)||o++,n[1]=o.toString()}return BigInt(n[0]+n[1])}function a8(t){return new my(t,(e,r,n)=>E(null,null,function*(){n.setHeader("User-Agent","ethers");let o;try{let[i,s]=yield Promise.all([n.send(),e()]);o=i;let a=o.bodyJson.standard;return{gasPrice:s.gasPrice,maxFeePerGas:s8(a.maxFee,9),maxPriorityFeePerGas:s8(a.maxPriorityFee,9)}}catch(i){B(!1,`error encountered with polygon gas station (${JSON.stringify(n.url)})`,"SERVER_ERROR",{request:n,response:o,error:i})}}))}var c8=!1;function Une(){if(c8)return;c8=!0;function t(e,r,n){let o=function(){let i=new Ko(e,r);return n.ensNetwork!=null&&i.attachPlugin(new kd(null,n.ensNetwork)),i.attachPlugin(new Rd),(n.plugins||[]).forEach(s=>{i.attachPlugin(s)}),i};Ko.register(e,o),Ko.register(r,o),n.altNames&&n.altNames.forEach(i=>{Ko.register(i,o)})}t("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),t("ropsten",3,{ensNetwork:3}),t("rinkeby",4,{ensNetwork:4}),t("goerli",5,{ensNetwork:5}),t("kovan",42,{ensNetwork:42}),t("sepolia",11155111,{ensNetwork:11155111}),t("holesky",17e3,{ensNetwork:17e3}),t("classic",61,{}),t("classicKotti",6,{}),t("arbitrum",42161,{ensNetwork:1}),t("arbitrum-goerli",421613,{}),t("arbitrum-sepolia",421614,{}),t("base",8453,{ensNetwork:1}),t("base-goerli",84531,{}),t("base-sepolia",84532,{}),t("bnb",56,{ensNetwork:1}),t("bnbt",97,{}),t("filecoin",314,{}),t("filecoin-calibration",314159,{}),t("linea",59144,{ensNetwork:1}),t("linea-goerli",59140,{}),t("linea-sepolia",59141,{}),t("matic",137,{ensNetwork:1,plugins:[a8("https://gasstation.polygon.technology/v2")]}),t("matic-amoy",80002,{}),t("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[a8("https://gasstation-testnet.polygon.technology/v2")]}),t("optimism",10,{ensNetwork:1,plugins:[]}),t("optimism-goerli",420,{}),t("optimism-sepolia",11155420,{}),t("xdai",100,{ensNetwork:1})}function WN(t){return JSON.parse(JSON.stringify(t))}var zE=class{#e;#t;#r;#n;constructor(e){this.#e=e,this.#t=null,this.#r=4e3,this.#n=-2}get pollingInterval(){return this.#r}set pollingInterval(e){this.#r=e}#o(){return E(this,null,function*(){try{let e=yield this.#e.getBlockNumber();if(this.#n===-2){this.#n=e;return}if(e!==this.#n){for(let r=this.#n+1;r<=e;r++){if(this.#t==null)return;yield this.#e.emit("block",r)}this.#n=e}}catch{}this.#t!=null&&(this.#t=this.#e._setTimeout(this.#o.bind(this),this.#r))})}start(){this.#t||(this.#t=this.#e._setTimeout(this.#o.bind(this),this.#r),this.#o())}stop(){this.#t&&(this.#e._clearTimeout(this.#t),this.#t=null)}pause(e){this.stop(),e&&(this.#n=-2)}resume(){this.start()}},yy=class{#e;#t;#r;constructor(e){this.#e=e,this.#r=!1,this.#t=r=>{this._poll(r,this.#e)}}_poll(e,r){return E(this,null,function*(){throw new Error("sub-classes must override this")})}start(){this.#r||(this.#r=!0,this.#t(-2),this.#e.on("block",this.#t))}stop(){this.#r&&(this.#r=!1,this.#e.off("block",this.#t))}pause(e){this.stop()}resume(){this.start()}},qE=class extends yy{#e;#t;constructor(e,r){super(e),this.#e=r,this.#t=-2}pause(e){e&&(this.#t=-2),super.pause(e)}_poll(e,r){return E(this,null,function*(){let n=yield r.getBlock(this.#e);n!=null&&(this.#t===-2?this.#t=n.number:n.number>this.#t&&(r.emit(this.#e,n.number),this.#t=n.number))})}},QE=class extends yy{#e;constructor(e,r){super(e),this.#e=WN(r)}_poll(e,r){return E(this,null,function*(){throw new Error("@TODO")})}},JE=class extends yy{#e;constructor(e,r){super(e),this.#e=r}_poll(e,r){return E(this,null,function*(){let n=yield r.getTransactionReceipt(this.#e);n&&r.emit(this.#e,n)})}},au=class{#e;#t;#r;#n;#o;constructor(e,r){this.#e=e,this.#t=WN(r),this.#r=this.#s.bind(this),this.#n=!1,this.#o=-2}#s(e){return E(this,null,function*(){if(this.#o===-2)return;let r=WN(this.#t);r.fromBlock=this.#o+1,r.toBlock=e;let n=yield this.#e.getLogs(r);if(n.length===0){this.#o<e-60&&(this.#o=e-60);return}for(let o of n)this.#e.emit(this.#t,o),this.#o=o.blockNumber})}start(){this.#n||(this.#n=!0,this.#o===-2&&this.#e.getBlockNumber().then(e=>{this.#o=e}),this.#e.on("block",this.#r))}stop(){this.#n&&(this.#n=!1,this.#e.off("block",this.#r))}pause(e){this.stop(),e&&(this.#o=-2)}resume(){this.start()}};var Bne=BigInt(2),Mne=10;function HE(t){return t&&typeof t.then=="function"}function KE(t,e){return t+":"+JSON.stringify(e,(r,n)=>{if(n==null)return"null";if(typeof n=="bigint")return`bigint:${n.toString()}`;if(typeof n=="string")return n.toLowerCase();if(typeof n=="object"&&!Array.isArray(n)){let o=Object.keys(n);return o.sort(),o.reduce((i,s)=>(i[s]=n[s],i),{})}return n})}var Pd=class{name;constructor(e){he(this,{name:e})}start(){}stop(){}pause(e){}resume(){}};function $ne(t){return JSON.parse(JSON.stringify(t))}function ZN(t){return t=Array.from(new Set(t).values()),t.sort(),t}function YN(t,e){return E(this,null,function*(){if(t==null)throw new Error("invalid event");if(Array.isArray(t)&&(t={topics:t}),typeof t=="string")switch(t){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:t,tag:t}}if(pt(t,32)){let r=t.toLowerCase();return{type:"transaction",tag:KE("tx",{hash:r}),hash:r}}if(t.orphan){let r=t;return{type:"orphan",tag:KE("orphan",r),filter:$ne(r)}}if(t.address||t.topics){let r=t,n={topics:(r.topics||[]).map(o=>o==null?null:Array.isArray(o)?ZN(o.map(i=>i.toLowerCase())):o.toLowerCase())};if(r.address){let o=[],i=[],s=a=>{pt(a)?o.push(a):i.push(E(null,null,function*(){o.push(yield en(a,e))}))};Array.isArray(r.address)?r.address.forEach(s):s(r.address),i.length&&(yield Promise.all(i)),n.address=ZN(o.map(a=>a.toLowerCase()))}return{filter:n,tag:KE("event",n),type:"event"}}N(!1,"unknown ProviderEvent","event",t)})}function XN(){return new Date().getTime()}var Vne={cacheTimeout:250,pollingInterval:4e3},gy=class{#e;#t;#r;#n;#o;#s;#i;#a;#f;#u;#h;#m;constructor(e,r){if(this.#m=Object.assign({},Vne,r||{}),e==="any")this.#s=!0,this.#o=null;else if(e){let n=Ko.from(e);this.#s=!1,this.#o=Promise.resolve(n),setTimeout(()=>{this.emit("network",n,null)},0)}else this.#s=!1,this.#o=null;this.#a=-1,this.#i=new Map,this.#e=new Map,this.#t=new Map,this.#r=null,this.#n=!1,this.#f=1,this.#u=new Map,this.#h=!1}get pollingInterval(){return this.#m.pollingInterval}get provider(){return this}get plugins(){return Array.from(this.#t.values())}attachPlugin(e){if(this.#t.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#t.set(e.name,e.connect(this)),this}getPlugin(e){return this.#t.get(e)||null}get disableCcipRead(){return this.#h}set disableCcipRead(e){this.#h=!!e}#c(e){return E(this,null,function*(){let r=this.#m.cacheTimeout;if(r<0)return yield this._perform(e);let n=KE(e.method,e),o=this.#i.get(n);return o||(o=this._perform(e),this.#i.set(n,o),setTimeout(()=>{this.#i.get(n)===o&&this.#i.delete(n)},r)),yield o})}ccipReadFetch(e,r,n){return E(this,null,function*(){if(this.disableCcipRead||n.length===0||e.to==null)return null;let o=e.to.toLowerCase(),i=r.toLowerCase(),s=[];for(let a=0;a<n.length;a++){let c=n[a],u=c.replace("{sender}",o).replace("{data}",i),l=new qo(u);c.indexOf("{data}")===-1&&(l.body={data:i,sender:o}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:l,index:a,urls:n});let f="unknown error",d;try{d=yield l.send()}catch(p){s.push(p.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:l,result:{error:p}});continue}try{let p=d.bodyJson;if(p.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:l,result:p}),p.data;p.message&&(f=p.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:l,result:p})}catch{}B(d.statusCode<400||d.statusCode>=500,`response not found during CCIP fetch: ${f}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:c,errorMessage:f}}),s.push(f)}B(!1,`error encountered during CCIP fetch: ${s.map(a=>JSON.stringify(a)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:n,errorMessages:s}})})}_wrapBlock(e,r){return new uy(o8(e),this)}_wrapLog(e,r){return new xs(n8(e),this)}_wrapTransactionReceipt(e,r){return new Nl(i8(e),this)}_wrapTransactionResponse(e,r){return new iu(HN(e),this)}_detectNetwork(){B(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}_perform(e){return E(this,null,function*(){B(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})})}getBlockNumber(){return E(this,null,function*(){let e=Be(yield this.#c({method:"getBlockNumber"}),"%response");return this.#a>=0&&(this.#a=e),e})}_getAddress(e){return en(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(pt(e))return pt(e,32)?e:Hn(e);if(typeof e=="bigint"&&(e=Be(e,"blockTag")),typeof e=="number")return e>=0?Hn(e):this.#a>=0?Hn(this.#a+e):this.getBlockNumber().then(r=>Hn(r+e));N(!1,"invalid blockTag","blockTag",e)}_getFilter(e){let r=(e.topics||[]).map(c=>c==null?null:Array.isArray(c)?ZN(c.map(u=>u.toLowerCase())):c.toLowerCase()),n="blockHash"in e?e.blockHash:void 0,o=(c,u,l)=>{let f;switch(c.length){case 0:break;case 1:f=c[0];break;default:c.sort(),f=c}if(n&&(u!=null||l!=null))throw new Error("invalid filter");let d={};return f&&(d.address=f),r.length&&(d.topics=r),u&&(d.fromBlock=u),l&&(d.toBlock=l),n&&(d.blockHash=n),d},i=[];if(e.address)if(Array.isArray(e.address))for(let c of e.address)i.push(this._getAddress(c));else i.push(this._getAddress(e.address));let s;"fromBlock"in e&&(s=this._getBlockTag(e.fromBlock));let a;return"toBlock"in e&&(a=this._getBlockTag(e.toBlock)),i.filter(c=>typeof c!="string").length||s!=null&&typeof s!="string"||a!=null&&typeof a!="string"?Promise.all([Promise.all(i),s,a]).then(c=>o(c[0],c[1],c[2])):o(i,s,a)}_getTransactionRequest(e){let r=su(e),n=[];if(["to","from"].forEach(o=>{if(r[o]==null)return;let i=en(r[o],this);HE(i)?n.push((function(){return E(this,null,function*(){r[o]=yield i})})()):r[o]=i}),r.blockTag!=null){let o=this._getBlockTag(r.blockTag);HE(o)?n.push((function(){return E(this,null,function*(){r.blockTag=yield o})})()):r.blockTag=o}return n.length?(function(){return E(this,null,function*(){return yield Promise.all(n),r})})():r}getNetwork(){return E(this,null,function*(){if(this.#o==null){let o=E(this,null,function*(){try{let i=yield this._detectNetwork();return this.emit("network",i,null),i}catch(i){throw this.#o===o&&(this.#o=null),i}});return this.#o=o,(yield o).clone()}let e=this.#o,[r,n]=yield Promise.all([e,this._detectNetwork()]);return r.chainId!==n.chainId&&(this.#s?(this.emit("network",n,r),this.#o===e&&(this.#o=Promise.resolve(n))):B(!1,`network changed: ${r.chainId} => ${n.chainId} `,"NETWORK_ERROR",{event:"changed"})),r.clone()})}getFeeData(){return E(this,null,function*(){let e=yield this.getNetwork(),r=()=>E(this,null,function*(){let{_block:o,gasPrice:i,priorityFee:s}=yield kr({_block:this.#w("latest",!1),gasPrice:E(this,null,function*(){try{let l=yield this.#c({method:"getGasPrice"});return ie(l,"%response")}catch{}return null}),priorityFee:E(this,null,function*(){try{let l=yield this.#c({method:"getPriorityFee"});return ie(l,"%response")}catch{}return null})}),a=null,c=null,u=this._wrapBlock(o,e);return u&&u.baseFeePerGas&&(c=s??BigInt("1000000000"),a=u.baseFeePerGas*Bne+c),new Sd(i,a,c)}),n=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(n){let o=new qo(n.url),i=yield n.processFunc(r,this,o);return new Sd(i.gasPrice,i.maxFeePerGas,i.maxPriorityFeePerGas)}return yield r()})}estimateGas(e){return E(this,null,function*(){let r=this._getTransactionRequest(e);return HE(r)&&(r=yield r),ie(yield this.#c({method:"estimateGas",transaction:r}),"%response")})}#l(e,r,n){return E(this,null,function*(){B(n<Mne,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:r,enableCcipRead:!0})});let o=su(e);try{return ee(yield this._perform({method:"call",transaction:o,blockTag:r}))}catch(i){if(!this.disableCcipRead&&fl(i)&&i.data&&n>=0&&r==="latest"&&o.to!=null&&ir(i.data,0,4)==="0x556f1830"){let s=i.data,a=yield en(o.to,this),c;try{c=Qne(ir(i.data,4))}catch(f){B(!1,f.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:o,info:{data:s}})}B(c.sender.toLowerCase()===a.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:s,reason:"OffchainLookup",transaction:o,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:c.errorArgs}});let u=yield this.ccipReadFetch(o,c.calldata,c.urls);B(u!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:o,info:{data:i.data,errorArgs:c.errorArgs}});let l={to:a,data:Tt([c.selector,qne([u,c.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:l});try{let f=yield this.#l(l,r,n+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},l),result:f}),f}catch(f){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},l),error:f}),f}}throw i}})}#d(e){return E(this,null,function*(){let{value:r}=yield kr({network:this.getNetwork(),value:e});return r})}call(e){return E(this,null,function*(){let{tx:r,blockTag:n}=yield kr({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return yield this.#d(this.#l(r,n,e.enableCcipRead?0:-1))})}#p(e,r,n){return E(this,null,function*(){let o=this._getAddress(r),i=this._getBlockTag(n);return(typeof o!="string"||typeof i!="string")&&([o,i]=yield Promise.all([o,i])),yield this.#d(this.#c(Object.assign(e,{address:o,blockTag:i})))})}getBalance(e,r){return E(this,null,function*(){return ie(yield this.#p({method:"getBalance"},e,r),"%response")})}getTransactionCount(e,r){return E(this,null,function*(){return Be(yield this.#p({method:"getTransactionCount"},e,r),"%response")})}getCode(e,r){return E(this,null,function*(){return ee(yield this.#p({method:"getCode"},e,r))})}getStorage(e,r,n){return E(this,null,function*(){let o=ie(r,"position");return ee(yield this.#p({method:"getStorage",position:o},e,n))})}broadcastTransaction(e){return E(this,null,function*(){let{blockNumber:r,hash:n,network:o}=yield kr({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),i=wl.from(e);if(i.hash!==n)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(i,o).replaceableTransaction(r)})}#w(e,r){return E(this,null,function*(){if(pt(e,32))return yield this.#c({method:"getBlock",blockHash:e,includeTransactions:r});let n=this._getBlockTag(e);return typeof n!="string"&&(n=yield n),yield this.#c({method:"getBlock",blockTag:n,includeTransactions:r})})}getBlock(e,r){return E(this,null,function*(){let{network:n,params:o}=yield kr({network:this.getNetwork(),params:this.#w(e,!!r)});return o==null?null:this._wrapBlock(o,n)})}getTransaction(e){return E(this,null,function*(){let{network:r,params:n}=yield kr({network:this.getNetwork(),params:this.#c({method:"getTransaction",hash:e})});return n==null?null:this._wrapTransactionResponse(n,r)})}getTransactionReceipt(e){return E(this,null,function*(){let{network:r,params:n}=yield kr({network:this.getNetwork(),params:this.#c({method:"getTransactionReceipt",hash:e})});if(n==null)return null;if(n.gasPrice==null&&n.effectiveGasPrice==null){let o=yield this.#c({method:"getTransaction",hash:e});if(o==null)throw new Error("report this; could not find tx or effectiveGasPrice");n.effectiveGasPrice=o.gasPrice}return this._wrapTransactionReceipt(n,r)})}getTransactionResult(e){return E(this,null,function*(){let{result:r}=yield kr({network:this.getNetwork(),result:this.#c({method:"getTransactionResult",hash:e})});return r==null?null:ee(r)})}getLogs(e){return E(this,null,function*(){let r=this._getFilter(e);HE(r)&&(r=yield r);let{network:n,params:o}=yield kr({network:this.getNetwork(),params:this.#c({method:"getLogs",filter:r})});return o.map(i=>this._wrapLog(i,n))})}_getProvider(e){B(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}getResolver(e){return E(this,null,function*(){return yield Dd.fromName(this,e)})}getAvatar(e){return E(this,null,function*(){let r=yield this.getResolver(e);return r?yield r.getAvatar():null})}resolveName(e){return E(this,null,function*(){let r=yield this.getResolver(e);return r?yield r.getAddress():null})}lookupAddress(e){return E(this,null,function*(){e=rt(e);let r=Td(e.substring(2).toLowerCase()+".addr.reverse");try{let n=yield Dd.getEnsAddress(this),i=yield new Xs(n,["function resolver(bytes32) view returns (address)"],this).resolver(r);if(i==null||i===tc)return null;let a=yield new Xs(i,["function name(bytes32) view returns (string)"],this).name(r);return(yield this.resolveName(a))!==e?null:a}catch(n){if(ur(n,"BAD_DATA")&&n.value==="0x"||ur(n,"CALL_EXCEPTION"))return null;throw n}return null})}waitForTransaction(e,r,n){return E(this,null,function*(){let o=r??1;return o===0?this.getTransactionReceipt(e):new Promise((i,s)=>E(this,null,function*(){let a=null,c=u=>E(this,null,function*(){try{let l=yield this.getTransactionReceipt(e);if(l!=null&&u-l.blockNumber+1>=o){i(l),a&&(clearTimeout(a),a=null);return}}catch(l){console.log("EEE",l)}this.once("block",c)});n!=null&&(a=setTimeout(()=>{a!=null&&(a=null,this.off("block",c),s(Ot("timeout","TIMEOUT",{reason:"timeout"})))},n)),c(yield this.getBlockNumber())}))})}waitForBlock(e){return E(this,null,function*(){B(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})})}_clearTimeout(e){let r=this.#u.get(e);r&&(r.timer&&clearTimeout(r.timer),this.#u.delete(e))}_setTimeout(e,r){r==null&&(r=0);let n=this.#f++,o=()=>{this.#u.delete(n),e()};if(this.paused)this.#u.set(n,{timer:null,func:o,time:r});else{let i=setTimeout(o,r);this.#u.set(n,{timer:i,func:o,time:XN()})}return n}_forEachSubscriber(e){for(let r of this.#e.values())e(r.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new Pd(e.type);case"block":{let r=new zE(this);return r.pollingInterval=this.pollingInterval,r}case"safe":case"finalized":return new qE(this,e.type);case"event":return new au(this,e.filter);case"transaction":return new JE(this,e.hash);case"orphan":return new QE(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,r){for(let n of this.#e.values())if(n.subscriber===e){n.started&&n.subscriber.stop(),n.subscriber=r,n.started&&r.start(),this.#r!=null&&r.pause(this.#r);break}}#y(e,r){return E(this,null,function*(){let n=yield YN(e,this);return n.type==="event"&&r&&r.length>0&&r[0].removed===!0&&(n=yield YN({orphan:"drop-log",log:r[0]},this)),this.#e.get(n.tag)||null})}#g(e){return E(this,null,function*(){let r=yield YN(e,this),n=r.tag,o=this.#e.get(n);return o||(o={subscriber:this._getSubscriber(r),tag:n,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},this.#e.set(n,o)),o})}on(e,r){return E(this,null,function*(){let n=yield this.#g(e);return n.listeners.push({listener:r,once:!1}),n.started||(n.subscriber.start(),n.started=!0,this.#r!=null&&n.subscriber.pause(this.#r)),this})}once(e,r){return E(this,null,function*(){let n=yield this.#g(e);return n.listeners.push({listener:r,once:!0}),n.started||(n.subscriber.start(),n.started=!0,this.#r!=null&&n.subscriber.pause(this.#r)),this})}emit(e,...r){return E(this,null,function*(){let n=yield this.#y(e,r);if(!n||n.listeners.length===0)return!1;let o=n.listeners.length;return n.listeners=n.listeners.filter(({listener:i,once:s})=>{let a=new Yc(this,s?null:i,e);try{i.call(this,...r,a)}catch{}return!s}),n.listeners.length===0&&(n.started&&n.subscriber.stop(),this.#e.delete(n.tag)),o>0})}listenerCount(e){return E(this,null,function*(){if(e){let n=yield this.#y(e);return n?n.listeners.length:0}let r=0;for(let{listeners:n}of this.#e.values())r+=n.length;return r})}listeners(e){return E(this,null,function*(){if(e){let n=yield this.#y(e);return n?n.listeners.map(({listener:o})=>o):[]}let r=[];for(let{listeners:n}of this.#e.values())r=r.concat(n.map(({listener:o})=>o));return r})}off(e,r){return E(this,null,function*(){let n=yield this.#y(e);if(!n)return this;if(r){let o=n.listeners.map(({listener:i})=>i).indexOf(r);o>=0&&n.listeners.splice(o,1)}return(!r||n.listeners.length===0)&&(n.started&&n.subscriber.stop(),this.#e.delete(n.tag)),this})}removeAllListeners(e){return E(this,null,function*(){if(e){let{tag:r,started:n,subscriber:o}=yield this.#g(e);n&&o.stop(),this.#e.delete(r)}else for(let[r,{started:n,subscriber:o}]of this.#e)n&&o.stop(),this.#e.delete(r);return this})}addListener(e,r){return E(this,null,function*(){return yield this.on(e,r)})}removeListener(e,r){return E(this,null,function*(){return this.off(e,r)})}get destroyed(){return this.#n}destroy(){this.removeAllListeners();for(let e of this.#u.keys())this._clearTimeout(e);this.#n=!0}get paused(){return this.#r!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(this.#a=-1,this.#r!=null){if(this.#r==!!e)return;B(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(r=>r.pause(e)),this.#r=!!e;for(let r of this.#u.values())r.timer&&clearTimeout(r.timer),r.time=XN()-r.time}resume(){if(this.#r!=null){this._forEachSubscriber(e=>e.resume()),this.#r=null;for(let e of this.#u.values()){let r=e.time;r<0&&(r=0),e.time=XN(),setTimeout(e.func,r)}}}};function jne(t,e){try{let r=e1(t,e);if(r)return Za(r)}catch{}return null}function e1(t,e){if(t==="0x")return null;try{let r=Be(ir(t,e,e+32)),n=Be(ir(t,r,r+32));return ir(t,r+32,r+32+n)}catch{}return null}function u8(t){let e=lr(t);if(e.length>32)throw new Error("internal; should not happen");let r=new Uint8Array(32);return r.set(e,32-e.length),r}function Gne(t){if(t.length%32===0)return t;let e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}var zne=new Uint8Array([]);function qne(t){let e=[],r=0;for(let n=0;n<t.length;n++)e.push(zne),r+=32;for(let n=0;n<t.length;n++){let o=Re(t[n]);e[n]=u8(r),e.push(u8(o.length)),e.push(Gne(o)),r+=32+Math.ceil(o.length/32)*32}return Tt(e)}var l8="0x0000000000000000000000000000000000000000000000000000000000000000";function Qne(t){let e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};B(ys(t)>=160,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});let r=ir(t,0,32);B(ir(r,0,12)===ir(l8,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=ir(r,12);try{let n=[],o=Be(ir(t,32,64)),i=Be(ir(t,o,o+32)),s=ir(t,o+32);for(let a=0;a<i;a++){let c=jne(s,a*32);if(c==null)throw new Error("abort");n.push(c)}e.urls=n}catch{B(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{let n=e1(t,64);if(n==null)throw new Error("abort");e.calldata=n}catch{B(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}B(ir(t,100,128)===ir(l8,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=ir(t,96,100);try{let n=e1(t,128);if(n==null)throw new Error("abort");e.extraData=n}catch{B(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(n=>e[n]),e}function Ol(t,e){if(t.provider)return t.provider;B(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}function f8(t,e){return E(this,null,function*(){let r=su(e);if(r.to!=null&&(r.to=en(r.to,t)),r.from!=null){let n=r.from;r.from=Promise.all([t.getAddress(),en(n,t)]).then(([o,i])=>(N(o.toLowerCase()===i.toLowerCase(),"transaction from mismatch","tx.from",i),o))}else r.from=t.getAddress();return yield kr(r)})}var wy=class{provider;constructor(e){he(this,{provider:e||null})}getNonce(e){return E(this,null,function*(){return Ol(this,"getTransactionCount").getTransactionCount(yield this.getAddress(),e)})}populateCall(e){return E(this,null,function*(){return yield f8(this,e)})}populateTransaction(e){return E(this,null,function*(){let r=Ol(this,"populateTransaction"),n=yield f8(this,e);n.nonce==null&&(n.nonce=yield this.getNonce("pending")),n.gasLimit==null&&(n.gasLimit=yield this.estimateGas(n));let o=yield this.provider.getNetwork();if(n.chainId!=null){let s=ie(n.chainId);N(s===o.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else n.chainId=o.chainId;let i=n.maxFeePerGas!=null||n.maxPriorityFeePerGas!=null;if(n.gasPrice!=null&&(n.type===2||i)?N(!1,"eip-1559 transaction do not support gasPrice","tx",e):(n.type===0||n.type===1)&&i&&N(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(n.type===2||n.type==null)&&n.maxFeePerGas!=null&&n.maxPriorityFeePerGas!=null)n.type=2;else if(n.type===0||n.type===1){let s=yield r.getFeeData();B(s.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),n.gasPrice==null&&(n.gasPrice=s.gasPrice)}else{let s=yield r.getFeeData();if(n.type==null)if(s.maxFeePerGas!=null&&s.maxPriorityFeePerGas!=null)if(n.authorizationList&&n.authorizationList.length?n.type=4:n.type=2,n.gasPrice!=null){let a=n.gasPrice;delete n.gasPrice,n.maxFeePerGas=a,n.maxPriorityFeePerGas=a}else n.maxFeePerGas==null&&(n.maxFeePerGas=s.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=s.maxPriorityFeePerGas);else s.gasPrice!=null?(B(!i,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),n.gasPrice==null&&(n.gasPrice=s.gasPrice),n.type=0):B(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(n.type===2||n.type===3||n.type===4)&&(n.maxFeePerGas==null&&(n.maxFeePerGas=s.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=s.maxPriorityFeePerGas))}return yield kr(n)})}populateAuthorization(e){return E(this,null,function*(){let r=Object.assign({},e);return r.chainId==null&&(r.chainId=(yield Ol(this,"getNetwork").getNetwork()).chainId),r.nonce==null&&(r.nonce=yield this.getNonce()),r})}estimateGas(e){return E(this,null,function*(){return Ol(this,"estimateGas").estimateGas(yield this.populateCall(e))})}call(e){return E(this,null,function*(){return Ol(this,"call").call(yield this.populateCall(e))})}resolveName(e){return E(this,null,function*(){return yield Ol(this,"resolveName").resolveName(e)})}sendTransaction(e){return E(this,null,function*(){let r=Ol(this,"sendTransaction"),n=yield this.populateTransaction(e);delete n.from;let o=wl.from(n);return yield r.broadcastTransaction(yield this.signTransaction(o))})}authorize(e){B(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}};function Jne(t){return JSON.parse(JSON.stringify(t))}var WE=class{#e;#t;#r;#n;#o;#s;constructor(e){this.#e=e,this.#t=null,this.#r=this.#i.bind(this),this.#n=!1,this.#o=null,this.#s=!1}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,r){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}#i(e){return E(this,null,function*(){try{this.#t==null&&(this.#t=this._subscribe(this.#e));let r=null;try{r=yield this.#t}catch(i){if(!ur(i,"UNSUPPORTED_OPERATION")||i.operation!=="eth_newFilter")throw i}if(r==null){this.#t=null,this.#e._recoverSubscriber(this,this._recover(this.#e));return}let n=yield this.#e.getNetwork();if(this.#o||(this.#o=n),this.#o.chainId!==n.chainId)throw new Error("chaid changed");if(this.#s)return;let o=yield this.#e.send("eth_getFilterChanges",[r]);yield this._emitResults(this.#e,o)}catch(r){console.log("@TODO",r)}this.#e.once("block",this.#r)})}#a(){let e=this.#t;e&&(this.#t=null,e.then(r=>{this.#e.destroyed||this.#e.send("eth_uninstallFilter",[r])}))}start(){this.#n||(this.#n=!0,this.#i(-2))}stop(){this.#n&&(this.#n=!1,this.#s=!0,this.#a(),this.#e.off("block",this.#r))}pause(e){e&&this.#a(),this.#e.off("block",this.#r)}resume(){this.start()}},YE=class extends WE{#e;constructor(e,r){super(e),this.#e=Jne(r)}_recover(e){return new au(e,this.#e)}_subscribe(e){return E(this,null,function*(){return yield e.send("eth_newFilter",[this.#e])})}_emitResults(e,r){return E(this,null,function*(){for(let n of r)e.emit(this.#e,e._wrapLog(n,e._network))})}},XE=class extends WE{_subscribe(e){return E(this,null,function*(){return yield e.send("eth_newPendingTransactionFilter",[])})}_emitResults(e,r){return E(this,null,function*(){for(let n of r)e.emit("pending",n)})}};var Hne="bigint,boolean,function,number,string,symbol".split(/,/g);function ZE(t){if(t==null||Hne.indexOf(typeof t)>=0||typeof t.getAddress=="function")return t;if(Array.isArray(t))return t.map(ZE);if(typeof t=="object")return Object.keys(t).reduce((e,r)=>(e[r]=t[r],e),{});throw new Error(`should not happen: ${t} (${typeof t})`)}function Kne(t){return new Promise(e=>{setTimeout(e,t)})}function Ld(t){return t&&t.toLowerCase()}function d8(t){return t&&typeof t.pollingInterval=="number"}var p8={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3},Fd=class extends wy{address;constructor(e,r){super(e),r=rt(r),he(this,{address:r})}connect(e){B(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}getAddress(){return E(this,null,function*(){return this.address})}populateTransaction(e){return E(this,null,function*(){return yield this.populateCall(e)})}sendUncheckedTransaction(e){return E(this,null,function*(){let r=ZE(e),n=[];if(r.from){let i=r.from;n.push(E(this,null,function*(){let s=yield en(i,this.provider);N(s!=null&&s.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),r.from=s}))}else r.from=this.address;if(r.gasLimit==null&&n.push(E(this,null,function*(){r.gasLimit=yield this.provider.estimateGas(S(b({},r),{from:this.address}))})),r.to!=null){let i=r.to;n.push(E(this,null,function*(){r.to=yield en(i,this.provider)}))}n.length&&(yield Promise.all(n));let o=this.provider.getRpcTransaction(r);return this.provider.send("eth_sendTransaction",[o])})}sendTransaction(e){return E(this,null,function*(){let r=yield this.provider.getBlockNumber(),n=yield this.sendUncheckedTransaction(e);return yield new Promise((o,i)=>{let s=[1e3,100],a=0,c=()=>E(this,null,function*(){try{let u=yield this.provider.getTransaction(n);if(u!=null){o(u.replaceableTransaction(r));return}}catch(u){if(ur(u,"CANCELLED")||ur(u,"BAD_DATA")||ur(u,"NETWORK_ERROR")||ur(u,"UNSUPPORTED_OPERATION")){u.info==null&&(u.info={}),u.info.sendTransactionHash=n,i(u);return}if(ur(u,"INVALID_ARGUMENT")&&(a++,u.info==null&&(u.info={}),u.info.sendTransactionHash=n,a>10)){i(u);return}this.provider.emit("error",Ot("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:u}))}this.provider._setTimeout(()=>{c()},s.pop()||4e3)});c()})})}signTransaction(e){return E(this,null,function*(){let r=ZE(e);if(r.from){let o=yield en(r.from,this.provider);N(o!=null&&o.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),r.from=o}else r.from=this.address;let n=this.provider.getRpcTransaction(r);return yield this.provider.send("eth_signTransaction",[n])})}signMessage(e){return E(this,null,function*(){let r=typeof e=="string"?Kn(e):e;return yield this.provider.send("personal_sign",[ee(r),this.address.toLowerCase()])})}signTypedData(e,r,n){return E(this,null,function*(){let o=ZE(n),i=yield xd.resolveNames(e,r,o,s=>E(null,null,function*(){let a=yield en(s);return N(a!=null,"TypedData does not support null address","value",s),a}));return yield this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(xd.getPayload(i.domain,r,i.value))])})}unlock(e){return E(this,null,function*(){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),e,null])})}_legacySignMessage(e){return E(this,null,function*(){let r=typeof e=="string"?Kn(e):e;return yield this.provider.send("eth_sign",[this.address.toLowerCase(),ee(r)])})}},ev=class t extends gy{#e;#t;#r;#n;#o;#s;#i;#a(){if(this.#n)return;let e=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");this.#n=setTimeout(()=>{this.#n=null;let r=this.#r;for(this.#r=[];r.length;){let n=[r.shift()];for(;r.length&&n.length!==this.#e.batchMaxCount;)if(n.push(r.shift()),JSON.stringify(n.map(i=>i.payload)).length>this.#e.batchMaxSize){r.unshift(n.pop());break}E(this,null,function*(){let o=n.length===1?n[0].payload:n.map(i=>i.payload);this.emit("debug",{action:"sendRpcPayload",payload:o});try{let i=yield this._send(o);this.emit("debug",{action:"receiveRpcResult",result:i});for(let{resolve:s,reject:a,payload:c}of n){if(this.destroyed){a(Ot("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:c.method}));continue}let u=i.filter(l=>l.id===c.id)[0];if(u==null){let l=Ot("missing response for request","BAD_DATA",{value:i,info:{payload:c}});this.emit("error",l),a(l);continue}if("error"in u){a(this.getRpcError(c,u));continue}s(u.result)}}catch(i){this.emit("debug",{action:"receiveRpcError",error:i});for(let{reject:s}of n)s(i)}})}},e)}constructor(e,r){super(e,r),this.#t=1,this.#e=Object.assign({},p8,r||{}),this.#r=[],this.#n=null,this.#s=null,this.#i=null;{let o=null,i=new Promise(s=>{o=s});this.#o={promise:i,resolve:o}}let n=this._getOption("staticNetwork");typeof n=="boolean"?(N(!n||e!=="any","staticNetwork cannot be used on special network 'any'","options",r),n&&e!=null&&(this.#s=Ko.from(e))):n&&(N(e==null||n.matches(e),"staticNetwork MUST match network object","options",r),this.#s=n)}_getOption(e){return this.#e[e]}get _network(){return B(this.#s,"network is not available yet","NETWORK_ERROR"),this.#s}_perform(e){return E(this,null,function*(){if(e.method==="call"||e.method==="estimateGas"){let n=e.transaction;if(n&&n.type!=null&&ie(n.type)&&n.maxFeePerGas==null&&n.maxPriorityFeePerGas==null){let o=yield this.getFeeData();o.maxFeePerGas==null&&o.maxPriorityFeePerGas==null&&(e=Object.assign({},e,{transaction:Object.assign({},n,{type:void 0})}))}}let r=this.getRpcRequest(e);return r!=null?yield this.send(r.method,r.args):Wa(t.prototype,this,"_perform").call(this,e)})}_detectNetwork(){return E(this,null,function*(){let e=this._getOption("staticNetwork");if(e)if(e===!0){if(this.#s)return this.#s}else return e;return this.#i?yield this.#i:this.ready?(this.#i=E(this,null,function*(){try{let r=Ko.from(ie(yield this.send("eth_chainId",[])));return this.#i=null,r}catch(r){throw this.#i=null,r}}),yield this.#i):(this.#i=E(this,null,function*(){let r={id:this.#t++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:r});let n;try{n=(yield this._send(r))[0],this.#i=null}catch(o){throw this.#i=null,this.emit("debug",{action:"receiveRpcError",error:o}),o}if(this.emit("debug",{action:"receiveRpcResult",result:n}),"result"in n)return Ko.from(ie(n.result));throw this.getRpcError(r,n)}),yield this.#i)})}_start(){this.#o==null||this.#o.resolve==null||(this.#o.resolve(),this.#o=null,E(this,null,function*(){for(;this.#s==null&&!this.destroyed;)try{this.#s=yield this._detectNetwork()}catch(e){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",Ot("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:e}})),yield Kne(1e3)}this.#a()}))}_waitUntilReady(){return E(this,null,function*(){if(this.#o!=null)return yield this.#o.promise})}_getSubscriber(e){return e.type==="pending"?new XE(this):e.type==="event"?this._getOption("polling")?new au(this,e.filter):new YE(this,e.filter):e.type==="orphan"&&e.filter.orphan==="drop-log"?new Pd("orphan"):super._getSubscriber(e)}get ready(){return this.#o==null}getRpcTransaction(e){let r={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(n=>{if(e[n]==null)return;let o=n;n==="gasLimit"&&(o="gas"),r[o]=Hn(ie(e[n],`tx.${n}`))}),["from","to","data"].forEach(n=>{e[n]!=null&&(r[n]=ee(e[n]))}),e.accessList&&(r.accessList=Jo(e.accessList)),e.blobVersionedHashes&&(r.blobVersionedHashes=e.blobVersionedHashes.map(n=>n.toLowerCase())),e.authorizationList&&(r.authorizationList=e.authorizationList.map(n=>{let o=Xm(n);return{address:o.address,nonce:Hn(o.nonce),chainId:Hn(o.chainId),yParity:Hn(o.signature.yParity),r:Hn(o.signature.r),s:Hn(o.signature.s)}})),r}getRpcRequest(e){switch(e.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[Ld(e.address),e.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[Ld(e.address),e.blockTag]};case"getCode":return{method:"eth_getCode",args:[Ld(e.address),e.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[Ld(e.address),"0x"+e.position.toString(16),e.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[e.signedTransaction]};case"getBlock":if("blockTag"in e)return{method:"eth_getBlockByNumber",args:[e.blockTag,!!e.includeTransactions]};if("blockHash"in e)return{method:"eth_getBlockByHash",args:[e.blockHash,!!e.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[e.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[e.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(e.transaction),e.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(e.transaction)]};case"getLogs":return e.filter&&e.filter.address!=null&&(Array.isArray(e.filter.address)?e.filter.address=e.filter.address.map(Ld):e.filter.address=Ld(e.filter.address)),{method:"eth_getLogs",args:[e.filter]}}return null}getRpcError(e,r){let{method:n}=e,{error:o}=r;if(n==="eth_estimateGas"&&o.message){let a=o.message;if(!a.match(/revert/i)&&a.match(/insufficient funds/i))return Ot("insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.params[0],info:{payload:e,error:o}});if(a.match(/nonce/i)&&a.match(/too low/i))return Ot("nonce has already been used","NONCE_EXPIRED",{transaction:e.params[0],info:{payload:e,error:o}})}if(n==="eth_call"||n==="eth_estimateGas"){let a=t1(o),c=ou.getBuiltinCallException(n==="eth_call"?"call":"estimateGas",e.params[0],a?a.data:null);return c.info={error:o,payload:e},c}let i=JSON.stringify(Wne(o));if(typeof o.message=="string"&&o.message.match(/user denied|ethers-user-denied/i))return Ot("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[n]||"unknown",reason:"rejected",info:{payload:e,error:o}});if(n==="eth_sendRawTransaction"||n==="eth_sendTransaction"){let a=e.params[0];if(i.match(/insufficient funds|base fee exceeds gas limit/i))return Ot("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:a,info:{error:o}});if(i.match(/nonce/i)&&i.match(/too low/i))return Ot("nonce has already been used","NONCE_EXPIRED",{transaction:a,info:{error:o}});if(i.match(/replacement transaction/i)&&i.match(/underpriced/i))return Ot("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:a,info:{error:o}});if(i.match(/only replay-protected/i))return Ot("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:n,info:{transaction:a,info:{error:o}}})}let s=!!i.match(/the method .* does not exist/i);return s||o&&o.details&&o.details.startsWith("Unauthorized method:")&&(s=!0),s?Ot("unsupported operation","UNSUPPORTED_OPERATION",{operation:e.method,info:{error:o,payload:e}}):Ot("could not coalesce error","UNKNOWN_ERROR",{error:o,payload:e})}send(e,r){if(this.destroyed)return Promise.reject(Ot("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e}));let n=this.#t++,o=new Promise((i,s)=>{this.#r.push({resolve:i,reject:s,payload:{method:e,params:r,id:n,jsonrpc:"2.0"}})});return this.#a(),o}getSigner(e){return E(this,null,function*(){e==null&&(e=0);let r=this.send("eth_accounts",[]);if(typeof e=="number"){let o=yield r;if(e>=o.length)throw new Error("no such account");return new Fd(this,o[e])}let{accounts:n}=yield kr({network:this.getNetwork(),accounts:r});e=rt(e);for(let o of n)if(rt(o)===e)return new Fd(this,e);throw new Error("invalid account")})}listAccounts(){return E(this,null,function*(){return(yield this.send("eth_accounts",[])).map(r=>new Fd(this,r))})}destroy(){this.#n&&(clearTimeout(this.#n),this.#n=null);for(let{payload:e,reject:r}of this.#r)r(Ot("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e.method}));this.#r=[],super.destroy()}},tv=class extends ev{#e;constructor(e,r){super(e,r);let n=this._getOption("pollingInterval");n==null&&(n=p8.pollingInterval),this.#e=n}_getSubscriber(e){let r=super._getSubscriber(e);return d8(r)&&(r.pollingInterval=this.#e),r}get pollingInterval(){return this.#e}set pollingInterval(e){if(!Number.isInteger(e)||e<0)throw new Error("invalid interval");this.#e=e,this._forEachSubscriber(r=>{d8(r)&&(r.pollingInterval=this.#e)})}};function t1(t){if(t==null)return null;if(typeof t.message=="string"&&t.message.match(/revert/i)&&pt(t.data))return{message:t.message,data:t.data};if(typeof t=="object"){for(let e in t){let r=t1(t[e]);if(r)return r}return null}if(typeof t=="string")try{return t1(JSON.parse(t))}catch{}return null}function r1(t,e){if(t!=null){if(typeof t.message=="string"&&e.push(t.message),typeof t=="object")for(let r in t)r1(t[r],e);if(typeof t=="string")try{return r1(JSON.parse(t),e)}catch{}}}function Wne(t){let e=[];return r1(t,e),e}var Ud=class t extends tv{#e;#t;constructor(e,r,n){let o=Object.assign({},n??{},{batchMaxCount:1});N(e&&e.request,"invalid EIP-1193 provider","ethereum",e),super(r,o),this.#t=null,n&&n.providerInfo&&(this.#t=n.providerInfo),this.#e=(i,s)=>E(this,null,function*(){let a={method:i,params:s};this.emit("debug",{action:"sendEip1193Request",payload:a});try{let c=yield e.request(a);return this.emit("debug",{action:"receiveEip1193Result",result:c}),c}catch(c){let u=new Error(c.message);throw u.code=c.code,u.data=c.data,u.payload=a,this.emit("debug",{action:"receiveEip1193Error",error:u}),u}})}get providerInfo(){return this.#t}send(e,r){return E(this,null,function*(){return yield this._start(),yield Wa(t.prototype,this,"send").call(this,e,r)})}_send(e){return E(this,null,function*(){N(!Array.isArray(e),"EIP-1193 does not support batch request","payload",e);try{let r=yield this.#e(e.method,e.params||[]);return[{id:e.id,result:r}]}catch(r){return[{id:e.id,error:{code:r.code,data:r.data,message:r.message}}]}})}getRpcError(e,r){switch(r=JSON.parse(JSON.stringify(r)),r.error.code||-1){case 4001:r.error.message=`ethers-user-denied: ${r.error.message}`;break;case 4200:r.error.message=`ethers-unsupported: ${r.error.message}`;break}return super.getRpcError(e,r)}hasSigner(e){return E(this,null,function*(){e==null&&(e=0);let r=yield this.send("eth_accounts",[]);return typeof e=="number"?r.length>e:(e=e.toLowerCase(),r.filter(n=>n.toLowerCase()===e).length!==0)})}getSigner(e){return E(this,null,function*(){if(e==null&&(e=0),!(yield this.hasSigner(e)))try{yield this.#e("eth_requestAccounts",[])}catch(r){let n=r.payload;throw this.getRpcError(n,{id:n.id,error:r})}return yield Wa(t.prototype,this,"getSigner").call(this,e)})}static discover(e){return E(this,null,function*(){if(e==null&&(e={}),e.provider)return new t(e.provider);let r=e.window?e.window:typeof window<"u"?window:null;if(r==null)return null;let n=e.anyProvider;if(n&&r.ethereum)return new t(r.ethereum);if(!("addEventListener"in r&&"dispatchEvent"in r&&"removeEventListener"in r))return null;let o=e.timeout?e.timeout:300;return o===0?null:yield new Promise((i,s)=>{let a=[],c=f=>{a.push(f.detail),n&&u()},u=()=>{if(clearTimeout(l),a.length)if(e&&e.filter){let f=e.filter(a.map(d=>Object.assign({},d.info)));if(f==null)i(null);else if(f instanceof t)i(f);else{let d=null;if(f.uuid&&(d=a.filter(h=>f.uuid===h.info.uuid)[0]),d){let{provider:p,info:h}=d;i(new t(p,void 0,{providerInfo:h}))}else s(Ot("filter returned unknown info","UNSUPPORTED_OPERATION",{value:f}))}}else{let{provider:f,info:d}=a[0];i(new t(f,void 0,{providerInfo:d}))}else i(null);r.removeEventListener("eip6963:announceProvider",c)},l=setTimeout(()=>{u()},o);r.addEventListener("eip6963:announceProvider",c),r.dispatchEvent(new Event("eip6963:requestProvider"))})})}};var h8=class t{provider=null;walletState=Qb({address:null,isConnected:!1,chainId:null});constructor(){this.initializeListeners()}initializeListeners(){typeof window<"u"&&window.ethereum&&(window.ethereum.on("accountsChanged",e=>{this.handleAccountsChanged(e)}),window.ethereum.on("chainChanged",e=>{this.handleChainChanged(e)}))}connect(){return E(this,null,function*(){if(!window.ethereum)throw new Error("MetaMask is not installed. Please install MetaMask to use CryptoPass.");try{this.provider=new Ud(window.ethereum);let e=yield this.provider.send("eth_requestAccounts",[]);if(e.length===0)throw new Error("No accounts found. Please unlock MetaMask.");let r=yield this.provider.getNetwork(),n=Number(r.chainId);this.walletState.set({address:e[0],isConnected:!0,chainId:n})}catch(e){throw console.error("Error connecting to MetaMask:",e),e}})}disconnect(){return E(this,null,function*(){this.provider=null,this.walletState.set({address:null,isConnected:!1,chainId:null})})}signMessage(e){return E(this,null,function*(){if(!this.provider||!this.walletState().isConnected)throw new Error("Wallet not connected. Please connect your wallet first.");try{return{signature:yield(yield this.provider.getSigner()).signMessage(e),message:e}}catch(r){throw console.error("Error signing message:",r),r}})}signAuthenticationMessage(){return E(this,null,function*(){let e=`Sign this message to authenticate with CryptoPass and derive your encryption key.

NOTE: This signature is used to encrypt/decrypt your passwords. Always use the same wallet address to access your data.

Wallet: ${this.walletState().address}`;return(yield this.signMessage(e)).signature})}handleAccountsChanged(e){e.length===0?this.disconnect():this.walletState.update(r=>S(b({},r),{address:e[0]}))}handleChainChanged(e){let r=parseInt(e,16);this.walletState.update(n=>S(b({},n),{chainId:r}))}isMetaMaskInstalled(){return typeof window<"u"&&typeof window.ethereum<"u"}static \u0275fac=function(r){return new(r||t)};static \u0275prov=od({token:t,factory:t.\u0275fac,providedIn:"root"})};var y8=class t{masterKey=null;currentSignature=null;deriveMasterKey(e){return E(this,null,function*(){this.currentSignature=e;let r=new TextEncoder,n=r.encode(e),o=yield crypto.subtle.importKey("raw",n,{name:"PBKDF2"},!1,["deriveBits","deriveKey"]);return this.masterKey=yield crypto.subtle.deriveKey({name:"PBKDF2",salt:r.encode("CryptoPass-Salt-v1"),iterations:1e5,hash:"SHA-256"},o,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"]),e})}encrypt(e){return E(this,null,function*(){if(!this.masterKey)throw new Error("Master key not initialized. Please sign in first.");let n=new TextEncoder().encode(e),o=crypto.getRandomValues(new Uint8Array(12)),i=yield crypto.subtle.encrypt({name:"AES-GCM",iv:o},this.masterKey,n);return{encryptedData:this.bufferToBase64(i),iv:this.bufferToBase64(o.buffer)}})}decrypt(e,r){return E(this,null,function*(){if(!this.masterKey)throw new Error("Master key not initialized. Please sign in first.");let n=this.base64ToBuffer(e),o=this.base64ToBuffer(r),i=yield crypto.subtle.decrypt({name:"AES-GCM",iv:o},this.masterKey,n);return new TextDecoder().decode(i)})}encryptPassword(e){return E(this,null,function*(){let r=JSON.stringify(e),{encryptedData:n,iv:o}=yield this.encrypt(r);return{id:e.id,encryptedData:n,iv:o,createdAt:e.createdAt,updatedAt:e.updatedAt,type:e.type}})}decryptPassword(e){return E(this,null,function*(){try{let r=yield this.decrypt(e.encryptedData,e.iv),n=JSON.parse(r);return S(b({},n),{id:e.id,createdAt:e.createdAt,updatedAt:e.updatedAt})}catch(r){throw console.error("Failed to decrypt password:",r),new Error("Decryption failed. The password may have been encrypted with a different wallet signature.")}})}clearMasterKey(){this.masterKey=null}hasMasterKey(){return this.masterKey!==null}bufferToBase64(e){let r=new Uint8Array(e),n="";for(let o=0;o<r.length;o++)n+=String.fromCharCode(r[o]);return btoa(n)}base64ToBuffer(e){let r=atob(e),n=new Uint8Array(r.length);for(let o=0;o<r.length;o++)n[o]=r.charCodeAt(o);return n.buffer}encryptForCeramic(e){return E(this,null,function*(){let{encryptedData:r,iv:n}=yield this.encrypt(JSON.stringify(e));return{id:e.id,encryptedData:r,iv:n,type:e.type,serviceName:e.title,category:e.category,favorite:e.favorite,createdAt:e.createdAt,updatedAt:e.updatedAt}})}decryptFromCeramic(e){return E(this,null,function*(){if(!e.encryptedData||e.serviceName==="[DELETED]"||e.encryptedData==="DELETED_ENTRY")throw new Error("Entry has been deleted");let r=yield this.decrypt(e.encryptedData,e.iv),n=JSON.parse(r);return S(b({},n),{id:e.id,createdAt:e.createdAt,updatedAt:e.updatedAt})})}decryptBatchFromCeramic(e){return E(this,null,function*(){let r=[];for(let n of e)try{let o=yield this.decryptFromCeramic(n);r.push(o)}catch(o){console.warn(`Skipping entry ${n.id}: ${o}`)}return r})}static \u0275fac=function(r){return new(r||t)};static \u0275prov=od({token:t,factory:t.\u0275fac,providedIn:"root"})};var KBe=new Uint8Array(0);function g8(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}function Bd(t){if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")}function Yne(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var o=0;o<t.length;o++){var i=t.charAt(o),s=i.charCodeAt(0);if(r[s]!==255)throw new TypeError(i+" is ambiguous");r[s]=o}var a=t.length,c=t.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function f(h){if(h instanceof Uint8Array||(ArrayBuffer.isView(h)?h=new Uint8Array(h.buffer,h.byteOffset,h.byteLength):Array.isArray(h)&&(h=Uint8Array.from(h))),!(h instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(h.length===0)return"";for(var m=0,g=0,w=0,T=h.length;w!==T&&h[w]===0;)w++,m++;for(var v=(T-w)*l+1>>>0,x=new Uint8Array(v);w!==T;){for(var A=h[w],_=0,O=v-1;(A!==0||_<g)&&O!==-1;O--,_++)A+=256*x[O]>>>0,x[O]=A%a>>>0,A=A/a>>>0;if(A!==0)throw new Error("Non-zero carry");g=_,w++}for(var C=v-g;C!==v&&x[C]===0;)C++;for(var I=c.repeat(m);C<v;++C)I+=t.charAt(x[C]);return I}function d(h){if(typeof h!="string")throw new TypeError("Expected String");if(h.length===0)return new Uint8Array;var m=0;if(h[m]!==" "){for(var g=0,w=0;h[m]===c;)g++,m++;for(var T=(h.length-m)*u+1>>>0,v=new Uint8Array(T);h[m];){var x=r[h.charCodeAt(m)];if(x===255)return;for(var A=0,_=T-1;(x!==0||A<w)&&_!==-1;_--,A++)x+=a*v[_]>>>0,v[_]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");w=A,m++}if(h[m]!==" "){for(var O=T-w;O!==T&&v[O]===0;)O++;for(var C=new Uint8Array(g+(T-O)),I=g;O!==T;)C[I++]=v[O++];return C}}}function p(h){var m=d(h);if(m)return m;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:d,decode:p}}var Xne=Yne,Zne=Xne,b8=Zne;var n1=class{name;prefix;baseEncode;constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},o1=class{name;prefix;baseDecode;prefixCodePoint;constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return E8(this,e)}},i1=class{decoders;constructor(e){this.decoders=e}or(e){return E8(this,e)}decode(e){let r=e[0],n=this.decoders[r];if(n!=null)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};function E8(t,e){return new i1(b(b({},t.decoders??{[t.prefix]:t}),e.decoders??{[e.prefix]:e}))}var s1=class{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(e,r,n,o){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=o,this.encoder=new n1(e,r,n),this.decoder=new o1(e,r,o)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};function v8({name:t,prefix:e,encode:r,decode:n}){return new s1(t,e,r,n)}function Md({name:t,prefix:e,alphabet:r}){let{encode:n,decode:o}=b8(r,t);return v8({prefix:e,name:t,encode:n,decode:i=>Bd(o(i))})}function eoe(t,e,r,n){let o={};for(let l=0;l<e.length;++l)o[e[l]]=l;let i=t.length;for(;t[i-1]==="=";)--i;let s=new Uint8Array(i*r/8|0),a=0,c=0,u=0;for(let l=0;l<i;++l){let f=o[t[l]];if(f===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|f,a+=r,a>=8&&(a-=8,s[u++]=255&c>>a)}if(a>=r||(255&c<<8-a)!==0)throw new SyntaxError("Unexpected end of data");return s}function toe(t,e,r){let n=e[e.length-1]==="=",o=(1<<r)-1,i="",s=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],s+=8;s>r;)s-=r,i+=e[o&a>>s];if(s!==0&&(i+=e[o&a<<r-s]),n)for(;(i.length*r&7)!==0;)i+="=";return i}function Zs({name:t,prefix:e,bitsPerChar:r,alphabet:n}){return v8({prefix:e,name:t,encode(o){return toe(o,n,r)},decode(o){return eoe(o,n,r,t)}})}var by=Zs({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),rMe=Zs({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),nMe=Zs({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),oMe=Zs({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),iMe=Zs({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),sMe=Zs({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),aMe=Zs({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),cMe=Zs({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),uMe=Zs({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var oc=Md({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),dMe=Md({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var roe=A8,T8=128,noe=127,ooe=~noe,ioe=Math.pow(2,31);function A8(t,e,r){e=e||[],r=r||0;for(var n=r;t>=ioe;)e[r++]=t&255|T8,t/=128;for(;t&ooe;)e[r++]=t&255|T8,t>>>=7;return e[r]=t|0,A8.bytes=r-n+1,e}var soe=a1,aoe=128,x8=127;function a1(t,n){var r=0,n=n||0,o=0,i=n,s,a=t.length;do{if(i>=a)throw a1.bytes=0,new RangeError("Could not decode varint");s=t[i++],r+=o<28?(s&x8)<<o:(s&x8)*Math.pow(2,o),o+=7}while(s>=aoe);return a1.bytes=i-n,r}var coe=Math.pow(2,7),uoe=Math.pow(2,14),loe=Math.pow(2,21),foe=Math.pow(2,28),doe=Math.pow(2,35),poe=Math.pow(2,42),hoe=Math.pow(2,49),moe=Math.pow(2,56),yoe=Math.pow(2,63),goe=function(t){return t<coe?1:t<uoe?2:t<loe?3:t<foe?4:t<doe?5:t<poe?6:t<hoe?7:t<moe?8:t<yoe?9:10},woe={encode:roe,decode:soe,encodingLength:goe},boe=woe,Ey=boe;function vy(t,e=0){return[Ey.decode(t,e),Ey.decode.bytes]}function $d(t,e,r=0){return Ey.encode(t,e,r),e}function Vd(t){return Ey.encodingLength(t)}function Gd(t,e){let r=e.byteLength,n=Vd(t),o=n+Vd(r),i=new Uint8Array(o+r);return $d(t,i,0),$d(r,i,n),i.set(e,o),new jd(t,r,e,i)}function rv(t){let e=Bd(t),[r,n]=vy(e),[o,i]=vy(e.subarray(n)),s=e.subarray(n+i);if(s.byteLength!==o)throw new Error("Incorrect length");return new jd(r,o,s,e)}function I8(t,e){if(t===e)return!0;{let r=e;return t.code===r.code&&t.size===r.size&&r.bytes instanceof Uint8Array&&g8(t.bytes,r.bytes)}}var jd=class{code;size;digest;bytes;constructor(e,r,n,o){this.code=e,this.size=r,this.digest=n,this.bytes=o}};function S8(t,e){let{bytes:r,version:n}=t;switch(n){case 0:return voe(r,l1(t),e??oc.encoder);default:return Toe(r,l1(t),e??by.encoder)}}var N8=new WeakMap;function l1(t){let e=N8.get(t);if(e==null){let r=new Map;return N8.set(t,r),r}return e}var qr=class t{code;version;multihash;bytes;"/";constructor(e,r,n,o){this.code=r,this.version=e,this.multihash=n,this.bytes=o,this["/"]=o}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:e,multihash:r}=this;if(e!==Ty)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==xoe)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return t.createV0(r)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:e,digest:r}=this.multihash,n=Gd(e,r);return t.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return t.equals(this,e)}static equals(e,r){let n=r;return n!=null&&e.code===n.code&&e.version===n.version&&I8(e.multihash,n.multihash)}toString(e){return S8(this,e)}toJSON(){return{"/":S8(this)}}link(){return this}[Symbol.toStringTag]="CID";[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(e==null)return null;let r=e;if(r instanceof t)return r;if(r["/"]!=null&&r["/"]===r.bytes||r.asCID===r){let{version:n,code:o,multihash:i,bytes:s}=r;return new t(n,o,i,s??_8(n,o,i.bytes))}else if(r[Aoe]===!0){let{version:n,multihash:o,code:i}=r,s=rv(o);return t.create(n,i,s)}else return null}static create(e,r,n){if(typeof r!="number")throw new Error("String codecs are no longer supported");if(!(n.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:{if(r!==Ty)throw new Error(`Version 0 CID must use dag-pb (code: ${Ty}) block encoding`);return new t(e,r,n,n.bytes)}case 1:{let o=_8(e,r,n.bytes);return new t(e,r,n,o)}default:throw new Error("Invalid version")}}static createV0(e){return t.create(0,Ty,e)}static createV1(e,r){return t.create(1,e,r)}static decode(e){let[r,n]=t.decodeFirst(e);if(n.length!==0)throw new Error("Incorrect length");return r}static decodeFirst(e){let r=t.inspectBytes(e),n=r.size-r.multihashSize,o=Bd(e.subarray(n,n+r.multihashSize));if(o.byteLength!==r.multihashSize)throw new Error("Incorrect length");let i=o.subarray(r.multihashSize-r.digestSize),s=new jd(r.multihashCode,r.digestSize,i,o);return[r.version===0?t.createV0(s):t.createV1(r.codec,s),e.subarray(r.size)]}static inspectBytes(e){let r=0,n=()=>{let[f,d]=vy(e.subarray(r));return r+=d,f},o=n(),i=Ty;if(o===18?(o=0,r=0):i=n(),o!==0&&o!==1)throw new RangeError(`Invalid CID version ${o}`);let s=r,a=n(),c=n(),u=r+c,l=u-s;return{version:o,codec:i,multihashCode:a,digestSize:c,multihashSize:l,size:u}}static parse(e,r){let[n,o]=Eoe(e,r),i=t.decode(o);if(i.version===0&&e[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return l1(i).set(n,e),i}};function Eoe(t,e){switch(t[0]){case"Q":{let r=e??oc;return[oc.prefix,r.decode(`${oc.prefix}${t}`)]}case oc.prefix:{let r=e??oc;return[oc.prefix,r.decode(t)]}case by.prefix:{let r=e??by;return[by.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}}function voe(t,e,r){let{prefix:n}=r;if(n!==oc.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let o=e.get(n);if(o==null){let i=r.encode(t).slice(1);return e.set(n,i),i}else return o}function Toe(t,e,r){let{prefix:n}=r,o=e.get(n);if(o==null){let i=r.encode(t);return e.set(n,i),i}else return o}var Ty=112,xoe=18;function _8(t,e,r){let n=Vd(t),o=n+Vd(e),i=new Uint8Array(o+r.byteLength);return $d(t,i,0),$d(e,i,n),i.set(r,o),i}var Aoe=Symbol.for("@ipld/js-cid/CID");var ea=Md({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),xMe=Md({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var D8={tile:0,"caip10-link":1,model:2,MID:3,UNLOADABLE:4};function Ioe(t){let e=D8[t];if(typeof e<"u")return e;throw new Error(`No stream type registered for name ${t}`)}function Soe(t){let e=Object.entries(D8).find(([,r])=>r===t);if(e)return e[0];throw new Error(`No stream type registered for index ${t}`)}var ic=(()=>{class t{}return t.nameByCode=Soe,t.codeByName=Ioe,t})();var x_=Rr(xy(),1);function Ay(t=0){return new Uint8Array(t)}function As(t,e){e==null&&(e=t.reduce((o,i)=>o+i.length,0));let r=Ay(e),n=0;for(let o of t)r.set(o,n),n+=o.length;return r}var w1={};vt(w1,{base10:()=>Joe});var $Me=new Uint8Array(0);function M8(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}function sc(t){if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")}function $8(t){return new TextEncoder().encode(t)}function V8(t){return new TextDecoder().decode(t)}function Voe(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var o=0;o<t.length;o++){var i=t.charAt(o),s=i.charCodeAt(0);if(r[s]!==255)throw new TypeError(i+" is ambiguous");r[s]=o}var a=t.length,c=t.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function f(h){if(h instanceof Uint8Array||(ArrayBuffer.isView(h)?h=new Uint8Array(h.buffer,h.byteOffset,h.byteLength):Array.isArray(h)&&(h=Uint8Array.from(h))),!(h instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(h.length===0)return"";for(var m=0,g=0,w=0,T=h.length;w!==T&&h[w]===0;)w++,m++;for(var v=(T-w)*l+1>>>0,x=new Uint8Array(v);w!==T;){for(var A=h[w],_=0,O=v-1;(A!==0||_<g)&&O!==-1;O--,_++)A+=256*x[O]>>>0,x[O]=A%a>>>0,A=A/a>>>0;if(A!==0)throw new Error("Non-zero carry");g=_,w++}for(var C=v-g;C!==v&&x[C]===0;)C++;for(var I=c.repeat(m);C<v;++C)I+=t.charAt(x[C]);return I}function d(h){if(typeof h!="string")throw new TypeError("Expected String");if(h.length===0)return new Uint8Array;var m=0;if(h[m]!==" "){for(var g=0,w=0;h[m]===c;)g++,m++;for(var T=(h.length-m)*u+1>>>0,v=new Uint8Array(T);h[m];){var x=r[h.charCodeAt(m)];if(x===255)return;for(var A=0,_=T-1;(x!==0||A<w)&&_!==-1;_--,A++)x+=a*v[_]>>>0,v[_]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");w=A,m++}if(h[m]!==" "){for(var O=T-w;O!==T&&v[O]===0;)O++;for(var C=new Uint8Array(g+(T-O)),I=g;O!==T;)C[I++]=v[O++];return C}}}function p(h){var m=d(h);if(m)return m;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:d,decode:p}}var joe=Voe,Goe=joe,j8=Goe;var h1=class{name;prefix;baseEncode;constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},m1=class{name;prefix;baseDecode;prefixCodePoint;constructor(e,r,n){this.name=e,this.prefix=r;let o=r.codePointAt(0);if(o===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=o,this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return G8(this,e)}},y1=class{decoders;constructor(e){this.decoders=e}or(e){return G8(this,e)}decode(e){let r=e[0],n=this.decoders[r];if(n!=null)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};function G8(t,e){return new y1(b(b({},t.decoders??{[t.prefix]:t}),e.decoders??{[e.prefix]:e}))}var g1=class{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(e,r,n,o){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=o,this.encoder=new h1(e,r,n),this.decoder=new m1(e,r,o)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};function zd({name:t,prefix:e,encode:r,decode:n}){return new g1(t,e,r,n)}function cu({name:t,prefix:e,alphabet:r}){let{encode:n,decode:o}=j8(r,t);return zd({prefix:e,name:t,encode:n,decode:i=>sc(o(i))})}function zoe(t,e,r,n){let o=t.length;for(;t[o-1]==="=";)--o;let i=new Uint8Array(o*r/8|0),s=0,a=0,c=0;for(let u=0;u<o;++u){let l=e[t[u]];if(l===void 0)throw new SyntaxError(`Non-${n} character`);a=a<<r|l,s+=r,s>=8&&(s-=8,i[c++]=255&a>>s)}if(s>=r||(255&a<<8-s)!==0)throw new SyntaxError("Unexpected end of data");return i}function qoe(t,e,r){let n=e[e.length-1]==="=",o=(1<<r)-1,i="",s=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],s+=8;s>r;)s-=r,i+=e[o&a>>s];if(s!==0&&(i+=e[o&a<<r-s]),n)for(;(i.length*r&7)!==0;)i+="=";return i}function Qoe(t){let e={};for(let r=0;r<t.length;++r)e[t[r]]=r;return e}function Lr({name:t,prefix:e,bitsPerChar:r,alphabet:n}){let o=Qoe(n);return zd({prefix:e,name:t,encode(i){return qoe(i,n,r)},decode(i){return zoe(i,o,r,t)}})}var Joe=cu({prefix:"9",name:"base10",alphabet:"0123456789"});var b1={};vt(b1,{base16:()=>Hoe,base16upper:()=>Koe});var Hoe=Lr({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Koe=Lr({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var E1={};vt(E1,{base2:()=>Woe});var Woe=Lr({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var v1={};vt(v1,{base256emoji:()=>tie});var z8=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),Yoe=z8.reduce((t,e,r)=>(t[r]=e,t),[]),Xoe=z8.reduce((t,e,r)=>{let n=e.codePointAt(0);if(n==null)throw new Error(`Invalid character: ${e}`);return t[n]=r,t},[]);function Zoe(t){return t.reduce((e,r)=>(e+=Yoe[r],e),"")}function eie(t){let e=[];for(let r of t){let n=r.codePointAt(0);if(n==null)throw new Error(`Invalid character: ${r}`);let o=Xoe[n];if(o==null)throw new Error(`Non-base256emoji character: ${r}`);e.push(o)}return new Uint8Array(e)}var tie=zd({prefix:"\u{1F680}",name:"base256emoji",encode:Zoe,decode:eie});var T1={};vt(T1,{base32:()=>qd,base32hex:()=>iie,base32hexpad:()=>aie,base32hexpadupper:()=>cie,base32hexupper:()=>sie,base32pad:()=>nie,base32padupper:()=>oie,base32upper:()=>rie,base32z:()=>uie});var qd=Lr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),rie=Lr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),nie=Lr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),oie=Lr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),iie=Lr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),sie=Lr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),aie=Lr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),cie=Lr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),uie=Lr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var x1={};vt(x1,{base36:()=>Iy,base36upper:()=>lie});var Iy=cu({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),lie=cu({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var A1={};vt(A1,{base58btc:()=>ki,base58flickr:()=>fie});var ki=cu({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),fie=cu({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var I1={};vt(I1,{base64:()=>die,base64pad:()=>pie,base64url:()=>q8,base64urlpad:()=>hie});var die=Lr({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),pie=Lr({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),q8=Lr({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),hie=Lr({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var S1={};vt(S1,{base8:()=>mie});var mie=Lr({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var N1={};vt(N1,{identity:()=>yie});var yie=zd({prefix:"\0",name:"identity",encode:t=>V8(t),decode:t=>$8(t)});var n8e=new TextEncoder,o8e=new TextDecoder;var D1={};vt(D1,{identity:()=>Kd});var bie=H8,Q8=128,Eie=127,vie=~Eie,Tie=Math.pow(2,31);function H8(t,e,r){e=e||[],r=r||0;for(var n=r;t>=Tie;)e[r++]=t&255|Q8,t/=128;for(;t&vie;)e[r++]=t&255|Q8,t>>>=7;return e[r]=t|0,H8.bytes=r-n+1,e}var xie=_1,Aie=128,J8=127;function _1(t,n){var r=0,n=n||0,o=0,i=n,s,a=t.length;do{if(i>=a)throw _1.bytes=0,new RangeError("Could not decode varint");s=t[i++],r+=o<28?(s&J8)<<o:(s&J8)*Math.pow(2,o),o+=7}while(s>=Aie);return _1.bytes=i-n,r}var Iie=Math.pow(2,7),Sie=Math.pow(2,14),Nie=Math.pow(2,21),_ie=Math.pow(2,28),Die=Math.pow(2,35),Oie=Math.pow(2,42),Cie=Math.pow(2,49),Rie=Math.pow(2,56),kie=Math.pow(2,63),Pie=function(t){return t<Iie?1:t<Sie?2:t<Nie?3:t<_ie?4:t<Die?5:t<Oie?6:t<Cie?7:t<Rie?8:t<kie?9:10},Lie={encode:bie,decode:xie,encodingLength:Pie},Fie=Lie,Sy=Fie;function Ny(t,e=0){return[Sy.decode(t,e),Sy.decode.bytes]}function Qd(t,e,r=0){return Sy.encode(t,e,r),e}function Jd(t){return Sy.encodingLength(t)}function uu(t,e){let r=e.byteLength,n=Jd(t),o=n+Jd(r),i=new Uint8Array(o+r);return Qd(t,i,0),Qd(r,i,n),i.set(e,o),new Hd(t,r,e,i)}function K8(t){let e=sc(t),[r,n]=Ny(e),[o,i]=Ny(e.subarray(n)),s=e.subarray(n+i);if(s.byteLength!==o)throw new Error("Incorrect length");return new Hd(r,o,s,e)}function W8(t,e){if(t===e)return!0;{let r=e;return t.code===r.code&&t.size===r.size&&r.bytes instanceof Uint8Array&&M8(t.bytes,r.bytes)}}var Hd=class{code;size;digest;bytes;constructor(e,r,n,o){this.code=e,this.size=r,this.digest=n,this.bytes=o}};var Y8=0,Uie="identity",X8=sc;function Bie(t,e){if(e?.truncate!=null&&e.truncate!==t.byteLength){if(e.truncate<0||e.truncate>t.byteLength)throw new Error(`Invalid truncate option, must be less than or equal to ${t.byteLength}`);t=t.subarray(0,e.truncate)}return uu(Y8,X8(t))}var Kd={code:Y8,name:Uie,encode:X8,digest:Bie};var R1={};vt(R1,{sha256:()=>Wd,sha512:()=>$ie});var Mie=20;function C1({name:t,code:e,encode:r,minDigestLength:n,maxDigestLength:o}){return new O1(t,e,r,n,o)}var O1=class{name;code;encode;minDigestLength;maxDigestLength;constructor(e,r,n,o,i){this.name=e,this.code=r,this.encode=n,this.minDigestLength=o??Mie,this.maxDigestLength=i}digest(e,r){if(r?.truncate!=null){if(r.truncate<this.minDigestLength)throw new Error(`Invalid truncate option, must be greater than or equal to ${this.minDigestLength}`);if(this.maxDigestLength!=null&&r.truncate>this.maxDigestLength)throw new Error(`Invalid truncate option, must be less than or equal to ${this.maxDigestLength}`)}if(e instanceof Uint8Array){let n=this.encode(e);return n instanceof Uint8Array?Z8(n,this.code,r?.truncate):n.then(o=>Z8(o,this.code,r?.truncate))}else throw Error("Unknown type, must be binary type")}};function Z8(t,e,r){if(r!=null&&r!==t.byteLength){if(r>t.byteLength)throw new Error(`Invalid truncate option, must be less than or equal to ${t.byteLength}`);t=t.subarray(0,r)}return uu(e,t)}function t$(t){return e=>E(null,null,function*(){return new Uint8Array(yield crypto.subtle.digest(t,e))})}var Wd=C1({name:"sha2-256",code:18,encode:t$("SHA-256")}),$ie=C1({name:"sha2-512",code:19,encode:t$("SHA-512")});function r$(t,e){let{bytes:r,version:n}=t;switch(n){case 0:return jie(r,k1(t),e??ki.encoder);default:return Gie(r,k1(t),e??qd.encoder)}}var n$=new WeakMap;function k1(t){let e=n$.get(t);if(e==null){let r=new Map;return n$.set(t,r),r}return e}var Ct=class t{code;version;multihash;bytes;"/";constructor(e,r,n,o){this.code=r,this.version=e,this.multihash=n,this.bytes=o,this["/"]=o}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:e,multihash:r}=this;if(e!==Dy)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==zie)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return t.createV0(r)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:e,digest:r}=this.multihash,n=uu(e,r);return t.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return t.equals(this,e)}static equals(e,r){let n=r;return n!=null&&e.code===n.code&&e.version===n.version&&W8(e.multihash,n.multihash)}toString(e){return r$(this,e)}toJSON(){return{"/":r$(this)}}link(){return this}[Symbol.toStringTag]="CID";[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(e==null)return null;let r=e;if(r instanceof t)return r;if(r["/"]!=null&&r["/"]===r.bytes||r.asCID===r){let{version:n,code:o,multihash:i,bytes:s}=r;return new t(n,o,i,s??o$(n,o,i.bytes))}else if(r[qie]===!0){let{version:n,multihash:o,code:i}=r,s=K8(o);return t.create(n,i,s)}else return null}static create(e,r,n){if(typeof r!="number")throw new Error("String codecs are no longer supported");if(!(n.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:{if(r!==Dy)throw new Error(`Version 0 CID must use dag-pb (code: ${Dy}) block encoding`);return new t(e,r,n,n.bytes)}case 1:{let o=o$(e,r,n.bytes);return new t(e,r,n,o)}default:throw new Error("Invalid version")}}static createV0(e){return t.create(0,Dy,e)}static createV1(e,r){return t.create(1,e,r)}static decode(e){let[r,n]=t.decodeFirst(e);if(n.length!==0)throw new Error("Incorrect length");return r}static decodeFirst(e){let r=t.inspectBytes(e),n=r.size-r.multihashSize,o=sc(e.subarray(n,n+r.multihashSize));if(o.byteLength!==r.multihashSize)throw new Error("Incorrect length");let i=o.subarray(r.multihashSize-r.digestSize),s=new Hd(r.multihashCode,r.digestSize,i,o);return[r.version===0?t.createV0(s):t.createV1(r.codec,s),e.subarray(r.size)]}static inspectBytes(e){let r=0,n=()=>{let[f,d]=Ny(e.subarray(r));return r+=d,f},o=n(),i=Dy;if(o===18?(o=0,r=0):i=n(),o!==0&&o!==1)throw new RangeError(`Invalid CID version ${o}`);let s=r,a=n(),c=n(),u=r+c,l=u-s;return{version:o,codec:i,multihashCode:a,digestSize:c,multihashSize:l,size:u}}static parse(e,r){let[n,o]=Vie(e,r),i=t.decode(o);if(i.version===0&&e[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return k1(i).set(n,e),i}};function Vie(t,e){switch(t[0]){case"Q":{let r=e??ki;return[ki.prefix,r.decode(`${ki.prefix}${t}`)]}case ki.prefix:{let r=e??ki;return[ki.prefix,r.decode(t)]}case qd.prefix:{let r=e??qd;return[qd.prefix,r.decode(t)]}case Iy.prefix:{let r=e??Iy;return[Iy.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32, base36 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}}function jie(t,e,r){let{prefix:n}=r;if(n!==ki.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let o=e.get(n);if(o==null){let i=r.encode(t).slice(1);return e.set(n,i),i}else return o}function Gie(t,e,r){let{prefix:n}=r,o=e.get(n);if(o==null){let i=r.encode(t);return e.set(n,i),i}else return o}var Dy=112,zie=18;function o$(t,e,r){let n=Jd(t),o=n+Jd(e),i=new Uint8Array(o+r.byteLength);return Qd(t,i,0),Qd(e,i,n),i.set(r,o),i}var qie=Symbol.for("@ipld/js-cid/CID");var P1=b(b(b(b(b(b(b(b(b(b({},N1),E1),S1),w1),b1),T1),x1),A1),I1),v1),N8e=b(b({},R1),D1);function s$(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}var i$=s$("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),L1=s$("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);let e=Ay(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),Qie=b({utf8:i$,"utf-8":i$,hex:P1.base16,latin1:L1,ascii:L1,binary:L1},P1),ov=Qie;function So(t,e="utf8"){let r=ov[e];if(r==null)throw new Error(`Unsupported encoding "${e}"`);return r.decoder.decode(`${r.prefix}${t}`)}function gt(t,e="utf8"){let r=ov[e];if(r==null)throw new Error(`Unsupported encoding "${e}"`);return r.encoder.encode(t).substring(1)}var Wo=(function(t){return t.WEAKMAP="weakmap",t.REPLACE="replace",t})(Wo||{});function a$(t){return!!t.get}function c$(t,e,r){let n=t.get;switch(r){case Wo.WEAKMAP:{let o=new WeakMap;t.get=function(){let i=o.get(this);return i||(i=n.apply(this),o.set(this,i)),i};break}case Wo.REPLACE:{t.get=function(){let o=n.apply(this);return Object.defineProperty(this,e,{configurable:!1,enumerable:!1,value:o}),o};break}default:throw new Error(`Unsupported strategy: ${r}`)}}function u$(t){return!!t.value}function l$(t,e,r,n,o){let i=t.value;switch(i.length){case 0:{switch(r){case Wo.REPLACE:{t.value=function(){let s=i.apply(this);Object.defineProperty(this,e,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:function(){return s}})};return}case Wo.WEAKMAP:{let s=new WeakMap;t.value=function(){if(s.has(this))return s.get(this);let a=i.apply(this);return s.set(this,a),a};break}}break}case 1:{switch(r){case Wo.WEAKMAP:{let s=new WeakMap;t.value=function(a){let c=s.get(this);if(c||(c=o(),s.set(this,c)),c.has(a))return c.get(a);let u=i.call(this,a);return c.set(a,u),u};break}case Wo.REPLACE:{t.value=function(s){let a=o();function c(u){if(a.has(u))return a.get(u);{let l=i.call(this,u);return a.set(u,l),l}}return Object.defineProperty(this,e,{configurable:t.configurable,enumerable:t.enumerable,writable:t.writable,value:c}),c.call(this,s)};break}}break}default:switch(r){case Wo.REPLACE:{t.value=function(...s){let a=o();function c(...u){let l=n.apply(this,u);if(a.has(l))return a.get(l);{let f=i.apply(this,u);return a.set(l,f),f}}return Object.defineProperty(this,e,{configurable:t.configurable,enumerable:t.enumerable,writable:t.writable,value:c}),c.apply(this,s)};break}case Wo.WEAKMAP:{let s=new WeakMap;t.value=function(...c){let u=s.get(this),l=n.apply(this,c);if(u?.has(l))return u.get(l);u||(u=o(),s.set(this,u));let f=i.apply(this,c);return u.set(l,f),f}}}}}function Jie(...t){let e="";for(let r=0,n=t.length;r<n;r++)e+=`${t[r]}$!$`;return e}function Hie(t){let e=t?.hashFunction||Jie,r=t?.strategy||Wo.WEAKMAP,n=t?.argsCacheBuilder||(()=>new Map);return(o,i,s)=>{if(u$(s)){l$(s,i,r,e,n);return}if(a$(s)){c$(s,i,r);return}throw new Error("Decorate only a method or get accessor")}}var Yo=Hie;function B1({name:t,code:e,encode:r}){return new U1(t,e,r)}var U1=class{name;code;encode;constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){let r=this.encode(e);return r instanceof Uint8Array?Gd(this.code,r):r.then(n=>Gd(this.code,n))}else throw Error("Unknown type, must be binary type")}};function iv({enumerable:t=!0,configurable:e=!1}={}){return{enumerable:t,configurable:e,writable:!1}}function*Wie(t,e){if(e!=null&&typeof e=="object")if(Array.isArray(e))for(let[r,n]of e.entries()){let o=[...t,r],i=qr.asCID(n);i!=null?yield[o.join("/"),i]:typeof n=="object"&&(yield*qn(M1(n,o)))}else{let r=qr.asCID(e);r!=null?yield[t.join("/"),r]:yield*qn(M1(e,t))}}function*M1(t,e){if(t==null||t instanceof Uint8Array)return;let r=qr.asCID(t);r!=null&&(yield[e.join("/"),r]);for(let[n,o]of Object.entries(t)){let i=[...e,n];yield*qn(Wie(i,o))}}function*Yie(t,e){if(Array.isArray(e))for(let[r,n]of e.entries()){let o=[...t,r];yield o.join("/"),typeof n=="object"&&qr.asCID(n)==null&&(yield*qn($1(n,o)))}else yield*qn($1(e,t))}function*$1(t,e){if(!(t==null||typeof t!="object"))for(let[r,n]of Object.entries(t)){let o=[...e,r];yield o.join("/"),n!=null&&!(n instanceof Uint8Array)&&typeof n=="object"&&qr.asCID(n)==null&&(yield*qn(Yie(o,n)))}}function Xie(t,e){let r=t;for(let[n,o]of e.entries()){if(r=r[o],r==null)throw new Error(`Object has no property at ${e.slice(0,n+1).map(s=>`[${JSON.stringify(s)}]`).join("")}`);let i=qr.asCID(r);if(i!=null)return{value:i,remaining:e.slice(n+1).join("/")}}return{value:r}}var V1=class{cid;bytes;value;asBlock;constructor({cid:e,bytes:r,value:n}){if(e==null||r==null||typeof n>"u")throw new Error("Missing required argument");this.cid=e,this.bytes=r,this.value=n,this.asBlock=this,Object.defineProperties(this,{cid:iv(),bytes:iv(),value:iv(),asBlock:iv()})}links(){return M1(this.value,[])}tree(){return $1(this.value,[])}get(e="/"){return Xie(this.value,e.split("/").filter(Boolean))}};function f$(n){return E(this,arguments,function*({value:t,codec:e,hasher:r}){if(typeof t>"u")throw new Error('Missing required argument "value"');if(e==null||r==null)throw new Error("Missing required argument: codec or hasher");let o=e.encode(t),i=yield r.digest(o),s=qr.create(1,e.code,i);return new V1({value:t,bytes:o,cid:s})})}function d$(t){return e=>E(null,null,function*(){return new Uint8Array(yield crypto.subtle.digest(t,e))})}var p$=B1({name:"sha2-256",code:18,encode:d$("SHA-256")}),h$e=B1({name:"sha2-512",code:19,encode:d$("SHA-512")});var u_=Rr(xy(),1);var o_={};vt(o_,{code:()=>pae,decode:()=>mae,encode:()=>hae,name:()=>dae});var ese=["string","number","bigint","symbol"],tse=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function h$(t){if(t===null)return"null";if(t===void 0)return"undefined";if(t===!0||t===!1)return"boolean";let e=typeof t;if(ese.includes(e))return e;if(e==="function")return"Function";if(Array.isArray(t))return"Array";if(rse(t))return"Buffer";let r=nse(t);return r||"Object"}function rse(t){return t&&t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer.call(null,t)}function nse(t){let e=Object.prototype.toString.call(t).slice(8,-1);if(tse.includes(e))return e}var G=class{constructor(e,r,n){this.major=e,this.majorEncoded=e<<5,this.name=r,this.terminal=n}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}};G.uint=new G(0,"uint",!0);G.negint=new G(1,"negint",!0);G.bytes=new G(2,"bytes",!0);G.string=new G(3,"string",!0);G.array=new G(4,"array",!1);G.map=new G(5,"map",!1);G.tag=new G(6,"tag",!1);G.float=new G(7,"float",!0);G.false=new G(7,"false",!0);G.true=new G(7,"true",!0);G.null=new G(7,"null",!0);G.undefined=new G(7,"undefined",!0);G.break=new G(7,"break",!0);var we=class{constructor(e,r,n){this.type=e,this.value=r,this.encodedLength=n,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}};var Yd=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&typeof globalThis.Buffer.isBuffer=="function",ose=new TextDecoder,ise=new TextEncoder;function sv(t){return Yd&&globalThis.Buffer.isBuffer(t)}function j1(t){return t instanceof Uint8Array?sv(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t:Uint8Array.from(t)}var w$=Yd?(t,e,r)=>r-e>64?globalThis.Buffer.from(t.subarray(e,r)).toString("utf8"):y$(t,e,r):(t,e,r)=>r-e>64?ose.decode(t.subarray(e,r)):y$(t,e,r),b$=Yd?t=>t.length>64?globalThis.Buffer.from(t):m$(t):t=>t.length>64?ise.encode(t):m$(t),ta=t=>Uint8Array.from(t),Xd=Yd?(t,e,r)=>sv(t)?new Uint8Array(t.subarray(e,r)):t.slice(e,r):(t,e,r)=>t.slice(e,r),E$=Yd?(t,e)=>(t=t.map(r=>r instanceof Uint8Array?r:globalThis.Buffer.from(r)),j1(globalThis.Buffer.concat(t,e))):(t,e)=>{let r=new Uint8Array(e),n=0;for(let o of t)n+o.length>r.length&&(o=o.subarray(0,r.length-n)),r.set(o,n),n+=o.length;return r},v$=Yd?t=>globalThis.Buffer.allocUnsafe(t):t=>new Uint8Array(t);function T$(t,e){if(sv(t)&&sv(e))return t.compare(e);for(let r=0;r<t.length;r++)if(t[r]!==e[r])return t[r]<e[r]?-1:1;return 0}function m$(t,e=1/0){let r,n=t.length,o=null,i=[];for(let s=0;s<n;++s){if(r=t.charCodeAt(s),r>55295&&r<57344){if(!o){if(r>56319){(e-=3)>-1&&i.push(239,191,189);continue}else if(s+1===n){(e-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(e-=3)>-1&&i.push(239,191,189),o=r;continue}r=(o-55296<<10|r-56320)+65536}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((e-=1)<0)break;i.push(r)}else if(r<2048){if((e-=2)<0)break;i.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;i.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return i}function y$(t,e,r){let n=[];for(;e<r;){let o=t[e],i=null,s=o>239?4:o>223?3:o>191?2:1;if(e+s<=r){let a,c,u,l;switch(s){case 1:o<128&&(i=o);break;case 2:a=t[e+1],(a&192)===128&&(l=(o&31)<<6|a&63,l>127&&(i=l));break;case 3:a=t[e+1],c=t[e+2],(a&192)===128&&(c&192)===128&&(l=(o&15)<<12|(a&63)<<6|c&63,l>2047&&(l<55296||l>57343)&&(i=l));break;case 4:a=t[e+1],c=t[e+2],u=t[e+3],(a&192)===128&&(c&192)===128&&(u&192)===128&&(l=(o&15)<<18|(a&63)<<12|(c&63)<<6|u&63,l>65535&&l<1114112&&(i=l))}}i===null?(i=65533,s=1):i>65535&&(i-=65536,n.push(i>>>10&1023|55296),i=56320|i&1023),n.push(i),e+=s}return sse(n)}var g$=4096;function sse(t){let e=t.length;if(e<=g$)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=g$));return r}var ase=256,Oy=class{constructor(e=ase){this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),this._initReuseChunk!==null&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let r=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){let o=r.length-(this.maxCursor-this.cursor)-1;r.set(e,o)}else{if(r){let o=r.length-(this.maxCursor-this.cursor)-1;o<r.length&&(this.chunks[this.chunks.length-1]=r.subarray(0,o),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(r=v$(this.chunkSize),this.chunks.push(r),this.maxCursor+=r.length,this._initReuseChunk===null&&(this._initReuseChunk=r),r.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(e=!1){let r;if(this.chunks.length===1){let n=this.chunks[0];e&&this.cursor>n.length/2?(r=this.cursor===n.length?n:n.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):r=Xd(n,0,this.cursor)}else r=E$(this.chunks,this.cursor);return e&&this.reset(),r}};var Xe="CBOR decode error:",G1="CBOR encode error:",Cy=[];Cy[23]=1;Cy[24]=2;Cy[25]=3;Cy[26]=5;Cy[27]=9;function ac(t,e,r){if(t.length-e<r)throw new Error(`${Xe} not enough data for type`)}var hn=[24,256,65536,4294967296,BigInt("18446744073709551616")];function Xo(t,e,r){ac(t,e,1);let n=t[e];if(r.strict===!0&&n<hn[0])throw new Error(`${Xe} integer encoded in more bytes than necessary (strict decode)`);return n}function Zo(t,e,r){ac(t,e,2);let n=t[e]<<8|t[e+1];if(r.strict===!0&&n<hn[1])throw new Error(`${Xe} integer encoded in more bytes than necessary (strict decode)`);return n}function ei(t,e,r){ac(t,e,4);let n=t[e]*16777216+(t[e+1]<<16)+(t[e+2]<<8)+t[e+3];if(r.strict===!0&&n<hn[2])throw new Error(`${Xe} integer encoded in more bytes than necessary (strict decode)`);return n}function ti(t,e,r){ac(t,e,8);let n=t[e]*16777216+(t[e+1]<<16)+(t[e+2]<<8)+t[e+3],o=t[e+4]*16777216+(t[e+5]<<16)+(t[e+6]<<8)+t[e+7],i=(BigInt(n)<<BigInt(32))+BigInt(o);if(r.strict===!0&&i<hn[3])throw new Error(`${Xe} integer encoded in more bytes than necessary (strict decode)`);if(i<=Number.MAX_SAFE_INTEGER)return Number(i);if(r.allowBigInt===!0)return i;throw new Error(`${Xe} integers outside of the safe integer range are not supported`)}function x$(t,e,r,n){return new we(G.uint,Xo(t,e+1,n),2)}function A$(t,e,r,n){return new we(G.uint,Zo(t,e+1,n),3)}function I$(t,e,r,n){return new we(G.uint,ei(t,e+1,n),5)}function S$(t,e,r,n){return new we(G.uint,ti(t,e+1,n),9)}function Pi(t,e){return On(t,0,e.value)}function On(t,e,r){if(r<hn[0]){let n=Number(r);t.push([e|n])}else if(r<hn[1]){let n=Number(r);t.push([e|24,n])}else if(r<hn[2]){let n=Number(r);t.push([e|25,n>>>8,n&255])}else if(r<hn[3]){let n=Number(r);t.push([e|26,n>>>24&255,n>>>16&255,n>>>8&255,n&255])}else{let n=BigInt(r);if(n<hn[4]){let o=[e|27,0,0,0,0,0,0,0],i=Number(n&BigInt(4294967295)),s=Number(n>>BigInt(32)&BigInt(4294967295));o[8]=i&255,i=i>>8,o[7]=i&255,i=i>>8,o[6]=i&255,i=i>>8,o[5]=i&255,o[4]=s&255,s=s>>8,o[3]=s&255,s=s>>8,o[2]=s&255,s=s>>8,o[1]=s&255,t.push(o)}else throw new Error(`${Xe} encountered BigInt larger than allowable range`)}}Pi.encodedSize=function(e){return On.encodedSize(e.value)};On.encodedSize=function(e){return e<hn[0]?1:e<hn[1]?2:e<hn[2]?3:e<hn[3]?5:9};Pi.compareTokens=function(e,r){return e.value<r.value?-1:e.value>r.value?1:0};function N$(t,e,r,n){return new we(G.negint,-1-Xo(t,e+1,n),2)}function _$(t,e,r,n){return new we(G.negint,-1-Zo(t,e+1,n),3)}function D$(t,e,r,n){return new we(G.negint,-1-ei(t,e+1,n),5)}var z1=BigInt(-1),O$=BigInt(1);function C$(t,e,r,n){let o=ti(t,e+1,n);if(typeof o!="bigint"){let i=-1-o;if(i>=Number.MIN_SAFE_INTEGER)return new we(G.negint,i,9)}if(n.allowBigInt!==!0)throw new Error(`${Xe} integers outside of the safe integer range are not supported`);return new we(G.negint,z1-BigInt(o),9)}function av(t,e){let r=e.value,n=typeof r=="bigint"?r*z1-O$:r*-1-1;On(t,e.type.majorEncoded,n)}av.encodedSize=function(e){let r=e.value,n=typeof r=="bigint"?r*z1-O$:r*-1-1;return n<hn[0]?1:n<hn[1]?2:n<hn[2]?3:n<hn[3]?5:9};av.compareTokens=function(e,r){return e.value<r.value?1:e.value>r.value?-1:0};function Ry(t,e,r,n){ac(t,e,r+n);let o=Xd(t,e+r,e+r+n);return new we(G.bytes,o,r+n)}function R$(t,e,r,n){return Ry(t,e,1,r)}function k$(t,e,r,n){return Ry(t,e,2,Xo(t,e+1,n))}function P$(t,e,r,n){return Ry(t,e,3,Zo(t,e+1,n))}function L$(t,e,r,n){return Ry(t,e,5,ei(t,e+1,n))}function F$(t,e,r,n){let o=ti(t,e+1,n);if(typeof o=="bigint")throw new Error(`${Xe} 64-bit integer bytes lengths not supported`);return Ry(t,e,9,o)}function cv(t){return t.encodedBytes===void 0&&(t.encodedBytes=t.type===G.string?b$(t.value):t.value),t.encodedBytes}function Zd(t,e){let r=cv(e);On(t,e.type.majorEncoded,r.length),t.push(r)}Zd.encodedSize=function(e){let r=cv(e);return On.encodedSize(r.length)+r.length};Zd.compareTokens=function(e,r){return use(cv(e),cv(r))};function use(t,e){return t.length<e.length?-1:t.length>e.length?1:T$(t,e)}function ky(t,e,r,n,o){let i=r+n;ac(t,e,i);let s=new we(G.string,w$(t,e+r,e+i),i);return o.retainStringBytes===!0&&(s.byteValue=Xd(t,e+r,e+i)),s}function U$(t,e,r,n){return ky(t,e,1,r,n)}function B$(t,e,r,n){return ky(t,e,2,Xo(t,e+1,n),n)}function M$(t,e,r,n){return ky(t,e,3,Zo(t,e+1,n),n)}function $$(t,e,r,n){return ky(t,e,5,ei(t,e+1,n),n)}function V$(t,e,r,n){let o=ti(t,e+1,n);if(typeof o=="bigint")throw new Error(`${Xe} 64-bit integer string lengths not supported`);return ky(t,e,9,o,n)}var j$=Zd;function ep(t,e,r,n){return new we(G.array,n,r)}function G$(t,e,r,n){return ep(t,e,1,r)}function z$(t,e,r,n){return ep(t,e,2,Xo(t,e+1,n))}function q$(t,e,r,n){return ep(t,e,3,Zo(t,e+1,n))}function Q$(t,e,r,n){return ep(t,e,5,ei(t,e+1,n))}function J$(t,e,r,n){let o=ti(t,e+1,n);if(typeof o=="bigint")throw new Error(`${Xe} 64-bit integer array lengths not supported`);return ep(t,e,9,o)}function H$(t,e,r,n){if(n.allowIndefinite===!1)throw new Error(`${Xe} indefinite length items not allowed`);return ep(t,e,1,1/0)}function uv(t,e){On(t,G.array.majorEncoded,e.value)}uv.compareTokens=Pi.compareTokens;uv.encodedSize=function(e){return On.encodedSize(e.value)};function tp(t,e,r,n){return new we(G.map,n,r)}function K$(t,e,r,n){return tp(t,e,1,r)}function W$(t,e,r,n){return tp(t,e,2,Xo(t,e+1,n))}function Y$(t,e,r,n){return tp(t,e,3,Zo(t,e+1,n))}function X$(t,e,r,n){return tp(t,e,5,ei(t,e+1,n))}function Z$(t,e,r,n){let o=ti(t,e+1,n);if(typeof o=="bigint")throw new Error(`${Xe} 64-bit integer map lengths not supported`);return tp(t,e,9,o)}function e6(t,e,r,n){if(n.allowIndefinite===!1)throw new Error(`${Xe} indefinite length items not allowed`);return tp(t,e,1,1/0)}function lv(t,e){On(t,G.map.majorEncoded,e.value)}lv.compareTokens=Pi.compareTokens;lv.encodedSize=function(e){return On.encodedSize(e.value)};function t6(t,e,r,n){return new we(G.tag,r,1)}function r6(t,e,r,n){return new we(G.tag,Xo(t,e+1,n),2)}function n6(t,e,r,n){return new we(G.tag,Zo(t,e+1,n),3)}function o6(t,e,r,n){return new we(G.tag,ei(t,e+1,n),5)}function i6(t,e,r,n){return new we(G.tag,ti(t,e+1,n),9)}function fv(t,e){On(t,G.tag.majorEncoded,e.value)}fv.compareTokens=Pi.compareTokens;fv.encodedSize=function(e){return On.encodedSize(e.value)};var mse=20,yse=21,gse=22,wse=23;function s6(t,e,r,n){if(n.allowUndefined===!1)throw new Error(`${Xe} undefined values are not supported`);return n.coerceUndefinedToNull===!0?new we(G.null,null,1):new we(G.undefined,void 0,1)}function a6(t,e,r,n){if(n.allowIndefinite===!1)throw new Error(`${Xe} indefinite length items not allowed`);return new we(G.break,void 0,1)}function q1(t,e,r){if(r){if(r.allowNaN===!1&&Number.isNaN(t))throw new Error(`${Xe} NaN values are not supported`);if(r.allowInfinity===!1&&(t===1/0||t===-1/0))throw new Error(`${Xe} Infinity values are not supported`)}return new we(G.float,t,e)}function c6(t,e,r,n){return q1(Q1(t,e+1),3,n)}function u6(t,e,r,n){return q1(J1(t,e+1),5,n)}function l6(t,e,r,n){return q1(h6(t,e+1),9,n)}function dv(t,e,r){let n=e.value;if(n===!1)t.push([G.float.majorEncoded|mse]);else if(n===!0)t.push([G.float.majorEncoded|yse]);else if(n===null)t.push([G.float.majorEncoded|gse]);else if(n===void 0)t.push([G.float.majorEncoded|wse]);else{let o,i=!1;(!r||r.float64!==!0)&&(d6(n),o=Q1(Is,1),n===o||Number.isNaN(n)?(Is[0]=249,t.push(Is.slice(0,3)),i=!0):(p6(n),o=J1(Is,1),n===o&&(Is[0]=250,t.push(Is.slice(0,5)),i=!0))),i||(bse(n),o=h6(Is,1),Is[0]=251,t.push(Is.slice(0,9)))}}dv.encodedSize=function(e,r){let n=e.value;if(n===!1||n===!0||n===null||n===void 0)return 1;if(!r||r.float64!==!0){d6(n);let o=Q1(Is,1);if(n===o||Number.isNaN(n))return 3;if(p6(n),o=J1(Is,1),n===o)return 5}return 9};var f6=new ArrayBuffer(9),Li=new DataView(f6,1),Is=new Uint8Array(f6,0);function d6(t){if(t===1/0)Li.setUint16(0,31744,!1);else if(t===-1/0)Li.setUint16(0,64512,!1);else if(Number.isNaN(t))Li.setUint16(0,32256,!1);else{Li.setFloat32(0,t);let e=Li.getUint32(0),r=(e&2139095040)>>23,n=e&8388607;if(r===255)Li.setUint16(0,31744,!1);else if(r===0)Li.setUint16(0,(t&2147483648)>>16|n>>13,!1);else{let o=r-127;o<-24?Li.setUint16(0,0):o<-14?Li.setUint16(0,(e&2147483648)>>16|1<<24+o,!1):Li.setUint16(0,(e&2147483648)>>16|o+15<<10|n>>13,!1)}}}function Q1(t,e){if(t.length-e<2)throw new Error(`${Xe} not enough data for float16`);let r=(t[e]<<8)+t[e+1];if(r===31744)return 1/0;if(r===64512)return-1/0;if(r===32256)return NaN;let n=r>>10&31,o=r&1023,i;return n===0?i=o*2**-24:n!==31?i=(o+1024)*2**(n-25):i=o===0?1/0:NaN,r&32768?-i:i}function p6(t){Li.setFloat32(0,t,!1)}function J1(t,e){if(t.length-e<4)throw new Error(`${Xe} not enough data for float32`);let r=(t.byteOffset||0)+e;return new DataView(t.buffer,r,4).getFloat32(0,!1)}function bse(t){Li.setFloat64(0,t,!1)}function h6(t,e){if(t.length-e<8)throw new Error(`${Xe} not enough data for float64`);let r=(t.byteOffset||0)+e;return new DataView(t.buffer,r,8).getFloat64(0,!1)}dv.compareTokens=Pi.compareTokens;function Lt(t,e,r){throw new Error(`${Xe} encountered invalid minor (${r}) for major ${t[e]>>>5}`)}function pv(t){return()=>{throw new Error(`${Xe} ${t}`)}}var ce=[];for(let t=0;t<=23;t++)ce[t]=Lt;ce[24]=x$;ce[25]=A$;ce[26]=I$;ce[27]=S$;ce[28]=Lt;ce[29]=Lt;ce[30]=Lt;ce[31]=Lt;for(let t=32;t<=55;t++)ce[t]=Lt;ce[56]=N$;ce[57]=_$;ce[58]=D$;ce[59]=C$;ce[60]=Lt;ce[61]=Lt;ce[62]=Lt;ce[63]=Lt;for(let t=64;t<=87;t++)ce[t]=R$;ce[88]=k$;ce[89]=P$;ce[90]=L$;ce[91]=F$;ce[92]=Lt;ce[93]=Lt;ce[94]=Lt;ce[95]=pv("indefinite length bytes/strings are not supported");for(let t=96;t<=119;t++)ce[t]=U$;ce[120]=B$;ce[121]=M$;ce[122]=$$;ce[123]=V$;ce[124]=Lt;ce[125]=Lt;ce[126]=Lt;ce[127]=pv("indefinite length bytes/strings are not supported");for(let t=128;t<=151;t++)ce[t]=G$;ce[152]=z$;ce[153]=q$;ce[154]=Q$;ce[155]=J$;ce[156]=Lt;ce[157]=Lt;ce[158]=Lt;ce[159]=H$;for(let t=160;t<=183;t++)ce[t]=K$;ce[184]=W$;ce[185]=Y$;ce[186]=X$;ce[187]=Z$;ce[188]=Lt;ce[189]=Lt;ce[190]=Lt;ce[191]=e6;for(let t=192;t<=215;t++)ce[t]=t6;ce[216]=r6;ce[217]=n6;ce[218]=o6;ce[219]=i6;ce[220]=Lt;ce[221]=Lt;ce[222]=Lt;ce[223]=Lt;for(let t=224;t<=243;t++)ce[t]=pv("simple values are not supported");ce[244]=Lt;ce[245]=Lt;ce[246]=Lt;ce[247]=s6;ce[248]=pv("simple values are not supported");ce[249]=c6;ce[250]=u6;ce[251]=l6;ce[252]=Lt;ce[253]=Lt;ce[254]=Lt;ce[255]=a6;var Ss=[];for(let t=0;t<24;t++)Ss[t]=new we(G.uint,t,1);for(let t=-1;t>=-24;t--)Ss[31-t]=new we(G.negint,t,1);Ss[64]=new we(G.bytes,new Uint8Array(0),1);Ss[96]=new we(G.string,"",1);Ss[128]=new we(G.array,0,1);Ss[160]=new we(G.map,0,1);Ss[244]=new we(G.false,!1,1);Ss[245]=new we(G.true,!0,1);Ss[246]=new we(G.null,null,1);function m6(t){switch(t.type){case G.false:return ta([244]);case G.true:return ta([245]);case G.null:return ta([246]);case G.bytes:return t.value.length?void 0:ta([64]);case G.string:return t.value===""?ta([96]):void 0;case G.array:return t.value===0?ta([128]):void 0;case G.map:return t.value===0?ta([160]):void 0;case G.uint:return t.value<24?ta([Number(t.value)]):void 0;case G.negint:if(t.value>=-24)return ta([31-Number(t.value)])}}var vse={float64:!1,mapSorter:Ase,quickEncodeToken:m6};function Tse(){let t=[];return t[G.uint.major]=Pi,t[G.negint.major]=av,t[G.bytes.major]=Zd,t[G.string.major]=j$,t[G.array.major]=uv,t[G.map.major]=lv,t[G.tag.major]=fv,t[G.float.major]=dv,t}var y6=Tse(),H1=new Oy,mv=class t{constructor(e,r){this.obj=e,this.parent=r}includes(e){let r=this;do if(r.obj===e)return!0;while(r=r.parent);return!1}static createCheck(e,r){if(e&&e.includes(r))throw new Error(`${G1} object contains circular references`);return new t(r,e)}},lu={null:new we(G.null,null),undefined:new we(G.undefined,void 0),true:new we(G.true,!0),false:new we(G.false,!1),emptyArray:new we(G.array,0),emptyMap:new we(G.map,0)},fu={number(t,e,r,n){return!Number.isInteger(t)||!Number.isSafeInteger(t)?new we(G.float,t):t>=0?new we(G.uint,t):new we(G.negint,t)},bigint(t,e,r,n){return t>=BigInt(0)?new we(G.uint,t):new we(G.negint,t)},Uint8Array(t,e,r,n){return new we(G.bytes,t)},string(t,e,r,n){return new we(G.string,t)},boolean(t,e,r,n){return t?lu.true:lu.false},null(t,e,r,n){return lu.null},undefined(t,e,r,n){return lu.undefined},ArrayBuffer(t,e,r,n){return new we(G.bytes,new Uint8Array(t))},DataView(t,e,r,n){return new we(G.bytes,new Uint8Array(t.buffer,t.byteOffset,t.byteLength))},Array(t,e,r,n){if(!t.length)return r.addBreakTokens===!0?[lu.emptyArray,new we(G.break)]:lu.emptyArray;n=mv.createCheck(n,t);let o=[],i=0;for(let s of t)o[i++]=hv(s,r,n);return r.addBreakTokens?[new we(G.array,t.length),o,new we(G.break)]:[new we(G.array,t.length),o]},Object(t,e,r,n){let o=e!=="Object",i=o?t.keys():Object.keys(t),s=o?t.size:i.length;if(!s)return r.addBreakTokens===!0?[lu.emptyMap,new we(G.break)]:lu.emptyMap;n=mv.createCheck(n,t);let a=[],c=0;for(let u of i)a[c++]=[hv(u,r,n),hv(o?t.get(u):t[u],r,n)];return xse(a,r),r.addBreakTokens?[new we(G.map,s),a,new we(G.break)]:[new we(G.map,s),a]}};fu.Map=fu.Object;fu.Buffer=fu.Uint8Array;for(let t of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))fu[`${t}Array`]=fu.DataView;function hv(t,e={},r){let n=h$(t),o=e&&e.typeEncoders&&e.typeEncoders[n]||fu[n];if(typeof o=="function"){let s=o(t,n,e,r);if(s!=null)return s}let i=fu[n];if(!i)throw new Error(`${G1} unsupported type: ${n}`);return i(t,n,e,r)}function xse(t,e){e.mapSorter&&t.sort(e.mapSorter)}function Ase(t,e){let r=Array.isArray(t[0])?t[0][0]:t[0],n=Array.isArray(e[0])?e[0][0]:e[0];if(r.type!==n.type)return r.type.compare(n.type);let o=r.type.major,i=y6[o].compareTokens(r,n);return i===0&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),i}function g6(t,e,r,n){if(Array.isArray(e))for(let o of e)g6(t,o,r,n);else r[e.type.major](t,e,n)}function Ise(t,e,r){let n=hv(t,r);if(!Array.isArray(n)&&r.quickEncodeToken){let o=r.quickEncodeToken(n);if(o)return o;let i=e[n.type.major];if(i.encodedSize){let s=i.encodedSize(n,r),a=new Oy(s);if(i(a,n,r),a.chunks.length!==1)throw new Error(`Unexpected error: pre-calculated length for ${n} was wrong`);return j1(a.chunks[0])}}return H1.reset(),g6(H1,n,e,r),H1.toBytes(!0)}function K1(t,e){return e=Object.assign({},vse,e),Ise(t,y6,e)}var Sse={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0},W1=class{constructor(e,r={}){this.pos=0,this.data=e,this.options=r}done(){return this.pos>=this.data.length}next(){let e=this.data[this.pos],r=Ss[e];if(r===void 0){let n=ce[e];if(!n)throw new Error(`${Xe} no decoder for major type ${e>>>5} (byte 0x${e.toString(16).padStart(2,"0")})`);let o=e&31;r=n(this.data,this.pos,o,this.options)}return this.pos+=r.encodedLength,r}},Py=Symbol.for("DONE"),yv=Symbol.for("BREAK");function Nse(t,e,r){let n=[];for(let o=0;o<t.value;o++){let i=Ly(e,r);if(i===yv){if(t.value===1/0)break;throw new Error(`${Xe} got unexpected break to lengthed array`)}if(i===Py)throw new Error(`${Xe} found array but not enough entries (got ${o}, expected ${t.value})`);n[o]=i}return n}function _se(t,e,r){let n=r.useMaps===!0,o=n?void 0:{},i=n?new Map:void 0;for(let s=0;s<t.value;s++){let a=Ly(e,r);if(a===yv){if(t.value===1/0)break;throw new Error(`${Xe} got unexpected break to lengthed map`)}if(a===Py)throw new Error(`${Xe} found map but not enough entries (got ${s} [no key], expected ${t.value})`);if(n!==!0&&typeof a!="string")throw new Error(`${Xe} non-string keys not supported (got ${typeof a})`);if(r.rejectDuplicateMapKeys===!0&&(n&&i.has(a)||!n&&a in o))throw new Error(`${Xe} found repeat map key "${a}"`);let c=Ly(e,r);if(c===Py)throw new Error(`${Xe} found map but not enough entries (got ${s} [no value], expected ${t.value})`);n?i.set(a,c):o[a]=c}return n?i:o}function Ly(t,e){if(t.done())return Py;let r=t.next();if(r.type===G.break)return yv;if(r.type.terminal)return r.value;if(r.type===G.array)return Nse(r,t,e);if(r.type===G.map)return _se(r,t,e);if(r.type===G.tag){if(e.tags&&typeof e.tags[r.value]=="function"){let n=Ly(t,e);return e.tags[r.value](n)}throw new Error(`${Xe} tag not supported (${r.value})`)}throw new Error("unsupported")}function Y1(t,e){if(!(t instanceof Uint8Array))throw new Error(`${Xe} data to decode must be a Uint8Array`);e=Object.assign({},Sse,e);let r=e.tokenizer||new W1(t,e),n=Ly(r,e);if(n===Py)throw new Error(`${Xe} did not find any content to decode`);if(n===yv)throw new Error(`${Xe} got unexpected break`);if(!r.done())throw new Error(`${Xe} too many terminals, data makes no sense`);return n}var Ose=E6,w6=128,Cse=127,Rse=~Cse,kse=Math.pow(2,31);function E6(t,e,r){e=e||[],r=r||0;for(var n=r;t>=kse;)e[r++]=t&255|w6,t/=128;for(;t&Rse;)e[r++]=t&255|w6,t>>>=7;return e[r]=t|0,E6.bytes=r-n+1,e}var Pse=X1,Lse=128,b6=127;function X1(t,n){var r=0,n=n||0,o=0,i=n,s,a=t.length;do{if(i>=a)throw X1.bytes=0,new RangeError("Could not decode varint");s=t[i++],r+=o<28?(s&b6)<<o:(s&b6)*Math.pow(2,o),o+=7}while(s>=Lse);return X1.bytes=i-n,r}var Fse=Math.pow(2,7),Use=Math.pow(2,14),Bse=Math.pow(2,21),Mse=Math.pow(2,28),$se=Math.pow(2,35),Vse=Math.pow(2,42),jse=Math.pow(2,49),Gse=Math.pow(2,56),zse=Math.pow(2,63),qse=function(t){return t<Fse?1:t<Use?2:t<Bse?3:t<Mse?4:t<$se?5:t<Vse?6:t<jse?7:t<Gse?8:t<zse?9:10},Qse={encode:Ose,decode:Pse,encodingLength:qse},Jse=Qse,Fy=Jse;var Uy=(t,e=0)=>[Fy.decode(t,e),Fy.decode.bytes],rp=(t,e,r=0)=>(Fy.encode(t,e,r),e),np=t=>Fy.encodingLength(t);var y6e=new Uint8Array(0);var T6=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},op=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")};var x6=(t,e)=>{let r=e.byteLength,n=np(t),o=n+np(r),i=new Uint8Array(o+r);return rp(t,i,0),rp(r,i,n),i.set(e,o),new ip(t,r,e,i)},A6=t=>{let e=op(t),[r,n]=Uy(e),[o,i]=Uy(e.subarray(n)),s=e.subarray(n+i);if(s.byteLength!==o)throw new Error("Incorrect length");return new ip(r,o,s,e)},I6=(t,e)=>t===e?!0:t.code===e.code&&t.size===e.size&&T6(t.bytes,e.bytes),ip=class{constructor(e,r,n,o){this.code=e,this.size=r,this.digest=n,this.bytes=o}};function Kse(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var o=0;o<t.length;o++){var i=t.charAt(o),s=i.charCodeAt(0);if(r[s]!==255)throw new TypeError(i+" is ambiguous");r[s]=o}var a=t.length,c=t.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function f(h){if(h instanceof Uint8Array||(ArrayBuffer.isView(h)?h=new Uint8Array(h.buffer,h.byteOffset,h.byteLength):Array.isArray(h)&&(h=Uint8Array.from(h))),!(h instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(h.length===0)return"";for(var m=0,g=0,w=0,T=h.length;w!==T&&h[w]===0;)w++,m++;for(var v=(T-w)*l+1>>>0,x=new Uint8Array(v);w!==T;){for(var A=h[w],_=0,O=v-1;(A!==0||_<g)&&O!==-1;O--,_++)A+=256*x[O]>>>0,x[O]=A%a>>>0,A=A/a>>>0;if(A!==0)throw new Error("Non-zero carry");g=_,w++}for(var C=v-g;C!==v&&x[C]===0;)C++;for(var I=c.repeat(m);C<v;++C)I+=t.charAt(x[C]);return I}function d(h){if(typeof h!="string")throw new TypeError("Expected String");if(h.length===0)return new Uint8Array;var m=0;if(h[m]!==" "){for(var g=0,w=0;h[m]===c;)g++,m++;for(var T=(h.length-m)*u+1>>>0,v=new Uint8Array(T);h[m];){var x=r[h.charCodeAt(m)];if(x===255)return;for(var A=0,_=T-1;(x!==0||A<w)&&_!==-1;_--,A++)x+=a*v[_]>>>0,v[_]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");w=A,m++}if(h[m]!==" "){for(var O=T-w;O!==T&&v[O]===0;)O++;for(var C=new Uint8Array(g+(T-O)),I=g;O!==T;)C[I++]=v[O++];return C}}}function p(h){var m=d(h);if(m)return m;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:d,decode:p}}var Wse=Kse,Yse=Wse,S6=Yse;var Z1=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},e_=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return N6(this,e)}},t_=class{constructor(e){this.decoders=e}or(e){return N6(this,e)}decode(e){let r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},N6=(t,e)=>new t_(b(b({},t.decoders||{[t.prefix]:t}),e.decoders||{[e.prefix]:e})),r_=class{constructor(e,r,n,o){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=o,this.encoder=new Z1(e,r,n),this.decoder=new e_(e,r,o)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},_6=({name:t,prefix:e,encode:r,decode:n})=>new r_(t,e,r,n),n_=({prefix:t,name:e,alphabet:r})=>{let{encode:n,decode:o}=S6(r,e);return _6({prefix:t,name:e,encode:n,decode:i=>op(o(i))})},Xse=(t,e,r,n)=>{let o={};for(let l=0;l<e.length;++l)o[e[l]]=l;let i=t.length;for(;t[i-1]==="=";)--i;let s=new Uint8Array(i*r/8|0),a=0,c=0,u=0;for(let l=0;l<i;++l){let f=o[t[l]];if(f===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|f,a+=r,a>=8&&(a-=8,s[u++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return s},Zse=(t,e,r)=>{let n=e[e.length-1]==="=",o=(1<<r)-1,i="",s=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],s+=8;s>r;)s-=r,i+=e[o&a>>s];if(s&&(i+=e[o&a<<r-s]),n)for(;i.length*r&7;)i+="=";return i},ra=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>_6({prefix:e,name:t,encode(o){return Zse(o,n,r)},decode(o){return Xse(o,n,r,t)}});var cc=n_({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),I6e=n_({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var By=ra({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),_6e=ra({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),D6e=ra({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),O6e=ra({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),C6e=ra({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),R6e=ra({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),k6e=ra({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),P6e=ra({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),L6e=ra({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var $y=class t{constructor(e,r,n,o){this.code=r,this.version=e,this.multihash=n,this.bytes=o,this.byteOffset=o.byteOffset,this.byteLength=o.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:wv,byteLength:wv,code:gv,version:gv,multihash:gv,bytes:gv,_baseCache:wv,asCID:wv})}toV0(){switch(this.version){case 0:return this;default:{let{code:e,multihash:r}=this;if(e!==My)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==nae)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return t.createV0(r)}}}toV1(){switch(this.version){case 0:{let{code:e,digest:r}=this.multihash,n=x6(e,r);return t.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&I6(this.multihash,e.multihash)}toString(e){let{bytes:r,version:n,_baseCache:o}=this;switch(n){case 0:return tae(r,o,e||cc.encoder);default:return rae(r,o,e||By.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return iae(/^0\.0/,sae),!!(e&&(e[O6]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof t)return e;if(e!=null&&e.asCID===e){let{version:r,code:n,multihash:o,bytes:i}=e;return new t(r,n,o,i||D6(r,n,o.bytes))}else if(e!=null&&e[O6]===!0){let{version:r,multihash:n,code:o}=e,i=A6(n);return t.create(r,o,i)}else return null}static create(e,r,n){if(typeof r!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(r!==My)throw new Error(`Version 0 CID must use dag-pb (code: ${My}) block encoding`);return new t(e,r,n,n.bytes)}case 1:{let o=D6(e,r,n.bytes);return new t(e,r,n,o)}default:throw new Error("Invalid version")}}static createV0(e){return t.create(0,My,e)}static createV1(e,r){return t.create(1,e,r)}static decode(e){let[r,n]=t.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return r}static decodeFirst(e){let r=t.inspectBytes(e),n=r.size-r.multihashSize,o=op(e.subarray(n,n+r.multihashSize));if(o.byteLength!==r.multihashSize)throw new Error("Incorrect length");let i=o.subarray(r.multihashSize-r.digestSize),s=new ip(r.multihashCode,r.digestSize,i,o);return[r.version===0?t.createV0(s):t.createV1(r.codec,s),e.subarray(r.size)]}static inspectBytes(e){let r=0,n=()=>{let[f,d]=Uy(e.subarray(r));return r+=d,f},o=n(),i=My;if(o===18?(o=0,r=0):o===1&&(i=n()),o!==0&&o!==1)throw new RangeError(`Invalid CID version ${o}`);let s=r,a=n(),c=n(),u=r+c,l=u-s;return{version:o,codec:i,multihashCode:a,digestSize:c,multihashSize:l,size:u}}static parse(e,r){let[n,o]=eae(e,r),i=t.decode(o);return i._baseCache.set(n,e),i}},eae=(t,e)=>{switch(t[0]){case"Q":{let r=e||cc;return[cc.prefix,r.decode(`${cc.prefix}${t}`)]}case cc.prefix:{let r=e||cc;return[cc.prefix,r.decode(t)]}case By.prefix:{let r=e||By;return[By.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},tae=(t,e,r)=>{let{prefix:n}=r;if(n!==cc.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let o=e.get(n);if(o==null){let i=r.encode(t).slice(1);return e.set(n,i),i}else return o},rae=(t,e,r)=>{let{prefix:n}=r,o=e.get(n);if(o==null){let i=r.encode(t);return e.set(n,i),i}else return o},My=112,nae=18,D6=(t,e,r)=>{let n=np(t),o=n+np(e),i=new Uint8Array(o+r.byteLength);return rp(t,i,0),rp(e,i,n),i.set(r,o),i},O6=Symbol.for("@ipld/js-cid/CID"),gv={writable:!1,configurable:!1,enumerable:!0},wv={writable:!1,enumerable:!1,configurable:!1},oae="0.0.0-dev",iae=(t,e)=>{if(t.test(oae))console.warn(e);else throw new Error(e)},sae=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`;var C6=42;function aae(t){if(t.asCID!==t)return null;let e=$y.asCID(t);if(!e)return null;let r=new Uint8Array(e.bytes.byteLength+1);return r.set(e.bytes,1),[new we(G.tag,C6),new we(G.bytes,r)]}function cae(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function uae(t){if(Number.isNaN(t))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(t===1/0||t===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}var lae={float64:!0,typeEncoders:{Object:aae,undefined:cae,number:uae}};function fae(t){if(t[0]!==0)throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return $y.decode(t.subarray(1))}var R6={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};R6.tags[C6]=fae;var dae="dag-cbor",pae=113,hae=t=>K1(t,lae),mae=t=>Y1(t,R6);function sp(t){try{return t()}catch(e){return e}}var i_=Rr(xy(),1);function Rl(t){let e=i_.default.decode(t),r=i_.default.decode.bytes,n=t.subarray(r);return[e,n,r]}function yae(t){return t===0||t===1}function s_(t){let[e,r]=Rl(t);if(!yae(e))throw new Error(`Unknown CID version ${e}`);let[n,o]=Rl(r),[,i,s]=Rl(o),[a,,c]=Rl(i),u=o.subarray(0,s+c+a),l=o.subarray(s+c+a);return[qr.create(e,n,rv(u)),l]}function kl(t,e="StreamRef"){let[r,n]=Rl(t);if(r!==206)throw new Error(`Invalid ${e}, does not include streamid codec`);let[o,i]=Rl(n),s=s_(i),[a,c]=s;if(c.length===0)return{kind:"stream-id",type:o,genesis:a};if(c.length===1&&c[0]===0)return{kind:"commit-id",type:o,genesis:a,commit:null};{let[u]=s_(c);return{kind:"commit-id",type:o,genesis:a,commit:u}}}var gae=/(ceramic:\/\/|\/ceramic\/)?([a-zA-Z0-9]+)(\?commit=([a-zA-Z0-9]+))?/;function ap(t,e="StreamRef"){let r=gae.exec(t)||[],n=r[2];if(!n)throw new Error(`Malformed ${e} string: ${t}`);let o=ea.decode(n),i=kl(o),s=r[4];return s?{kind:"commit-id",type:i.type,genesis:i.genesis,commit:a_(i.genesis,s)}:i}function wae(t){try{return typeof t=="string"?qr.parse(t):qr.asCID(t)}catch{return null}}function a_(t,e=null){if(!e||e==="0")return null;let r=wae(e);if(r)return t.equals(r)?null:r;throw new Error("Cannot specify commit as a number except to request commit 0 (the genesis commit)")}var Vy=function(t,e,r,n){var o=arguments.length,i=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(i=(o<3?s(i):o>3?s(e,r,i):s(e,r))||i);return o>3&&i&&Object.defineProperty(e,r,i),i},Fi=function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},l_=class extends Error{constructor(e){super(`Invalid StreamID bytes ${ea.encode(e)}: contains commit`)}},f_=class extends Error{constructor(e){super(`Invalid StreamID string ${e}: contains commit`)}};function L6(t){let e=kl(t,"StreamID");if(e.kind==="stream-id")return new ze(e.type,e.genesis);throw new l_(t)}function bae(t){return sp(()=>L6(t))}function F6(t){let e=ap(t,"StreamID");if(e.kind==="stream-id")return new ze(e.type,e.genesis);throw new f_(t)}function Eae(t){return sp(()=>F6(t))}var P6=Symbol.for("@ceramicnetwork/streamid/StreamID"),ze=(()=>{class t{constructor(r,n){if(this._tag=P6,!(r||r===0))throw new Error("StreamID constructor: type required");if(!n)throw new Error("StreamID constructor: cid required");this._type=typeof r=="string"?ic.codeByName(r):r,this._cid=typeof n=="string"?qr.parse(n):n}static isInstance(r){return typeof r=="object"&&"_tag"in r&&r._tag===P6}static fromGenesis(r,n){return E(this,null,function*(){let o=yield f$({value:n,codec:o_,hasher:p$});return new t(r,o.cid)})}get type(){return this._type}get typeName(){return ic.nameByCode(this._type)}get cid(){return this._cid}get bytes(){let r=new Uint8Array(u_.default.encode(206)),n=new Uint8Array(u_.default.encode(this.type));return As([r,n,this.cid.bytes])}get baseID(){return new t(this._type,this._cid)}equals(r){return t.isInstance(r)?this.type===r.type&&this.cid.equals(r.cid):!1}toString(){return ea.encode(this.bytes)}toUrl(){return`ceramic://${this.toString()}`}[Symbol.for("nodejs.util.inspect.custom")](){return`StreamID(${this.toString()})`}[Symbol.toPrimitive](){return this.toString()}}return t.fromBytes=L6,t.fromBytesNoThrow=bae,t.fromString=F6,t.fromStringNoThrow=Eae,Vy([Yo(),Fi("design:type",String),Fi("design:paramtypes",[])],t.prototype,"typeName",null),Vy([Yo(),Fi("design:type",Uint8Array),Fi("design:paramtypes",[])],t.prototype,"bytes",null),Vy([Yo(),Fi("design:type",t),Fi("design:paramtypes",[])],t.prototype,"baseID",null),Vy([Yo(),Fi("design:type",Function),Fi("design:paramtypes",[]),Fi("design:returntype",String)],t.prototype,"toString",null),Vy([Yo(),Fi("design:type",Function),Fi("design:paramtypes",[]),Fi("design:returntype",String)],t.prototype,"toUrl",null),t})();var tce=Rr(jy(),1),cp=function(t,e,r,n){var o=arguments.length,i=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(i=(o<3?s(i):o>3?s(e,r,i):s(e,r))||i);return o>3&&i&&Object.defineProperty(e,r,i),i},No=function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},T_=function(t,e,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(t,r):o?o.value=r:e.set(t,r),r},uc=function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},up,Pl,Gy,A_=class extends Error{constructor(e){super(`Error while parsing CommitID from bytes ${ea.encode(e)}: no commit information provided`)}},I_=class extends Error{constructor(e){super(`Error while parsing CommitID from string ${e}: no commit information provided`)}};function Z6(t){let e=kl(t,"CommitID");if(e.kind==="commit-id")return new Qr(e.type,e.genesis,e.commit);throw new A_(t)}function rce(t){return sp(()=>Z6(t))}function e3(t){let e=ap(t,"CommitID");if(e.kind==="commit-id")return new Qr(e.type,e.genesis,e.commit);throw new I_(t)}function nce(t){return sp(()=>e3(t))}var X6=Symbol.for("@ceramicnetwork/streamid/CommitID");function oce(t,e){return new Qr(t.type,t.cid,e)}var Qr=(()=>{class t{constructor(r,n,o=null){if(this._tag=X6,up.set(this,void 0),Pl.set(this,void 0),Gy.set(this,void 0),!r&&r!==0)throw new Error("constructor: type required");if(!n)throw new Error("constructor: cid required");T_(this,up,typeof r=="string"?ic.codeByName(r):r,"f"),T_(this,Pl,typeof n=="string"?qr.parse(n):n,"f"),T_(this,Gy,a_(uc(this,Pl,"f"),o),"f")}static isInstance(r){return typeof r=="object"&&"_tag"in r&&r._tag===X6}get baseID(){return new ze(uc(this,up,"f"),uc(this,Pl,"f"))}get type(){return uc(this,up,"f")}get typeName(){return ic.nameByCode(uc(this,up,"f"))}get cid(){return uc(this,Pl,"f")}get commit(){return uc(this,Gy,"f")||uc(this,Pl,"f")}get bytes(){let r=new Uint8Array(x_.default.encode(206)),n=new Uint8Array(x_.default.encode(this.type)),o=uc(this,Gy,"f")?.bytes||new Uint8Array([0]);return As([r,n,this.cid.bytes,o])}equals(r){return this.type===r.type&&this.cid.equals(r.cid)&&this.commit.equals(r.commit)}toString(){return ea.encode(this.bytes)}toUrl(){return`ceramic://${this.toString()}`}[(up=new WeakMap,Pl=new WeakMap,Gy=new WeakMap,Symbol.for("nodejs.util.inspect.custom"))](){return`CommitID(${this.toString()})`}[Symbol.toPrimitive](){return this.toString()}}return t.fromBytes=Z6,t.fromBytesNoThrow=rce,t.fromString=e3,t.fromStringNoThrow=nce,t.make=oce,cp([Yo(),No("design:type",ze),No("design:paramtypes",[])],t.prototype,"baseID",null),cp([Yo(),No("design:type",String),No("design:paramtypes",[])],t.prototype,"typeName",null),cp([Yo(),No("design:type",qr),No("design:paramtypes",[])],t.prototype,"commit",null),cp([Yo(),No("design:type",Uint8Array),No("design:paramtypes",[])],t.prototype,"bytes",null),cp([Yo(),No("design:type",Function),No("design:paramtypes",[]),No("design:returntype",String)],t.prototype,"toString",null),cp([Yo(),No("design:type",Function),No("design:paramtypes",[]),No("design:returntype",String)],t.prototype,"toUrl",null),t})();var Cn;(function(t){function e(o){let i=kl(o);switch(i.kind){case"commit-id":return new Qr(i.type,i.genesis,i.commit);case"stream-id":return new ze(i.type,i.genesis);default:throw new Error(`Malformed StreamRef bytes: ${ea.encode(o)}`)}}t.fromBytes=e;function r(o){let i=ap(o);switch(i.kind){case"commit-id":return new Qr(i.type,i.genesis,i.commit);case"stream-id":return new ze(i.type,i.genesis);default:throw new Error(`Malformed StreamRef string: ${o}`)}}t.fromString=r;function n(o){if(ze.isInstance(o)||Qr.isInstance(o))return o;if(o instanceof Uint8Array)return e(o);if(typeof o=="string")return r(o);throw new Error(`Can not build CommitID or StreamID from ${JSON.stringify(o)}`)}t.from=n})(Cn||(Cn={}));function S_(t){return typeof t=="string"?ze.fromString(t):t}function t3(t,e){let r=new URL(t);for(let[n,o]of Object.entries(e))ze.isInstance(o)?r.searchParams.set(n,o.toString()):typeof o=="object"?r.searchParams.set(n,JSON.stringify(o)):r.searchParams.set(n,o);return r}function N_(t){let e={};for(let[r,n]of Object.entries(t))ze.isInstance(n)?e[r]=n.toString():e[r]=n;return e}var lp=class extends Error{constructor(){super("Failed to get DID.  Please make sure your Ceramic client has an authenticated DID attached")}};var zy=(function(t){return t[t.NOT_REQUESTED=0]="NOT_REQUESTED",t[t.PENDING=1]="PENDING",t[t.PROCESSING=2]="PROCESSING",t[t.ANCHORED=3]="ANCHORED",t[t.FAILED=4]="FAILED",t[t.REPLACED=5]="REPLACED",t})(zy||{});var tn=class t{constructor(e){this.isAuthenticated=!1,this.reqs=e}get signer(){return this}static invalid(){return new t}static fromDID(e){let r=new t;return r.withDid(e),r}withDid(e){this.reqs={createDagJWS:(n,o)=>e.createDagJWS(n,o),createJWS:(n,o)=>e.createJWS(n,o),verifyJWS:(n,o)=>e.verifyJWS(n,o),ensureAuthenticated(){return E(this,null,function*(){e.authenticated||(yield e.authenticate())})},asController(){return E(this,null,function*(){return e.hasParent?e.parent:e.id})}}}assertRequirements(){if(!this.reqs)return Promise.reject("Requirements not met for signing. Was a DID set?")}createJWS(e,r){return E(this,null,function*(){return yield this.assertRequirements(),this.isAuthenticated||(yield this.reqs.ensureAuthenticated(),this.isAuthenticated=!0),this.reqs.createJWS(e,r)})}createDagJWS(e,r){return E(this,null,function*(){return yield this.assertRequirements(),this.isAuthenticated||(yield this.reqs.ensureAuthenticated(),this.isAuthenticated=!0),this.reqs.createDagJWS(e,r)})}asController(){return E(this,null,function*(){return yield this.assertRequirements(),this.isAuthenticated||(yield this.reqs.ensureAuthenticated(),this.isAuthenticated=!0),this.reqs.asController()})}verifyJWS(e,r){return E(this,null,function*(){return yield this.assertRequirements(),this.reqs.verifyJWS(e,r)})}};var Qt=(function(t){return t[t.PREFER_CACHE=0]="PREFER_CACHE",t[t.SYNC_ALWAYS=1]="SYNC_ALWAYS",t[t.NEVER_SYNC=2]="NEVER_SYNC",t[t.SYNC_ON_ERROR=3]="SYNC_ON_ERROR",t})(Qt||{});var j_=Rr(Hy(),1);var Rv=(function(t){return t[t.INIT=0]="INIT",t[t.DATA=1]="DATA",t[t.TIME=2]="TIME",t})(Rv||{}),na=class extends rd{constructor(e,r){super(n=>{e.subscribe(n)}),this.state$=e,this._api=r}get id(){return new ze(this.state$.value.type,this.state$.value.log[0].cid)}get api(){return this._api}get content(){let{next:e,content:r}=this.state$.value;return(0,j_.default)(e?.content??r)}get tip(){return this.state$.value.log[this.state$.value.log.length-1].cid}get commitId(){return Qr.make(this.id,this.tip)}get allCommitIds(){return this.state$.value.log.map(({cid:e})=>Qr.make(this.id,e))}get anchorCommitIds(){return this.state$.value.log.filter(({type:e})=>e===Rv.TIME).map(({cid:e})=>Qr.make(this.id,e))}get state(){return(0,j_.default)(this.state$.value)}sync(){return E(this,arguments,function*(e={}){e=b({sync:Qt.PREFER_CACHE},e);let r=yield this.api.loadStream(this.id,e);this.state$.next(r.state)})}requestAnchor(){return E(this,null,function*(){return this.api.requestAnchor(this.id)})}};function pu(){return t=>{}}function G3(t){let e=new AbortController;if(t.length===0)throw Error("Need abort signals to create a merged abort signal");return t.some(r=>r.aborted)?(e.abort(),e.signal):(MU(...t.map(r=>BU(r,"abort"))).pipe($U()).subscribe(()=>{e.abort()}),e.signal)}var kv=class{constructor(e){let r=new AbortController;if(this.signal=r.signal,e<=0){r.abort();return}this._subscription=nd(e).subscribe(()=>{r.abort()})}clear(){this._subscription?.unsubscribe()}};function z3(t,e){return E(this,null,function*(){let r=new AbortController,n=()=>{r.abort()};return t.addEventListener("abort",n),t.aborted&&r.abort(),e(r.signal).finally(()=>{t.removeEventListener("abort",n)})})}var Rue=60*1e3*3;function rr(r){return E(this,arguments,function*(t,e={}){if(e.body){let a=b({"Content-Type":"application/json"},e.headers);Object.assign(e,{body:a["Content-Type"]=="application/json"?JSON.stringify(e.body):e.body,headers:a})}let n=e.timeout||Rue,o=new kv(n),i=e.signal?G3([e.signal,o.signal]):o.signal,s=yield z3(i,a=>fetch(String(t),S(b({},e),{signal:a,credentials:"include"}))).finally(()=>o.clear());if(!s.ok){let a=yield s.text();throw new Error(`HTTP request to '${t}' failed with status '${s.statusText}': ${a}`)}return s.status===204?{}:s.json()})}var Ky=Rr(Hy(),1);function oa(t){let e=Ct.asCID(t);if(e)return e;if(typeof t=="string")return Ct.parse(t);if(t instanceof Uint8Array)return Ct.decode(t);throw new Error(`${t} cannot be converted to a CID`)}function q3(t){return JSON.parse(gt(So(t,"base64url")))}var Q3=0,Jt=class t{static streamIdFromState(e){return new ze(e.type,e.log[0].cid)}static tipFromState(e){return e.log[e.log.length-1].cid}static serializeCommit(e){let r=(0,Ky.default)(e);return t.isSignedCommitContainer(r)?(r.jws.link=r.jws.link.toString(),r.linkedBlock=gt(r.linkedBlock,"base64"),r.cacaoBlock&&(r.cacaoBlock=gt(r.cacaoBlock,"base64")),r):(t.isSignedCommit(e)&&(r.link=r.link.toString()),t.isAnchorCommit(e)&&(r.proof=r.proof.toString()),r.id&&(r.id=r.id.toString()),r.prev&&(r.prev=r.prev.toString()),e.header?.model&&(r.header.model=gt(e.header.model,"base64")),e.header?.context&&(r.header.context=gt(e.header.context,"base64")),e.header?.unique&&(r.header.unique=gt(e.header.unique,"base64")),r)}static deserializeCommit(e){let r=(0,Ky.default)(e);return t.isSignedCommitContainer(r)?(r.jws.link=oa(r.jws.link),r.linkedBlock=So(r.linkedBlock,"base64"),r.cacaoBlock&&(r.cacaoBlock=So(r.cacaoBlock,"base64")),r):(t.isSignedCommit(r)&&(r.link=oa(r.link)),t.isAnchorCommit(r)&&(r.proof=oa(r.proof)),r.id&&(r.id=oa(r.id)),r.prev&&(r.prev=oa(r.prev)),r.header?.model&&(r.header.model=So(r.header.model,"base64")),r.header?.context&&(r.header.context=So(r.header.context,"base64")),r.header?.unique&&(r.header.unique=So(r.header.unique,"base64")),r)}static serializeState(e){let r=(0,Ky.default)(e);return r.log=r.log.map(n=>S(b({},n),{cid:n.cid.toString()})),r.anchorStatus!=null&&(r.anchorStatus=zy[r.anchorStatus]),r.anchorProof!=null&&(r.anchorProof.txHash=r.anchorProof.txHash.toString(),r.anchorProof.root=r.anchorProof.root.toString()),e.metadata?.model&&(r.metadata.model=e.metadata.model.toString()),e.metadata?.context&&(r.metadata.context=e.metadata.context.toString()),e.metadata?.unique&&e.type!=Q3&&(r.metadata.unique=gt(Uint8Array.from(e.metadata.unique),"base64")),r.doctype=ic.nameByCode(r.type),r}static deserializeState(e){if(!e)return null;let r=(0,Ky.default)(e);return r.doctype&&(r.type=ic.codeByName(r.doctype),delete r.doctype),r.log=r.log.map(n=>S(b({},n),{cid:oa(n.cid)})),r.anchorProof&&(r.anchorProof.txHash=oa(r.anchorProof.txHash),r.anchorProof.root=oa(r.anchorProof.root)),r.anchorStatus&&(r.anchorStatus=zy[r.anchorStatus]),e.metadata?.model&&(r.metadata.model=ze.fromString(e.metadata.model)),e.metadata?.context&&(r.metadata.context=ze.fromString(e.metadata.context)),e.metadata?.unique&&e.type!=Q3&&(r.metadata.unique=So(e.metadata.unique,"base64")),r}static statesEqual(e,r){return JSON.stringify(t.serializeState(e))===JSON.stringify(t.serializeState(r))}static isStateSupersetOf(e,r){if(e.log.length<r.log.length)return!1;for(let n in r.log)if(!e.log[n].cid.equals(r.log[n].cid))return!1;return!(e.log.length===r.log.length&&e.anchorStatus!=r.anchorStatus)}static assertCommitLinksToState(e,r){let n=this.streamIdFromState(e);if(r.id&&!r.id.equals(e.log[0].cid))throw new Error(`Invalid genesis CID in commit for StreamID ${n.toString()}. Found: ${r.id}, expected ${e.log[0].cid}`);let o=e.log[e.log.length-1].cid;if(!r.prev.equals(o))throw new Error(`Commit doesn't properly point to previous commit in log. Expected ${o}, found 'prev' ${r.prev}`)}static convertCommitToSignedCommitContainer(e,r){return E(this,null,function*(){if(t.isSignedCommit(e)){let n=yield r.block.get(oa(e.link),{offline:process.env.CERAMIC_RECON_MODE=="true"});return{jws:e,linkedBlock:n}}return e})}static isSignedCommitContainer(e){return e&&e.jws!==void 0}static isSignedCommit(e){return e&&e.link!==void 0}static getCacaoCidFromCommit(e){if(t.isSignedCommit(e)){let r=q3(e.signatures[0].protected);if(r.cap){let n=r.cap;return Ct.parse(n.replace("ipfs://",""))}}}static isAnchorCommit(e){return e&&e.proof!==void 0}static isSignedCommitData(e){return e&&e.envelope!==void 0}static isAnchorCommitData(e){return e&&e.proof!==void 0}static commitDataToLogEntry(e,r){let n={cid:e.cid,type:r};return e?.capability?.p?.exp&&(n.expirationTime=Math.floor(Date.parse(e.capability.p.exp)/1e3)),e.timestamp&&(n.timestamp=e.timestamp),n}static anchorTimestampFromState(e){for(let r=e.log.length-1;r>=0;r--){let n=e.log[r];if(n.timestamp)return n.timestamp}return null}static validDIDString(e){return!(typeof e!="string"||!e.startsWith("did:"))}static stateContainsCommit(e,r){return e.log.find(n=>n.cid.equals(r))!=null}static commitIdFromStreamState(e){let r=e.log[e.log.length-1].cid,n=e.log[0].cid;return new Qr(e.type,n,r)}};function G_(){return G_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},G_.apply(this,arguments)}var z_={name:"chainId",regex:"[-:a-zA-Z0-9]{5,41}",parameters:{delimiter:":",values:{0:{name:"namespace",regex:"[-a-z0-9]{3,8}"},1:{name:"reference",regex:"[-a-zA-Z0-9]{1,32}"}}}},kue={name:"accountId",regex:"[-:a-zA-Z0-9]{7,106}",parameters:{delimiter:":",values:{0:{name:"namespace",regex:"[-a-z0-9]{3,8}"},1:{name:"reference",regex:"[-a-zA-Z0-9]{1,32}"},2:{name:"address",regex:"[a-zA-Z0-9]{1,64}"}}}},q_={name:"assetName",regex:"[-:a-zA-Z0-9]{5,73}",parameters:{delimiter:":",values:{0:{name:"namespace",regex:"[-a-z0-9]{3,8}"},1:{name:"reference",regex:"[-a-zA-Z0-9]{1,64}"}}}},Pue={name:"assetType",regex:"[-:a-zA-Z0-9]{11,115}",parameters:{delimiter:"/",values:{0:z_,1:q_}}},Lue={name:"assetId",regex:"[-:a-zA-Z0-9]{13,148}",parameters:{delimiter:"/",values:{0:z_,1:q_,2:{name:"tokenId",regex:"[-a-zA-Z0-9]{1,32}"}}}},Wy={2:z_,10:kue,19:{assetName:q_,assetType:Pue,assetId:Lue}};function J3(t,e){return t.split(e.parameters.delimiter)}function Yy(t,e){var r=J3(t,e),n={};return r.forEach(function(o,i){n[e.parameters.values[i].name]=o}),n}function mp(t,e){return Object.values(e.parameters.values).map(function(r){var n=t[r.name];return typeof n=="string"?n:mp(n,r)}).join(e.parameters.delimiter)}function Xy(t,e){if(!new RegExp(e.regex).test(t))return!1;var r=J3(t,e);if(r.length!==Object.keys(e.parameters.values).length)return!1;var n=r.map(function(o,i){return new RegExp(e.parameters.values[i].regex).test(o)}).filter(function(o){return!!o});return n.length===r.length}var ia=(function(){function t(r){typeof r=="string"&&(r=t.parse(r)),this.namespace=r.namespace,this.reference=r.reference}t.parse=function(n){if(!Xy(n,this.spec))throw new Error("Invalid "+this.spec.name+" provided: "+n);return new t(Yy(n,this.spec)).toJSON()},t.format=function(n){return mp(n,this.spec)};var e=t.prototype;return e.toString=function(){return t.format(this.toJSON())},e.toJSON=function(){return{namespace:this.namespace,reference:this.reference}},t})();ia.spec=Wy[2];var sa=(function(){function t(r){typeof r=="string"&&(r=t.parse(r)),this.chainId=new ia(r.chainId),this.address=r.address}t.parse=function(n){if(!Xy(n,this.spec))throw new Error("Invalid "+this.spec.name+" provided: "+n);var o=Yy(n,this.spec),i=o.namespace,s=o.reference,a=o.address,c=new ia({namespace:i,reference:s});return new t({chainId:c,address:a}).toJSON()},t.format=function(n){var o=new ia(n.chainId),i=G_({},o.toJSON(),{address:n.address});return mp(i,this.spec)};var e=t.prototype;return e.toString=function(){return t.format(this.toJSON())},e.toJSON=function(){return{chainId:this.chainId.toJSON(),address:this.address}},t})();sa.spec=Wy[10];var Q_=(function(){function t(r){typeof r=="string"&&(r=t.parse(r)),this.namespace=r.namespace,this.reference=r.reference}t.parse=function(n){if(!Xy(n,this.spec))throw new Error("Invalid "+this.spec.name+" provided: "+n);return new t(Yy(n,this.spec)).toJSON()},t.format=function(n){return mp(n,this.spec)};var e=t.prototype;return e.toString=function(){return t.format(this.toJSON())},e.toJSON=function(){return{namespace:this.namespace,reference:this.reference}},t})();Q_.spec=Wy[19].assetName;var Fue=(function(){function t(r){typeof r=="string"&&(r=t.parse(r)),this.chainId=new ia(r.chainId),this.assetName=new Q_(r.assetName)}t.parse=function(n){if(!Xy(n,this.spec))throw new Error("Invalid "+this.spec.name+" provided: "+n);return new t(Yy(n,this.spec)).toJSON()},t.format=function(n){return mp(n,this.spec)};var e=t.prototype;return e.toString=function(){return t.format(this.toJSON())},e.toJSON=function(){return{chainId:this.chainId.toJSON(),assetName:this.assetName}},t})();Fue.spec=Wy[19].assetType;var Uue=(function(){function t(r){typeof r=="string"&&(r=t.parse(r)),this.chainId=new ia(r.chainId),this.assetName=new Q_(r.assetName),this.tokenId=r.tokenId}t.parse=function(n){if(!Xy(n,this.spec))throw new Error("Invalid "+this.spec.name+" provided: "+n);return new t(Yy(n,this.spec)).toJSON()},t.format=function(n){return mp(n,this.spec)};var e=t.prototype;return e.toString=function(){return t.format(this.toJSON())},e.toJSON=function(){return{chainId:this.chainId.toJSON(),assetName:this.assetName.toJSON(),tokenId:this.tokenId}},t})();Uue.spec=Wy[19].assetId;function H3(t){if(typeof t=="string"&&t.includes("@")){let[e,r]=t.split("@");if(!e||!r)throw new Error("Invalid accountId provided");return new sa({address:e,chainId:r})}return new sa(t)}var yp=class extends UU{next(e){let r=this.value;Jt.statesEqual(r,e)||super.next(e)}};var dc=class t extends rd{constructor(e,r,n){super(o=>{this.state$.observers.length===0&&(this.periodicSubscription=nd(0,n).pipe(qb(()=>this._syncState(this.id,{sync:Qt.PREFER_CACHE}))).subscribe()),this.state$.subscribe(o).add(()=>{this.state$.observers.length===0&&this.periodicSubscription?.unsubscribe()})}),this.state$=new yp(e),this._apiUrl=new URL(r)}get value(){return this.state$.value}get state(){return this.state$.value}next(e){this.state$.next(e)}_syncState(e,r){return E(this,null,function*(){let n=yield t._load(e,this._apiUrl,r);this.state$.next(Jt.deserializeState(n))})}get id(){return new ze(this.state$.value.type,this.state$.value.log[0].cid)}static createFromGenesis(e,r,n,o,i){return E(this,null,function*(){let s=new URL("./streams",e),{state:a}=yield rr(s,{method:"POST",body:{type:r,genesis:Jt.serializeCommit(n),opts:o}});return new t(Jt.deserializeState(a),e,i)})}static applyCommit(e,r,n,o,i){return E(this,null,function*(){let s=new URL("./commits",e),{state:a}=yield rr(s,{method:"POST",body:{streamId:r.toString(),commit:Jt.serializeCommit(n),opts:o}});return new t(Jt.deserializeState(a),e,i)})}static _load(e,r,n){return E(this,null,function*(){let o=t3(new URL(`./streams/${e}`,r),n),{state:i}=yield rr(o);return i})}static load(e,r,n,o){return E(this,null,function*(){let i=yield t._load(e,r,o);return new t(Jt.deserializeState(i),r,n)})}static loadStreamCommits(e,r){return E(this,null,function*(){let n=new URL(`./commits/${e}`,r),{commits:o}=yield rr(n);return o.map(i=>({cid:i.cid,value:Jt.deserializeCommit(i.value)}))})}complete(){this.state$.complete()}};var J_={};vt(J_,{JsonPatchError:()=>Fr,_areEquals:()=>tg,applyOperation:()=>Bl,applyPatch:()=>$v,applyReducer:()=>jue,deepClone:()=>$ue,getValueByPointer:()=>Bv,validate:()=>W3,validator:()=>Mv});var Bue=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Mue=Object.prototype.hasOwnProperty;function Lv(t,e){return Mue.call(t,e)}function Fv(t){if(Array.isArray(t)){for(var e=new Array(t.length),r=0;r<e.length;r++)e[r]=""+r;return e}if(Object.keys)return Object.keys(t);var n=[];for(var o in t)Lv(t,o)&&n.push(o);return n}function Rn(t){switch(typeof t){case"object":return JSON.parse(JSON.stringify(t));case"undefined":return null;default:return t}}function Uv(t){for(var e=0,r=t.length,n;e<r;){if(n=t.charCodeAt(e),n>=48&&n<=57){e++;continue}return!1}return!0}function aa(t){return t.indexOf("/")===-1&&t.indexOf("~")===-1?t:t.replace(/~/g,"~0").replace(/\//g,"~1")}function Zy(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}function Pv(t){if(t===void 0)return!0;if(t){if(Array.isArray(t)){for(var e=0,r=t.length;e<r;e++)if(Pv(t[e]))return!0}else if(typeof t=="object"){for(var n=Fv(t),o=n.length,i=0;i<o;i++)if(Pv(t[n[i]]))return!0}}return!1}function K3(t,e){var r=[t];for(var n in e){var o=typeof e[n]=="object"?JSON.stringify(e[n],null,2):e[n];typeof o<"u"&&r.push(n+": "+o)}return r.join(`
`)}var eg=(function(t){Bue(e,t);function e(r,n,o,i,s){var a=this.constructor,c=t.call(this,K3(r,{name:n,index:o,operation:i,tree:s}))||this;return c.name=n,c.index=o,c.operation=i,c.tree=s,Object.setPrototypeOf(c,a.prototype),c.message=K3(r,{name:n,index:o,operation:i,tree:s}),c}return e})(Error);var Fr=eg,$ue=Rn,gp={add:function(t,e,r){return t[e]=this.value,{newDocument:r}},remove:function(t,e,r){var n=t[e];return delete t[e],{newDocument:r,removed:n}},replace:function(t,e,r){var n=t[e];return t[e]=this.value,{newDocument:r,removed:n}},move:function(t,e,r){var n=Bv(r,this.path);n&&(n=Rn(n));var o=Bl(r,{op:"remove",path:this.from}).removed;return Bl(r,{op:"add",path:this.path,value:o}),{newDocument:r,removed:n}},copy:function(t,e,r){var n=Bv(r,this.from);return Bl(r,{op:"add",path:this.path,value:Rn(n)}),{newDocument:r}},test:function(t,e,r){return{newDocument:r,test:tg(t[e],this.value)}},_get:function(t,e,r){return this.value=t[e],{newDocument:r}}},Vue={add:function(t,e,r){return Uv(e)?t.splice(e,0,this.value):t[e]=this.value,{newDocument:r,index:e}},remove:function(t,e,r){var n=t.splice(e,1);return{newDocument:r,removed:n[0]}},replace:function(t,e,r){var n=t[e];return t[e]=this.value,{newDocument:r,removed:n}},move:gp.move,copy:gp.copy,test:gp.test,_get:gp._get};function Bv(t,e){if(e=="")return t;var r={op:"_get",path:e};return Bl(t,r),r.value}function Bl(t,e,r,n,o,i){if(r===void 0&&(r=!1),n===void 0&&(n=!0),o===void 0&&(o=!0),i===void 0&&(i=0),r&&(typeof r=="function"?r(e,0,t,e.path):Mv(e,0)),e.path===""){var s={newDocument:t};if(e.op==="add")return s.newDocument=e.value,s;if(e.op==="replace")return s.newDocument=e.value,s.removed=t,s;if(e.op==="move"||e.op==="copy")return s.newDocument=Bv(t,e.from),e.op==="move"&&(s.removed=t),s;if(e.op==="test"){if(s.test=tg(t,e.value),s.test===!1)throw new Fr("Test operation failed","TEST_OPERATION_FAILED",i,e,t);return s.newDocument=t,s}else{if(e.op==="remove")return s.removed=t,s.newDocument=null,s;if(e.op==="_get")return e.value=t,s;if(r)throw new Fr("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",i,e,t);return s}}else{n||(t=Rn(t));var a=e.path||"",c=a.split("/"),u=t,l=1,f=c.length,d=void 0,p=void 0,h=void 0;for(typeof r=="function"?h=r:h=Mv;;){if(p=c[l],p&&p.indexOf("~")!=-1&&(p=Zy(p)),o&&(p=="__proto__"||p=="prototype"&&l>0&&c[l-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(r&&d===void 0&&(u[p]===void 0?d=c.slice(0,l).join("/"):l==f-1&&(d=e.path),d!==void 0&&h(e,0,t,d)),l++,Array.isArray(u)){if(p==="-")p=u.length;else{if(r&&!Uv(p))throw new Fr("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",i,e,t);Uv(p)&&(p=~~p)}if(l>=f){if(r&&e.op==="add"&&p>u.length)throw new Fr("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",i,e,t);var s=Vue[e.op].call(e,u,p,t);if(s.test===!1)throw new Fr("Test operation failed","TEST_OPERATION_FAILED",i,e,t);return s}}else if(l>=f){var s=gp[e.op].call(e,u,p,t);if(s.test===!1)throw new Fr("Test operation failed","TEST_OPERATION_FAILED",i,e,t);return s}if(u=u[p],r&&l<f&&(!u||typeof u!="object"))throw new Fr("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",i,e,t)}}}function $v(t,e,r,n,o){if(n===void 0&&(n=!0),o===void 0&&(o=!0),r&&!Array.isArray(e))throw new Fr("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");n||(t=Rn(t));for(var i=new Array(e.length),s=0,a=e.length;s<a;s++)i[s]=Bl(t,e[s],r,!0,o,s),t=i[s].newDocument;return i.newDocument=t,i}function jue(t,e,r){var n=Bl(t,e);if(n.test===!1)throw new Fr("Test operation failed","TEST_OPERATION_FAILED",r,e,t);return n.newDocument}function Mv(t,e,r,n){if(typeof t!="object"||t===null||Array.isArray(t))throw new Fr("Operation is not an object","OPERATION_NOT_AN_OBJECT",e,t,r);if(gp[t.op]){if(typeof t.path!="string")throw new Fr("Operation `path` property is not a string","OPERATION_PATH_INVALID",e,t,r);if(t.path.indexOf("/")!==0&&t.path.length>0)throw new Fr('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",e,t,r);if((t.op==="move"||t.op==="copy")&&typeof t.from!="string")throw new Fr("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",e,t,r);if((t.op==="add"||t.op==="replace"||t.op==="test")&&t.value===void 0)throw new Fr("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",e,t,r);if((t.op==="add"||t.op==="replace"||t.op==="test")&&Pv(t.value))throw new Fr("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",e,t,r);if(r){if(t.op=="add"){var o=t.path.split("/").length,i=n.split("/").length;if(o!==i+1&&o!==i)throw new Fr("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",e,t,r)}else if(t.op==="replace"||t.op==="remove"||t.op==="_get"){if(t.path!==n)throw new Fr("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",e,t,r)}else if(t.op==="move"||t.op==="copy"){var s={op:"_get",path:t.from,value:void 0},a=W3([s],r);if(a&&a.name==="OPERATION_PATH_UNRESOLVABLE")throw new Fr("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",e,t,r)}}}else throw new Fr("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",e,t,r)}function W3(t,e,r){try{if(!Array.isArray(t))throw new Fr("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(e)$v(Rn(e),Rn(t),r||!0);else{r=r||Mv;for(var n=0;n<t.length;n++)r(t[n],n,e,void 0)}}catch(o){if(o instanceof Fr)return o;throw o}}function tg(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var r=Array.isArray(t),n=Array.isArray(e),o,i,s;if(r&&n){if(i=t.length,i!=e.length)return!1;for(o=i;o--!==0;)if(!tg(t[o],e[o]))return!1;return!0}if(r!=n)return!1;var a=Object.keys(t);if(i=a.length,i!==Object.keys(e).length)return!1;for(o=i;o--!==0;)if(!e.hasOwnProperty(a[o]))return!1;for(o=i;o--!==0;)if(s=a[o],!tg(t[s],e[s]))return!1;return!0}return t!==t&&e!==e}var Y_={};vt(Y_,{compare:()=>Wue,generate:()=>H_,observe:()=>Kue,unobserve:()=>Hue});var K_=new WeakMap,Gue=(function(){function t(e){this.observers=new Map,this.obj=e}return t})(),zue=(function(){function t(e,r){this.callback=e,this.observer=r}return t})();function que(t){return K_.get(t)}function Que(t,e){return t.observers.get(e)}function Jue(t,e){t.observers.delete(e.callback)}function Hue(t,e){e.unobserve()}function Kue(t,e){var r=[],n,o=que(t);if(!o)o=new Gue(t),K_.set(t,o);else{var i=Que(o,e);n=i&&i.observer}if(n)return n;if(n={},o.value=Rn(t),e){n.callback=e,n.next=null;var s=function(){H_(n)},a=function(){clearTimeout(n.next),n.next=setTimeout(s)};typeof window<"u"&&(window.addEventListener("mouseup",a),window.addEventListener("keyup",a),window.addEventListener("mousedown",a),window.addEventListener("keydown",a),window.addEventListener("change",a))}return n.patches=r,n.object=t,n.unobserve=function(){H_(n),clearTimeout(n.next),Jue(o,n),typeof window<"u"&&(window.removeEventListener("mouseup",a),window.removeEventListener("keyup",a),window.removeEventListener("mousedown",a),window.removeEventListener("keydown",a),window.removeEventListener("change",a))},o.observers.set(e,new zue(e,n)),n}function H_(t,e){e===void 0&&(e=!1);var r=K_.get(t.object);W_(r.value,t.object,t.patches,"",e),t.patches.length&&$v(r.value,t.patches);var n=t.patches;return n.length>0&&(t.patches=[],t.callback&&t.callback(n)),n}function W_(t,e,r,n,o){if(e!==t){typeof e.toJSON=="function"&&(e=e.toJSON());for(var i=Fv(e),s=Fv(t),a=!1,c=!1,u=s.length-1;u>=0;u--){var l=s[u],f=t[l];if(Lv(e,l)&&!(e[l]===void 0&&f!==void 0&&Array.isArray(e)===!1)){var d=e[l];typeof f=="object"&&f!=null&&typeof d=="object"&&d!=null&&Array.isArray(f)===Array.isArray(d)?W_(f,d,r,n+"/"+aa(l),o):f!==d&&(a=!0,o&&r.push({op:"test",path:n+"/"+aa(l),value:Rn(f)}),r.push({op:"replace",path:n+"/"+aa(l),value:Rn(d)}))}else Array.isArray(t)===Array.isArray(e)?(o&&r.push({op:"test",path:n+"/"+aa(l),value:Rn(f)}),r.push({op:"remove",path:n+"/"+aa(l)}),c=!0):(o&&r.push({op:"test",path:n,value:t}),r.push({op:"replace",path:n,value:e}),a=!0)}if(!(!c&&i.length==s.length))for(var u=0;u<i.length;u++){var l=i[u];!Lv(t,l)&&e[l]!==void 0&&r.push({op:"add",path:n+"/"+aa(l),value:Rn(e[l])})}}}function Wue(t,e,r){r===void 0&&(r=!1);var n=[];return W_(t,e,n,"",r),n}var Vv=Object.assign({},J_,Y_,{JsonPatchError:eg,deepClone:Rn,escapePathComponent:aa,unescapePathComponent:Zy});var g4=Rr(Hy(),1);var Yue=["string","number","bigint","symbol"],Xue=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function Y3(t){if(t===null)return"null";if(t===void 0)return"undefined";if(t===!0||t===!1)return"boolean";let e=typeof t;if(Yue.includes(e))return e;if(e==="function")return"Function";if(Array.isArray(t))return"Array";if(Zue(t))return"Buffer";let r=ele(t);return r||"Object"}function Zue(t){return t&&t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer.call(null,t)}function ele(t){let e=Object.prototype.toString.call(t).slice(8,-1);if(Xue.includes(e))return e}var z=class{constructor(e,r,n){this.major=e,this.majorEncoded=e<<5,this.name=r,this.terminal=n}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}};z.uint=new z(0,"uint",!0);z.negint=new z(1,"negint",!0);z.bytes=new z(2,"bytes",!0);z.string=new z(3,"string",!0);z.array=new z(4,"array",!1);z.map=new z(5,"map",!1);z.tag=new z(6,"tag",!1);z.float=new z(7,"float",!0);z.false=new z(7,"false",!0);z.true=new z(7,"true",!0);z.null=new z(7,"null",!0);z.undefined=new z(7,"undefined",!0);z.break=new z(7,"break",!0);var be=class{constructor(e,r,n){this.type=e,this.value=r,this.encodedLength=n,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}};var wp=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&typeof globalThis.Buffer.isBuffer=="function",tle=new TextDecoder,rle=new TextEncoder;function jv(t){return wp&&globalThis.Buffer.isBuffer(t)}function X_(t){return t instanceof Uint8Array?jv(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t:Uint8Array.from(t)}var t5=wp?(t,e,r)=>r-e>64?globalThis.Buffer.from(t.subarray(e,r)).toString("utf8"):Z3(t,e,r):(t,e,r)=>r-e>64?tle.decode(t.subarray(e,r)):Z3(t,e,r),r5=wp?t=>t.length>64?globalThis.Buffer.from(t):X3(t):t=>t.length>64?rle.encode(t):X3(t),ca=t=>Uint8Array.from(t),bp=wp?(t,e,r)=>jv(t)?new Uint8Array(t.subarray(e,r)):t.slice(e,r):(t,e,r)=>t.slice(e,r),n5=wp?(t,e)=>(t=t.map(r=>r instanceof Uint8Array?r:globalThis.Buffer.from(r)),X_(globalThis.Buffer.concat(t,e))):(t,e)=>{let r=new Uint8Array(e),n=0;for(let o of t)n+o.length>r.length&&(o=o.subarray(0,r.length-n)),r.set(o,n),n+=o.length;return r},o5=wp?t=>globalThis.Buffer.allocUnsafe(t):t=>new Uint8Array(t);function i5(t,e){if(jv(t)&&jv(e))return t.compare(e);for(let r=0;r<t.length;r++)if(t[r]!==e[r])return t[r]<e[r]?-1:1;return 0}function X3(t,e=1/0){let r,n=t.length,o=null,i=[];for(let s=0;s<n;++s){if(r=t.charCodeAt(s),r>55295&&r<57344){if(!o){if(r>56319){(e-=3)>-1&&i.push(239,191,189);continue}else if(s+1===n){(e-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(e-=3)>-1&&i.push(239,191,189),o=r;continue}r=(o-55296<<10|r-56320)+65536}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((e-=1)<0)break;i.push(r)}else if(r<2048){if((e-=2)<0)break;i.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;i.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return i}function Z3(t,e,r){let n=[];for(;e<r;){let o=t[e],i=null,s=o>239?4:o>223?3:o>191?2:1;if(e+s<=r){let a,c,u,l;switch(s){case 1:o<128&&(i=o);break;case 2:a=t[e+1],(a&192)===128&&(l=(o&31)<<6|a&63,l>127&&(i=l));break;case 3:a=t[e+1],c=t[e+2],(a&192)===128&&(c&192)===128&&(l=(o&15)<<12|(a&63)<<6|c&63,l>2047&&(l<55296||l>57343)&&(i=l));break;case 4:a=t[e+1],c=t[e+2],u=t[e+3],(a&192)===128&&(c&192)===128&&(u&192)===128&&(l=(o&15)<<18|(a&63)<<12|(c&63)<<6|u&63,l>65535&&l<1114112&&(i=l))}}i===null?(i=65533,s=1):i>65535&&(i-=65536,n.push(i>>>10&1023|55296),i=56320|i&1023),n.push(i),e+=s}return nle(n)}var e5=4096;function nle(t){let e=t.length;if(e<=e5)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=e5));return r}var ole=256,rg=class{constructor(e=ole){this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),this._initReuseChunk!==null&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let r=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){let o=r.length-(this.maxCursor-this.cursor)-1;r.set(e,o)}else{if(r){let o=r.length-(this.maxCursor-this.cursor)-1;o<r.length&&(this.chunks[this.chunks.length-1]=r.subarray(0,o),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(r=o5(this.chunkSize),this.chunks.push(r),this.maxCursor+=r.length,this._initReuseChunk===null&&(this._initReuseChunk=r),r.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(e=!1){let r;if(this.chunks.length===1){let n=this.chunks[0];e&&this.cursor>n.length/2?(r=this.cursor===n.length?n:n.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):r=bp(n,0,this.cursor)}else r=n5(this.chunks,this.cursor);return e&&this.reset(),r}};var Ft="CBOR decode error:",Z_="CBOR encode error:",ng=[];ng[23]=1;ng[24]=2;ng[25]=3;ng[26]=5;ng[27]=9;function pc(t,e,r){if(t.length-e<r)throw new Error(`${Ft} not enough data for type`)}var mn=[24,256,65536,4294967296,BigInt("18446744073709551616")];function ni(t,e,r){pc(t,e,1);let n=t[e];if(r.strict===!0&&n<mn[0])throw new Error(`${Ft} integer encoded in more bytes than necessary (strict decode)`);return n}function oi(t,e,r){pc(t,e,2);let n=t[e]<<8|t[e+1];if(r.strict===!0&&n<mn[1])throw new Error(`${Ft} integer encoded in more bytes than necessary (strict decode)`);return n}function ii(t,e,r){pc(t,e,4);let n=t[e]*16777216+(t[e+1]<<16)+(t[e+2]<<8)+t[e+3];if(r.strict===!0&&n<mn[2])throw new Error(`${Ft} integer encoded in more bytes than necessary (strict decode)`);return n}function si(t,e,r){pc(t,e,8);let n=t[e]*16777216+(t[e+1]<<16)+(t[e+2]<<8)+t[e+3],o=t[e+4]*16777216+(t[e+5]<<16)+(t[e+6]<<8)+t[e+7],i=(BigInt(n)<<BigInt(32))+BigInt(o);if(r.strict===!0&&i<mn[3])throw new Error(`${Ft} integer encoded in more bytes than necessary (strict decode)`);if(i<=Number.MAX_SAFE_INTEGER)return Number(i);if(r.allowBigInt===!0)return i;throw new Error(`${Ft} integers outside of the safe integer range are not supported`)}function s5(t,e,r,n){return new be(z.uint,ni(t,e+1,n),2)}function a5(t,e,r,n){return new be(z.uint,oi(t,e+1,n),3)}function c5(t,e,r,n){return new be(z.uint,ii(t,e+1,n),5)}function u5(t,e,r,n){return new be(z.uint,si(t,e+1,n),9)}function Ui(t,e){return kn(t,0,e.value)}function kn(t,e,r){if(r<mn[0]){let n=Number(r);t.push([e|n])}else if(r<mn[1]){let n=Number(r);t.push([e|24,n])}else if(r<mn[2]){let n=Number(r);t.push([e|25,n>>>8,n&255])}else if(r<mn[3]){let n=Number(r);t.push([e|26,n>>>24&255,n>>>16&255,n>>>8&255,n&255])}else{let n=BigInt(r);if(n<mn[4]){let o=[e|27,0,0,0,0,0,0,0],i=Number(n&BigInt(4294967295)),s=Number(n>>BigInt(32)&BigInt(4294967295));o[8]=i&255,i=i>>8,o[7]=i&255,i=i>>8,o[6]=i&255,i=i>>8,o[5]=i&255,o[4]=s&255,s=s>>8,o[3]=s&255,s=s>>8,o[2]=s&255,s=s>>8,o[1]=s&255,t.push(o)}else throw new Error(`${Ft} encountered BigInt larger than allowable range`)}}Ui.encodedSize=function(e){return kn.encodedSize(e.value)};kn.encodedSize=function(e){return e<mn[0]?1:e<mn[1]?2:e<mn[2]?3:e<mn[3]?5:9};Ui.compareTokens=function(e,r){return e.value<r.value?-1:e.value>r.value?1:0};function l5(t,e,r,n){return new be(z.negint,-1-ni(t,e+1,n),2)}function f5(t,e,r,n){return new be(z.negint,-1-oi(t,e+1,n),3)}function d5(t,e,r,n){return new be(z.negint,-1-ii(t,e+1,n),5)}var eD=BigInt(-1),p5=BigInt(1);function h5(t,e,r,n){let o=si(t,e+1,n);if(typeof o!="bigint"){let i=-1-o;if(i>=Number.MIN_SAFE_INTEGER)return new be(z.negint,i,9)}if(n.allowBigInt!==!0)throw new Error(`${Ft} integers outside of the safe integer range are not supported`);return new be(z.negint,eD-BigInt(o),9)}function Gv(t,e){let r=e.value,n=typeof r=="bigint"?r*eD-p5:r*-1-1;kn(t,e.type.majorEncoded,n)}Gv.encodedSize=function(e){let r=e.value,n=typeof r=="bigint"?r*eD-p5:r*-1-1;return n<mn[0]?1:n<mn[1]?2:n<mn[2]?3:n<mn[3]?5:9};Gv.compareTokens=function(e,r){return e.value<r.value?1:e.value>r.value?-1:0};function og(t,e,r,n){pc(t,e,r+n);let o=bp(t,e+r,e+r+n);return new be(z.bytes,o,r+n)}function m5(t,e,r,n){return og(t,e,1,r)}function y5(t,e,r,n){return og(t,e,2,ni(t,e+1,n))}function g5(t,e,r,n){return og(t,e,3,oi(t,e+1,n))}function w5(t,e,r,n){return og(t,e,5,ii(t,e+1,n))}function b5(t,e,r,n){let o=si(t,e+1,n);if(typeof o=="bigint")throw new Error(`${Ft} 64-bit integer bytes lengths not supported`);return og(t,e,9,o)}function zv(t){return t.encodedBytes===void 0&&(t.encodedBytes=t.type===z.string?r5(t.value):t.value),t.encodedBytes}function Ep(t,e){let r=zv(e);kn(t,e.type.majorEncoded,r.length),t.push(r)}Ep.encodedSize=function(e){let r=zv(e);return kn.encodedSize(r.length)+r.length};Ep.compareTokens=function(e,r){return sle(zv(e),zv(r))};function sle(t,e){return t.length<e.length?-1:t.length>e.length?1:i5(t,e)}function ig(t,e,r,n,o){let i=r+n;pc(t,e,i);let s=new be(z.string,t5(t,e+r,e+i),i);return o.retainStringBytes===!0&&(s.byteValue=bp(t,e+r,e+i)),s}function E5(t,e,r,n){return ig(t,e,1,r,n)}function v5(t,e,r,n){return ig(t,e,2,ni(t,e+1,n),n)}function T5(t,e,r,n){return ig(t,e,3,oi(t,e+1,n),n)}function x5(t,e,r,n){return ig(t,e,5,ii(t,e+1,n),n)}function A5(t,e,r,n){let o=si(t,e+1,n);if(typeof o=="bigint")throw new Error(`${Ft} 64-bit integer string lengths not supported`);return ig(t,e,9,o,n)}var I5=Ep;function vp(t,e,r,n){return new be(z.array,n,r)}function S5(t,e,r,n){return vp(t,e,1,r)}function N5(t,e,r,n){return vp(t,e,2,ni(t,e+1,n))}function _5(t,e,r,n){return vp(t,e,3,oi(t,e+1,n))}function D5(t,e,r,n){return vp(t,e,5,ii(t,e+1,n))}function O5(t,e,r,n){let o=si(t,e+1,n);if(typeof o=="bigint")throw new Error(`${Ft} 64-bit integer array lengths not supported`);return vp(t,e,9,o)}function C5(t,e,r,n){if(n.allowIndefinite===!1)throw new Error(`${Ft} indefinite length items not allowed`);return vp(t,e,1,1/0)}function qv(t,e){kn(t,z.array.majorEncoded,e.value)}qv.compareTokens=Ui.compareTokens;qv.encodedSize=function(e){return kn.encodedSize(e.value)};function Tp(t,e,r,n){return new be(z.map,n,r)}function R5(t,e,r,n){return Tp(t,e,1,r)}function k5(t,e,r,n){return Tp(t,e,2,ni(t,e+1,n))}function P5(t,e,r,n){return Tp(t,e,3,oi(t,e+1,n))}function L5(t,e,r,n){return Tp(t,e,5,ii(t,e+1,n))}function F5(t,e,r,n){let o=si(t,e+1,n);if(typeof o=="bigint")throw new Error(`${Ft} 64-bit integer map lengths not supported`);return Tp(t,e,9,o)}function U5(t,e,r,n){if(n.allowIndefinite===!1)throw new Error(`${Ft} indefinite length items not allowed`);return Tp(t,e,1,1/0)}function Qv(t,e){kn(t,z.map.majorEncoded,e.value)}Qv.compareTokens=Ui.compareTokens;Qv.encodedSize=function(e){return kn.encodedSize(e.value)};function B5(t,e,r,n){return new be(z.tag,r,1)}function M5(t,e,r,n){return new be(z.tag,ni(t,e+1,n),2)}function $5(t,e,r,n){return new be(z.tag,oi(t,e+1,n),3)}function V5(t,e,r,n){return new be(z.tag,ii(t,e+1,n),5)}function j5(t,e,r,n){return new be(z.tag,si(t,e+1,n),9)}function Jv(t,e){kn(t,z.tag.majorEncoded,e.value)}Jv.compareTokens=Ui.compareTokens;Jv.encodedSize=function(e){return kn.encodedSize(e.value)};var dle=20,ple=21,hle=22,mle=23;function G5(t,e,r,n){if(n.allowUndefined===!1)throw new Error(`${Ft} undefined values are not supported`);return n.coerceUndefinedToNull===!0?new be(z.null,null,1):new be(z.undefined,void 0,1)}function z5(t,e,r,n){if(n.allowIndefinite===!1)throw new Error(`${Ft} indefinite length items not allowed`);return new be(z.break,void 0,1)}function tD(t,e,r){if(r){if(r.allowNaN===!1&&Number.isNaN(t))throw new Error(`${Ft} NaN values are not supported`);if(r.allowInfinity===!1&&(t===1/0||t===-1/0))throw new Error(`${Ft} Infinity values are not supported`)}return new be(z.float,t,e)}function q5(t,e,r,n){return tD(rD(t,e+1),3,n)}function Q5(t,e,r,n){return tD(nD(t,e+1),5,n)}function J5(t,e,r,n){return tD(Y5(t,e+1),9,n)}function Hv(t,e,r){let n=e.value;if(n===!1)t.push([z.float.majorEncoded|dle]);else if(n===!0)t.push([z.float.majorEncoded|ple]);else if(n===null)t.push([z.float.majorEncoded|hle]);else if(n===void 0)t.push([z.float.majorEncoded|mle]);else{let o,i=!1;(!r||r.float64!==!0)&&(K5(n),o=rD(Ns,1),n===o||Number.isNaN(n)?(Ns[0]=249,t.push(Ns.slice(0,3)),i=!0):(W5(n),o=nD(Ns,1),n===o&&(Ns[0]=250,t.push(Ns.slice(0,5)),i=!0))),i||(yle(n),o=Y5(Ns,1),Ns[0]=251,t.push(Ns.slice(0,9)))}}Hv.encodedSize=function(e,r){let n=e.value;if(n===!1||n===!0||n===null||n===void 0)return 1;if(!r||r.float64!==!0){K5(n);let o=rD(Ns,1);if(n===o||Number.isNaN(n))return 3;if(W5(n),o=nD(Ns,1),n===o)return 5}return 9};var H5=new ArrayBuffer(9),Bi=new DataView(H5,1),Ns=new Uint8Array(H5,0);function K5(t){if(t===1/0)Bi.setUint16(0,31744,!1);else if(t===-1/0)Bi.setUint16(0,64512,!1);else if(Number.isNaN(t))Bi.setUint16(0,32256,!1);else{Bi.setFloat32(0,t);let e=Bi.getUint32(0),r=(e&2139095040)>>23,n=e&8388607;if(r===255)Bi.setUint16(0,31744,!1);else if(r===0)Bi.setUint16(0,(t&2147483648)>>16|n>>13,!1);else{let o=r-127;o<-24?Bi.setUint16(0,0):o<-14?Bi.setUint16(0,(e&2147483648)>>16|1<<24+o,!1):Bi.setUint16(0,(e&2147483648)>>16|o+15<<10|n>>13,!1)}}}function rD(t,e){if(t.length-e<2)throw new Error(`${Ft} not enough data for float16`);let r=(t[e]<<8)+t[e+1];if(r===31744)return 1/0;if(r===64512)return-1/0;if(r===32256)return NaN;let n=r>>10&31,o=r&1023,i;return n===0?i=o*2**-24:n!==31?i=(o+1024)*2**(n-25):i=o===0?1/0:NaN,r&32768?-i:i}function W5(t){Bi.setFloat32(0,t,!1)}function nD(t,e){if(t.length-e<4)throw new Error(`${Ft} not enough data for float32`);let r=(t.byteOffset||0)+e;return new DataView(t.buffer,r,4).getFloat32(0,!1)}function yle(t){Bi.setFloat64(0,t,!1)}function Y5(t,e){if(t.length-e<8)throw new Error(`${Ft} not enough data for float64`);let r=(t.byteOffset||0)+e;return new DataView(t.buffer,r,8).getFloat64(0,!1)}Hv.compareTokens=Ui.compareTokens;function Ut(t,e,r){throw new Error(`${Ft} encountered invalid minor (${r}) for major ${t[e]>>>5}`)}function Kv(t){return()=>{throw new Error(`${Ft} ${t}`)}}var le=[];for(let t=0;t<=23;t++)le[t]=Ut;le[24]=s5;le[25]=a5;le[26]=c5;le[27]=u5;le[28]=Ut;le[29]=Ut;le[30]=Ut;le[31]=Ut;for(let t=32;t<=55;t++)le[t]=Ut;le[56]=l5;le[57]=f5;le[58]=d5;le[59]=h5;le[60]=Ut;le[61]=Ut;le[62]=Ut;le[63]=Ut;for(let t=64;t<=87;t++)le[t]=m5;le[88]=y5;le[89]=g5;le[90]=w5;le[91]=b5;le[92]=Ut;le[93]=Ut;le[94]=Ut;le[95]=Kv("indefinite length bytes/strings are not supported");for(let t=96;t<=119;t++)le[t]=E5;le[120]=v5;le[121]=T5;le[122]=x5;le[123]=A5;le[124]=Ut;le[125]=Ut;le[126]=Ut;le[127]=Kv("indefinite length bytes/strings are not supported");for(let t=128;t<=151;t++)le[t]=S5;le[152]=N5;le[153]=_5;le[154]=D5;le[155]=O5;le[156]=Ut;le[157]=Ut;le[158]=Ut;le[159]=C5;for(let t=160;t<=183;t++)le[t]=R5;le[184]=k5;le[185]=P5;le[186]=L5;le[187]=F5;le[188]=Ut;le[189]=Ut;le[190]=Ut;le[191]=U5;for(let t=192;t<=215;t++)le[t]=B5;le[216]=M5;le[217]=$5;le[218]=V5;le[219]=j5;le[220]=Ut;le[221]=Ut;le[222]=Ut;le[223]=Ut;for(let t=224;t<=243;t++)le[t]=Kv("simple values are not supported");le[244]=Ut;le[245]=Ut;le[246]=Ut;le[247]=G5;le[248]=Kv("simple values are not supported");le[249]=q5;le[250]=Q5;le[251]=J5;le[252]=Ut;le[253]=Ut;le[254]=Ut;le[255]=z5;var ua=[];for(let t=0;t<24;t++)ua[t]=new be(z.uint,t,1);for(let t=-1;t>=-24;t--)ua[31-t]=new be(z.negint,t,1);ua[64]=new be(z.bytes,new Uint8Array(0),1);ua[96]=new be(z.string,"",1);ua[128]=new be(z.array,0,1);ua[160]=new be(z.map,0,1);ua[244]=new be(z.false,!1,1);ua[245]=new be(z.true,!0,1);ua[246]=new be(z.null,null,1);function X5(t){switch(t.type){case z.false:return ca([244]);case z.true:return ca([245]);case z.null:return ca([246]);case z.bytes:return t.value.length?void 0:ca([64]);case z.string:return t.value===""?ca([96]):void 0;case z.array:return t.value===0?ca([128]):void 0;case z.map:return t.value===0?ca([160]):void 0;case z.uint:return t.value<24?ca([Number(t.value)]):void 0;case z.negint:if(t.value>=-24)return ca([31-Number(t.value)])}}var wle={float64:!1,mapSorter:vle,quickEncodeToken:X5};function ble(){let t=[];return t[z.uint.major]=Ui,t[z.negint.major]=Gv,t[z.bytes.major]=Ep,t[z.string.major]=I5,t[z.array.major]=qv,t[z.map.major]=Qv,t[z.tag.major]=Jv,t[z.float.major]=Hv,t}var Z5=ble(),oD=new rg,Yv=class t{constructor(e,r){this.obj=e,this.parent=r}includes(e){let r=this;do if(r.obj===e)return!0;while(r=r.parent);return!1}static createCheck(e,r){if(e&&e.includes(r))throw new Error(`${Z_} object contains circular references`);return new t(r,e)}},hu={null:new be(z.null,null),undefined:new be(z.undefined,void 0),true:new be(z.true,!0),false:new be(z.false,!1),emptyArray:new be(z.array,0),emptyMap:new be(z.map,0)},mu={number(t,e,r,n){return!Number.isInteger(t)||!Number.isSafeInteger(t)?new be(z.float,t):t>=0?new be(z.uint,t):new be(z.negint,t)},bigint(t,e,r,n){return t>=BigInt(0)?new be(z.uint,t):new be(z.negint,t)},Uint8Array(t,e,r,n){return new be(z.bytes,t)},string(t,e,r,n){return new be(z.string,t)},boolean(t,e,r,n){return t?hu.true:hu.false},null(t,e,r,n){return hu.null},undefined(t,e,r,n){return hu.undefined},ArrayBuffer(t,e,r,n){return new be(z.bytes,new Uint8Array(t))},DataView(t,e,r,n){return new be(z.bytes,new Uint8Array(t.buffer,t.byteOffset,t.byteLength))},Array(t,e,r,n){if(!t.length)return r.addBreakTokens===!0?[hu.emptyArray,new be(z.break)]:hu.emptyArray;n=Yv.createCheck(n,t);let o=[],i=0;for(let s of t)o[i++]=Wv(s,r,n);return r.addBreakTokens?[new be(z.array,t.length),o,new be(z.break)]:[new be(z.array,t.length),o]},Object(t,e,r,n){let o=e!=="Object",i=o?t.keys():Object.keys(t),s=o?t.size:i.length;if(!s)return r.addBreakTokens===!0?[hu.emptyMap,new be(z.break)]:hu.emptyMap;n=Yv.createCheck(n,t);let a=[],c=0;for(let u of i)a[c++]=[Wv(u,r,n),Wv(o?t.get(u):t[u],r,n)];return Ele(a,r),r.addBreakTokens?[new be(z.map,s),a,new be(z.break)]:[new be(z.map,s),a]}};mu.Map=mu.Object;mu.Buffer=mu.Uint8Array;for(let t of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))mu[`${t}Array`]=mu.DataView;function Wv(t,e={},r){let n=Y3(t),o=e&&e.typeEncoders&&e.typeEncoders[n]||mu[n];if(typeof o=="function"){let s=o(t,n,e,r);if(s!=null)return s}let i=mu[n];if(!i)throw new Error(`${Z_} unsupported type: ${n}`);return i(t,n,e,r)}function Ele(t,e){e.mapSorter&&t.sort(e.mapSorter)}function vle(t,e){let r=Array.isArray(t[0])?t[0][0]:t[0],n=Array.isArray(e[0])?e[0][0]:e[0];if(r.type!==n.type)return r.type.compare(n.type);let o=r.type.major,i=Z5[o].compareTokens(r,n);return i===0&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),i}function e4(t,e,r,n){if(Array.isArray(e))for(let o of e)e4(t,o,r,n);else r[e.type.major](t,e,n)}function Tle(t,e,r){let n=Wv(t,r);if(!Array.isArray(n)&&r.quickEncodeToken){let o=r.quickEncodeToken(n);if(o)return o;let i=e[n.type.major];if(i.encodedSize){let s=i.encodedSize(n,r),a=new rg(s);if(i(a,n,r),a.chunks.length!==1)throw new Error(`Unexpected error: pre-calculated length for ${n} was wrong`);return X_(a.chunks[0])}}return oD.reset(),e4(oD,n,e,r),oD.toBytes(!0)}function iD(t,e){return e=Object.assign({},wle,e),Tle(t,Z5,e)}var I4e=Symbol.for("DONE"),S4e=Symbol.for("BREAK");var Ile=n4,t4=128,Sle=127,Nle=~Sle,_le=Math.pow(2,31);function n4(t,e,r){e=e||[],r=r||0;for(var n=r;t>=_le;)e[r++]=t&255|t4,t/=128;for(;t&Nle;)e[r++]=t&255|t4,t>>>=7;return e[r]=t|0,n4.bytes=r-n+1,e}var Dle=sD,Ole=128,r4=127;function sD(t,n){var r=0,n=n||0,o=0,i=n,s,a=t.length;do{if(i>=a)throw sD.bytes=0,new RangeError("Could not decode varint");s=t[i++],r+=o<28?(s&r4)<<o:(s&r4)*Math.pow(2,o),o+=7}while(s>=Ole);return sD.bytes=i-n,r}var Cle=Math.pow(2,7),Rle=Math.pow(2,14),kle=Math.pow(2,21),Ple=Math.pow(2,28),Lle=Math.pow(2,35),Fle=Math.pow(2,42),Ule=Math.pow(2,49),Ble=Math.pow(2,56),Mle=Math.pow(2,63),$le=function(t){return t<Cle?1:t<Rle?2:t<kle?3:t<Ple?4:t<Lle?5:t<Fle?6:t<Ule?7:t<Ble?8:t<Mle?9:10},Vle={encode:Ile,decode:Dle,encodingLength:$le},jle=Vle,sg=jle;var ag=(t,e=0)=>[sg.decode(t,e),sg.decode.bytes],xp=(t,e,r=0)=>(sg.encode(t,e,r),e),Ap=t=>sg.encodingLength(t);var k4e=new Uint8Array(0);var i4=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},Ip=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")};var s4=(t,e)=>{let r=e.byteLength,n=Ap(t),o=n+Ap(r),i=new Uint8Array(o+r);return xp(t,i,0),xp(r,i,n),i.set(e,o),new Sp(t,r,e,i)},a4=t=>{let e=Ip(t),[r,n]=ag(e),[o,i]=ag(e.subarray(n)),s=e.subarray(n+i);if(s.byteLength!==o)throw new Error("Incorrect length");return new Sp(r,o,s,e)},c4=(t,e)=>t===e?!0:t.code===e.code&&t.size===e.size&&i4(t.bytes,e.bytes),Sp=class{constructor(e,r,n,o){this.code=e,this.size=r,this.digest=n,this.bytes=o}};function zle(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var o=0;o<t.length;o++){var i=t.charAt(o),s=i.charCodeAt(0);if(r[s]!==255)throw new TypeError(i+" is ambiguous");r[s]=o}var a=t.length,c=t.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function f(h){if(h instanceof Uint8Array||(ArrayBuffer.isView(h)?h=new Uint8Array(h.buffer,h.byteOffset,h.byteLength):Array.isArray(h)&&(h=Uint8Array.from(h))),!(h instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(h.length===0)return"";for(var m=0,g=0,w=0,T=h.length;w!==T&&h[w]===0;)w++,m++;for(var v=(T-w)*l+1>>>0,x=new Uint8Array(v);w!==T;){for(var A=h[w],_=0,O=v-1;(A!==0||_<g)&&O!==-1;O--,_++)A+=256*x[O]>>>0,x[O]=A%a>>>0,A=A/a>>>0;if(A!==0)throw new Error("Non-zero carry");g=_,w++}for(var C=v-g;C!==v&&x[C]===0;)C++;for(var I=c.repeat(m);C<v;++C)I+=t.charAt(x[C]);return I}function d(h){if(typeof h!="string")throw new TypeError("Expected String");if(h.length===0)return new Uint8Array;var m=0;if(h[m]!==" "){for(var g=0,w=0;h[m]===c;)g++,m++;for(var T=(h.length-m)*u+1>>>0,v=new Uint8Array(T);h[m];){var x=r[h.charCodeAt(m)];if(x===255)return;for(var A=0,_=T-1;(x!==0||A<w)&&_!==-1;_--,A++)x+=a*v[_]>>>0,v[_]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");w=A,m++}if(h[m]!==" "){for(var O=T-w;O!==T&&v[O]===0;)O++;for(var C=new Uint8Array(g+(T-O)),I=g;O!==T;)C[I++]=v[O++];return C}}}function p(h){var m=d(h);if(m)return m;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:d,decode:p}}var qle=zle,Qle=qle,u4=Qle;var aD=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},cD=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return l4(this,e)}},uD=class{constructor(e){this.decoders=e}or(e){return l4(this,e)}decode(e){let r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},l4=(t,e)=>new uD(b(b({},t.decoders||{[t.prefix]:t}),e.decoders||{[e.prefix]:e})),lD=class{constructor(e,r,n,o){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=o,this.encoder=new aD(e,r,n),this.decoder=new cD(e,r,o)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},f4=({name:t,prefix:e,encode:r,decode:n})=>new lD(t,e,r,n),fD=({prefix:t,name:e,alphabet:r})=>{let{encode:n,decode:o}=u4(r,e);return f4({prefix:t,name:e,encode:n,decode:i=>Ip(o(i))})},Jle=(t,e,r,n)=>{let o={};for(let l=0;l<e.length;++l)o[e[l]]=l;let i=t.length;for(;t[i-1]==="=";)--i;let s=new Uint8Array(i*r/8|0),a=0,c=0,u=0;for(let l=0;l<i;++l){let f=o[t[l]];if(f===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|f,a+=r,a>=8&&(a-=8,s[u++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return s},Hle=(t,e,r)=>{let n=e[e.length-1]==="=",o=(1<<r)-1,i="",s=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],s+=8;s>r;)s-=r,i+=e[o&a>>s];if(s&&(i+=e[o&a<<r-s]),n)for(;i.length*r&7;)i+="=";return i},la=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>f4({prefix:e,name:t,encode(o){return Hle(o,n,r)},decode(o){return Jle(o,n,r,t)}});var hc=fD({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),j4e=fD({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var cg=la({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),q4e=la({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Q4e=la({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),J4e=la({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),H4e=la({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),K4e=la({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),W4e=la({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Y4e=la({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),X4e=la({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var lg=class t{constructor(e,r,n,o){this.code=r,this.version=e,this.multihash=n,this.bytes=o,this.byteOffset=o.byteOffset,this.byteLength=o.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:Zv,byteLength:Zv,code:Xv,version:Xv,multihash:Xv,bytes:Xv,_baseCache:Zv,asCID:Zv})}toV0(){switch(this.version){case 0:return this;default:{let{code:e,multihash:r}=this;if(e!==ug)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==Xle)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return t.createV0(r)}}}toV1(){switch(this.version){case 0:{let{code:e,digest:r}=this.multihash,n=s4(e,r);return t.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&c4(this.multihash,e.multihash)}toString(e){let{bytes:r,version:n,_baseCache:o}=this;switch(n){case 0:return Wle(r,o,e||hc.encoder);default:return Yle(r,o,e||cg.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return efe(/^0\.0/,tfe),!!(e&&(e[p4]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof t)return e;if(e!=null&&e.asCID===e){let{version:r,code:n,multihash:o,bytes:i}=e;return new t(r,n,o,i||d4(r,n,o.bytes))}else if(e!=null&&e[p4]===!0){let{version:r,multihash:n,code:o}=e,i=a4(n);return t.create(r,o,i)}else return null}static create(e,r,n){if(typeof r!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(r!==ug)throw new Error(`Version 0 CID must use dag-pb (code: ${ug}) block encoding`);return new t(e,r,n,n.bytes)}case 1:{let o=d4(e,r,n.bytes);return new t(e,r,n,o)}default:throw new Error("Invalid version")}}static createV0(e){return t.create(0,ug,e)}static createV1(e,r){return t.create(1,e,r)}static decode(e){let[r,n]=t.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return r}static decodeFirst(e){let r=t.inspectBytes(e),n=r.size-r.multihashSize,o=Ip(e.subarray(n,n+r.multihashSize));if(o.byteLength!==r.multihashSize)throw new Error("Incorrect length");let i=o.subarray(r.multihashSize-r.digestSize),s=new Sp(r.multihashCode,r.digestSize,i,o);return[r.version===0?t.createV0(s):t.createV1(r.codec,s),e.subarray(r.size)]}static inspectBytes(e){let r=0,n=()=>{let[f,d]=ag(e.subarray(r));return r+=d,f},o=n(),i=ug;if(o===18?(o=0,r=0):o===1&&(i=n()),o!==0&&o!==1)throw new RangeError(`Invalid CID version ${o}`);let s=r,a=n(),c=n(),u=r+c,l=u-s;return{version:o,codec:i,multihashCode:a,digestSize:c,multihashSize:l,size:u}}static parse(e,r){let[n,o]=Kle(e,r),i=t.decode(o);return i._baseCache.set(n,e),i}},Kle=(t,e)=>{switch(t[0]){case"Q":{let r=e||hc;return[hc.prefix,r.decode(`${hc.prefix}${t}`)]}case hc.prefix:{let r=e||hc;return[hc.prefix,r.decode(t)]}case cg.prefix:{let r=e||cg;return[cg.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},Wle=(t,e,r)=>{let{prefix:n}=r;if(n!==hc.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let o=e.get(n);if(o==null){let i=r.encode(t).slice(1);return e.set(n,i),i}else return o},Yle=(t,e,r)=>{let{prefix:n}=r,o=e.get(n);if(o==null){let i=r.encode(t);return e.set(n,i),i}else return o},ug=112,Xle=18,d4=(t,e,r)=>{let n=Ap(t),o=n+Ap(e),i=new Uint8Array(o+r.byteLength);return xp(t,i,0),xp(e,i,n),i.set(r,o),i},p4=Symbol.for("@ipld/js-cid/CID"),Xv={writable:!1,configurable:!1,enumerable:!0},Zv={writable:!1,enumerable:!1,configurable:!1},Zle="0.0.0-dev",efe=(t,e)=>{if(t.test(Zle))console.warn(e);else throw new Error(e)},tfe=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`;var h4=42;function rfe(t){if(t.asCID!==t)return null;let e=lg.asCID(t);if(!e)return null;let r=new Uint8Array(e.bytes.byteLength+1);return r.set(e.bytes,1),[new be(z.tag,h4),new be(z.bytes,r)]}function nfe(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function ofe(t){if(Number.isNaN(t))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(t===1/0||t===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}var ife={float64:!0,typeEncoders:{Object:rfe,undefined:nfe,number:ofe}};function sfe(t){if(t[0]!==0)throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return lg.decode(t.subarray(1))}var afe={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};afe.tags[h4]=sfe;var m4=t=>iD(t,ife);var w4=Rr(jy(),1);var ufe=function(t,e,r,n){var o=arguments.length,i=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(i=(o<3?s(i):o>3?s(e,r,i):s(e,r))||i);return o>3&&i&&Object.defineProperty(e,r,i),i},mc,dD={anchor:!0,publish:!0,sync:Qt.PREFER_CACHE},lfe={sync:Qt.PREFER_CACHE},y4={anchor:!0,publish:!0};function pD(t,e){if(typeof t?.schema=="string")try{Qr.fromString(t.schema)}catch{throw new Error("Schema must be a CommitID")}let r={controllers:t?.controllers,family:t?.family,schema:t?.schema?.toString(),tags:t?.tags};if(e)t?.deterministic||(r.unique=gt((0,w4.randomBytes)(12),"base64")),t?.forbidControllerChange&&(r.forbidControllerChange=!0);else{if(t?.deterministic!==void 0||t?.unique!==void 0)throw new Error("Cannot change 'deterministic' or 'unique' properties on existing Streams");if(t?.forbidControllerChange!==void 0)throw new Error("Cannot change 'forbidControllerChange' property on existing Streams")}return Object.keys(r).forEach(n=>r[n]===void 0&&delete r[n]),r}function hD(){return E(this,null,function*(){throw new Error("Historical stream commits cannot be modified. Load the stream without specifying a commit to make updates.")})}var fa=mc=class extends na{constructor(){super(...arguments),this._isReadOnly=!1}get content(){return super.content}get metadata(){let{next:e,metadata:r}=this.state$.value;return(0,g4.default)(e?.metadata??r)}get controllers(){return this.metadata.controllers}static create(i,s,a){return E(this,arguments,function*(e,r,n,o={}){o=b(b({},dD),o),!n?.deterministic&&o.syncTimeoutSeconds==null&&(o.syncTimeoutSeconds=0);let c=o.asDID?tn.fromDID(o.asDID):o.signer||e.signer,u=yield mc.makeGenesis(c,r,n);return e.createStreamFromGenesis(mc.STREAM_TYPE_ID,u,o)})}static createFromGenesis(o,i){return E(this,arguments,function*(e,r,n={}){n=b(b({},dD),n);let s=n.asDID?tn.fromDID(n.asDID):n.signer||e.signer;r.header?.unique&&n.syncTimeoutSeconds==null&&(n.syncTimeoutSeconds=0);let a=r.data?yield s.createDagJWS(r):r;return e.createStreamFromGenesis(mc.STREAM_TYPE_ID,a,n)})}static deterministic(o,i){return E(this,arguments,function*(e,r,n={}){n=b(b({},dD),n),r=S(b({},r),{deterministic:!0});let s=n.asDID?tn.fromDID(n.asDID):n.signer||e.signer;if(r.family==null&&r.tags==null)throw new Error("Family and/or tags are required when creating a deterministic tile document");let a=yield mc.makeGenesis(s,null,r);return e.createStreamFromGenesis(mc.STREAM_TYPE_ID,a,n)})}static load(o,i){return E(this,arguments,function*(e,r,n={}){n=b(b({},lfe),n);let s=Cn.from(r);if(s.type!=mc.STREAM_TYPE_ID)throw new Error(`StreamID ${s.toString()} does not refer to a '${mc.STREAM_TYPE_NAME}' stream, but to a ${s.typeName}`);return e.loadStream(s,n)})}update(o,i){return E(this,arguments,function*(e,r,n={}){n=b(b({},y4),n);let s=n.asDID?tn.fromDID(n.asDID):n.signer||this.api.signer,a=yield this.makeCommit(s,e,r),c=yield this.api.applyCommit(this.id,a,n);this.state$.next(c.state)})}patch(n){return E(this,arguments,function*(e,r={}){r=b(b({},y4),r);let o=r.asDID?tn.fromDID(r.asDID):r.signer||this.api.signer,s={header:pD(this.metadata,!1),data:e,prev:this.tip,id:this.id.cid},a=yield o.createDagJWS(s),c=yield this.api.applyCommit(this.id,a,r);this.state$.next(c.state)})}makeReadOnly(){this.update=hD,this.patch=hD,this.sync=hD,this._isReadOnly=!0}get isReadOnly(){return this._isReadOnly}makeCommit(e,r,n){return E(this,null,function*(){let o=yield this._makeRawCommit(r,n);return e.signer.createDagJWS(o)})}_makeRawCommit(e,r){return E(this,null,function*(){r||(r={});let n=pD(r,!1);if(e==null&&(e=this.content),n.controllers){if(n.controllers.length!==1)throw new Error("Exactly one controller must be specified");if(!n.controllers[0])throw new Error("Controller cannot be updated to an undefined value.")}let o=Vv.compare(this.content,e),i=this.state.log[0];return{header:n,data:o,prev:this.tip,id:i.cid}})}static makeGenesis(e,r,n){return E(this,null,function*(){if(n||(n={}),(!n.controllers||n.controllers.length===0)&&(n.controllers=[yield e.signer.asController()]),n.controllers?.length!==1)throw new Error("Exactly one controller must be specified");let o=pD(n,!0);if(n?.deterministic&&r)throw new Error("Initial content must be null when creating a deterministic Tile document");if(r==null){let s={header:o};return m4(s),s}let i={data:r,header:o};return e.signer.createDagJWS(i)})}};fa.STREAM_TYPE_NAME="tile";fa.STREAM_TYPE_ID=0;fa=mc=ufe([pu()],fa);function ffe(t,e){try{var r=t()}catch(n){return e(n)}return r&&r.then?r.then(void 0,e):r}function dfe(){let t=new Map;return function(e,r){try{let i=function(a){if(o)return a;let c=t.get(e.didUrl);return c!==void 0?c:Promise.resolve(r()).then(function(u){var l;return((l=u.didResolutionMetadata)==null?void 0:l.error)!=="notFound"&&t.set(e.didUrl,u),u})};var n=i;let o,s=(function(){if(e.params&&e.params["no-cache"]==="true")return Promise.resolve(r()).then(function(a){return o=1,a})})();return Promise.resolve(s&&s.then?s.then(i):i(s))}catch(o){return Promise.reject(o)}}}function pfe(t,e){return e()}var hfe="(?:%[0-9a-fA-F]{2})",b4=`(?:[a-zA-Z0-9._-]|${hfe})`,mfe="([a-z0-9]+)",yfe=`((?:${b4}*:)*(${b4}+))`,E4="[a-zA-Z0-9_.:%-]",gfe=`;${E4}+=${E4}*`,wfe=`((${gfe})*)`,bfe="(/[^#?]*)?",Efe="([?][^#]*)?",vfe="(#.*)?",Tfe=new RegExp(`^did:${mfe}:${yfe}${wfe}${bfe}${Efe}${vfe}$`);function mD(t){if(t===""||!t)return null;let e=t.match(Tfe);if(e){let r={did:`did:${e[1]}:${e[2]}`,method:e[1],id:e[2],didUrl:t};if(e[4]){let n=e[4].slice(1).split(";");r.params={};for(let o of n){let i=o.split("=");r.params[i[0]]=i[1]}}return e[6]&&(r.path=e[6]),e[7]&&(r.query=e[7].slice(1)),e[8]&&(r.fragment=e[8].slice(1)),r}return null}var eT={didResolutionMetadata:{},didDocument:null,didDocumentMetadata:{}};function xfe(t){return function(e,r,n){try{return Promise.resolve(ffe(function(){return Promise.resolve(t(e,r,n)).then(function(o){return S(b({},eT),{didResolutionMetadata:{contentType:"application/did+ld+json"},didDocument:o})})},function(o){return S(b({},eT),{didResolutionMetadata:{error:"notFound",message:o.toString()}})}))}catch(o){return Promise.reject(o)}}}var tT=class{constructor(e={},r={}){this.registry=void 0,this.cache=void 0,this.registry=e,this.cache=r.cache===!0?dfe():r.cache||pfe,r.legacyResolvers&&Object.keys(r.legacyResolvers).map(n=>{this.registry[n]||(this.registry[n]=xfe(r.legacyResolvers[n]))})}resolve(e,r={}){try{let n=this,o=mD(e);if(o===null)return Promise.resolve(S(b({},eT),{didResolutionMetadata:{error:"invalidDid"}}));let i=n.registry[o.method];return i?Promise.resolve(n.cache(o,()=>i(o.did,o,n,r))):Promise.resolve(S(b({},eT),{didResolutionMetadata:{error:"unsupportedDidMethod"}}))}catch(n){return Promise.reject(n)}}};var T4=Rr(Hy(),1);var Afe=function(t,e,r,n){var o=arguments.length,i=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(i=(o<3?s(i):o>3?s(e,r,i):s(e,r))||i);return o>3&&i&&Object.defineProperty(e,r,i),i},$l,yD=()=>{throw new Error("Historical stream commits cannot be modified. Load the stream without specifying a commit to make updates.")},v4={anchor:!1,publish:!0,sync:Qt.PREFER_CACHE},gD={anchor:!0,publish:!0},Ife={sync:Qt.PREFER_CACHE},da=$l=class extends na{constructor(){super(...arguments),this._isReadOnly=!1}get did(){return this.content}get metadata(){let{next:e,metadata:r}=this.state$.value;return(0,T4.default)(e?.metadata??r)}get controllers(){return this.metadata.controllers}static fromAccount(o,i){return E(this,arguments,function*(e,r,n={}){n=b(b({},v4),n);let s=H3(r),a=$l.makeGenesis(s);return $l.fromGenesis(e,a,n)})}static fromGenesis(o,i){return E(this,arguments,function*(e,r,n={}){return n=b(b({},v4),n),e.createStreamFromGenesis($l.STREAM_TYPE_ID,r,n)})}setDid(o,i){return E(this,arguments,function*(e,r,n={}){n=b(b({},gD),n);let s=typeof e=="string"?e.trim():e.id;if(mD(s)?.did!==s)throw new Error(`DID is not valid: '${s}'`);let c=yield r.createLink(s);return this.setDidProof(c,n)})}setDidProof(n){return E(this,arguments,function*(e,r={}){r=b(b({},gD),r);let o=this.makeCommit(e),i=yield this.api.applyCommit(this.id,o,r);this.state$.next(i.state)})}clearDid(n){return E(this,arguments,function*(e,r={}){r=b(b({},gD),r);let o=yield e.createLink("");return this.setDidProof(o,r)})}static load(o,i){return E(this,arguments,function*(e,r,n={}){n=b(b({},Ife),n);let s=Cn.from(r);if(s.type!=$l.STREAM_TYPE_ID)throw new Error(`StreamID ${s.toString()} does not refer to a '${$l.STREAM_TYPE_NAME}' stream, but to a ${s.typeName}`);return e.loadStream(s,n)})}static makeGenesis(e){return e.chainId.namespace==="eip155"&&(e.address=e.address.toLowerCase()),{header:{controllers:[`${e.address}@${e.chainId.toString()}`],family:`caip10-${e.chainId.toString()}`}}}makeCommit(e){return{data:e,prev:this.tip,id:this.id.cid}}makeReadOnly(){this.setDidProof=yD,this.setDid=yD,this.sync=yD,this._isReadOnly=!0}get isReadOnly(){return this._isReadOnly}};da.STREAM_TYPE_NAME="caip10-link";da.STREAM_TYPE_ID=1;da=$l=Afe([pu()],da);function It(t){return t._tag==="Left"}function Mi(t){return{_tag:"Left",left:t}}function vr(t){return{_tag:"Right",right:t}}function rT(t){if(It(t))throw t.left;return t.right}function wD(t){return t.displayName||t.name||`<function${t.length}>`}function Sfe(t){return typeof t=="function"?wD(t):typeof t=="number"&&!isFinite(t)?isNaN(t)?"NaN":t>0?"Infinity":"-Infinity":JSON.stringify(t)}function Nfe(t){return"/"+t.map(({key:e,type:r})=>`${e}(${r.name})`).join("/")}var nT=class extends Error{trail;constructor(e,r=`Invalid value ${Sfe(e[e.length-1].actual)} supplied to ${Nfe(e)}`){super(r),this.trail=e}get value(){return this.trail[this.trail.length-1].actual}};function pa(t){return t}var _o=class{_A;_I;_O;name;constructor(e){this.name=e}pipe(e,r=`${this.name}\u2192${e.name}`){return new ai(r,e.is,(n,o)=>{let i=this.decode(n,o);return It(i)?i:e.decode(i.right,o)},this.encode===pa&&e.encode===pa?pa:n=>this.encode(e.encode(n)))}parse(e,r=dg.root(this,e)){let n=this.decode(e,r);if(It(n))throw new Error(`Something is wrong: ${n} should be Right`);return n.right}},ai=class extends _o{name;is;decode;encode;constructor(e,r,n,o){super(e),this.name=e,this.is=r,this.decode=n,this.encode=o}},fg=class t{trail;constructor(e){this.trail=e}static root(e,r){return new t([{key:"",type:e,actual:r}])}failures(e){return Mi(e)}success(e){return vr(e)}failure(e){return Mi([new nT(this.trail,e)])}child(e,r,n){let o=this.trail.concat([{key:e,type:r,actual:n}]);return new t(o)}},dg=class t{trail;constructor(e){this.trail=e}static root(e,r){return new t([{key:"",type:e,actual:r}])}failures(e){throw e[0]}success(e){return vr(e)}failure(e){throw new nT(this.trail,e)}child(e,r,n){let o=this.trail.concat([{key:e,type:r,actual:n}]);return new t(o)}};function sT(t){return t.length>0}var yn=class extends _o{is;constructor(e,r){super(e),this.is=r}encode=pa;decode(e,r){return this.is(e)?r.success(e):r.failure()}},I4=new yn("null",t=>t===null),_fe=new yn("undefined",t=>t===void 0),IVe=new yn("void",t=>t===void 0),pr=new yn("string",t=>typeof t=="string"),SVe=new yn("number",t=>typeof t=="number"),aT=new yn("boolean",t=>typeof t=="boolean"),NVe=new yn("bigint",t=>typeof t=="bigint"),_Ve=new yn("unknown",t=>!0),bD=new yn("object",t=>!!t&&typeof t=="object"),ED=class extends yn{value;keys;constructor(e,r=JSON.stringify(e)){super(r,n=>n===e),this.value=e,this.keys=[e]}};function Ur(t,e){return new ED(t,e)}var x4=new yn("UnknownArray",t=>Array.isArray(t)),oT=new yn("UnknownDictionary",t=>{if(!(!!t&&typeof t=="object")||Array.isArray(t))return!1;let n=Object.getPrototypeOf(t);if(!n)return!0;let o=Object.hasOwn(n,"constructor")&&n.constructor;return typeof o=="function"&&o instanceof o&&o.toString()==Object.toString()}),vD=class extends _o{item;constructor(e,r){super(r),this.item=e}decode(e,r){let n=x4.decode(e,r);if(It(n))return n;let o=n.right,i=[],s=new Array(o.length);return o.forEach((a,c)=>{let u=this.item.decode(a,r.child(String(c),this.item,a));It(u)?u.left.forEach(l=>i.push(l)):s[c]=u.right}),sT(i)?r.failures(i):r.success(s)}encode(e){return this.item.encode===pa?e:e.map(r=>this.item.encode(r))}is(e){return x4.is(e)&&e.every(r=>this.item.is(r))}};function Vl(t,e=`${t.name}[]`){return new vD(t,e)}var DVe=new yn("any",t=>!0),OVe=new yn("never",t=>!1);function S4(t){return`{${Dfe(t)}}`}function Dfe(t){return Object.keys(t).map(e=>`${e}:${t[e].name}`).join(",")}var iT=class extends _o{props;constructor(e,r=S4(e)){super(r),this.props=e}decode(e,r){let n=bD.decode(e,r);if(It(n))return n;let o=n.right,i=b({},o),s=[];return Object.entries(this.props).forEach(([a,c])=>{let u=o[a],l=c.decode(u,r.child(a,c,u));It(l)?l.left.forEach(f=>s.push(f)):i[a]=l.right}),sT(s)?r.failures(s):r.success(i)}encode(e){let r=b({},e);return Object.entries(this.props).forEach(([n,o])=>{r[n]=o.encode(r[n])}),r}is(e){if(!bD.is(e))return!1;let r=e;return Object.entries(this.props).every(([n,o])=>{let i=r[n];return(i||Object.hasOwn(e,n))&&o.is(i)})}};function Ofe(t,e){return new iT(t,e)}function Cfe(t){return t.map(e=>e.name).join("|")}var TD=class extends _o{codecs;constructor(e,r=Cfe(e)){super(r),this.codecs=e}decode(e,r){let n=[];for(let[o,i]of this.codecs.entries())try{let s=i.decode(e,r.child(String(o),i,e));if(It(s))s.left.forEach(a=>n.push(a));else return r.success(s.right)}catch(s){n.push(s)}return r.failures(n)}encode(e){for(let r of this.codecs)if(r.is(e))return r.encode(e);throw new Error(`no codec found to encode value in union type ${this.name}`)}is(e){return this.codecs.some(r=>r.is(e))}parse(e,r=fg.root(this,e)){return super.parse(e,r)}};function ci(t,e){return new TD(t,e)}var xD=class extends _o{codec;predicate;constructor(e,r,n=`${e.name}\u224D${wD(r)}`){super(n),this.codec=e,this.predicate=r}decode(e,r){let n=this.codec.decode(e,r);return It(n)||this.predicate(n.right)?n:r.failure()}encode(e){return this.codec.encode(e)}is(e){return this.codec.is(e)&&this.predicate(e)}};function cT(t,e,r){return new xD(t,e,r)}function A4(t,e){let r=Object.getOwnPropertyNames(t),n=!1,o={};for(let i=0;i<r.length;i++){let s=r[i];Object.hasOwn(e,s)?o[s]=t[s]:n=!0}return n?o:t}var AD=class extends _o{codec;props;constructor(e,r=`Exact<${e.name}>`){super(r),this.codec=e,this.props=ID(e)}is(e){return this.codec.is(e)}decode(e,r){let n=bD.decode(e,r);if(It(n))return n;let o=n.right;return this.codec.decode(A4(o,this.props),r)}encode(e){return this.codec.encode(A4(e,this.props))}};function Rfe(t,e){return new AD(t,e)}function kfe(t){return"props"in t}function Pfe(t){return"codec"in t}function Lfe(t){return"codecs"in t}function ID(t){return kfe(t)?t.props:Pfe(t)?ID(t.codec):Lfe(t)?Object.assign({},...t.codecs.map(e=>ID(e))):{}}function Jr(t,e){return Rfe(Ofe(t),e)}var SD=class extends _o{domain;codomain;constructor(e,r,n=`{[${e.name}]:${r.name}}`){super(n),this.domain=e,this.codomain=r}decode(e,r){let n=oT.decode(e,r);if(It(n))return n;let o=n.right,i={},s=[];for(let[a,c]of Object.entries(o)){let u=this.domain.decode(a,r.child(a,this.domain,a));if(It(u))u.left.forEach(l=>s.push(l));else{let l=this.codomain.decode(c,r.child(a,this.codomain,c));It(l)?l.left.forEach(f=>s.push(f)):i[u.right]=l.right}}return sT(s)?r.failures(s):r.success(i)}encode(e){let r={};for(let[n,o]of Object.entries(e))r[String(this.domain.encode(n))]=this.codomain.encode(o);return r}is(e){if(!oT.is(e))return!1;let r=Object.entries(e);return r.length==0?!0:r.some(([n,o])=>this.domain.is(n)&&this.codomain.is(o))}},ND=class extends _o{domain;codomain;keys;constructor(e,r,n=`{[${e.name}]:${r.name}}`){super(n),this.domain=e,this.codomain=r,this.keys=e.keys}decode(e,r){let n=oT.decode(e,r);if(It(n))return n;let o=n.right,i={},s=[];for(let a of this.keys){let c=o[a],u=this.codomain.decode(c,r.child(a,this.codomain,c));It(u)?u.left.forEach(l=>s.push(l)):i[a]=u.right}return sT(s)?r.failures(s):r.success(i)}encode(e){let r={};for(let n of this.keys)r[n]=this.codomain.encode(e[n]);return r}is(e){return oT.is(e)&&this.keys.every(r=>this.codomain.is(e[r]))}};function pg(t,e,r){return"keys"in t?new ND(t,e,r):new SD(t,e,r)}function po(t,e){return new _D(t,e)}var _D=class extends _o{name;optional=!0;#e;constructor(e,r=`${e.name}?`){super(r),this.name=r,this.#e=ci([e,_fe])}decode(e,r){return this.#e.decode(e,r)}encode(e){return this.#e.encode(e)}is(e){return this.#e.is(e)}};function DD(t){return"optional"in t&&t.optional}var OD=class extends _o{props;#e;constructor(e,r=S4(e)){super(r),this.props=e,this.#e=new iT(e)}cleanup(e){return Object.entries(this.props).forEach(([r,n])=>{DD(n)&&typeof e[r]>"u"&&delete e[r]}),e}decode(e,r){let n=this.#e.decode(e,r);return It(n)?n:r.success(this.cleanup(n.right))}encode(e){let r=this.#e.encode(e);return this.cleanup(r)}is(e){let r=b({},e);return Object.entries(this.props).forEach(([n,o])=>{DD(o)&&!r[n]&&(r[n]=void 0)}),this.#e.is(r)}};function Ffe(t,e){let r={},n={};for(let[o,i]of Object.entries(t))DD(i)?r[o]=i:n[o]=i;return new OD(t,e)}var hg=Ffe;function Np(t,e){let r=dg.root(t,e),n=t.decode(e,r);if(It(n))throw new Error(`Something is wrong: ${n} should be Right`);return n.right}var Gl={};vt(Gl,{code:()=>zD,decode:()=>qD,decodeOptions:()=>Ade,encode:()=>Sde,encodeOptions:()=>Tde,name:()=>Ide,toByteView:()=>kV});var Ufe=["Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function CD(t){if(t===null)return"null";if(t===void 0)return"undefined";if(t===!0||t===!1)return"boolean";let e=typeof t;if(e==="string"||e==="number"||e==="bigint"||e==="symbol")return e;if(e==="function")return"Function";if(Array.isArray(t))return"Array";if(t instanceof Uint8Array)return"Uint8Array";if(t.constructor===Object)return"Object";let r=Bfe(t);return r||"Object"}function Bfe(t){let e=Object.prototype.toString.call(t).slice(8,-1);if(Ufe.includes(e))return e}var U=class{constructor(e,r,n){this.major=e,this.majorEncoded=e<<5,this.name=r,this.terminal=n}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}static equals(e,r){return e===r||e.major===r.major&&e.name===r.name}};U.uint=new U(0,"uint",!0);U.negint=new U(1,"negint",!0);U.bytes=new U(2,"bytes",!0);U.string=new U(3,"string",!0);U.array=new U(4,"array",!1);U.map=new U(5,"map",!1);U.tag=new U(6,"tag",!1);U.float=new U(7,"float",!0);U.false=new U(7,"false",!0);U.true=new U(7,"true",!0);U.null=new U(7,"null",!0);U.undefined=new U(7,"undefined",!0);U.break=new U(7,"break",!0);var me=class{constructor(e,r,n){this.type=e,this.value=r,this.encodedLength=n,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}};var mg=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&typeof globalThis.Buffer.isBuffer=="function",Mfe=new TextEncoder;function uT(t){return mg&&globalThis.Buffer.isBuffer(t)}function yg(t){return t instanceof Uint8Array?uT(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t:Uint8Array.from(t)}var $fe=24,Vfe=200,lT=mg?t=>t.length>=$fe?globalThis.Buffer.from(t):N4(t):t=>t.length>=Vfe?Mfe.encode(t):N4(t),ha=t=>Uint8Array.from(t),_4=mg?(t,e,r)=>uT(t)?new Uint8Array(t.subarray(e,r)):t.slice(e,r):(t,e,r)=>t.slice(e,r),D4=mg?(t,e)=>(t=t.map(r=>r instanceof Uint8Array?r:globalThis.Buffer.from(r)),yg(globalThis.Buffer.concat(t,e))):(t,e)=>{let r=new Uint8Array(e),n=0;for(let o of t)n+o.length>r.length&&(o=o.subarray(0,r.length-n)),r.set(o,n),n+=o.length;return r},O4=mg?t=>globalThis.Buffer.allocUnsafe(t):t=>new Uint8Array(t);function fT(t,e){if(uT(t)&&uT(e))return t.compare(e);for(let r=0;r<t.length;r++)if(t[r]!==e[r])return t[r]<e[r]?-1:1;return 0}function N4(t){let e=[],r=0;for(let n=0;n<t.length;n++){let o=t.charCodeAt(n);o<128?e[r++]=o:o<2048?(e[r++]=o>>6|192,e[r++]=o&63|128):(o&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=o>>18|240,e[r++]=o>>12&63|128,e[r++]=o>>6&63|128,e[r++]=o&63|128):(o>=55296&&o<=57343&&(o=65533),e[r++]=o>>12|224,e[r++]=o>>6&63|128,e[r++]=o&63|128)}return e}var jfe=256,gg=class{constructor(e=jfe){this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),this._initReuseChunk!==null&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let r=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){let o=r.length-(this.maxCursor-this.cursor)-1;r.set(e,o)}else{if(r){let o=r.length-(this.maxCursor-this.cursor)-1;o<r.length&&(this.chunks[this.chunks.length-1]=r.subarray(0,o),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(r=O4(this.chunkSize),this.chunks.push(r),this.maxCursor+=r.length,this._initReuseChunk===null&&(this._initReuseChunk=r),r.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(e=!1){let r;if(this.chunks.length===1){let n=this.chunks[0];e&&this.cursor>n.length/2?(r=this.cursor===n.length?n:n.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):r=_4(n,0,this.cursor)}else r=D4(this.chunks,this.cursor);return e&&this.reset(),r}},dT=class{constructor(e){this.dest=e,this.cursor=0,this.chunks=[e]}reset(){this.cursor=0}push(e){if(this.cursor+e.length>this.dest.length)throw new Error("write out of bounds, destination buffer is too small");this.dest.set(e,this.cursor),this.cursor+=e.length}toBytes(e=!1){let r=this.dest.subarray(0,this.cursor);return e&&this.reset(),r}};var Ze="CBOR decode error:",pT="CBOR encode error:",wg=[];wg[23]=1;wg[24]=2;wg[25]=3;wg[26]=5;wg[27]=9;function yc(t,e,r){if(t.length-e<r)throw new Error(`${Ze} not enough data for type`)}var gn=[24,256,65536,4294967296,BigInt("18446744073709551616")];function ui(t,e,r){yc(t,e,1);let n=t[e];if(r.strict===!0&&n<gn[0])throw new Error(`${Ze} integer encoded in more bytes than necessary (strict decode)`);return n}function li(t,e,r){yc(t,e,2);let n=t[e]<<8|t[e+1];if(r.strict===!0&&n<gn[1])throw new Error(`${Ze} integer encoded in more bytes than necessary (strict decode)`);return n}function fi(t,e,r){yc(t,e,4);let n=t[e]*16777216+(t[e+1]<<16)+(t[e+2]<<8)+t[e+3];if(r.strict===!0&&n<gn[2])throw new Error(`${Ze} integer encoded in more bytes than necessary (strict decode)`);return n}function di(t,e,r){yc(t,e,8);let n=t[e]*16777216+(t[e+1]<<16)+(t[e+2]<<8)+t[e+3],o=t[e+4]*16777216+(t[e+5]<<16)+(t[e+6]<<8)+t[e+7],i=(BigInt(n)<<BigInt(32))+BigInt(o);if(r.strict===!0&&i<gn[3])throw new Error(`${Ze} integer encoded in more bytes than necessary (strict decode)`);if(i<=Number.MAX_SAFE_INTEGER)return Number(i);if(r.allowBigInt===!0)return i;throw new Error(`${Ze} integers outside of the safe integer range are not supported`)}function C4(t,e,r,n){return new me(U.uint,ui(t,e+1,n),2)}function R4(t,e,r,n){return new me(U.uint,li(t,e+1,n),3)}function k4(t,e,r,n){return new me(U.uint,fi(t,e+1,n),5)}function P4(t,e,r,n){return new me(U.uint,di(t,e+1,n),9)}function $i(t,e){return mr(t,0,e.value)}function mr(t,e,r){if(r<gn[0]){let n=Number(r);t.push([e|n])}else if(r<gn[1]){let n=Number(r);t.push([e|24,n])}else if(r<gn[2]){let n=Number(r);t.push([e|25,n>>>8,n&255])}else if(r<gn[3]){let n=Number(r);t.push([e|26,n>>>24&255,n>>>16&255,n>>>8&255,n&255])}else{let n=BigInt(r);if(n<gn[4]){let o=[e|27,0,0,0,0,0,0,0],i=Number(n&BigInt(4294967295)),s=Number(n>>BigInt(32)&BigInt(4294967295));o[8]=i&255,i=i>>8,o[7]=i&255,i=i>>8,o[6]=i&255,i=i>>8,o[5]=i&255,o[4]=s&255,s=s>>8,o[3]=s&255,s=s>>8,o[2]=s&255,s=s>>8,o[1]=s&255,t.push(o)}else throw new Error(`${Ze} encountered BigInt larger than allowable range`)}}$i.encodedSize=function(e){return mr.encodedSize(e.value)};mr.encodedSize=function(e){return e<gn[0]?1:e<gn[1]?2:e<gn[2]?3:e<gn[3]?5:9};$i.compareTokens=function(e,r){return e.value<r.value?-1:e.value>r.value?1:0};function L4(t,e,r,n){return new me(U.negint,-1-ui(t,e+1,n),2)}function F4(t,e,r,n){return new me(U.negint,-1-li(t,e+1,n),3)}function U4(t,e,r,n){return new me(U.negint,-1-fi(t,e+1,n),5)}var RD=BigInt(-1),B4=BigInt(1);function M4(t,e,r,n){let o=di(t,e+1,n);if(typeof o!="bigint"){let i=-1-o;if(i>=Number.MIN_SAFE_INTEGER)return new me(U.negint,i,9)}if(n.allowBigInt!==!0)throw new Error(`${Ze} integers outside of the safe integer range are not supported`);return new me(U.negint,RD-BigInt(o),9)}function hT(t,e){let r=e.value,n=typeof r=="bigint"?r*RD-B4:r*-1-1;mr(t,e.type.majorEncoded,n)}hT.encodedSize=function(e){let r=e.value,n=typeof r=="bigint"?r*RD-B4:r*-1-1;return n<gn[0]?1:n<gn[1]?2:n<gn[2]?3:n<gn[3]?5:9};hT.compareTokens=function(e,r){return e.value<r.value?1:e.value>r.value?-1:0};function bg(t,e,r,n){yc(t,e,r+n);let o=t.slice(e+r,e+r+n);return new me(U.bytes,o,r+n)}function $4(t,e,r,n){return bg(t,e,1,r)}function V4(t,e,r,n){return bg(t,e,2,ui(t,e+1,n))}function j4(t,e,r,n){return bg(t,e,3,li(t,e+1,n))}function G4(t,e,r,n){return bg(t,e,5,fi(t,e+1,n))}function z4(t,e,r,n){let o=di(t,e+1,n);if(typeof o=="bigint")throw new Error(`${Ze} 64-bit integer bytes lengths not supported`);return bg(t,e,9,o)}function mT(t){return t.encodedBytes===void 0&&(t.encodedBytes=U.equals(t.type,U.string)?lT(t.value):t.value),t.encodedBytes}function _p(t,e){let r=mT(e);mr(t,e.type.majorEncoded,r.length),t.push(r)}_p.encodedSize=function(e){let r=mT(e);return mr.encodedSize(r.length)+r.length};_p.compareTokens=function(e,r){return zfe(mT(e),mT(r))};function zfe(t,e){return t.length<e.length?-1:t.length>e.length?1:fT(t,e)}var q4=new TextDecoder,Qfe=32;function Jfe(t,e,r){if(r-e<Qfe){let o="";for(let i=e;i<r;i++){let s=t[i];if(s&128)return q4.decode(t.subarray(e,r));o+=String.fromCharCode(s)}return o}return q4.decode(t.subarray(e,r))}function Eg(t,e,r,n,o){let i=r+n;yc(t,e,i);let s=new me(U.string,Jfe(t,e+r,e+i),i);return o.retainStringBytes===!0&&(s.byteValue=t.slice(e+r,e+i)),s}function Q4(t,e,r,n){return Eg(t,e,1,r,n)}function J4(t,e,r,n){return Eg(t,e,2,ui(t,e+1,n),n)}function H4(t,e,r,n){return Eg(t,e,3,li(t,e+1,n),n)}function K4(t,e,r,n){return Eg(t,e,5,fi(t,e+1,n),n)}function W4(t,e,r,n){let o=di(t,e+1,n);if(typeof o=="bigint")throw new Error(`${Ze} 64-bit integer string lengths not supported`);return Eg(t,e,9,o,n)}var Y4=_p;function Dp(t,e,r,n){return new me(U.array,n,r)}function X4(t,e,r,n){return Dp(t,e,1,r)}function Z4(t,e,r,n){return Dp(t,e,2,ui(t,e+1,n))}function eV(t,e,r,n){return Dp(t,e,3,li(t,e+1,n))}function tV(t,e,r,n){return Dp(t,e,5,fi(t,e+1,n))}function rV(t,e,r,n){let o=di(t,e+1,n);if(typeof o=="bigint")throw new Error(`${Ze} 64-bit integer array lengths not supported`);return Dp(t,e,9,o)}function nV(t,e,r,n){if(n.allowIndefinite===!1)throw new Error(`${Ze} indefinite length items not allowed`);return Dp(t,e,1,1/0)}function yT(t,e){mr(t,U.array.majorEncoded,e.value)}yT.compareTokens=$i.compareTokens;yT.encodedSize=function(e){return mr.encodedSize(e.value)};function Op(t,e,r,n){return new me(U.map,n,r)}function oV(t,e,r,n){return Op(t,e,1,r)}function iV(t,e,r,n){return Op(t,e,2,ui(t,e+1,n))}function sV(t,e,r,n){return Op(t,e,3,li(t,e+1,n))}function aV(t,e,r,n){return Op(t,e,5,fi(t,e+1,n))}function cV(t,e,r,n){let o=di(t,e+1,n);if(typeof o=="bigint")throw new Error(`${Ze} 64-bit integer map lengths not supported`);return Op(t,e,9,o)}function uV(t,e,r,n){if(n.allowIndefinite===!1)throw new Error(`${Ze} indefinite length items not allowed`);return Op(t,e,1,1/0)}function gT(t,e){mr(t,U.map.majorEncoded,e.value)}gT.compareTokens=$i.compareTokens;gT.encodedSize=function(e){return mr.encodedSize(e.value)};function lV(t,e,r,n){return new me(U.tag,r,1)}function fV(t,e,r,n){return new me(U.tag,ui(t,e+1,n),2)}function dV(t,e,r,n){return new me(U.tag,li(t,e+1,n),3)}function pV(t,e,r,n){return new me(U.tag,fi(t,e+1,n),5)}function hV(t,e,r,n){return new me(U.tag,di(t,e+1,n),9)}function wT(t,e){mr(t,U.tag.majorEncoded,e.value)}wT.compareTokens=$i.compareTokens;wT.encodedSize=function(e){return mr.encodedSize(e.value)};var kD=20,PD=21,LD=22,FD=23;function mV(t,e,r,n){if(n.allowUndefined===!1)throw new Error(`${Ze} undefined values are not supported`);return n.coerceUndefinedToNull===!0?new me(U.null,null,1):new me(U.undefined,void 0,1)}function yV(t,e,r,n){if(n.allowIndefinite===!1)throw new Error(`${Ze} indefinite length items not allowed`);return new me(U.break,void 0,1)}function UD(t,e,r){if(r){if(r.allowNaN===!1&&Number.isNaN(t))throw new Error(`${Ze} NaN values are not supported`);if(r.allowInfinity===!1&&(t===1/0||t===-1/0))throw new Error(`${Ze} Infinity values are not supported`)}return new me(U.float,t,e)}function gV(t,e,r,n){return UD(BD(t,e+1),3,n)}function wV(t,e,r,n){return UD(MD(t,e+1),5,n)}function bV(t,e,r,n){return UD(xV(t,e+1),9,n)}function vg(t,e,r){let n=e.value;if(n===!1)t.push([U.float.majorEncoded|kD]);else if(n===!0)t.push([U.float.majorEncoded|PD]);else if(n===null)t.push([U.float.majorEncoded|LD]);else if(n===void 0)t.push([U.float.majorEncoded|FD]);else{let o,i=!1;(!r||r.float64!==!0)&&(vV(n),o=BD(_s,1),n===o||Number.isNaN(n)?(_s[0]=249,t.push(_s.slice(0,3)),i=!0):(TV(n),o=MD(_s,1),n===o&&(_s[0]=250,t.push(_s.slice(0,5)),i=!0))),i||(Xfe(n),o=xV(_s,1),_s[0]=251,t.push(_s.slice(0,9)))}}vg.encodedSize=function(e,r){let n=e.value;if(n===!1||n===!0||n===null||n===void 0)return 1;if(!r||r.float64!==!0){vV(n);let o=BD(_s,1);if(n===o||Number.isNaN(n))return 3;if(TV(n),o=MD(_s,1),n===o)return 5}return 9};var EV=new ArrayBuffer(9),Vi=new DataView(EV,1),_s=new Uint8Array(EV,0);function vV(t){if(t===1/0)Vi.setUint16(0,31744,!1);else if(t===-1/0)Vi.setUint16(0,64512,!1);else if(Number.isNaN(t))Vi.setUint16(0,32256,!1);else{Vi.setFloat32(0,t);let e=Vi.getUint32(0),r=(e&2139095040)>>23,n=e&8388607;if(r===255)Vi.setUint16(0,31744,!1);else if(r===0)Vi.setUint16(0,(t&2147483648)>>16|n>>13,!1);else{let o=r-127;o<-24?Vi.setUint16(0,0):o<-14?Vi.setUint16(0,(e&2147483648)>>16|1<<24+o,!1):Vi.setUint16(0,(e&2147483648)>>16|o+15<<10|n>>13,!1)}}}function BD(t,e){if(t.length-e<2)throw new Error(`${Ze} not enough data for float16`);let r=(t[e]<<8)+t[e+1];if(r===31744)return 1/0;if(r===64512)return-1/0;if(r===32256)return NaN;let n=r>>10&31,o=r&1023,i;return n===0?i=o*2**-24:n!==31?i=(o+1024)*2**(n-25):i=o===0?1/0:NaN,r&32768?-i:i}function TV(t){Vi.setFloat32(0,t,!1)}function MD(t,e){if(t.length-e<4)throw new Error(`${Ze} not enough data for float32`);let r=(t.byteOffset||0)+e;return new DataView(t.buffer,r,4).getFloat32(0,!1)}function Xfe(t){Vi.setFloat64(0,t,!1)}function xV(t,e){if(t.length-e<8)throw new Error(`${Ze} not enough data for float64`);let r=(t.byteOffset||0)+e;return new DataView(t.buffer,r,8).getFloat64(0,!1)}vg.compareTokens=$i.compareTokens;function Bt(t,e,r){throw new Error(`${Ze} encountered invalid minor (${r}) for major ${t[e]>>>5}`)}function bT(t){return()=>{throw new Error(`${Ze} ${t}`)}}var ue=[];for(let t=0;t<=23;t++)ue[t]=Bt;ue[24]=C4;ue[25]=R4;ue[26]=k4;ue[27]=P4;ue[28]=Bt;ue[29]=Bt;ue[30]=Bt;ue[31]=Bt;for(let t=32;t<=55;t++)ue[t]=Bt;ue[56]=L4;ue[57]=F4;ue[58]=U4;ue[59]=M4;ue[60]=Bt;ue[61]=Bt;ue[62]=Bt;ue[63]=Bt;for(let t=64;t<=87;t++)ue[t]=$4;ue[88]=V4;ue[89]=j4;ue[90]=G4;ue[91]=z4;ue[92]=Bt;ue[93]=Bt;ue[94]=Bt;ue[95]=bT("indefinite length bytes/strings are not supported");for(let t=96;t<=119;t++)ue[t]=Q4;ue[120]=J4;ue[121]=H4;ue[122]=K4;ue[123]=W4;ue[124]=Bt;ue[125]=Bt;ue[126]=Bt;ue[127]=bT("indefinite length bytes/strings are not supported");for(let t=128;t<=151;t++)ue[t]=X4;ue[152]=Z4;ue[153]=eV;ue[154]=tV;ue[155]=rV;ue[156]=Bt;ue[157]=Bt;ue[158]=Bt;ue[159]=nV;for(let t=160;t<=183;t++)ue[t]=oV;ue[184]=iV;ue[185]=sV;ue[186]=aV;ue[187]=cV;ue[188]=Bt;ue[189]=Bt;ue[190]=Bt;ue[191]=uV;for(let t=192;t<=215;t++)ue[t]=lV;ue[216]=fV;ue[217]=dV;ue[218]=pV;ue[219]=hV;ue[220]=Bt;ue[221]=Bt;ue[222]=Bt;ue[223]=Bt;for(let t=224;t<=243;t++)ue[t]=bT("simple values are not supported");ue[244]=Bt;ue[245]=Bt;ue[246]=Bt;ue[247]=mV;ue[248]=bT("simple values are not supported");ue[249]=gV;ue[250]=wV;ue[251]=bV;ue[252]=Bt;ue[253]=Bt;ue[254]=Bt;ue[255]=yV;var Ds=[];for(let t=0;t<24;t++)Ds[t]=new me(U.uint,t,1);for(let t=-1;t>=-24;t--)Ds[31-t]=new me(U.negint,t,1);Ds[64]=new me(U.bytes,new Uint8Array(0),1);Ds[96]=new me(U.string,"",1);Ds[128]=new me(U.array,0,1);Ds[160]=new me(U.map,0,1);Ds[244]=new me(U.false,!1,1);Ds[245]=new me(U.true,!0,1);Ds[246]=new me(U.null,null,1);function $D(t){switch(t.type){case U.false:return ha([244]);case U.true:return ha([245]);case U.null:return ha([246]);case U.bytes:return t.value.length?void 0:ha([64]);case U.string:return t.value===""?ha([96]):void 0;case U.array:return t.value===0?ha([128]):void 0;case U.map:return t.value===0?ha([160]):void 0;case U.uint:return t.value<24?ha([Number(t.value)]):void 0;case U.negint:if(t.value>=-24)return ha([31-Number(t.value)])}}var ede={float64:!1,mapSorter:nde,quickEncodeToken:$D},_V=Object.freeze({float64:!0,mapSorter:ode,quickEncodeToken:$D});function tde(){let t=[];return t[U.uint.major]=$i,t[U.negint.major]=hT,t[U.bytes.major]=_p,t[U.string.major]=Y4,t[U.array.major]=yT,t[U.map.major]=gT,t[U.tag.major]=wT,t[U.float.major]=vg,t}var Cp=tde(),ET=new gg,xg=class t{constructor(e,r){this.obj=e,this.parent=r}includes(e){let r=this;do if(r.obj===e)return!0;while(r=r.parent);return!1}static createCheck(e,r){if(e&&e.includes(r))throw new Error(`${pT} object contains circular references`);return new t(r,e)}},yu={null:new me(U.null,null),undefined:new me(U.undefined,void 0),true:new me(U.true,!0),false:new me(U.false,!1),emptyArray:new me(U.array,0),emptyMap:new me(U.map,0)},ma={number(t,e,r,n){return!Number.isInteger(t)||!Number.isSafeInteger(t)?new me(U.float,t):t>=0?new me(U.uint,t):new me(U.negint,t)},bigint(t,e,r,n){return t>=BigInt(0)?new me(U.uint,t):new me(U.negint,t)},Uint8Array(t,e,r,n){return new me(U.bytes,t)},string(t,e,r,n){return new me(U.string,t)},boolean(t,e,r,n){return t?yu.true:yu.false},null(t,e,r,n){return yu.null},undefined(t,e,r,n){return yu.undefined},ArrayBuffer(t,e,r,n){return new me(U.bytes,new Uint8Array(t))},DataView(t,e,r,n){return new me(U.bytes,new Uint8Array(t.buffer,t.byteOffset,t.byteLength))},Array(t,e,r,n){if(!t.length)return r.addBreakTokens===!0?[yu.emptyArray,new me(U.break)]:yu.emptyArray;n=xg.createCheck(n,t);let o=[],i=0;for(let s of t)o[i++]=vT(s,r,n);return r.addBreakTokens?[new me(U.array,t.length),o,new me(U.break)]:[new me(U.array,t.length),o]},Object(t,e,r,n){let o=e!=="Object",i=o?t.keys():Object.keys(t),s=o?t.size:i.length,a;if(s){a=new Array(s),n=xg.createCheck(n,t);let c=!o&&r.ignoreUndefinedProperties,u=0;for(let l of i){let f=o?t.get(l):t[l];c&&f===void 0||(a[u++]=[vT(l,r,n),vT(f,r,n)])}u<s&&(a.length=u)}return a?.length?(rde(a,r),r.addBreakTokens?[new me(U.map,a.length),a,new me(U.break)]:[new me(U.map,a.length),a]):r.addBreakTokens===!0?[yu.emptyMap,new me(U.break)]:yu.emptyMap}};ma.Map=ma.Object;ma.Buffer=ma.Uint8Array;for(let t of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))ma[`${t}Array`]=ma.DataView;function vT(t,e={},r){let n=CD(t),o=e&&e.typeEncoders&&e.typeEncoders[n]||ma[n];if(typeof o=="function"){let s=o(t,n,e,r);if(s!=null)return s}let i=ma[n];if(!i)throw new Error(`${pT} unsupported type: ${n}`);return i(t,n,e,r)}function rde(t,e){e.mapSorter&&t.sort(e.mapSorter)}function nde(t,e){let r=Array.isArray(t[0])?t[0][0]:t[0],n=Array.isArray(e[0])?e[0][0]:e[0];if(r.type!==n.type)return r.type.compare(n.type);let o=r.type.major,i=Cp[o].compareTokens(r,n);return i===0&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),i}function ode(t,e){if(t[0]instanceof me&&e[0]instanceof me){let r=t[0],n=e[0];return r._keyBytes||(r._keyBytes=AV(r.value)),n._keyBytes||(n._keyBytes=AV(n.value)),fT(r._keyBytes,n._keyBytes)}throw new Error("rfc8949MapSorter: complex key types are not supported yet")}function AV(t){return OV(t,Cp,_V)}function Tg(t,e,r,n){if(Array.isArray(e))for(let o of e)Tg(t,o,r,n);else r[e.type.major](t,e,n)}var IV=U.uint.majorEncoded,SV=U.negint.majorEncoded,ide=U.bytes.majorEncoded,sde=U.string.majorEncoded,NV=U.array.majorEncoded,ade=U.float.majorEncoded|kD,cde=U.float.majorEncoded|PD,ude=U.float.majorEncoded|LD,lde=U.float.majorEncoded|FD,fde=BigInt(-1),dde=BigInt(1);function pde(t){return t.addBreakTokens!==!0}function DV(t,e,r,n){let o=CD(e),i=r.typeEncoders&&r.typeEncoders[o];if(i){let s=i(e,o,r,n);if(s!=null){Tg(t,s,Cp,r);return}}switch(o){case"null":t.push([ude]);return;case"undefined":t.push([lde]);return;case"boolean":t.push([e?cde:ade]);return;case"number":!Number.isInteger(e)||!Number.isSafeInteger(e)?vg(t,new me(U.float,e),r):e>=0?mr(t,IV,e):mr(t,SV,e*-1-1);return;case"bigint":e>=BigInt(0)?mr(t,IV,e):mr(t,SV,e*fde-dde);return;case"string":{let s=lT(e);mr(t,sde,s.length),t.push(s);return}case"Uint8Array":mr(t,ide,e.length),t.push(e);return;case"Array":if(!e.length){t.push([NV]);return}n=xg.createCheck(n,e),mr(t,NV,e.length);for(let s of e)DV(t,s,r,n);return;case"Object":case"Map":{let s=ma.Object(e,o,r,n);Tg(t,s,Cp,r)}return;default:{let s=ma[o];if(!s)throw new Error(`${pT} unsupported type: ${o}`);let a=s(e,o,r,n);Tg(t,a,Cp,r)}}}function OV(t,e,r,n){let o=n instanceof Uint8Array,i=o?new dT(n):ET,s=vT(t,r);if(!Array.isArray(s)&&r.quickEncodeToken){let a=r.quickEncodeToken(s);if(a)return o?(i.push(a),i.toBytes()):a;let c=e[s.type.major];if(c.encodedSize){let u=c.encodedSize(s,r);if(o||(i=new gg(u)),c(i,s,r),i.chunks.length!==1)throw new Error(`Unexpected error: pre-calculated length for ${s} was wrong`);return o?i.toBytes():yg(i.chunks[0])}}return i.reset(),Tg(i,s,e,r),i.toBytes(!0)}function VD(t,e){return e=Object.assign({},ede,e),pde(e)?(ET.reset(),DV(ET,t,e,void 0),ET.toBytes(!0)):OV(t,Cp,e)}var hde={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0},TT=class{constructor(e,r={}){this._pos=0,this.data=e,this.options=r}pos(){return this._pos}done(){return this._pos>=this.data.length}next(){let e=this.data[this._pos],r=Ds[e];if(r===void 0){let n=ue[e];if(!n)throw new Error(`${Ze} no decoder for major type ${e>>>5} (byte 0x${e.toString(16).padStart(2,"0")})`);let o=e&31;r=n(this.data,this._pos,o,this.options)}return this._pos+=r.encodedLength,r}},Ag=Symbol.for("DONE"),xT=Symbol.for("BREAK");function mde(t,e,r){let n=[];for(let o=0;o<t.value;o++){let i=Rp(e,r);if(i===xT){if(t.value===1/0)break;throw new Error(`${Ze} got unexpected break to lengthed array`)}if(i===Ag)throw new Error(`${Ze} found array but not enough entries (got ${o}, expected ${t.value})`);n[o]=i}return n}function yde(t,e,r){let n=r.useMaps===!0,o=r.rejectDuplicateMapKeys===!0,i=n?void 0:{},s=n?new Map:void 0;for(let a=0;a<t.value;a++){let c=Rp(e,r);if(c===xT){if(t.value===1/0)break;throw new Error(`${Ze} got unexpected break to lengthed map`)}if(c===Ag)throw new Error(`${Ze} found map but not enough entries (got ${a} [no key], expected ${t.value})`);if(!n&&typeof c!="string")throw new Error(`${Ze} non-string keys not supported (got ${typeof c})`);if(o&&(n&&s.has(c)||!n&&Object.hasOwn(i,c)))throw new Error(`${Ze} found repeat map key "${c}"`);let u=Rp(e,r);if(u===Ag)throw new Error(`${Ze} found map but not enough entries (got ${a} [no value], expected ${t.value})`);n?s.set(c,u):i[c]=u}return n?s:i}function Rp(t,e){if(t.done())return Ag;let r=t.next();if(U.equals(r.type,U.break))return xT;if(r.type.terminal)return r.value;if(U.equals(r.type,U.array))return mde(r,t,e);if(U.equals(r.type,U.map))return yde(r,t,e);if(U.equals(r.type,U.tag)){if(e.tags&&typeof e.tags[r.value]=="function"){let n=Rp(t,e);return e.tags[r.value](n)}throw new Error(`${Ze} tag not supported (${r.value})`)}throw new Error("unsupported")}function CV(t,e){if(!(t instanceof Uint8Array))throw new Error(`${Ze} data to decode must be a Uint8Array`);e=Object.assign({},hde,e);let r=yg(t),n=e.tokenizer||new TT(r,e),o=Rp(n,e);if(o===Ag)throw new Error(`${Ze} did not find any content to decode`);if(o===xT)throw new Error(`${Ze} got unexpected break`);return[o,t.subarray(n.pos())]}function jD(t,e){let[r,n]=CV(t,e);if(n.length>0)throw new Error(`${Ze} too many terminals, data makes no sense`);return r}var RV=42;function kV(t){return t instanceof ArrayBuffer?new Uint8Array(t,0,t.byteLength):t}function wde(t){if(t.asCID!==t&&t["/"]!==t.bytes)return null;let e=Ct.asCID(t);if(!e)return null;let r=new Uint8Array(e.bytes.byteLength+1);return r.set(e.bytes,1),[new me(U.tag,RV),new me(U.bytes,r)]}function bde(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function Ede(t){if(Number.isNaN(t))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(t===1/0||t===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}function vde(t){for(let e of t.keys())if(typeof e!="string"||e.length===0)throw new Error("Non-string Map keys are not supported by the IPLD Data Model and cannot be encoded");return null}var GD={float64:!0,typeEncoders:{Map:vde,Object:wde,undefined:bde,number:Ede}},Tde=S(b({},GD),{typeEncoders:b({},GD.typeEncoders)});function xde(t){if(t[0]!==0)throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return Ct.decode(t.subarray(1))}var AT={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,rejectDuplicateMapKeys:!0,tags:[]};AT.tags[RV]=xde;var Ade=S(b({},AT),{tags:AT.tags.slice()}),Ide="dag-cbor",zD=113,Sde=t=>VD(t,GD),qD=t=>jD(kV(t),AT);function PV(t,e){let r=n=>Object.values(e).includes(n);return new ai(t,r,(n,o)=>r(n)?o.success(n):o.failure(),pa)}function Nde(t){try{return ze.fromString(t),!0}catch{return!1}}var ya=cT(pr,Nde,"StreamID-string"),LV=new ai("StreamID-as-string",t=>ze.isInstance(t),(t,e)=>{try{return e.success(ze.fromString(t))}catch{return e.failure()}},t=>t.toString()),FV=new ai("StreamID-as-bytes",t=>ze.isInstance(t),(t,e)=>{try{return e.success(ze.fromBytes(t))}catch{return e.failure()}},t=>t.bytes),Jje=new ai("CommitID-as-string",t=>Qr.isInstance(t),(t,e)=>{try{return e.success(Qr.fromString(t))}catch{return e.failure()}},t=>t.toString()),Hje=hg({controllers:Vl(pr),model:po(LV),context:po(LV),family:po(pr),schema:po(pr),tags:po(Vl(pr)),forbidControllerChange:po(aT)}),Kje=PV("EventType",Rv);var _de="(?:%[0-9a-fA-F]{2})",UV=`(?:[a-zA-Z0-9._-]|${_de})`,Dde="([a-z0-9]+)",Ode=`((?:${UV}*:)*(${UV}+))`,Cde=new RegExp(`^did:${Dde}:${Ode}$`);function Rde(t){return!!(t&&t.match(Cde))}var BV=cT(pr,Rde,"did-string");var H9=Rr(C9(),1),K9=Rr(J9(),1);var ux=new H9.default({strict:!0,allErrors:!0,allowMatchingProperties:!1,ownProperties:!1,unevaluated:!1});(0,K9.default)(ux);function Lwe(t,e){function r(n){return typeof n=="object"&&n!=null&&n.type===t}return new ai(e,r,(n,o)=>{if(!r(n))return o.failure(`Input is not a JSON schema of type: ${t}`);let i=ux.validateSchema(n);return ux.removeSchema(n),i?o.success(n):o.failure(`Validation Error: ${ux.errorsText()}`)},pa)}var W9=Lwe("object","ObjectSchema"),Y9=ci([ya,I4]),J9e=Jr({controller:BV,model:FV},"ModelMetadata"),Fwe=ci([Jr({type:Ur("list")}),Jr({type:Ur("single")})],"ModelAccountRelation"),Uwe=ci([Jr({type:Ur("list")}),Jr({type:Ur("single")}),Jr({type:Ur("none")}),Jr({type:Ur("set"),fields:Vl(pr)})],"ModelAccountRelationV2"),Bwe=ci([Jr({type:Ur("account")}),Jr({type:Ur("document"),model:ya})],"ModelRelationDefinition"),Mwe=ci([Jr({type:Ur("account")}),Jr({type:Ur("document"),model:Y9})],"ModelRelationDefinitionV2"),$we=pg(pr,Bwe,"ModelRelationsDefinition"),aC=pg(pr,Mwe,"ModelRelationsDefinitionV2"),X9=ci([Jr({type:Ur("documentAccount")}),Jr({type:Ur("documentVersion")})],"ModelDocumentMetadataViewDefinition"),Vwe=ci([Jr({type:Ur("relationDocument"),model:ya,property:pr}),Jr({type:Ur("relationFrom"),model:ya,property:pr}),Jr({type:Ur("relationCountFrom"),model:ya,property:pr})],"ModelRelationViewDefinition"),jwe=ci([Jr({type:Ur("relationDocument"),model:Y9,property:pr}),Jr({type:Ur("relationFrom"),model:ya,property:pr}),Jr({type:Ur("relationCountFrom"),model:ya,property:pr}),Jr({type:Ur("relationSetFrom"),model:ya,property:pr})],"ModelRelationViewDefinitionV2"),Gwe=ci([X9,Vwe],"ModelViewDefinition"),zwe=ci([X9,jwe],"ModelViewDefinitionV2"),qwe=pg(pr,Gwe,"ModelViewDefinition"),Qwe=pg(pr,zwe,"ModelViewDefinitionV2"),Jwe=hg({version:Ur("1.0"),name:pr,description:po(pr),schema:W9,accountRelation:Fwe,relations:po($we),views:po(qwe)},"ModelDefinitionV1"),Hwe=hg({version:Ur("2.0"),name:pr,description:po(pr),interface:aT,implements:Vl(ya),schema:W9,immutableFields:po(Vl(pr)),accountRelation:Uwe,relations:po(aC),views:po(Qwe)},"ModelDefinitionV2"),Z9=ci([Jwe,Hwe],"ModelDefinition");var Kwe=["string","number","bigint","symbol"],Wwe=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function e7(t){if(t===null)return"null";if(t===void 0)return"undefined";if(t===!0||t===!1)return"boolean";let e=typeof t;if(Kwe.includes(e))return e;if(e==="function")return"Function";if(Array.isArray(t))return"Array";if(Ywe(t))return"Buffer";let r=Xwe(t);return r||"Object"}function Ywe(t){return t&&t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer.call(null,t)}function Xwe(t){let e=Object.prototype.toString.call(t).slice(8,-1);if(Wwe.includes(e))return e}var q=class{constructor(e,r,n){this.major=e,this.majorEncoded=e<<5,this.name=r,this.terminal=n}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}};q.uint=new q(0,"uint",!0);q.negint=new q(1,"negint",!0);q.bytes=new q(2,"bytes",!0);q.string=new q(3,"string",!0);q.array=new q(4,"array",!1);q.map=new q(5,"map",!1);q.tag=new q(6,"tag",!1);q.float=new q(7,"float",!0);q.false=new q(7,"false",!0);q.true=new q(7,"true",!0);q.null=new q(7,"null",!0);q.undefined=new q(7,"undefined",!0);q.break=new q(7,"break",!0);var Ee=class{constructor(e,r,n){this.type=e,this.value=r,this.encodedLength=n,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}};var Zp=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&typeof globalThis.Buffer.isBuffer=="function",Zwe=new TextDecoder,ebe=new TextEncoder;function lx(t){return Zp&&globalThis.Buffer.isBuffer(t)}function cC(t){return t instanceof Uint8Array?lx(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t:Uint8Array.from(t)}var o7=Zp?(t,e,r)=>r-e>64?globalThis.Buffer.from(t.subarray(e,r)).toString("utf8"):r7(t,e,r):(t,e,r)=>r-e>64?Zwe.decode(t.subarray(e,r)):r7(t,e,r),i7=Zp?t=>t.length>64?globalThis.Buffer.from(t):t7(t):t=>t.length>64?ebe.encode(t):t7(t),Ta=t=>Uint8Array.from(t),eh=Zp?(t,e,r)=>lx(t)?new Uint8Array(t.subarray(e,r)):t.slice(e,r):(t,e,r)=>t.slice(e,r),s7=Zp?(t,e)=>(t=t.map(r=>r instanceof Uint8Array?r:globalThis.Buffer.from(r)),cC(globalThis.Buffer.concat(t,e))):(t,e)=>{let r=new Uint8Array(e),n=0;for(let o of t)n+o.length>r.length&&(o=o.subarray(0,r.length-n)),r.set(o,n),n+=o.length;return r},a7=Zp?t=>globalThis.Buffer.allocUnsafe(t):t=>new Uint8Array(t);function c7(t,e){if(lx(t)&&lx(e))return t.compare(e);for(let r=0;r<t.length;r++)if(t[r]!==e[r])return t[r]<e[r]?-1:1;return 0}function t7(t,e=1/0){let r,n=t.length,o=null,i=[];for(let s=0;s<n;++s){if(r=t.charCodeAt(s),r>55295&&r<57344){if(!o){if(r>56319){(e-=3)>-1&&i.push(239,191,189);continue}else if(s+1===n){(e-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(e-=3)>-1&&i.push(239,191,189),o=r;continue}r=(o-55296<<10|r-56320)+65536}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((e-=1)<0)break;i.push(r)}else if(r<2048){if((e-=2)<0)break;i.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;i.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return i}function r7(t,e,r){let n=[];for(;e<r;){let o=t[e],i=null,s=o>239?4:o>223?3:o>191?2:1;if(e+s<=r){let a,c,u,l;switch(s){case 1:o<128&&(i=o);break;case 2:a=t[e+1],(a&192)===128&&(l=(o&31)<<6|a&63,l>127&&(i=l));break;case 3:a=t[e+1],c=t[e+2],(a&192)===128&&(c&192)===128&&(l=(o&15)<<12|(a&63)<<6|c&63,l>2047&&(l<55296||l>57343)&&(i=l));break;case 4:a=t[e+1],c=t[e+2],u=t[e+3],(a&192)===128&&(c&192)===128&&(u&192)===128&&(l=(o&15)<<18|(a&63)<<12|(c&63)<<6|u&63,l>65535&&l<1114112&&(i=l))}}i===null?(i=65533,s=1):i>65535&&(i-=65536,n.push(i>>>10&1023|55296),i=56320|i&1023),n.push(i),e+=s}return tbe(n)}var n7=4096;function tbe(t){let e=t.length;if(e<=n7)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=n7));return r}var rbe=256,Xg=class{constructor(e=rbe){this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),this._initReuseChunk!==null&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let r=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){let o=r.length-(this.maxCursor-this.cursor)-1;r.set(e,o)}else{if(r){let o=r.length-(this.maxCursor-this.cursor)-1;o<r.length&&(this.chunks[this.chunks.length-1]=r.subarray(0,o),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(r=a7(this.chunkSize),this.chunks.push(r),this.maxCursor+=r.length,this._initReuseChunk===null&&(this._initReuseChunk=r),r.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(e=!1){let r;if(this.chunks.length===1){let n=this.chunks[0];e&&this.cursor>n.length/2?(r=this.cursor===n.length?n:n.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):r=eh(n,0,this.cursor)}else r=s7(this.chunks,this.cursor);return e&&this.reset(),r}};var Mt="CBOR decode error:",uC="CBOR encode error:",Zg=[];Zg[23]=1;Zg[24]=2;Zg[25]=3;Zg[26]=5;Zg[27]=9;function vc(t,e,r){if(t.length-e<r)throw new Error(`${Mt} not enough data for type`)}var wn=[24,256,65536,4294967296,BigInt("18446744073709551616")];function pi(t,e,r){vc(t,e,1);let n=t[e];if(r.strict===!0&&n<wn[0])throw new Error(`${Mt} integer encoded in more bytes than necessary (strict decode)`);return n}function hi(t,e,r){vc(t,e,2);let n=t[e]<<8|t[e+1];if(r.strict===!0&&n<wn[1])throw new Error(`${Mt} integer encoded in more bytes than necessary (strict decode)`);return n}function mi(t,e,r){vc(t,e,4);let n=t[e]*16777216+(t[e+1]<<16)+(t[e+2]<<8)+t[e+3];if(r.strict===!0&&n<wn[2])throw new Error(`${Mt} integer encoded in more bytes than necessary (strict decode)`);return n}function yi(t,e,r){vc(t,e,8);let n=t[e]*16777216+(t[e+1]<<16)+(t[e+2]<<8)+t[e+3],o=t[e+4]*16777216+(t[e+5]<<16)+(t[e+6]<<8)+t[e+7],i=(BigInt(n)<<BigInt(32))+BigInt(o);if(r.strict===!0&&i<wn[3])throw new Error(`${Mt} integer encoded in more bytes than necessary (strict decode)`);if(i<=Number.MAX_SAFE_INTEGER)return Number(i);if(r.allowBigInt===!0)return i;throw new Error(`${Mt} integers outside of the safe integer range are not supported`)}function u7(t,e,r,n){return new Ee(q.uint,pi(t,e+1,n),2)}function l7(t,e,r,n){return new Ee(q.uint,hi(t,e+1,n),3)}function f7(t,e,r,n){return new Ee(q.uint,mi(t,e+1,n),5)}function d7(t,e,r,n){return new Ee(q.uint,yi(t,e+1,n),9)}function Ji(t,e){return Fn(t,0,e.value)}function Fn(t,e,r){if(r<wn[0]){let n=Number(r);t.push([e|n])}else if(r<wn[1]){let n=Number(r);t.push([e|24,n])}else if(r<wn[2]){let n=Number(r);t.push([e|25,n>>>8,n&255])}else if(r<wn[3]){let n=Number(r);t.push([e|26,n>>>24&255,n>>>16&255,n>>>8&255,n&255])}else{let n=BigInt(r);if(n<wn[4]){let o=[e|27,0,0,0,0,0,0,0],i=Number(n&BigInt(4294967295)),s=Number(n>>BigInt(32)&BigInt(4294967295));o[8]=i&255,i=i>>8,o[7]=i&255,i=i>>8,o[6]=i&255,i=i>>8,o[5]=i&255,o[4]=s&255,s=s>>8,o[3]=s&255,s=s>>8,o[2]=s&255,s=s>>8,o[1]=s&255,t.push(o)}else throw new Error(`${Mt} encountered BigInt larger than allowable range`)}}Ji.encodedSize=function(e){return Fn.encodedSize(e.value)};Fn.encodedSize=function(e){return e<wn[0]?1:e<wn[1]?2:e<wn[2]?3:e<wn[3]?5:9};Ji.compareTokens=function(e,r){return e.value<r.value?-1:e.value>r.value?1:0};function p7(t,e,r,n){return new Ee(q.negint,-1-pi(t,e+1,n),2)}function h7(t,e,r,n){return new Ee(q.negint,-1-hi(t,e+1,n),3)}function m7(t,e,r,n){return new Ee(q.negint,-1-mi(t,e+1,n),5)}var lC=BigInt(-1),y7=BigInt(1);function g7(t,e,r,n){let o=yi(t,e+1,n);if(typeof o!="bigint"){let i=-1-o;if(i>=Number.MIN_SAFE_INTEGER)return new Ee(q.negint,i,9)}if(n.allowBigInt!==!0)throw new Error(`${Mt} integers outside of the safe integer range are not supported`);return new Ee(q.negint,lC-BigInt(o),9)}function fx(t,e){let r=e.value,n=typeof r=="bigint"?r*lC-y7:r*-1-1;Fn(t,e.type.majorEncoded,n)}fx.encodedSize=function(e){let r=e.value,n=typeof r=="bigint"?r*lC-y7:r*-1-1;return n<wn[0]?1:n<wn[1]?2:n<wn[2]?3:n<wn[3]?5:9};fx.compareTokens=function(e,r){return e.value<r.value?1:e.value>r.value?-1:0};function e0(t,e,r,n){vc(t,e,r+n);let o=eh(t,e+r,e+r+n);return new Ee(q.bytes,o,r+n)}function w7(t,e,r,n){return e0(t,e,1,r)}function b7(t,e,r,n){return e0(t,e,2,pi(t,e+1,n))}function E7(t,e,r,n){return e0(t,e,3,hi(t,e+1,n))}function v7(t,e,r,n){return e0(t,e,5,mi(t,e+1,n))}function T7(t,e,r,n){let o=yi(t,e+1,n);if(typeof o=="bigint")throw new Error(`${Mt} 64-bit integer bytes lengths not supported`);return e0(t,e,9,o)}function dx(t){return t.encodedBytes===void 0&&(t.encodedBytes=t.type===q.string?i7(t.value):t.value),t.encodedBytes}function th(t,e){let r=dx(e);Fn(t,e.type.majorEncoded,r.length),t.push(r)}th.encodedSize=function(e){let r=dx(e);return Fn.encodedSize(r.length)+r.length};th.compareTokens=function(e,r){return obe(dx(e),dx(r))};function obe(t,e){return t.length<e.length?-1:t.length>e.length?1:c7(t,e)}function t0(t,e,r,n,o){let i=r+n;vc(t,e,i);let s=new Ee(q.string,o7(t,e+r,e+i),i);return o.retainStringBytes===!0&&(s.byteValue=eh(t,e+r,e+i)),s}function x7(t,e,r,n){return t0(t,e,1,r,n)}function A7(t,e,r,n){return t0(t,e,2,pi(t,e+1,n),n)}function I7(t,e,r,n){return t0(t,e,3,hi(t,e+1,n),n)}function S7(t,e,r,n){return t0(t,e,5,mi(t,e+1,n),n)}function N7(t,e,r,n){let o=yi(t,e+1,n);if(typeof o=="bigint")throw new Error(`${Mt} 64-bit integer string lengths not supported`);return t0(t,e,9,o,n)}var _7=th;function rh(t,e,r,n){return new Ee(q.array,n,r)}function D7(t,e,r,n){return rh(t,e,1,r)}function O7(t,e,r,n){return rh(t,e,2,pi(t,e+1,n))}function C7(t,e,r,n){return rh(t,e,3,hi(t,e+1,n))}function R7(t,e,r,n){return rh(t,e,5,mi(t,e+1,n))}function k7(t,e,r,n){let o=yi(t,e+1,n);if(typeof o=="bigint")throw new Error(`${Mt} 64-bit integer array lengths not supported`);return rh(t,e,9,o)}function P7(t,e,r,n){if(n.allowIndefinite===!1)throw new Error(`${Mt} indefinite length items not allowed`);return rh(t,e,1,1/0)}function px(t,e){Fn(t,q.array.majorEncoded,e.value)}px.compareTokens=Ji.compareTokens;px.encodedSize=function(e){return Fn.encodedSize(e.value)};function nh(t,e,r,n){return new Ee(q.map,n,r)}function L7(t,e,r,n){return nh(t,e,1,r)}function F7(t,e,r,n){return nh(t,e,2,pi(t,e+1,n))}function U7(t,e,r,n){return nh(t,e,3,hi(t,e+1,n))}function B7(t,e,r,n){return nh(t,e,5,mi(t,e+1,n))}function M7(t,e,r,n){let o=yi(t,e+1,n);if(typeof o=="bigint")throw new Error(`${Mt} 64-bit integer map lengths not supported`);return nh(t,e,9,o)}function $7(t,e,r,n){if(n.allowIndefinite===!1)throw new Error(`${Mt} indefinite length items not allowed`);return nh(t,e,1,1/0)}function hx(t,e){Fn(t,q.map.majorEncoded,e.value)}hx.compareTokens=Ji.compareTokens;hx.encodedSize=function(e){return Fn.encodedSize(e.value)};function V7(t,e,r,n){return new Ee(q.tag,r,1)}function j7(t,e,r,n){return new Ee(q.tag,pi(t,e+1,n),2)}function G7(t,e,r,n){return new Ee(q.tag,hi(t,e+1,n),3)}function z7(t,e,r,n){return new Ee(q.tag,mi(t,e+1,n),5)}function q7(t,e,r,n){return new Ee(q.tag,yi(t,e+1,n),9)}function mx(t,e){Fn(t,q.tag.majorEncoded,e.value)}mx.compareTokens=Ji.compareTokens;mx.encodedSize=function(e){return Fn.encodedSize(e.value)};var lbe=20,fbe=21,dbe=22,pbe=23;function Q7(t,e,r,n){if(n.allowUndefined===!1)throw new Error(`${Mt} undefined values are not supported`);return n.coerceUndefinedToNull===!0?new Ee(q.null,null,1):new Ee(q.undefined,void 0,1)}function J7(t,e,r,n){if(n.allowIndefinite===!1)throw new Error(`${Mt} indefinite length items not allowed`);return new Ee(q.break,void 0,1)}function fC(t,e,r){if(r){if(r.allowNaN===!1&&Number.isNaN(t))throw new Error(`${Mt} NaN values are not supported`);if(r.allowInfinity===!1&&(t===1/0||t===-1/0))throw new Error(`${Mt} Infinity values are not supported`)}return new Ee(q.float,t,e)}function H7(t,e,r,n){return fC(dC(t,e+1),3,n)}function K7(t,e,r,n){return fC(pC(t,e+1),5,n)}function W7(t,e,r,n){return fC(ez(t,e+1),9,n)}function yx(t,e,r){let n=e.value;if(n===!1)t.push([q.float.majorEncoded|lbe]);else if(n===!0)t.push([q.float.majorEncoded|fbe]);else if(n===null)t.push([q.float.majorEncoded|dbe]);else if(n===void 0)t.push([q.float.majorEncoded|pbe]);else{let o,i=!1;(!r||r.float64!==!0)&&(X7(n),o=dC(Ls,1),n===o||Number.isNaN(n)?(Ls[0]=249,t.push(Ls.slice(0,3)),i=!0):(Z7(n),o=pC(Ls,1),n===o&&(Ls[0]=250,t.push(Ls.slice(0,5)),i=!0))),i||(hbe(n),o=ez(Ls,1),Ls[0]=251,t.push(Ls.slice(0,9)))}}yx.encodedSize=function(e,r){let n=e.value;if(n===!1||n===!0||n===null||n===void 0)return 1;if(!r||r.float64!==!0){X7(n);let o=dC(Ls,1);if(n===o||Number.isNaN(n))return 3;if(Z7(n),o=pC(Ls,1),n===o)return 5}return 9};var Y7=new ArrayBuffer(9),Hi=new DataView(Y7,1),Ls=new Uint8Array(Y7,0);function X7(t){if(t===1/0)Hi.setUint16(0,31744,!1);else if(t===-1/0)Hi.setUint16(0,64512,!1);else if(Number.isNaN(t))Hi.setUint16(0,32256,!1);else{Hi.setFloat32(0,t);let e=Hi.getUint32(0),r=(e&2139095040)>>23,n=e&8388607;if(r===255)Hi.setUint16(0,31744,!1);else if(r===0)Hi.setUint16(0,(t&2147483648)>>16|n>>13,!1);else{let o=r-127;o<-24?Hi.setUint16(0,0):o<-14?Hi.setUint16(0,(e&2147483648)>>16|1<<24+o,!1):Hi.setUint16(0,(e&2147483648)>>16|o+15<<10|n>>13,!1)}}}function dC(t,e){if(t.length-e<2)throw new Error(`${Mt} not enough data for float16`);let r=(t[e]<<8)+t[e+1];if(r===31744)return 1/0;if(r===64512)return-1/0;if(r===32256)return NaN;let n=r>>10&31,o=r&1023,i;return n===0?i=o*2**-24:n!==31?i=(o+1024)*2**(n-25):i=o===0?1/0:NaN,r&32768?-i:i}function Z7(t){Hi.setFloat32(0,t,!1)}function pC(t,e){if(t.length-e<4)throw new Error(`${Mt} not enough data for float32`);let r=(t.byteOffset||0)+e;return new DataView(t.buffer,r,4).getFloat32(0,!1)}function hbe(t){Hi.setFloat64(0,t,!1)}function ez(t,e){if(t.length-e<8)throw new Error(`${Mt} not enough data for float64`);let r=(t.byteOffset||0)+e;return new DataView(t.buffer,r,8).getFloat64(0,!1)}yx.compareTokens=Ji.compareTokens;function $t(t,e,r){throw new Error(`${Mt} encountered invalid minor (${r}) for major ${t[e]>>>5}`)}function gx(t){return()=>{throw new Error(`${Mt} ${t}`)}}var fe=[];for(let t=0;t<=23;t++)fe[t]=$t;fe[24]=u7;fe[25]=l7;fe[26]=f7;fe[27]=d7;fe[28]=$t;fe[29]=$t;fe[30]=$t;fe[31]=$t;for(let t=32;t<=55;t++)fe[t]=$t;fe[56]=p7;fe[57]=h7;fe[58]=m7;fe[59]=g7;fe[60]=$t;fe[61]=$t;fe[62]=$t;fe[63]=$t;for(let t=64;t<=87;t++)fe[t]=w7;fe[88]=b7;fe[89]=E7;fe[90]=v7;fe[91]=T7;fe[92]=$t;fe[93]=$t;fe[94]=$t;fe[95]=gx("indefinite length bytes/strings are not supported");for(let t=96;t<=119;t++)fe[t]=x7;fe[120]=A7;fe[121]=I7;fe[122]=S7;fe[123]=N7;fe[124]=$t;fe[125]=$t;fe[126]=$t;fe[127]=gx("indefinite length bytes/strings are not supported");for(let t=128;t<=151;t++)fe[t]=D7;fe[152]=O7;fe[153]=C7;fe[154]=R7;fe[155]=k7;fe[156]=$t;fe[157]=$t;fe[158]=$t;fe[159]=P7;for(let t=160;t<=183;t++)fe[t]=L7;fe[184]=F7;fe[185]=U7;fe[186]=B7;fe[187]=M7;fe[188]=$t;fe[189]=$t;fe[190]=$t;fe[191]=$7;for(let t=192;t<=215;t++)fe[t]=V7;fe[216]=j7;fe[217]=G7;fe[218]=z7;fe[219]=q7;fe[220]=$t;fe[221]=$t;fe[222]=$t;fe[223]=$t;for(let t=224;t<=243;t++)fe[t]=gx("simple values are not supported");fe[244]=$t;fe[245]=$t;fe[246]=$t;fe[247]=Q7;fe[248]=gx("simple values are not supported");fe[249]=H7;fe[250]=K7;fe[251]=W7;fe[252]=$t;fe[253]=$t;fe[254]=$t;fe[255]=J7;var xa=[];for(let t=0;t<24;t++)xa[t]=new Ee(q.uint,t,1);for(let t=-1;t>=-24;t--)xa[31-t]=new Ee(q.negint,t,1);xa[64]=new Ee(q.bytes,new Uint8Array(0),1);xa[96]=new Ee(q.string,"",1);xa[128]=new Ee(q.array,0,1);xa[160]=new Ee(q.map,0,1);xa[244]=new Ee(q.false,!1,1);xa[245]=new Ee(q.true,!0,1);xa[246]=new Ee(q.null,null,1);function tz(t){switch(t.type){case q.false:return Ta([244]);case q.true:return Ta([245]);case q.null:return Ta([246]);case q.bytes:return t.value.length?void 0:Ta([64]);case q.string:return t.value===""?Ta([96]):void 0;case q.array:return t.value===0?Ta([128]):void 0;case q.map:return t.value===0?Ta([160]):void 0;case q.uint:return t.value<24?Ta([Number(t.value)]):void 0;case q.negint:if(t.value>=-24)return Ta([31-Number(t.value)])}}var ybe={float64:!1,mapSorter:bbe,quickEncodeToken:tz};function gbe(){let t=[];return t[q.uint.major]=Ji,t[q.negint.major]=fx,t[q.bytes.major]=th,t[q.string.major]=_7,t[q.array.major]=px,t[q.map.major]=hx,t[q.tag.major]=mx,t[q.float.major]=yx,t}var rz=gbe(),hC=new Xg,bx=class t{constructor(e,r){this.obj=e,this.parent=r}includes(e){let r=this;do if(r.obj===e)return!0;while(r=r.parent);return!1}static createCheck(e,r){if(e&&e.includes(r))throw new Error(`${uC} object contains circular references`);return new t(r,e)}},Su={null:new Ee(q.null,null),undefined:new Ee(q.undefined,void 0),true:new Ee(q.true,!0),false:new Ee(q.false,!1),emptyArray:new Ee(q.array,0),emptyMap:new Ee(q.map,0)},Nu={number(t,e,r,n){return!Number.isInteger(t)||!Number.isSafeInteger(t)?new Ee(q.float,t):t>=0?new Ee(q.uint,t):new Ee(q.negint,t)},bigint(t,e,r,n){return t>=BigInt(0)?new Ee(q.uint,t):new Ee(q.negint,t)},Uint8Array(t,e,r,n){return new Ee(q.bytes,t)},string(t,e,r,n){return new Ee(q.string,t)},boolean(t,e,r,n){return t?Su.true:Su.false},null(t,e,r,n){return Su.null},undefined(t,e,r,n){return Su.undefined},ArrayBuffer(t,e,r,n){return new Ee(q.bytes,new Uint8Array(t))},DataView(t,e,r,n){return new Ee(q.bytes,new Uint8Array(t.buffer,t.byteOffset,t.byteLength))},Array(t,e,r,n){if(!t.length)return r.addBreakTokens===!0?[Su.emptyArray,new Ee(q.break)]:Su.emptyArray;n=bx.createCheck(n,t);let o=[],i=0;for(let s of t)o[i++]=wx(s,r,n);return r.addBreakTokens?[new Ee(q.array,t.length),o,new Ee(q.break)]:[new Ee(q.array,t.length),o]},Object(t,e,r,n){let o=e!=="Object",i=o?t.keys():Object.keys(t),s=o?t.size:i.length;if(!s)return r.addBreakTokens===!0?[Su.emptyMap,new Ee(q.break)]:Su.emptyMap;n=bx.createCheck(n,t);let a=[],c=0;for(let u of i)a[c++]=[wx(u,r,n),wx(o?t.get(u):t[u],r,n)];return wbe(a,r),r.addBreakTokens?[new Ee(q.map,s),a,new Ee(q.break)]:[new Ee(q.map,s),a]}};Nu.Map=Nu.Object;Nu.Buffer=Nu.Uint8Array;for(let t of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))Nu[`${t}Array`]=Nu.DataView;function wx(t,e={},r){let n=e7(t),o=e&&e.typeEncoders&&e.typeEncoders[n]||Nu[n];if(typeof o=="function"){let s=o(t,n,e,r);if(s!=null)return s}let i=Nu[n];if(!i)throw new Error(`${uC} unsupported type: ${n}`);return i(t,n,e,r)}function wbe(t,e){e.mapSorter&&t.sort(e.mapSorter)}function bbe(t,e){let r=Array.isArray(t[0])?t[0][0]:t[0],n=Array.isArray(e[0])?e[0][0]:e[0];if(r.type!==n.type)return r.type.compare(n.type);let o=r.type.major,i=rz[o].compareTokens(r,n);return i===0&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),i}function nz(t,e,r,n){if(Array.isArray(e))for(let o of e)nz(t,o,r,n);else r[e.type.major](t,e,n)}function Ebe(t,e,r){let n=wx(t,r);if(!Array.isArray(n)&&r.quickEncodeToken){let o=r.quickEncodeToken(n);if(o)return o;let i=e[n.type.major];if(i.encodedSize){let s=i.encodedSize(n,r),a=new Xg(s);if(i(a,n,r),a.chunks.length!==1)throw new Error(`Unexpected error: pre-calculated length for ${n} was wrong`);return cC(a.chunks[0])}}return hC.reset(),nz(hC,n,e,r),hC.toBytes(!0)}function mC(t,e){return e=Object.assign({},ybe,e),Ebe(t,rz,e)}var j7e=Symbol.for("DONE"),G7e=Symbol.for("BREAK");var xbe=sz,oz=128,Abe=127,Ibe=~Abe,Sbe=Math.pow(2,31);function sz(t,e,r){e=e||[],r=r||0;for(var n=r;t>=Sbe;)e[r++]=t&255|oz,t/=128;for(;t&Ibe;)e[r++]=t&255|oz,t>>>=7;return e[r]=t|0,sz.bytes=r-n+1,e}var Nbe=yC,_be=128,iz=127;function yC(t,n){var r=0,n=n||0,o=0,i=n,s,a=t.length;do{if(i>=a)throw yC.bytes=0,new RangeError("Could not decode varint");s=t[i++],r+=o<28?(s&iz)<<o:(s&iz)*Math.pow(2,o),o+=7}while(s>=_be);return yC.bytes=i-n,r}var Dbe=Math.pow(2,7),Obe=Math.pow(2,14),Cbe=Math.pow(2,21),Rbe=Math.pow(2,28),kbe=Math.pow(2,35),Pbe=Math.pow(2,42),Lbe=Math.pow(2,49),Fbe=Math.pow(2,56),Ube=Math.pow(2,63),Bbe=function(t){return t<Dbe?1:t<Obe?2:t<Cbe?3:t<Rbe?4:t<kbe?5:t<Pbe?6:t<Lbe?7:t<Fbe?8:t<Ube?9:10},Mbe={encode:xbe,decode:Nbe,encodingLength:Bbe},$be=Mbe,r0=$be;var n0=(t,e=0)=>[r0.decode(t,e),r0.decode.bytes],oh=(t,e,r=0)=>(r0.encode(t,e,r),e),ih=t=>r0.encodingLength(t);var W7e=new Uint8Array(0);var cz=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},sh=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")};var uz=(t,e)=>{let r=e.byteLength,n=ih(t),o=n+ih(r),i=new Uint8Array(o+r);return oh(t,i,0),oh(r,i,n),i.set(e,o),new ah(t,r,e,i)},lz=t=>{let e=sh(t),[r,n]=n0(e),[o,i]=n0(e.subarray(n)),s=e.subarray(n+i);if(s.byteLength!==o)throw new Error("Incorrect length");return new ah(r,o,s,e)},fz=(t,e)=>t===e?!0:t.code===e.code&&t.size===e.size&&cz(t.bytes,e.bytes),ah=class{constructor(e,r,n,o){this.code=e,this.size=r,this.digest=n,this.bytes=o}};function jbe(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var o=0;o<t.length;o++){var i=t.charAt(o),s=i.charCodeAt(0);if(r[s]!==255)throw new TypeError(i+" is ambiguous");r[s]=o}var a=t.length,c=t.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function f(h){if(h instanceof Uint8Array||(ArrayBuffer.isView(h)?h=new Uint8Array(h.buffer,h.byteOffset,h.byteLength):Array.isArray(h)&&(h=Uint8Array.from(h))),!(h instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(h.length===0)return"";for(var m=0,g=0,w=0,T=h.length;w!==T&&h[w]===0;)w++,m++;for(var v=(T-w)*l+1>>>0,x=new Uint8Array(v);w!==T;){for(var A=h[w],_=0,O=v-1;(A!==0||_<g)&&O!==-1;O--,_++)A+=256*x[O]>>>0,x[O]=A%a>>>0,A=A/a>>>0;if(A!==0)throw new Error("Non-zero carry");g=_,w++}for(var C=v-g;C!==v&&x[C]===0;)C++;for(var I=c.repeat(m);C<v;++C)I+=t.charAt(x[C]);return I}function d(h){if(typeof h!="string")throw new TypeError("Expected String");if(h.length===0)return new Uint8Array;var m=0;if(h[m]!==" "){for(var g=0,w=0;h[m]===c;)g++,m++;for(var T=(h.length-m)*u+1>>>0,v=new Uint8Array(T);h[m];){var x=r[h.charCodeAt(m)];if(x===255)return;for(var A=0,_=T-1;(x!==0||A<w)&&_!==-1;_--,A++)x+=a*v[_]>>>0,v[_]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");w=A,m++}if(h[m]!==" "){for(var O=T-w;O!==T&&v[O]===0;)O++;for(var C=new Uint8Array(g+(T-O)),I=g;O!==T;)C[I++]=v[O++];return C}}}function p(h){var m=d(h);if(m)return m;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:d,decode:p}}var Gbe=jbe,zbe=Gbe,dz=zbe;var gC=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},wC=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return pz(this,e)}},bC=class{constructor(e){this.decoders=e}or(e){return pz(this,e)}decode(e){let r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},pz=(t,e)=>new bC(b(b({},t.decoders||{[t.prefix]:t}),e.decoders||{[e.prefix]:e})),EC=class{constructor(e,r,n,o){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=o,this.encoder=new gC(e,r,n),this.decoder=new wC(e,r,o)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},hz=({name:t,prefix:e,encode:r,decode:n})=>new EC(t,e,r,n),vC=({prefix:t,name:e,alphabet:r})=>{let{encode:n,decode:o}=dz(r,e);return hz({prefix:t,name:e,encode:n,decode:i=>sh(o(i))})},qbe=(t,e,r,n)=>{let o={};for(let l=0;l<e.length;++l)o[e[l]]=l;let i=t.length;for(;t[i-1]==="=";)--i;let s=new Uint8Array(i*r/8|0),a=0,c=0,u=0;for(let l=0;l<i;++l){let f=o[t[l]];if(f===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|f,a+=r,a>=8&&(a-=8,s[u++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return s},Qbe=(t,e,r)=>{let n=e[e.length-1]==="=",o=(1<<r)-1,i="",s=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],s+=8;s>r;)s-=r,i+=e[o&a>>s];if(s&&(i+=e[o&a<<r-s]),n)for(;i.length*r&7;)i+="=";return i},Aa=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>hz({prefix:e,name:t,encode(o){return Qbe(o,n,r)},decode(o){return qbe(o,n,r,t)}});var Tc=vC({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),ize=vC({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var o0=Aa({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),cze=Aa({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),uze=Aa({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),lze=Aa({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),fze=Aa({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),dze=Aa({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),pze=Aa({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),hze=Aa({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),mze=Aa({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var s0=class t{constructor(e,r,n,o){this.code=r,this.version=e,this.multihash=n,this.bytes=o,this.byteOffset=o.byteOffset,this.byteLength=o.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:vx,byteLength:vx,code:Ex,version:Ex,multihash:Ex,bytes:Ex,_baseCache:vx,asCID:vx})}toV0(){switch(this.version){case 0:return this;default:{let{code:e,multihash:r}=this;if(e!==i0)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==Wbe)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return t.createV0(r)}}}toV1(){switch(this.version){case 0:{let{code:e,digest:r}=this.multihash,n=uz(e,r);return t.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&fz(this.multihash,e.multihash)}toString(e){let{bytes:r,version:n,_baseCache:o}=this;switch(n){case 0:return Hbe(r,o,e||Tc.encoder);default:return Kbe(r,o,e||o0.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return Xbe(/^0\.0/,Zbe),!!(e&&(e[yz]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof t)return e;if(e!=null&&e.asCID===e){let{version:r,code:n,multihash:o,bytes:i}=e;return new t(r,n,o,i||mz(r,n,o.bytes))}else if(e!=null&&e[yz]===!0){let{version:r,multihash:n,code:o}=e,i=lz(n);return t.create(r,o,i)}else return null}static create(e,r,n){if(typeof r!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(r!==i0)throw new Error(`Version 0 CID must use dag-pb (code: ${i0}) block encoding`);return new t(e,r,n,n.bytes)}case 1:{let o=mz(e,r,n.bytes);return new t(e,r,n,o)}default:throw new Error("Invalid version")}}static createV0(e){return t.create(0,i0,e)}static createV1(e,r){return t.create(1,e,r)}static decode(e){let[r,n]=t.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return r}static decodeFirst(e){let r=t.inspectBytes(e),n=r.size-r.multihashSize,o=sh(e.subarray(n,n+r.multihashSize));if(o.byteLength!==r.multihashSize)throw new Error("Incorrect length");let i=o.subarray(r.multihashSize-r.digestSize),s=new ah(r.multihashCode,r.digestSize,i,o);return[r.version===0?t.createV0(s):t.createV1(r.codec,s),e.subarray(r.size)]}static inspectBytes(e){let r=0,n=()=>{let[f,d]=n0(e.subarray(r));return r+=d,f},o=n(),i=i0;if(o===18?(o=0,r=0):o===1&&(i=n()),o!==0&&o!==1)throw new RangeError(`Invalid CID version ${o}`);let s=r,a=n(),c=n(),u=r+c,l=u-s;return{version:o,codec:i,multihashCode:a,digestSize:c,multihashSize:l,size:u}}static parse(e,r){let[n,o]=Jbe(e,r),i=t.decode(o);return i._baseCache.set(n,e),i}},Jbe=(t,e)=>{switch(t[0]){case"Q":{let r=e||Tc;return[Tc.prefix,r.decode(`${Tc.prefix}${t}`)]}case Tc.prefix:{let r=e||Tc;return[Tc.prefix,r.decode(t)]}case o0.prefix:{let r=e||o0;return[o0.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},Hbe=(t,e,r)=>{let{prefix:n}=r;if(n!==Tc.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let o=e.get(n);if(o==null){let i=r.encode(t).slice(1);return e.set(n,i),i}else return o},Kbe=(t,e,r)=>{let{prefix:n}=r,o=e.get(n);if(o==null){let i=r.encode(t);return e.set(n,i),i}else return o},i0=112,Wbe=18,mz=(t,e,r)=>{let n=ih(t),o=n+ih(e),i=new Uint8Array(o+r.byteLength);return oh(t,i,0),oh(e,i,n),i.set(r,o),i},yz=Symbol.for("@ipld/js-cid/CID"),Ex={writable:!1,configurable:!1,enumerable:!0},vx={writable:!1,enumerable:!1,configurable:!1},Ybe="0.0.0-dev",Xbe=(t,e)=>{if(t.test(Ybe))console.warn(e);else throw new Error(e)},Zbe=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`;var gz=42;function eEe(t){if(t.asCID!==t)return null;let e=s0.asCID(t);if(!e)return null;let r=new Uint8Array(e.bytes.byteLength+1);return r.set(e.bytes,1),[new Ee(q.tag,gz),new Ee(q.bytes,r)]}function tEe(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function rEe(t){if(Number.isNaN(t))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(t===1/0||t===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}var nEe={float64:!0,typeEncoders:{Object:eEe,undefined:tEe,number:rEe}};function oEe(t){if(t[0]!==0)throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return s0.decode(t.subarray(1))}var iEe={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};iEe.tags[gz]=oEe;var TC=113,wz=t=>mC(t,nEe);var sEe=function(t,e,r,n){var o=arguments.length,i=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(i=(o<3?s(i):o>3?s(e,r,i):s(e,r))||i);return o>3&&i&&Object.defineProperty(e,r,i),i},Ki;var aEe=/^[0-9]+\.[0-9]+$/;function bz(t){if(!aEe.test(t))throw new Error(`Unsupported version format: ${t}`);let[e,r]=t.split(".").map(n=>parseInt(n,10));return[e,r]}var cEe={sync:Qt.PREFER_CACHE};function uEe(){return E(this,null,function*(){throw new Error("Historical stream commits cannot be modified. Load the stream without specifying a commit to make updates.")})}var Wi=Ki=class extends na{constructor(){super(...arguments),this._isReadOnly=!1}get content(){return super.content}get metadata(){return{controller:this.state$.value.metadata.controllers[0],model:Ki.MODEL}}static create(e,r,n){return E(this,null,function*(){Ki.assertVersionValid(r,"minor"),Ki.assertComplete(r);let o={publish:!0,anchor:!0,sync:Qt.NEVER_SYNC},i=yield Ki._makeGenesis(e.signer,r,n);return yield e.createStreamFromGenesis(Ki.STREAM_TYPE_ID,i,o)})}static assertComplete(e,r){Np(Z9,e)}static assertVersionValid(e,r="minor"){if(e.version==null)throw new Error(`Missing version for model ${e.name}`);let[n,o]=bz(Ki.VERSION),[i,s]=bz(e.version);if(i>n||r==="minor"&&i===n&&s>o)throw new Error(`Unsupported version ${e.version} for model ${e.name}, the maximum version supported by the Ceramic node is ${Ki.VERSION}. Please update your Ceramic node to a newer version supporting at least version ${e.version} of the Model definition.`)}static assertRelationsValid(e){e.relations!=null&&Np(aC,e.relations)}static load(o,i){return E(this,arguments,function*(e,r,n={}){n=b(b({},cEe),n);let s=Cn.from(r);if(s.type!=Ki.STREAM_TYPE_ID)throw new Error(`StreamID ${s.toString()} does not refer to a '${Ki.STREAM_TYPE_NAME}' stream, but to a ${s.typeName}`);return yield e.loadStream(s,n)})}static _makeGenesis(e,r,n){return E(this,null,function*(){let o=yield this._makeRawGenesis(e.signer,r,n);return e.signer.createDagJWS(o)})}static _makeRawGenesis(e,r,n){return E(this,null,function*(){if(r==null)throw new Error("Genesis content cannot be null");n?n.controller||(n.controller=yield e.asController()):n={controller:yield e.asController()};let o={controllers:[n.controller],model:Ki.MODEL.bytes,sep:"model"};return{data:r,header:o}})}makeReadOnly(){this.sync=uEe,this._isReadOnly=!0}get isReadOnly(){return this._isReadOnly}};Wi.STREAM_TYPE_NAME="model";Wi.STREAM_TYPE_ID=2;Wi.MODEL=(function(){let t=wz("model-v1"),e=Kd.digest(t),r=uu(TC,e.bytes),n=Ct.createV1(TC,r);return new ze("UNLOADABLE",n)})();Wi.VERSION="2.0";Wi=Ki=sEe([pu()],Wi);var lEe=["string","number","bigint","symbol"],fEe=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function Ez(t){if(t===null)return"null";if(t===void 0)return"undefined";if(t===!0||t===!1)return"boolean";let e=typeof t;if(lEe.includes(e))return e;if(e==="function")return"Function";if(Array.isArray(t))return"Array";if(dEe(t))return"Buffer";let r=pEe(t);return r||"Object"}function dEe(t){return t&&t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer.call(null,t)}function pEe(t){let e=Object.prototype.toString.call(t).slice(8,-1);if(fEe.includes(e))return e}var Q=class{constructor(e,r,n){this.major=e,this.majorEncoded=e<<5,this.name=r,this.terminal=n}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}};Q.uint=new Q(0,"uint",!0);Q.negint=new Q(1,"negint",!0);Q.bytes=new Q(2,"bytes",!0);Q.string=new Q(3,"string",!0);Q.array=new Q(4,"array",!1);Q.map=new Q(5,"map",!1);Q.tag=new Q(6,"tag",!1);Q.float=new Q(7,"float",!0);Q.false=new Q(7,"false",!0);Q.true=new Q(7,"true",!0);Q.null=new Q(7,"null",!0);Q.undefined=new Q(7,"undefined",!0);Q.break=new Q(7,"break",!0);var ve=class{constructor(e,r,n){this.type=e,this.value=r,this.encodedLength=n,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}};var ch=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&typeof globalThis.Buffer.isBuffer=="function",hEe=new TextDecoder,mEe=new TextEncoder;function Tx(t){return ch&&globalThis.Buffer.isBuffer(t)}function xC(t){return t instanceof Uint8Array?Tx(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t:Uint8Array.from(t)}var Az=ch?(t,e,r)=>r-e>64?globalThis.Buffer.from(t.subarray(e,r)).toString("utf8"):Tz(t,e,r):(t,e,r)=>r-e>64?hEe.decode(t.subarray(e,r)):Tz(t,e,r),Iz=ch?t=>t.length>64?globalThis.Buffer.from(t):vz(t):t=>t.length>64?mEe.encode(t):vz(t),Ia=t=>Uint8Array.from(t),uh=ch?(t,e,r)=>Tx(t)?new Uint8Array(t.subarray(e,r)):t.slice(e,r):(t,e,r)=>t.slice(e,r),Sz=ch?(t,e)=>(t=t.map(r=>r instanceof Uint8Array?r:globalThis.Buffer.from(r)),xC(globalThis.Buffer.concat(t,e))):(t,e)=>{let r=new Uint8Array(e),n=0;for(let o of t)n+o.length>r.length&&(o=o.subarray(0,r.length-n)),r.set(o,n),n+=o.length;return r},Nz=ch?t=>globalThis.Buffer.allocUnsafe(t):t=>new Uint8Array(t);function _z(t,e){if(Tx(t)&&Tx(e))return t.compare(e);for(let r=0;r<t.length;r++)if(t[r]!==e[r])return t[r]<e[r]?-1:1;return 0}function vz(t,e=1/0){let r,n=t.length,o=null,i=[];for(let s=0;s<n;++s){if(r=t.charCodeAt(s),r>55295&&r<57344){if(!o){if(r>56319){(e-=3)>-1&&i.push(239,191,189);continue}else if(s+1===n){(e-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(e-=3)>-1&&i.push(239,191,189),o=r;continue}r=(o-55296<<10|r-56320)+65536}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((e-=1)<0)break;i.push(r)}else if(r<2048){if((e-=2)<0)break;i.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;i.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return i}function Tz(t,e,r){let n=[];for(;e<r;){let o=t[e],i=null,s=o>239?4:o>223?3:o>191?2:1;if(e+s<=r){let a,c,u,l;switch(s){case 1:o<128&&(i=o);break;case 2:a=t[e+1],(a&192)===128&&(l=(o&31)<<6|a&63,l>127&&(i=l));break;case 3:a=t[e+1],c=t[e+2],(a&192)===128&&(c&192)===128&&(l=(o&15)<<12|(a&63)<<6|c&63,l>2047&&(l<55296||l>57343)&&(i=l));break;case 4:a=t[e+1],c=t[e+2],u=t[e+3],(a&192)===128&&(c&192)===128&&(u&192)===128&&(l=(o&15)<<18|(a&63)<<12|(c&63)<<6|u&63,l>65535&&l<1114112&&(i=l))}}i===null?(i=65533,s=1):i>65535&&(i-=65536,n.push(i>>>10&1023|55296),i=56320|i&1023),n.push(i),e+=s}return yEe(n)}var xz=4096;function yEe(t){let e=t.length;if(e<=xz)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=xz));return r}var gEe=256,a0=class{constructor(e=gEe){this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),this._initReuseChunk!==null&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let r=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){let o=r.length-(this.maxCursor-this.cursor)-1;r.set(e,o)}else{if(r){let o=r.length-(this.maxCursor-this.cursor)-1;o<r.length&&(this.chunks[this.chunks.length-1]=r.subarray(0,o),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(r=Nz(this.chunkSize),this.chunks.push(r),this.maxCursor+=r.length,this._initReuseChunk===null&&(this._initReuseChunk=r),r.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(e=!1){let r;if(this.chunks.length===1){let n=this.chunks[0];e&&this.cursor>n.length/2?(r=this.cursor===n.length?n:n.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):r=uh(n,0,this.cursor)}else r=Sz(this.chunks,this.cursor);return e&&this.reset(),r}};var Vt="CBOR decode error:",AC="CBOR encode error:",c0=[];c0[23]=1;c0[24]=2;c0[25]=3;c0[26]=5;c0[27]=9;function xc(t,e,r){if(t.length-e<r)throw new Error(`${Vt} not enough data for type`)}var bn=[24,256,65536,4294967296,BigInt("18446744073709551616")];function gi(t,e,r){xc(t,e,1);let n=t[e];if(r.strict===!0&&n<bn[0])throw new Error(`${Vt} integer encoded in more bytes than necessary (strict decode)`);return n}function wi(t,e,r){xc(t,e,2);let n=t[e]<<8|t[e+1];if(r.strict===!0&&n<bn[1])throw new Error(`${Vt} integer encoded in more bytes than necessary (strict decode)`);return n}function bi(t,e,r){xc(t,e,4);let n=t[e]*16777216+(t[e+1]<<16)+(t[e+2]<<8)+t[e+3];if(r.strict===!0&&n<bn[2])throw new Error(`${Vt} integer encoded in more bytes than necessary (strict decode)`);return n}function Ei(t,e,r){xc(t,e,8);let n=t[e]*16777216+(t[e+1]<<16)+(t[e+2]<<8)+t[e+3],o=t[e+4]*16777216+(t[e+5]<<16)+(t[e+6]<<8)+t[e+7],i=(BigInt(n)<<BigInt(32))+BigInt(o);if(r.strict===!0&&i<bn[3])throw new Error(`${Vt} integer encoded in more bytes than necessary (strict decode)`);if(i<=Number.MAX_SAFE_INTEGER)return Number(i);if(r.allowBigInt===!0)return i;throw new Error(`${Vt} integers outside of the safe integer range are not supported`)}function Dz(t,e,r,n){return new ve(Q.uint,gi(t,e+1,n),2)}function Oz(t,e,r,n){return new ve(Q.uint,wi(t,e+1,n),3)}function Cz(t,e,r,n){return new ve(Q.uint,bi(t,e+1,n),5)}function Rz(t,e,r,n){return new ve(Q.uint,Ei(t,e+1,n),9)}function Yi(t,e){return Un(t,0,e.value)}function Un(t,e,r){if(r<bn[0]){let n=Number(r);t.push([e|n])}else if(r<bn[1]){let n=Number(r);t.push([e|24,n])}else if(r<bn[2]){let n=Number(r);t.push([e|25,n>>>8,n&255])}else if(r<bn[3]){let n=Number(r);t.push([e|26,n>>>24&255,n>>>16&255,n>>>8&255,n&255])}else{let n=BigInt(r);if(n<bn[4]){let o=[e|27,0,0,0,0,0,0,0],i=Number(n&BigInt(4294967295)),s=Number(n>>BigInt(32)&BigInt(4294967295));o[8]=i&255,i=i>>8,o[7]=i&255,i=i>>8,o[6]=i&255,i=i>>8,o[5]=i&255,o[4]=s&255,s=s>>8,o[3]=s&255,s=s>>8,o[2]=s&255,s=s>>8,o[1]=s&255,t.push(o)}else throw new Error(`${Vt} encountered BigInt larger than allowable range`)}}Yi.encodedSize=function(e){return Un.encodedSize(e.value)};Un.encodedSize=function(e){return e<bn[0]?1:e<bn[1]?2:e<bn[2]?3:e<bn[3]?5:9};Yi.compareTokens=function(e,r){return e.value<r.value?-1:e.value>r.value?1:0};function kz(t,e,r,n){return new ve(Q.negint,-1-gi(t,e+1,n),2)}function Pz(t,e,r,n){return new ve(Q.negint,-1-wi(t,e+1,n),3)}function Lz(t,e,r,n){return new ve(Q.negint,-1-bi(t,e+1,n),5)}var IC=BigInt(-1),Fz=BigInt(1);function Uz(t,e,r,n){let o=Ei(t,e+1,n);if(typeof o!="bigint"){let i=-1-o;if(i>=Number.MIN_SAFE_INTEGER)return new ve(Q.negint,i,9)}if(n.allowBigInt!==!0)throw new Error(`${Vt} integers outside of the safe integer range are not supported`);return new ve(Q.negint,IC-BigInt(o),9)}function xx(t,e){let r=e.value,n=typeof r=="bigint"?r*IC-Fz:r*-1-1;Un(t,e.type.majorEncoded,n)}xx.encodedSize=function(e){let r=e.value,n=typeof r=="bigint"?r*IC-Fz:r*-1-1;return n<bn[0]?1:n<bn[1]?2:n<bn[2]?3:n<bn[3]?5:9};xx.compareTokens=function(e,r){return e.value<r.value?1:e.value>r.value?-1:0};function u0(t,e,r,n){xc(t,e,r+n);let o=uh(t,e+r,e+r+n);return new ve(Q.bytes,o,r+n)}function Bz(t,e,r,n){return u0(t,e,1,r)}function Mz(t,e,r,n){return u0(t,e,2,gi(t,e+1,n))}function $z(t,e,r,n){return u0(t,e,3,wi(t,e+1,n))}function Vz(t,e,r,n){return u0(t,e,5,bi(t,e+1,n))}function jz(t,e,r,n){let o=Ei(t,e+1,n);if(typeof o=="bigint")throw new Error(`${Vt} 64-bit integer bytes lengths not supported`);return u0(t,e,9,o)}function Ax(t){return t.encodedBytes===void 0&&(t.encodedBytes=t.type===Q.string?Iz(t.value):t.value),t.encodedBytes}function lh(t,e){let r=Ax(e);Un(t,e.type.majorEncoded,r.length),t.push(r)}lh.encodedSize=function(e){let r=Ax(e);return Un.encodedSize(r.length)+r.length};lh.compareTokens=function(e,r){return bEe(Ax(e),Ax(r))};function bEe(t,e){return t.length<e.length?-1:t.length>e.length?1:_z(t,e)}function l0(t,e,r,n,o){let i=r+n;xc(t,e,i);let s=new ve(Q.string,Az(t,e+r,e+i),i);return o.retainStringBytes===!0&&(s.byteValue=uh(t,e+r,e+i)),s}function Gz(t,e,r,n){return l0(t,e,1,r,n)}function zz(t,e,r,n){return l0(t,e,2,gi(t,e+1,n),n)}function qz(t,e,r,n){return l0(t,e,3,wi(t,e+1,n),n)}function Qz(t,e,r,n){return l0(t,e,5,bi(t,e+1,n),n)}function Jz(t,e,r,n){let o=Ei(t,e+1,n);if(typeof o=="bigint")throw new Error(`${Vt} 64-bit integer string lengths not supported`);return l0(t,e,9,o,n)}var Hz=lh;function fh(t,e,r,n){return new ve(Q.array,n,r)}function Kz(t,e,r,n){return fh(t,e,1,r)}function Wz(t,e,r,n){return fh(t,e,2,gi(t,e+1,n))}function Yz(t,e,r,n){return fh(t,e,3,wi(t,e+1,n))}function Xz(t,e,r,n){return fh(t,e,5,bi(t,e+1,n))}function Zz(t,e,r,n){let o=Ei(t,e+1,n);if(typeof o=="bigint")throw new Error(`${Vt} 64-bit integer array lengths not supported`);return fh(t,e,9,o)}function eq(t,e,r,n){if(n.allowIndefinite===!1)throw new Error(`${Vt} indefinite length items not allowed`);return fh(t,e,1,1/0)}function Ix(t,e){Un(t,Q.array.majorEncoded,e.value)}Ix.compareTokens=Yi.compareTokens;Ix.encodedSize=function(e){return Un.encodedSize(e.value)};function dh(t,e,r,n){return new ve(Q.map,n,r)}function tq(t,e,r,n){return dh(t,e,1,r)}function rq(t,e,r,n){return dh(t,e,2,gi(t,e+1,n))}function nq(t,e,r,n){return dh(t,e,3,wi(t,e+1,n))}function oq(t,e,r,n){return dh(t,e,5,bi(t,e+1,n))}function iq(t,e,r,n){let o=Ei(t,e+1,n);if(typeof o=="bigint")throw new Error(`${Vt} 64-bit integer map lengths not supported`);return dh(t,e,9,o)}function sq(t,e,r,n){if(n.allowIndefinite===!1)throw new Error(`${Vt} indefinite length items not allowed`);return dh(t,e,1,1/0)}function Sx(t,e){Un(t,Q.map.majorEncoded,e.value)}Sx.compareTokens=Yi.compareTokens;Sx.encodedSize=function(e){return Un.encodedSize(e.value)};function aq(t,e,r,n){return new ve(Q.tag,r,1)}function cq(t,e,r,n){return new ve(Q.tag,gi(t,e+1,n),2)}function uq(t,e,r,n){return new ve(Q.tag,wi(t,e+1,n),3)}function lq(t,e,r,n){return new ve(Q.tag,bi(t,e+1,n),5)}function fq(t,e,r,n){return new ve(Q.tag,Ei(t,e+1,n),9)}function Nx(t,e){Un(t,Q.tag.majorEncoded,e.value)}Nx.compareTokens=Yi.compareTokens;Nx.encodedSize=function(e){return Un.encodedSize(e.value)};var IEe=20,SEe=21,NEe=22,_Ee=23;function dq(t,e,r,n){if(n.allowUndefined===!1)throw new Error(`${Vt} undefined values are not supported`);return n.coerceUndefinedToNull===!0?new ve(Q.null,null,1):new ve(Q.undefined,void 0,1)}function pq(t,e,r,n){if(n.allowIndefinite===!1)throw new Error(`${Vt} indefinite length items not allowed`);return new ve(Q.break,void 0,1)}function SC(t,e,r){if(r){if(r.allowNaN===!1&&Number.isNaN(t))throw new Error(`${Vt} NaN values are not supported`);if(r.allowInfinity===!1&&(t===1/0||t===-1/0))throw new Error(`${Vt} Infinity values are not supported`)}return new ve(Q.float,t,e)}function hq(t,e,r,n){return SC(NC(t,e+1),3,n)}function mq(t,e,r,n){return SC(_C(t,e+1),5,n)}function yq(t,e,r,n){return SC(Eq(t,e+1),9,n)}function _x(t,e,r){let n=e.value;if(n===!1)t.push([Q.float.majorEncoded|IEe]);else if(n===!0)t.push([Q.float.majorEncoded|SEe]);else if(n===null)t.push([Q.float.majorEncoded|NEe]);else if(n===void 0)t.push([Q.float.majorEncoded|_Ee]);else{let o,i=!1;(!r||r.float64!==!0)&&(wq(n),o=NC(Fs,1),n===o||Number.isNaN(n)?(Fs[0]=249,t.push(Fs.slice(0,3)),i=!0):(bq(n),o=_C(Fs,1),n===o&&(Fs[0]=250,t.push(Fs.slice(0,5)),i=!0))),i||(DEe(n),o=Eq(Fs,1),Fs[0]=251,t.push(Fs.slice(0,9)))}}_x.encodedSize=function(e,r){let n=e.value;if(n===!1||n===!0||n===null||n===void 0)return 1;if(!r||r.float64!==!0){wq(n);let o=NC(Fs,1);if(n===o||Number.isNaN(n))return 3;if(bq(n),o=_C(Fs,1),n===o)return 5}return 9};var gq=new ArrayBuffer(9),Xi=new DataView(gq,1),Fs=new Uint8Array(gq,0);function wq(t){if(t===1/0)Xi.setUint16(0,31744,!1);else if(t===-1/0)Xi.setUint16(0,64512,!1);else if(Number.isNaN(t))Xi.setUint16(0,32256,!1);else{Xi.setFloat32(0,t);let e=Xi.getUint32(0),r=(e&2139095040)>>23,n=e&8388607;if(r===255)Xi.setUint16(0,31744,!1);else if(r===0)Xi.setUint16(0,(t&2147483648)>>16|n>>13,!1);else{let o=r-127;o<-24?Xi.setUint16(0,0):o<-14?Xi.setUint16(0,(e&2147483648)>>16|1<<24+o,!1):Xi.setUint16(0,(e&2147483648)>>16|o+15<<10|n>>13,!1)}}}function NC(t,e){if(t.length-e<2)throw new Error(`${Vt} not enough data for float16`);let r=(t[e]<<8)+t[e+1];if(r===31744)return 1/0;if(r===64512)return-1/0;if(r===32256)return NaN;let n=r>>10&31,o=r&1023,i;return n===0?i=o*2**-24:n!==31?i=(o+1024)*2**(n-25):i=o===0?1/0:NaN,r&32768?-i:i}function bq(t){Xi.setFloat32(0,t,!1)}function _C(t,e){if(t.length-e<4)throw new Error(`${Vt} not enough data for float32`);let r=(t.byteOffset||0)+e;return new DataView(t.buffer,r,4).getFloat32(0,!1)}function DEe(t){Xi.setFloat64(0,t,!1)}function Eq(t,e){if(t.length-e<8)throw new Error(`${Vt} not enough data for float64`);let r=(t.byteOffset||0)+e;return new DataView(t.buffer,r,8).getFloat64(0,!1)}_x.compareTokens=Yi.compareTokens;function jt(t,e,r){throw new Error(`${Vt} encountered invalid minor (${r}) for major ${t[e]>>>5}`)}function Dx(t){return()=>{throw new Error(`${Vt} ${t}`)}}var de=[];for(let t=0;t<=23;t++)de[t]=jt;de[24]=Dz;de[25]=Oz;de[26]=Cz;de[27]=Rz;de[28]=jt;de[29]=jt;de[30]=jt;de[31]=jt;for(let t=32;t<=55;t++)de[t]=jt;de[56]=kz;de[57]=Pz;de[58]=Lz;de[59]=Uz;de[60]=jt;de[61]=jt;de[62]=jt;de[63]=jt;for(let t=64;t<=87;t++)de[t]=Bz;de[88]=Mz;de[89]=$z;de[90]=Vz;de[91]=jz;de[92]=jt;de[93]=jt;de[94]=jt;de[95]=Dx("indefinite length bytes/strings are not supported");for(let t=96;t<=119;t++)de[t]=Gz;de[120]=zz;de[121]=qz;de[122]=Qz;de[123]=Jz;de[124]=jt;de[125]=jt;de[126]=jt;de[127]=Dx("indefinite length bytes/strings are not supported");for(let t=128;t<=151;t++)de[t]=Kz;de[152]=Wz;de[153]=Yz;de[154]=Xz;de[155]=Zz;de[156]=jt;de[157]=jt;de[158]=jt;de[159]=eq;for(let t=160;t<=183;t++)de[t]=tq;de[184]=rq;de[185]=nq;de[186]=oq;de[187]=iq;de[188]=jt;de[189]=jt;de[190]=jt;de[191]=sq;for(let t=192;t<=215;t++)de[t]=aq;de[216]=cq;de[217]=uq;de[218]=lq;de[219]=fq;de[220]=jt;de[221]=jt;de[222]=jt;de[223]=jt;for(let t=224;t<=243;t++)de[t]=Dx("simple values are not supported");de[244]=jt;de[245]=jt;de[246]=jt;de[247]=dq;de[248]=Dx("simple values are not supported");de[249]=hq;de[250]=mq;de[251]=yq;de[252]=jt;de[253]=jt;de[254]=jt;de[255]=pq;var Sa=[];for(let t=0;t<24;t++)Sa[t]=new ve(Q.uint,t,1);for(let t=-1;t>=-24;t--)Sa[31-t]=new ve(Q.negint,t,1);Sa[64]=new ve(Q.bytes,new Uint8Array(0),1);Sa[96]=new ve(Q.string,"",1);Sa[128]=new ve(Q.array,0,1);Sa[160]=new ve(Q.map,0,1);Sa[244]=new ve(Q.false,!1,1);Sa[245]=new ve(Q.true,!0,1);Sa[246]=new ve(Q.null,null,1);function vq(t){switch(t.type){case Q.false:return Ia([244]);case Q.true:return Ia([245]);case Q.null:return Ia([246]);case Q.bytes:return t.value.length?void 0:Ia([64]);case Q.string:return t.value===""?Ia([96]):void 0;case Q.array:return t.value===0?Ia([128]):void 0;case Q.map:return t.value===0?Ia([160]):void 0;case Q.uint:return t.value<24?Ia([Number(t.value)]):void 0;case Q.negint:if(t.value>=-24)return Ia([31-Number(t.value)])}}var CEe={float64:!1,mapSorter:PEe,quickEncodeToken:vq};function REe(){let t=[];return t[Q.uint.major]=Yi,t[Q.negint.major]=xx,t[Q.bytes.major]=lh,t[Q.string.major]=Hz,t[Q.array.major]=Ix,t[Q.map.major]=Sx,t[Q.tag.major]=Nx,t[Q.float.major]=_x,t}var Tq=REe(),DC=new a0,Cx=class t{constructor(e,r){this.obj=e,this.parent=r}includes(e){let r=this;do if(r.obj===e)return!0;while(r=r.parent);return!1}static createCheck(e,r){if(e&&e.includes(r))throw new Error(`${AC} object contains circular references`);return new t(r,e)}},_u={null:new ve(Q.null,null),undefined:new ve(Q.undefined,void 0),true:new ve(Q.true,!0),false:new ve(Q.false,!1),emptyArray:new ve(Q.array,0),emptyMap:new ve(Q.map,0)},Du={number(t,e,r,n){return!Number.isInteger(t)||!Number.isSafeInteger(t)?new ve(Q.float,t):t>=0?new ve(Q.uint,t):new ve(Q.negint,t)},bigint(t,e,r,n){return t>=BigInt(0)?new ve(Q.uint,t):new ve(Q.negint,t)},Uint8Array(t,e,r,n){return new ve(Q.bytes,t)},string(t,e,r,n){return new ve(Q.string,t)},boolean(t,e,r,n){return t?_u.true:_u.false},null(t,e,r,n){return _u.null},undefined(t,e,r,n){return _u.undefined},ArrayBuffer(t,e,r,n){return new ve(Q.bytes,new Uint8Array(t))},DataView(t,e,r,n){return new ve(Q.bytes,new Uint8Array(t.buffer,t.byteOffset,t.byteLength))},Array(t,e,r,n){if(!t.length)return r.addBreakTokens===!0?[_u.emptyArray,new ve(Q.break)]:_u.emptyArray;n=Cx.createCheck(n,t);let o=[],i=0;for(let s of t)o[i++]=Ox(s,r,n);return r.addBreakTokens?[new ve(Q.array,t.length),o,new ve(Q.break)]:[new ve(Q.array,t.length),o]},Object(t,e,r,n){let o=e!=="Object",i=o?t.keys():Object.keys(t),s=o?t.size:i.length;if(!s)return r.addBreakTokens===!0?[_u.emptyMap,new ve(Q.break)]:_u.emptyMap;n=Cx.createCheck(n,t);let a=[],c=0;for(let u of i)a[c++]=[Ox(u,r,n),Ox(o?t.get(u):t[u],r,n)];return kEe(a,r),r.addBreakTokens?[new ve(Q.map,s),a,new ve(Q.break)]:[new ve(Q.map,s),a]}};Du.Map=Du.Object;Du.Buffer=Du.Uint8Array;for(let t of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))Du[`${t}Array`]=Du.DataView;function Ox(t,e={},r){let n=Ez(t),o=e&&e.typeEncoders&&e.typeEncoders[n]||Du[n];if(typeof o=="function"){let s=o(t,n,e,r);if(s!=null)return s}let i=Du[n];if(!i)throw new Error(`${AC} unsupported type: ${n}`);return i(t,n,e,r)}function kEe(t,e){e.mapSorter&&t.sort(e.mapSorter)}function PEe(t,e){let r=Array.isArray(t[0])?t[0][0]:t[0],n=Array.isArray(e[0])?e[0][0]:e[0];if(r.type!==n.type)return r.type.compare(n.type);let o=r.type.major,i=Tq[o].compareTokens(r,n);return i===0&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),i}function xq(t,e,r,n){if(Array.isArray(e))for(let o of e)xq(t,o,r,n);else r[e.type.major](t,e,n)}function LEe(t,e,r){let n=Ox(t,r);if(!Array.isArray(n)&&r.quickEncodeToken){let o=r.quickEncodeToken(n);if(o)return o;let i=e[n.type.major];if(i.encodedSize){let s=i.encodedSize(n,r),a=new a0(s);if(i(a,n,r),a.chunks.length!==1)throw new Error(`Unexpected error: pre-calculated length for ${n} was wrong`);return xC(a.chunks[0])}}return DC.reset(),xq(DC,n,e,r),DC.toBytes(!0)}function OC(t,e){return e=Object.assign({},CEe,e),LEe(t,Tq,e)}var Nqe=Symbol.for("DONE"),_qe=Symbol.for("BREAK");var BEe=Sq,Aq=128,MEe=127,$Ee=~MEe,VEe=Math.pow(2,31);function Sq(t,e,r){e=e||[],r=r||0;for(var n=r;t>=VEe;)e[r++]=t&255|Aq,t/=128;for(;t&$Ee;)e[r++]=t&255|Aq,t>>>=7;return e[r]=t|0,Sq.bytes=r-n+1,e}var jEe=CC,GEe=128,Iq=127;function CC(t,n){var r=0,n=n||0,o=0,i=n,s,a=t.length;do{if(i>=a)throw CC.bytes=0,new RangeError("Could not decode varint");s=t[i++],r+=o<28?(s&Iq)<<o:(s&Iq)*Math.pow(2,o),o+=7}while(s>=GEe);return CC.bytes=i-n,r}var zEe=Math.pow(2,7),qEe=Math.pow(2,14),QEe=Math.pow(2,21),JEe=Math.pow(2,28),HEe=Math.pow(2,35),KEe=Math.pow(2,42),WEe=Math.pow(2,49),YEe=Math.pow(2,56),XEe=Math.pow(2,63),ZEe=function(t){return t<zEe?1:t<qEe?2:t<QEe?3:t<JEe?4:t<HEe?5:t<KEe?6:t<WEe?7:t<YEe?8:t<XEe?9:10},eve={encode:BEe,decode:jEe,encodingLength:ZEe},tve=eve,f0=tve;var d0=(t,e=0)=>[f0.decode(t,e),f0.decode.bytes],ph=(t,e,r=0)=>(f0.encode(t,e,r),e),hh=t=>f0.encodingLength(t);var Lqe=new Uint8Array(0);var _q=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},mh=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")};var Dq=(t,e)=>{let r=e.byteLength,n=hh(t),o=n+hh(r),i=new Uint8Array(o+r);return ph(t,i,0),ph(r,i,n),i.set(e,o),new yh(t,r,e,i)},Oq=t=>{let e=mh(t),[r,n]=d0(e),[o,i]=d0(e.subarray(n)),s=e.subarray(n+i);if(s.byteLength!==o)throw new Error("Incorrect length");return new yh(r,o,s,e)},Cq=(t,e)=>t===e?!0:t.code===e.code&&t.size===e.size&&_q(t.bytes,e.bytes),yh=class{constructor(e,r,n,o){this.code=e,this.size=r,this.digest=n,this.bytes=o}};function nve(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var o=0;o<t.length;o++){var i=t.charAt(o),s=i.charCodeAt(0);if(r[s]!==255)throw new TypeError(i+" is ambiguous");r[s]=o}var a=t.length,c=t.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function f(h){if(h instanceof Uint8Array||(ArrayBuffer.isView(h)?h=new Uint8Array(h.buffer,h.byteOffset,h.byteLength):Array.isArray(h)&&(h=Uint8Array.from(h))),!(h instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(h.length===0)return"";for(var m=0,g=0,w=0,T=h.length;w!==T&&h[w]===0;)w++,m++;for(var v=(T-w)*l+1>>>0,x=new Uint8Array(v);w!==T;){for(var A=h[w],_=0,O=v-1;(A!==0||_<g)&&O!==-1;O--,_++)A+=256*x[O]>>>0,x[O]=A%a>>>0,A=A/a>>>0;if(A!==0)throw new Error("Non-zero carry");g=_,w++}for(var C=v-g;C!==v&&x[C]===0;)C++;for(var I=c.repeat(m);C<v;++C)I+=t.charAt(x[C]);return I}function d(h){if(typeof h!="string")throw new TypeError("Expected String");if(h.length===0)return new Uint8Array;var m=0;if(h[m]!==" "){for(var g=0,w=0;h[m]===c;)g++,m++;for(var T=(h.length-m)*u+1>>>0,v=new Uint8Array(T);h[m];){var x=r[h.charCodeAt(m)];if(x===255)return;for(var A=0,_=T-1;(x!==0||A<w)&&_!==-1;_--,A++)x+=a*v[_]>>>0,v[_]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");w=A,m++}if(h[m]!==" "){for(var O=T-w;O!==T&&v[O]===0;)O++;for(var C=new Uint8Array(g+(T-O)),I=g;O!==T;)C[I++]=v[O++];return C}}}function p(h){var m=d(h);if(m)return m;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:d,decode:p}}var ove=nve,ive=ove,Rq=ive;var RC=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},kC=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return kq(this,e)}},PC=class{constructor(e){this.decoders=e}or(e){return kq(this,e)}decode(e){let r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},kq=(t,e)=>new PC(b(b({},t.decoders||{[t.prefix]:t}),e.decoders||{[e.prefix]:e})),LC=class{constructor(e,r,n,o){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=o,this.encoder=new RC(e,r,n),this.decoder=new kC(e,r,o)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},Pq=({name:t,prefix:e,encode:r,decode:n})=>new LC(t,e,r,n),FC=({prefix:t,name:e,alphabet:r})=>{let{encode:n,decode:o}=Rq(r,e);return Pq({prefix:t,name:e,encode:n,decode:i=>mh(o(i))})},sve=(t,e,r,n)=>{let o={};for(let l=0;l<e.length;++l)o[e[l]]=l;let i=t.length;for(;t[i-1]==="=";)--i;let s=new Uint8Array(i*r/8|0),a=0,c=0,u=0;for(let l=0;l<i;++l){let f=o[t[l]];if(f===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|f,a+=r,a>=8&&(a-=8,s[u++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return s},ave=(t,e,r)=>{let n=e[e.length-1]==="=",o=(1<<r)-1,i="",s=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],s+=8;s>r;)s-=r,i+=e[o&a>>s];if(s&&(i+=e[o&a<<r-s]),n)for(;i.length*r&7;)i+="=";return i},Na=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>Pq({prefix:e,name:t,encode(o){return ave(o,n,r)},decode(o){return sve(o,n,r,t)}});var Ac=FC({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),zqe=FC({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var p0=Na({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Jqe=Na({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Hqe=Na({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Kqe=Na({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Wqe=Na({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Yqe=Na({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Xqe=Na({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Zqe=Na({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),eQe=Na({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var m0=class t{constructor(e,r,n,o){this.code=r,this.version=e,this.multihash=n,this.bytes=o,this.byteOffset=o.byteOffset,this.byteLength=o.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:kx,byteLength:kx,code:Rx,version:Rx,multihash:Rx,bytes:Rx,_baseCache:kx,asCID:kx})}toV0(){switch(this.version){case 0:return this;default:{let{code:e,multihash:r}=this;if(e!==h0)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==fve)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return t.createV0(r)}}}toV1(){switch(this.version){case 0:{let{code:e,digest:r}=this.multihash,n=Dq(e,r);return t.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&Cq(this.multihash,e.multihash)}toString(e){let{bytes:r,version:n,_baseCache:o}=this;switch(n){case 0:return uve(r,o,e||Ac.encoder);default:return lve(r,o,e||p0.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return pve(/^0\.0/,hve),!!(e&&(e[Fq]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof t)return e;if(e!=null&&e.asCID===e){let{version:r,code:n,multihash:o,bytes:i}=e;return new t(r,n,o,i||Lq(r,n,o.bytes))}else if(e!=null&&e[Fq]===!0){let{version:r,multihash:n,code:o}=e,i=Oq(n);return t.create(r,o,i)}else return null}static create(e,r,n){if(typeof r!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(r!==h0)throw new Error(`Version 0 CID must use dag-pb (code: ${h0}) block encoding`);return new t(e,r,n,n.bytes)}case 1:{let o=Lq(e,r,n.bytes);return new t(e,r,n,o)}default:throw new Error("Invalid version")}}static createV0(e){return t.create(0,h0,e)}static createV1(e,r){return t.create(1,e,r)}static decode(e){let[r,n]=t.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return r}static decodeFirst(e){let r=t.inspectBytes(e),n=r.size-r.multihashSize,o=mh(e.subarray(n,n+r.multihashSize));if(o.byteLength!==r.multihashSize)throw new Error("Incorrect length");let i=o.subarray(r.multihashSize-r.digestSize),s=new yh(r.multihashCode,r.digestSize,i,o);return[r.version===0?t.createV0(s):t.createV1(r.codec,s),e.subarray(r.size)]}static inspectBytes(e){let r=0,n=()=>{let[f,d]=d0(e.subarray(r));return r+=d,f},o=n(),i=h0;if(o===18?(o=0,r=0):o===1&&(i=n()),o!==0&&o!==1)throw new RangeError(`Invalid CID version ${o}`);let s=r,a=n(),c=n(),u=r+c,l=u-s;return{version:o,codec:i,multihashCode:a,digestSize:c,multihashSize:l,size:u}}static parse(e,r){let[n,o]=cve(e,r),i=t.decode(o);return i._baseCache.set(n,e),i}},cve=(t,e)=>{switch(t[0]){case"Q":{let r=e||Ac;return[Ac.prefix,r.decode(`${Ac.prefix}${t}`)]}case Ac.prefix:{let r=e||Ac;return[Ac.prefix,r.decode(t)]}case p0.prefix:{let r=e||p0;return[p0.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},uve=(t,e,r)=>{let{prefix:n}=r;if(n!==Ac.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let o=e.get(n);if(o==null){let i=r.encode(t).slice(1);return e.set(n,i),i}else return o},lve=(t,e,r)=>{let{prefix:n}=r,o=e.get(n);if(o==null){let i=r.encode(t);return e.set(n,i),i}else return o},h0=112,fve=18,Lq=(t,e,r)=>{let n=hh(t),o=n+hh(e),i=new Uint8Array(o+r.byteLength);return ph(t,i,0),ph(e,i,n),i.set(r,o),i},Fq=Symbol.for("@ipld/js-cid/CID"),Rx={writable:!1,configurable:!1,enumerable:!0},kx={writable:!1,enumerable:!1,configurable:!1},dve="0.0.0-dev",pve=(t,e)=>{if(t.test(dve))console.warn(e);else throw new Error(e)},hve=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`;var Uq=42;function mve(t){if(t.asCID!==t)return null;let e=m0.asCID(t);if(!e)return null;let r=new Uint8Array(e.bytes.byteLength+1);return r.set(e.bytes,1),[new ve(Q.tag,Uq),new ve(Q.bytes,r)]}function yve(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function gve(t){if(Number.isNaN(t))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(t===1/0||t===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}var wve={float64:!0,typeEncoders:{Object:mve,undefined:yve,number:gve}};function bve(t){if(t[0]!==0)throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return m0.decode(t.subarray(1))}var Eve={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};Eve.tags[Uq]=bve;var Bq=t=>OC(t,wve);var pQ=Rr(jy(),1),hQ=Rr(lQ(),1);var iTe=function(t,e,r,n){var o=arguments.length,i=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(i=(o<3?s(i):o>3?s(e,r,i):s(e,r))||i);return o>3&&i&&Object.defineProperty(e,r,i),i},es,sTe={anchor:!0,publish:!0,sync:Qt.NEVER_SYNC,syncTimeoutSeconds:0},fQ={anchor:!1,publish:!1,sync:Qt.PREFER_CACHE},aTe={sync:Qt.PREFER_CACHE},dQ={anchor:!0,publish:!0};function JC(){return E(this,null,function*(){throw new Error("Historical stream commits cannot be modified. Load the stream without specifying a commit to make updates.")})}var Bn=es=class extends na{constructor(){super(...arguments),this._isReadOnly=!1}get content(){return super.content}get metadata(){let e=this.state$.value.metadata;return{controller:e.controllers[0],model:e.model,unique:e.unique,context:e.context,shouldIndex:e.shouldIndex}}static create(i,s,a){return E(this,arguments,function*(e,r,n,o={}){o=b(b({},sTe),o);let c=o.asDID?tn.fromDID(o.asDID):o.signer||e.signer,u=yield es.makeGenesis(c,r,n);return e.createStreamFromGenesis(es.STREAM_TYPE_ID,u,o)})}static single(o,i){return E(this,arguments,function*(e,r,n={}){n=b(b({},fQ),n);let s=n.asDID?tn.fromDID(n.asDID):n.signer||e.signer;r=S(b({},r),{deterministic:!0});let a=yield es.makeGenesis(s,null,r);return e.createStreamFromGenesis(es.STREAM_TYPE_ID,a,n)})}static set(i,s,a){return E(this,arguments,function*(e,r,n,o={}){o=b(b({},fQ),o);let c=o.asDID?tn.fromDID(o.asDID):o.signer||e.signer;r=S(b({},r),{deterministic:!0});let u=yield es.makeGenesis(c,null,r,n);return e.createStreamFromGenesis(es.STREAM_TYPE_ID,u,o)})}static load(o,i){return E(this,arguments,function*(e,r,n={}){n=b(b({},aTe),n);let s=Cn.from(r);if(s.type!=es.STREAM_TYPE_ID)throw new Error(`StreamID ${s.toString()} does not refer to a '${es.STREAM_TYPE_NAME}' stream, but to a ${s.typeName}`);return e.loadStream(s,n)})}replace(o){return E(this,arguments,function*(e,r=void 0,n={}){n=b(b({},dQ),n),Ux(e);let i=n.asDID?tn.fromDID(n.asDID):n.signer||this.api.signer,s;r&&r.shouldIndex!=null&&(s={shouldIndex:r.shouldIndex});let a=yield es.makeUpdateCommit(i,this.commitId,this.content,e,s),c=yield this.api.applyCommit(this.id,a,n);this.state$.next(c.state)})}patch(o){return E(this,arguments,function*(e,r=void 0,n={}){n=b(b({},dQ),n);let i=n.asDID?tn.fromDID(n.asDID):n.signer||this.api.signer;e.forEach(u=>{switch(u.op){case"add":{Ux(u.value);break}case"replace":{Ux(u.value);break}default:break}});let s={data:e,prev:this.tip,id:this.id.cid};r?.shouldIndex!=null&&(s.header={shouldIndex:r.shouldIndex});let a=yield i.createDagJWS(s),c=yield this.api.applyCommit(this.id,a,n);this.state$.next(c.state)})}shouldIndex(e,r={}){return this.patch([],{shouldIndex:e},r)}makeReadOnly(){this.replace=JC,this.patch=JC,this.sync=JC,this._isReadOnly=!0}get isReadOnly(){return this._isReadOnly}static makeUpdateCommit(e,r,n,o,i){let s=es._makeRawCommit(r,n,o,i);return e.createDagJWS(s)}static _makeRawCommit(e,r,n,o){let s={data:Vv.compare(r??{},n??{}),prev:e.commit,id:e.baseID.cid};return o!=null&&(s.header=o),s}static makeGenesis(e,r,n,o){return E(this,null,function*(){let i=yield this._makeRawGenesis(e.signer,r,n,o);return n.deterministic?(Bq(i),i):e.signer.createDagJWS(i)})}static _makeRawGenesis(e,r,n,o){return E(this,null,function*(){if(!n.model)throw new Error("Must specify a 'model' when creating a ModelInstanceDocument");Ux(r);let i=n.controller;i||(i=yield e.asController());let s={controllers:[i],model:n.model.bytes,sep:"model"};if(n.deterministic?Array.isArray(o)&&(s.unique=So(o.join("|"),"utf8")):s.unique=(0,pQ.randomBytes)(12),n.context){if(!n.context?.bytes)throw new Error("Context must be a StreamID");s.context=n.context.bytes}return{data:r,header:s}})}};Bn.STREAM_TYPE_NAME="MID";Bn.STREAM_TYPE_ID=3;Bn.MAX_DOCUMENT_SIZE=16e6;Bn=es=iTe([pu()],Bn);function Ux(t){if(t){let e=(0,hQ.default)(t);if(e>Bn.MAX_DOCUMENT_SIZE)throw new Error(`Content has length of ${e}B which exceeds maximum size of ${Bn.MAX_DOCUMENT_SIZE}B`)}}var Bx=class{constructor(e){this._fetchJson=rr,this._collectionURL=new URL("./collection",e),this._countURL=new URL("./collection/count",e)}count(e){return E(this,null,function*(){return(yield this._fetchJson(this._countURL,{method:"POST",body:N_(e)})).count})}query(e){return E(this,null,function*(){let r=yield this._fetchJson(this._collectionURL,{method:"POST",body:N_(e)});return{edges:r.edges.map(o=>({cursor:o.cursor,node:Jt.deserializeState(o.node)})),pageInfo:r.pageInfo}})}};var Mx=class{constructor(e,r){this._apiUrl=e,this._getDidFn=r,this._fetchJson=rr,this.getCodePath="./admin/getCode"}buildJWS(e,r,n){return E(this,null,function*(){if(!e)throw new lp;let o=yield e.createJWS({code:r,requestPath:n.pathname});return`${o.signatures[0].protected}.${o.payload}.${o.signatures[0].signature}`})}getCodeUrl(){return new URL(this.getCodePath,this._apiUrl)}getBaseUrl(){return new URL("./admin/pins",this._apiUrl)}generateCode(){return E(this,null,function*(){return(yield this._fetchJson(this.getCodeUrl())).code})}add(e,r){return E(this,null,function*(){let n={};r&&(n.force=!0);let o=yield this.generateCode(),i=new URL(`./admin/pins/${e}`,this._apiUrl);yield this._fetchJson(i,{headers:{Authorization:`Basic ${yield this.buildJWS(this._getDidFn(),o,this.getBaseUrl())}`},method:"POST",body:n})})}rm(e,r){return E(this,null,function*(){let n=yield this.generateCode(),o=new URL(`./admin/pins/${e}`,this._apiUrl);yield this._fetchJson(o,{headers:{Authorization:`Basic ${yield this.buildJWS(this._getDidFn(),n,this.getBaseUrl())}`},method:"DELETE",body:{opts:r}})})}ls(e){return E(this,null,function*(){let r=new URL("./admin/pins",this._apiUrl);e&&(r=new URL(`./admin/pins/${e.toString()}`,this._apiUrl));let n=yield this.generateCode(),o=yield this._fetchJson(r,{headers:{Authorization:`Basic ${yield this.buildJWS(this._getDidFn(),n,this.getBaseUrl())}`}}),{pinnedStreamIds:i}=o;return{[Symbol.asyncIterator](){let s=0;return{next(){return s===i.length?Promise.resolve({value:null,done:!0}):Promise.resolve({value:i[s++],done:!1})}}}}})}};var $x=class{constructor(e,r){this._apiUrl=e,this._getDidFn=r,this._fetchJson=rr,this.modelsPath="./admin/models",this.modelDataPath="./admin/modelData",this.getCodePath="./admin/getCode",this.nodeStatusPath="./admin/status",this._pinApi=new Mx(this._apiUrl,this._getDidFn)}getCodeUrl(){return new URL(this.getCodePath,this._apiUrl)}getModelsUrl(){return new URL(this.modelsPath,this._apiUrl)}getModelDataUrl(){return new URL(this.modelDataPath,this._apiUrl)}getStatusUrl(){return new URL(this.nodeStatusPath,this._apiUrl)}buildJWS(e,r,n,o){return E(this,null,function*(){if(!e)throw new lp;let i=yield e.createJWS({code:r,requestPath:n,requestBody:o});return`${i.signatures[0].protected}.${i.payload}.${i.signatures[0].signature}`})}generateCode(){return E(this,null,function*(){return(yield this._fetchJson(this.getCodeUrl())).code})}nodeStatus(){return E(this,null,function*(){let e=yield this.generateCode();return this._fetchJson(this.getStatusUrl(),{headers:{Authorization:`Basic ${yield this.buildJWS(this._getDidFn(),e,this.getStatusUrl().pathname)}`}})})}startIndexingModels(e){return E(this,null,function*(){let r=yield this.generateCode(),n={models:e.map(o=>o.toString())};yield this._fetchJson(this.getModelsUrl(),{method:"POST",body:{jws:yield this.buildJWS(this._getDidFn(),r,this.getModelsUrl().pathname,n)}})})}startIndexingModelData(e){return E(this,null,function*(){let r=yield this.generateCode(),n={modelData:e.map(o=>({streamID:o.streamID.toString(),indices:o.indices}))};yield this._fetchJson(this.getModelDataUrl(),{method:"POST",body:{jws:yield this.buildJWS(this._getDidFn(),r,this.getModelDataUrl().pathname,n)}})})}getIndexedModels(){return E(this,null,function*(){let e=yield this.generateCode();return(yield this._fetchJson(this.getModelsUrl(),{headers:{Authorization:`Basic ${yield this.buildJWS(this._getDidFn(),e,this.getModelsUrl().pathname)}`}})).models.map(n=>({streamID:ze.fromString(n)}))})}getIndexedModelData(){return E(this,null,function*(){let e=yield this.generateCode();return(yield this._fetchJson(this.getModelDataUrl(),{headers:{Authorization:`Basic ${yield this.buildJWS(this._getDidFn(),e,this.getModelDataUrl().pathname)}`}})).modelData.map(n=>({streamID:ze.fromString(n.streamID),indices:n.indices}))})}stopIndexingModels(e){return E(this,null,function*(){let r=yield this.generateCode(),n={models:e.map(o=>o.toString())};yield this._fetchJson(this.getModelsUrl(),{method:"DELETE",body:{jws:yield this.buildJWS(this._getDidFn(),r,this.getModelsUrl().pathname,n)}})})}stopIndexingModelData(e){return E(this,null,function*(){let r=yield this.generateCode(),n={modelData:e.map(o=>({streamID:o.streamID.toString()}))};yield this._fetchJson(this.getModelDataUrl(),{method:"DELETE",body:{jws:yield this.buildJWS(this._getDidFn(),r,this.getModelDataUrl().pathname,n)}})})}get pin(){return this._pinApi}};function HC(t){console.warn(`You are using the ceramic.pin.${t} API which has been removed and is now a no-op.  This operation will not have any affect.  If you want to change the pin state of streams please use the new ceramic.admin.pin API which requires a DID that has been granted admin access on the Ceramic node.`)}var Vx=class{add(){return E(this,null,function*(){HC("add")})}ls(){return E(this,null,function*(){HC("ls")})}rm(e,r){return E(this,null,function*(){HC("ls")})}};var cTe="./api/v0/",uTe="http://localhost:7007",lTe={syncInterval:5e3},fTe={anchor:!0,publish:!0,sync:Qt.PREFER_CACHE},dTe={anchor:!0,publish:!0,sync:Qt.PREFER_CACHE},mQ={sync:Qt.PREFER_CACHE},jx=class{constructor(e=uTe,r={}){this._fetchJson=rr,this._signer=tn.invalid(),this._config=b(b({},lTe),r),this._apiUrl=new URL(cTe,e),this.pin=new Vx,this.index=new Bx(this._apiUrl);let n=(()=>this.did).bind(this);this.admin=new $x(this._apiUrl,n),this._streamConstructors={[da.STREAM_TYPE_ID]:da,[Wi.STREAM_TYPE_ID]:Wi,[Bn.STREAM_TYPE_ID]:Bn,[fa.STREAM_TYPE_ID]:fa}}get signer(){return this._signer}get did(){return this._did}set did(e){this._did=e,this._signer=tn.fromDID(e)}setDID(e){return E(this,null,function*(){this.did=e})}createStreamFromGenesis(o,i){return E(this,arguments,function*(e,r,n={}){n=b(b({},dTe),n);let s=yield dc.createFromGenesis(this._apiUrl,e,r,n,this._config.syncInterval);return this.buildStreamFromDocument(s)})}loadStream(n){return E(this,arguments,function*(e,r={}){r=b(b({},mQ),r);let o=Cn.from(e),i=yield dc.load(o,this._apiUrl,this._config.syncInterval,r);return this.buildStreamFromDocument(i)})}multiQuery(e,r){return E(this,null,function*(){let n=e.map(s=>S(b({},s),{genesis:s.genesis?Jt.serializeCommit(s.genesis):void 0,streamId:typeof s.streamId=="string"?s.streamId:s.streamId.toString()})),o=new URL("./multiqueries",this._apiUrl),i=yield this._fetchJson(o,{method:"POST",body:{queries:n,timeout:r}});return Object.entries(i).reduce((s,a)=>{let[c,u]=a,l=Jt.deserializeState(u),f=new dc(l,this._apiUrl,this._config.syncInterval);return s[c]=this.buildStreamFromDocument(f),s},{})})}loadStreamCommits(e){let r=S_(e);return dc.loadStreamCommits(r,this._apiUrl)}applyCommit(o,i){return E(this,arguments,function*(e,r,n={}){n=b(b({},fTe),n);let s=S_(e),a=yield dc.applyCommit(this._apiUrl,s,r,n,this._config.syncInterval);return this.buildStreamFromDocument(a)})}requestAnchor(n){return E(this,arguments,function*(e,r={}){r=b(b({},mQ),r);let{anchorStatus:o}=yield this._fetchJson(`${this._apiUrl}streams/${e.toString()}/anchor`,{method:"POST",body:{opts:r}});return o})}addStreamHandler(e){this._streamConstructors[e.name]=e.stream_constructor}buildStreamFromState(e){let r=new dc(e,this._apiUrl,this._config.syncInterval);return this.buildStreamFromDocument(r)}buildStreamFromDocument(e){let r=e.state.type,n=this._streamConstructors[r];if(!n)throw new Error(`Failed to find constructor for stream ${r}`);return new n(e,this)}getSupportedChains(){return E(this,null,function*(){if(this._supportedChains)return this._supportedChains;let{supportedChains:e}=yield this._fetchJson(new URL("./node/chains",this._apiUrl));return this._supportedChains=e,e})}close(){return E(this,null,function*(){})}};function KC(t){return typeof t=="string"?ze.fromString(t):t}function yQ(t,e){let r=new URL(t);for(let[n,o]of Object.entries(e))ze.isInstance(o)?r.searchParams.set(n,o.toString()):typeof o=="object"?r.searchParams.set(n,JSON.stringify(o)):r.searchParams.set(n,o);return r}function WC(t){let e={};for(let[r,n]of Object.entries(t))ze.isInstance(n)?e[r]=n.toString():e[r]=n;return e}var vh=class extends Error{constructor(){super("Failed to get DID.  Please make sure your Ceramic client has an authenticated DID attached")}};var Sc=class t extends rd{constructor(e,r,n){super(o=>{this.state$.observers.length===0&&(this.periodicSubscription=nd(0,n).pipe(qb(()=>this._syncState(this.id,{sync:Qt.PREFER_CACHE}))).subscribe()),this.state$.subscribe(o).add(()=>{this.state$.observers.length===0&&this.periodicSubscription?.unsubscribe()})}),this.state$=new yp(e),this._apiUrl=new URL(r)}get value(){return this.state$.value}get state(){return this.state$.value}next(e){this.state$.next(e)}_syncState(e,r){return E(this,null,function*(){let n=yield t._load(e,this._apiUrl,r);this.state$.next(Jt.deserializeState(n))})}get id(){return new ze(this.state$.value.type,this.state$.value.log[0].cid)}static createFromGenesis(e,r,n,o,i){return E(this,null,function*(){let s=new URL("./streams",e),{state:a}=yield rr(s,{method:"POST",body:{type:r,genesis:Jt.serializeCommit(n),opts:o}});return new t(Jt.deserializeState(a),e,i)})}static applyCommit(e,r,n,o,i){return E(this,null,function*(){let s=new URL("./commits",e),{state:a}=yield rr(s,{method:"POST",body:{streamId:r.toString(),commit:Jt.serializeCommit(n),opts:o}});return new t(Jt.deserializeState(a),e,i)})}static _load(e,r,n){return E(this,null,function*(){let o=yQ(new URL(`./streams/${e}`,r),n),{state:i}=yield rr(o);return i})}static load(e,r,n,o){return E(this,null,function*(){let i=yield t._load(e,r,o);return new t(Jt.deserializeState(i),r,n)})}static loadStreamCommits(e,r){return E(this,null,function*(){let n=new URL(`./commits/${e}`,r),{commits:o}=yield rr(n);return o.map(i=>({cid:i.cid,value:Jt.deserializeCommit(i.value)}))})}complete(){this.state$.complete()}};var Gx=class{constructor(e){this._fetchJson=rr,this._collectionURL=new URL("./collection",e),this._countURL=new URL("./collection/count",e)}count(e){return E(this,null,function*(){return(yield this._fetchJson(this._countURL,{method:"POST",body:WC(e)})).count})}query(e){return E(this,null,function*(){let r=yield this._fetchJson(this._collectionURL,{method:"POST",body:WC(e)});return{edges:r.edges.map(o=>({cursor:o.cursor,node:Jt.deserializeState(o.node)})),pageInfo:r.pageInfo}})}};var zx=class{constructor(e,r){this._apiUrl=e,this._getDidFn=r,this._fetchJson=rr,this.getCodePath="./admin/getCode"}buildJWS(e,r,n){return E(this,null,function*(){if(!e)throw new vh;let o=yield e.createJWS({code:r,requestPath:n.pathname});return`${o.signatures[0].protected}.${o.payload}.${o.signatures[0].signature}`})}getCodeUrl(){return new URL(this.getCodePath,this._apiUrl)}getBaseUrl(){return new URL("./admin/pins",this._apiUrl)}generateCode(){return E(this,null,function*(){return(yield this._fetchJson(this.getCodeUrl())).code})}add(e,r){return E(this,null,function*(){let n={};r&&(n.force=!0);let o=yield this.generateCode(),i=new URL(`./admin/pins/${e}`,this._apiUrl);yield this._fetchJson(i,{headers:{Authorization:`Basic ${yield this.buildJWS(this._getDidFn(),o,this.getBaseUrl())}`},method:"POST",body:n})})}rm(e,r){return E(this,null,function*(){let n=yield this.generateCode(),o=new URL(`./admin/pins/${e}`,this._apiUrl);yield this._fetchJson(o,{headers:{Authorization:`Basic ${yield this.buildJWS(this._getDidFn(),n,this.getBaseUrl())}`},method:"DELETE",body:{opts:r}})})}ls(e){return E(this,null,function*(){let r=new URL("./admin/pins",this._apiUrl);e&&(r=new URL(`./admin/pins/${e.toString()}`,this._apiUrl));let n=yield this.generateCode(),o=yield this._fetchJson(r,{headers:{Authorization:`Basic ${yield this.buildJWS(this._getDidFn(),n,this.getBaseUrl())}`}}),{pinnedStreamIds:i}=o;return{[Symbol.asyncIterator](){let s=0;return{next(){return s===i.length?Promise.resolve({value:null,done:!0}):Promise.resolve({value:i[s++],done:!1})}}}}})}};var qx=class{constructor(e,r){this._apiUrl=e,this._getDidFn=r,this._fetchJson=rr,this.modelsPath="./admin/models",this.modelDataPath="./admin/modelData",this.getCodePath="./admin/getCode",this.nodeStatusPath="./admin/status",this._pinApi=new zx(this._apiUrl,this._getDidFn)}getCodeUrl(){return new URL(this.getCodePath,this._apiUrl)}getModelsUrl(){return new URL(this.modelsPath,this._apiUrl)}getModelDataUrl(){return new URL(this.modelDataPath,this._apiUrl)}getStatusUrl(){return new URL(this.nodeStatusPath,this._apiUrl)}buildJWS(e,r,n,o){return E(this,null,function*(){if(!e)throw new vh;let i=yield e.createJWS({code:r,requestPath:n,requestBody:o});return`${i.signatures[0].protected}.${i.payload}.${i.signatures[0].signature}`})}generateCode(){return E(this,null,function*(){return(yield this._fetchJson(this.getCodeUrl())).code})}nodeStatus(){return E(this,null,function*(){let e=yield this.generateCode();return this._fetchJson(this.getStatusUrl(),{headers:{Authorization:`Basic ${yield this.buildJWS(this._getDidFn(),e,this.getStatusUrl().pathname)}`}})})}startIndexingModels(e){return E(this,null,function*(){let r=yield this.generateCode(),n={models:e.map(o=>o.toString())};yield this._fetchJson(this.getModelsUrl(),{method:"POST",body:{jws:yield this.buildJWS(this._getDidFn(),r,this.getModelsUrl().pathname,n)}})})}startIndexingModelData(e){return E(this,null,function*(){let r=yield this.generateCode(),n={modelData:e.map(o=>({streamID:o.streamID.toString(),indices:o.indices}))};yield this._fetchJson(this.getModelDataUrl(),{method:"POST",body:{jws:yield this.buildJWS(this._getDidFn(),r,this.getModelDataUrl().pathname,n)}})})}getIndexedModels(){return E(this,null,function*(){let e=yield this.generateCode();return(yield this._fetchJson(this.getModelsUrl(),{headers:{Authorization:`Basic ${yield this.buildJWS(this._getDidFn(),e,this.getModelsUrl().pathname)}`}})).models.map(n=>({streamID:ze.fromString(n)}))})}getIndexedModelData(){return E(this,null,function*(){let e=yield this.generateCode();return(yield this._fetchJson(this.getModelDataUrl(),{headers:{Authorization:`Basic ${yield this.buildJWS(this._getDidFn(),e,this.getModelDataUrl().pathname)}`}})).modelData.map(n=>({streamID:ze.fromString(n.streamID),indices:n.indices}))})}stopIndexingModels(e){return E(this,null,function*(){let r=yield this.generateCode(),n={models:e.map(o=>o.toString())};yield this._fetchJson(this.getModelsUrl(),{method:"DELETE",body:{jws:yield this.buildJWS(this._getDidFn(),r,this.getModelsUrl().pathname,n)}})})}stopIndexingModelData(e){return E(this,null,function*(){let r=yield this.generateCode(),n={modelData:e.map(o=>({streamID:o.streamID.toString()}))};yield this._fetchJson(this.getModelDataUrl(),{method:"DELETE",body:{jws:yield this.buildJWS(this._getDidFn(),r,this.getModelDataUrl().pathname,n)}})})}get pin(){return this._pinApi}};function YC(t){console.warn(`You are using the ceramic.pin.${t} API which has been removed and is now a no-op.  This operation will not have any affect.  If you want to change the pin state of streams please use the new ceramic.admin.pin API which requires a DID that has been granted admin access on the Ceramic node.`)}var Qx=class{add(){return E(this,null,function*(){YC("add")})}ls(){return E(this,null,function*(){YC("ls")})}rm(e,r){return E(this,null,function*(){YC("ls")})}};var pTe="./api/v0/",hTe="http://localhost:7007",mTe={syncInterval:5e3},yTe={anchor:!0,publish:!0,sync:Qt.PREFER_CACHE},gTe={anchor:!0,publish:!0,sync:Qt.PREFER_CACHE},gQ={sync:Qt.PREFER_CACHE},Jx=class{constructor(e=hTe,r={}){this._fetchJson=rr,this._signer=tn.invalid(),this._config=b(b({},mTe),r),this._apiUrl=new URL(pTe,e),this.pin=new Qx,this.index=new Gx(this._apiUrl);let n=(()=>this.did).bind(this);this.admin=new qx(this._apiUrl,n),this._streamConstructors={[da.STREAM_TYPE_ID]:da,[Wi.STREAM_TYPE_ID]:Wi,[Bn.STREAM_TYPE_ID]:Bn,[fa.STREAM_TYPE_ID]:fa}}get signer(){return this._signer}get did(){return this._did}set did(e){this._did=e,this._signer=tn.fromDID(e)}setDID(e){return E(this,null,function*(){this.did=e})}createStreamFromGenesis(o,i){return E(this,arguments,function*(e,r,n={}){n=b(b({},gTe),n);let s=yield Sc.createFromGenesis(this._apiUrl,e,r,n,this._config.syncInterval);return this.buildStreamFromDocument(s)})}loadStream(n){return E(this,arguments,function*(e,r={}){r=b(b({},gQ),r);let o=Cn.from(e),i=yield Sc.load(o,this._apiUrl,this._config.syncInterval,r);return this.buildStreamFromDocument(i)})}multiQuery(e,r){return E(this,null,function*(){let n=e.map(s=>S(b({},s),{genesis:s.genesis?Jt.serializeCommit(s.genesis):void 0,streamId:typeof s.streamId=="string"?s.streamId:s.streamId.toString()})),o=new URL("./multiqueries",this._apiUrl),i=yield this._fetchJson(o,{method:"POST",body:{queries:n,timeout:r}});return Object.entries(i).reduce((s,a)=>{let[c,u]=a,l=Jt.deserializeState(u),f=new Sc(l,this._apiUrl,this._config.syncInterval);return s[c]=this.buildStreamFromDocument(f),s},{})})}loadStreamCommits(e){let r=KC(e);return Sc.loadStreamCommits(r,this._apiUrl)}applyCommit(o,i){return E(this,arguments,function*(e,r,n={}){n=b(b({},yTe),n);let s=KC(e),a=yield Sc.applyCommit(this._apiUrl,s,r,n,this._config.syncInterval);return this.buildStreamFromDocument(a)})}requestAnchor(n){return E(this,arguments,function*(e,r={}){r=b(b({},gQ),r);let{anchorStatus:o}=yield this._fetchJson(`${this._apiUrl}streams/${e.toString()}/anchor`,{method:"POST",body:{opts:r}});return o})}addStreamHandler(e){this._streamConstructors[e.name]=e.stream_constructor}buildStreamFromState(e){let r=new Sc(e,this._apiUrl,this._config.syncInterval);return this.buildStreamFromDocument(r)}buildStreamFromDocument(e){let r=e.state.type,n=this._streamConstructors[r];if(!n)throw new Error(`Failed to find constructor for stream ${r}`);return new n(e,this)}getSupportedChains(){return E(this,null,function*(){if(this._supportedChains)return this._supportedChains;let{supportedChains:e}=yield this._fetchJson(new URL("./node/chains",this._apiUrl));return this._supportedChains=e,e})}close(){return E(this,null,function*(){})}};se();var cH=Rr(FA(),1);function dAe(t){let e=t.model instanceof ze?t.model:ze.fromString(t.model),r={controllers:[t.controller],model:e.bytes,sep:"model"};return Array.isArray(t.unique)&&(r.unique=new TextEncoder().encode(t.unique.join("|"))),{header:r,data:null}}function rH(t){return E(this,null,function*(){let e=dAe(t);return{id:yield ze.fromGenesis(Bn.STREAM_TYPE_ID,e),genesis:e}})}function nH(t){let e=typeof t.model=="string"?t.model:t.model.toString();return[t.controller,e].concat(t.unique??[]).join("|")}function pAe(t){let a=t,{after:e,before:r,first:n,last:o}=a,i=Gr(a,["after","before","first","last"]),s;if(n!=null?(s={first:n},e!=null&&(s.after=e)):o!=null&&(s={last:o},r!=null&&(s.before=r)),s==null)throw new Error('Missing "first" or "last" connection argument');return b(b({},i),s)}function hAe(t,e){return{edges:(e.edges??[]).map(({cursor:r,node:n})=>({cursor:r,node:n?t.buildStreamFromState(n):null})),pageInfo:S(b({},e.pageInfo),{startCursor:e.pageInfo.startCursor??null,endCursor:e.pageInfo.endCursor??null})}}function oH(t,e){return E(this,null,function*(){let r=pAe(e),n=yield t.index.query(r);return hAe(t,n)})}function iH(t,e){return E(this,null,function*(){let r=S(b({},e),{last:1}),o=(yield t.index.query(r)).edges?.[0]?.node;return o?t.buildStreamFromState(o):null})}function mAe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function yAe(t,e){return e.get?e.get.call(t):e.value}function gAe(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}function aH(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}function Wh(t,e){var r=aH(t,e,"get");return yAe(t,r)}function uP(t,e,r){mAe(t,e),e.set(t,r)}function lP(t,e,r){var n=aH(t,e,"set");return gAe(t,n,r),r}var wAe={sync:Qt.NEVER_SYNC};function sH(t){return typeof t.id=="string"?Cn.from(t.id).toString():t.id.toString()}function BA(t){let e=b({},t);for(let[r,n]of Object.entries(e))n==null?delete e[r]:Array.isArray(n)?e[r]=n.map(o=>typeof o=="object"&&!Array.isArray(o)&&o!=null?BA(o):o):typeof n=="object"&&(e[r]=BA(n));return e}var Mw=new WeakMap,UA=new WeakMap,fP=new WeakMap,$w=class t extends cH.default{cache(e){if(!Wh(this,fP))return!1;let r={id:e.id.toString()};return this.clear(r).prime(r,e),!0}_getDeterministicKey(e){let r=nH(e),n=Wh(this,UA).get(r);if(n!=null)return n;let o=rH(e);return Wh(this,UA).set(r,o),o}create(c,u){return E(this,arguments,function*(e,r,s={}){var a=s,{controller:n,shouldIndex:o}=a,i=Gr(a,["controller","shouldIndex"]);let l={controller:n,model:e instanceof ze?e:ze.fromString(e),shouldIndex:o},f=yield Bn.create(Wh(this,Mw),BA(r),l,i);return this.cache(f),f})}load(e){return E(this,null,function*(){return yield Wa(t.prototype,this,"load").call(this,e)})}_loadDeterministic(n){return E(this,arguments,function*(e,r={}){let o=b(b({},wAe),r),i=yield this._getDeterministicKey(e),s=yield this.load(S(b({},i),{opts:o}));return(r.onlyIndexed===!1||s.metadata.shouldIndex!==!1)&&(!r.ignoreEmpty||s.content!=null)?s:null})}loadSingle(e,r,n){return E(this,null,function*(){return yield this._loadDeterministic({controller:e,model:r},n)})}loadSet(e,r,n,o){return E(this,null,function*(){return yield this._loadDeterministic({controller:e,model:r,unique:n},o)})}update(u,l){return E(this,arguments,function*(e,r,a={}){var c=a,{replace:n,shouldIndex:o,version:i}=c,s=Gr(c,["replace","shouldIndex","version"]);let f={id:e};this.clear(f);let d=yield this.load(f);if(i!=null&&d.commitId.toString()!==i)throw new Error("Stream version mismatch");let p=n?r:b(b({},d.content??{}),r),h=typeof o>"u"?void 0:{shouldIndex:o};return yield d.replace(BA(p),h,s),d})}queryConnection(e){return E(this,null,function*(){let r=yield oH(Wh(this,Mw),e);for(let n of r.edges)n.node!=null&&this.cache(n.node);return r})}queryOne(e){return E(this,null,function*(){let r=yield iH(Wh(this,Mw),e);return r!=null&&this.cache(r),r})}constructor(e){super(r=>E(this,null,function*(){e.cache||this.clearAll();let n=yield e.ceramic.multiQuery(r.map(s=>{var a=s,{id:o}=a,i=Gr(a,["id"]);return b({streamId:o},i)}),e.multiqueryTimeout);return r.map(o=>{let i=sH(o),s=n[i];return s||new Error(`Failed to load document: ${i}`)})}),{cache:!0,cacheKeyFn:sH,cacheMap:e.cache!=null&&typeof e.cache!="boolean"?e.cache:void 0}),uP(this,Mw,{writable:!0,value:void 0}),uP(this,UA,{writable:!0,value:void 0}),uP(this,fP,{writable:!0,value:void 0}),lP(this,Mw,e.ceramic),lP(this,UA,e.deterministicKeysCache??new Map),lP(this,fP,!!e.cache)}};function Vw(t){let{cache:e,ceramic:r,fallbackViewerID:n}=t,o=t.loader??new $w({ceramic:r,cache:e});function i(){let s=r.did;return s?s.hasParent?s.parent:s.id:n??null}return{ceramic:r,loader:o,getViewerID:i,isAuthenticated:()=>r.did?.authenticated??!1,loadDoc:(s,a=!1)=>E(null,null,function*(){let c={id:s};return a&&o.clear(c),yield o.load(c)}),upsertSingle:(u,l,...f)=>E(null,[u,l,...f],function*(s,a,c={}){let d=i();if(d==null)throw new Error("Document can only be created with an authenticated account");let g=c,{shouldIndex:p}=g,h=Gr(g,["shouldIndex"]),m=yield o.loadSingle(d,s,S(b({},h),{onlyIndexed:!1}));return yield m.replace(a,typeof p>"u"?void 0:{shouldIndex:p}),m}),upsertSet:(l,f,d,...p)=>E(null,[l,f,d,...p],function*(s,a,c,u={}){let h=i();if(h==null)throw new Error("Document can only be created with an authenticated account");let T=u,{shouldIndex:m}=T,g=Gr(T,["shouldIndex"]),w=yield o.loadSet(h,s,a,S(b({},g),{onlyIndexed:!1}));return yield w.replace(c,typeof m>"u"?void 0:{shouldIndex:m}),w}),enableDocIndexing:(s,a,c)=>E(null,null,function*(){if(i()==null)throw new Error("Document can only be hidden with an authenticated account");yield(yield o.load({id:s})).shouldIndex(a,c)}),queryCount:s=>E(null,null,function*(){return yield r.index.count(s)})}}se();se();function Je(t,e){return eo.major>=17?new D(t,e):new D(t,e?.nodes,e?.source,e?.positions,e?.path,e?.originalError,e?.extensions)}se();var MA=/^(-|\+)?P(?!$)((-|\+)?\d+(?:(\.|,)\d+)?Y)?((-|\+)?\d+(?:(\.|,)\d+)?M)?((-|\+)?\d+(?:(\.|,)\d+)?W)?((-|\+)?\d+(?:(\.|,)\d+)?D)?(T(?=(-|\+)?\d)((-|\+)?\d+(?:(\.|,)\d+)?H)?((-|\+)?\d+(?:(\.|,)\d+)?M)?((-|\+)?\d+(?:(\.|,)\d+)?S)?)?$/,uH={name:"Duration",description:`
    A string representing a duration conforming to the ISO8601 standard,
    such as: P1W1DT13H23M34S
    P is the duration designator (for period) placed at the start of the duration representation.
    Y is the year designator that follows the value for the number of years.
    M is the month designator that follows the value for the number of months.
    W is the week designator that follows the value for the number of weeks.
    D is the day designator that follows the value for the number of days.
    T is the time designator that precedes the time components of the representation.
    H is the hour designator that follows the value for the number of hours.
    M is the minute designator that follows the value for the number of minutes.
    S is the second designator that follows the value for the number of seconds.

    Note the time designator, T, that precedes the time value.

    Matches moment.js, Luxon and DateFns implementations
    ,/. is valid for decimal places and +/- is a valid prefix
  `,serialize(t){if(typeof t!="string")throw Je(`Value is not string: ${t}`);if(!MA.test(t))throw Je(`Value is not a valid ISO Duration: ${t}`);return t},parseValue(t){if(typeof t!="string")throw Je(`Value is not string: ${t}`);if(!MA.test(t))throw Je(`Value is not a valid ISO Duration: ${t}`);return t},parseLiteral(t){if(t.kind!==y.STRING)throw Je(`Can only validate strings as ISO Durations but got a: ${t.kind}`,{nodes:t});if(!MA.test(t.value))throw Je(`Value is not a valid ISO Duration: ${t.value}`,{nodes:t});return t.value},extensions:{codegenScalarType:"string",jsonSchema:{title:"Duration",type:"string",pattern:MA.source}}},bAe=new Ce(S(b({},uH),{name:"ISO8601Duration"})),$A=new Ce(S(b({},uH),{name:"Duration"}));se();var dP=(t,e)=>{if(!Intl?.DateTimeFormat().resolvedOptions().timeZone)throw Je("Time zones are not available in this environment",e?{nodes:e}:void 0);try{return Intl.DateTimeFormat(void 0,{timeZone:t}),t}catch(r){throw r instanceof RangeError?Je(`Value is not a valid IANA time zone: ${t}`,e?{nodes:e}:void 0):Je("Could not validate time zone.",e?{nodes:e}:void 0)}},VA=new Ce({name:"TimeZone",description:"A field whose value exists in the standard IANA Time Zone Database: https://www.iana.org/time-zones",serialize:dP,parseValue:dP,parseLiteral(t){if(t.kind!==y.STRING)throw Je(`Can only sanitize time zone strings, but got: ${t.kind}`);return dP(t.value)},extensions:{codegenScalarType:"string",jsonSchema:{title:"TimeZone",type:"string",pattern:"^(?:[A-Za-z0-9_]|(?:%[0-9A-Fa-f]{2}))+"}}});se();var lH=/^([+-]?)(\d{2}):(\d{2})$/,pP=(t,e)=>{if(typeof t!="string")throw Je(`Value is not string: ${t}`,e?{nodes:e}:void 0);if(!lH.test(t))throw Je(`Value is not a valid UTC Offset: ${t}`,e?{nodes:e}:void 0);return t},jA=new Ce({name:"UtcOffset",description:"A field whose value is a UTC Offset: https://en.wikipedia.org/wiki/List_of_tz_database_time_zones",serialize:pP,parseValue:pP,parseLiteral(t){if(t.kind!==y.STRING)throw Je(`Can only validate strings as UTC Offset but got a: ${t.kind}`,{nodes:t});return pP(t.value,t)},extensions:{codegenScalarType:"string",jsonSchema:{title:"UtcOffset",type:"string",pattern:lH.source}}});se();var fH=/^\d{4}-\d{2}-\d{2}$/;function hP(t,e){if(typeof t!="string")throw Je(`Value is not string: ${t}`,e?{nodes:e}:void 0);if(!fH.test(t))throw Je(`Value is not a valid LocalDate: ${t}`,e?{nodes:e}:void 0);let n=new Date(t);if(!!isNaN(n.getTime()))throw Je(`Value is not a valid LocalDate: ${t}`,e?{nodes:e}:void 0);if(!(n.toISOString()===`${t}T00:00:00.000Z`))throw Je(`Value is not a valid LocalDate: ${t}`,e?{nodes:e}:void 0);return t}var GA=new Ce({name:"LocalDate",description:"A local date string (i.e., with no associated timezone) in `YYYY-MM-DD` format, e.g. `2020-01-01`.",serialize(t){return hP(t)},parseValue(t){return hP(t)},parseLiteral(t){if(t.kind!==y.STRING)throw Je(`Can only validate strings as local dates but got a: ${t.kind}`,{nodes:t});return hP(t.value,t)},extensions:{codegenScalarType:"string",jsonSchema:{title:"LocalDate",type:"string",pattern:fH.source}}});se();var dH=/^([0-1][0-9]|2[0-3]):([0-5][0-9])(:[0-5][0-9](\.\d{3})?)?$/;function mP(t,e){if(typeof t!="string")throw Je(`Value is not string: ${t}`,e?{nodes:e}:void 0);if(!dH.test(t))throw Je(`Value is not a valid LocalTime: ${t}`,e?{nodes:e}:void 0);return t}var zA=new Ce({name:"LocalTime",description:"A local time string (i.e., with no associated timezone) in 24-hr `HH:mm[:ss[.SSS]]` format, e.g. `14:25` or `14:25:06` or `14:25:06.123`.",serialize(t){return mP(t)},parseValue(t){return mP(t)},parseLiteral(t){if(t.kind!==y.STRING)throw Je(`Can only validate strings as local times but got a: ${t.kind}`,{nodes:t});return mP(t.value,t)},extensions:{codegenScalarType:"string",jsonSchema:{title:"LocalTime",type:"string",pattern:dH.source}}});var Fc=(function(t){return t[t.NEGATIVE=0]="NEGATIVE",t[t.NON_NEGATIVE=1]="NON_NEGATIVE",t[t.POSITIVE=2]="POSITIVE",t[t.NON_POSITIVE=3]="NON_POSITIVE",t})(Fc||{}),Uc=(function(t){return t[t.INT=0]="INT",t[t.FLOAT=1]="FLOAT",t})(Uc||{}),pH=/^([0-9]{1,3})\s*([0-9]{1,3}(?:\.(?:[0-9]{1,}))?)[']\s*(([0-9]{1,3}(\.([0-9]{1,}))?)["]\s*)?([NEOSW]?)$/;var Rst={NonPositiveInt:{range:Fc.NON_POSITIVE,type:Uc.INT},PositiveInt:{range:Fc.POSITIVE,type:Uc.INT},NonNegativeInt:{range:Fc.NON_NEGATIVE,type:Uc.INT},NegativeInt:{range:Fc.NEGATIVE,type:Uc.INT},NonPositiveFloat:{range:Fc.NON_POSITIVE,type:Uc.FLOAT},PositiveFloat:{range:Fc.POSITIVE,type:Uc.FLOAT},NonNegativeFloat:{range:Fc.NON_NEGATIVE,type:Uc.FLOAT},NegativeFloat:{range:Fc.NEGATIVE,type:Uc.FLOAT}};function qA(t){let e=t.toString().trim();return Number.isNaN(Number.parseFloat(e))?!1:Number.parseFloat(e)===Number(e)}function QA(t){return typeof t!="string"?!1:pH.test(t.toString().trim())}function JA(t){let e=pH.exec(t);if(typeof e>"u"||e===null)throw Je(`Value is not in sexagesimal format: ${t}`);let r=Number(e[2])/60||0,n=Number(e[4])/3600||0,o=Number.parseFloat(e[1])+r+n;return["S","W"].includes(e[7])?-o:o}se();var yP=-90,gP=90,EAe=8,HA=(t,e)=>{if(typeof t!="string"&&typeof t!="number"||t===null||typeof t>"u"||Number.isNaN(t))throw Je(`Value is neither a number nor a string: ${t}`,e?{nodes:e}:void 0);if(qA(t)){let r=typeof t=="string"?Number.parseFloat(t):t;if(r<yP||r>gP)throw Je(`Value must be between ${yP} and ${gP}: ${t}`,e?{nodes:e}:void 0);return Number.parseFloat(r.toFixed(EAe))}if(QA(t))return HA(JA(t));throw Je(`Value is not a valid latitude: ${t}`,e?{nodes:e}:void 0)},KA=new Ce({name:"Latitude",description:"A field whose value is a valid decimal degrees latitude number (53.471): https://en.wikipedia.org/wiki/Latitude",serialize(t){return HA(t)},parseValue(t){return HA(t)},parseLiteral(t){if(t.kind!==y.FLOAT&&t.kind!==y.STRING)throw Je(`Can only validate floats or strings as latitude but got a: ${t.kind}`,{nodes:[t]});return HA(t.value,t)},extensions:{codegenScalarType:"string | number",jsonSchema:{title:"Latitude",type:"number",minimum:yP,maximum:gP}}});se();var wP=-180,bP=180,vAe=8,WA=(t,e)=>{if(typeof t!="string"&&typeof t!="number"||t===null||typeof t>"u"||Number.isNaN(t))throw Je(`Value is neither a number nor a string: ${t}`,e?{nodes:e}:void 0);if(qA(t)){let r=typeof t=="string"?Number.parseFloat(t):t;if(r<wP||r>bP)throw Je(`Value must be between ${wP} and ${bP}: ${t}`,e?{nodes:e}:void 0);return Number.parseFloat(r.toFixed(vAe))}if(QA(t))return WA(JA(t));throw Je(`Value is not a valid longitude: ${t}`,e?{nodes:e}:void 0)},YA=new Ce({name:"Longitude",description:"A field whose value is a valid decimal degrees longitude number (53.471): https://en.wikipedia.org/wiki/Longitude",serialize(t){return WA(t)},parseValue(t){return WA(t)},parseLiteral(t){if(t.kind!==y.FLOAT&&t.kind!==y.STRING)throw Je(`Can only validate floats or strings as longitude but got a: ${t.kind}`,{nodes:[t]});return WA(t.value,t)},extensions:{codegenScalarType:"string | number",jsonSchema:{title:"Longitude",type:"number",minimum:wP,maximum:bP}}});se();var mH=/^did:[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+:[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]*:?[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]*:?[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]*$/,EP=(t,e)=>{if(typeof t!="string")throw Je(`Value is not string: ${t}`,e?{nodes:e}:void 0);if(!mH.test(t))throw Je(`Value is not a valid DID: ${t}`,e?{nodes:e}:void 0);return t},hH="https://www.w3.org/TR/did-core/",TAe={name:"DID",description:"A field whose value conforms to the standard DID format as specified in did-core: https://www.w3.org/TR/did-core/.",serialize:EP,parseValue:EP,parseLiteral(t){if(t.kind!==y.STRING)throw Je(`Can only validate strings as DID but got a: ${t.kind}`,{nodes:t});return EP(t.value,t)},specifiedByURL:hH,specifiedByUrl:hH,extensions:{codegenScalarType:"string",jsonSchema:{title:"DID",type:"string",pattern:mH.source}}},XA=new Ce(TAe);se();var yH=/^(AD|AE|AF|AG|AI|AL|AM|AO|AQ|AR|AS|AT|AU|AW|AX|AZ|BA|BB|BD|BE|BF|BG|BH|BI|BJ|BL|BM|BN|BO|BQ|BR|BS|BT|BV|BW|BY|BZ|CA|CC|CD|CF|CG|CH|CI|CK|CL|CM|CN|CO|CR|CU|CV|CW|CX|CY|CZ|DE|DJ|DK|DM|DO|DZ|EC|EE|EG|EH|ER|ES|ET|FI|FJ|FK|FM|FO|FR|GA|GB|GD|GE|GF|GG|GH|GI|GL|GM|GN|GP|GQ|GR|GS|GT|GU|GW|GY|HK|HM|HN|HR|HT|HU|ID|IE|IL|IM|IN|IO|IQ|IR|IS|IT|JE|JM|JO|JP|KE|KG|KH|KI|KM|KN|KP|KR|KW|KY|KZ|LA|LB|LC|LI|LK|LR|LS|LT|LU|LV|LY|MA|MC|MD|ME|MF|MG|MH|MK|ML|MM|MN|MO|MP|MQ|MR|MS|MT|MU|MV|MW|MX|MY|MZ|NA|NC|NE|NF|NG|NI|NL|NO|NP|NR|NU|NZ|OM|PA|PE|PF|PG|PH|PK|PL|PM|PN|PR|PS|PT|PW|PY|QA|RE|RO|RS|RU|RW|SA|SB|SC|SD|SE|SG|SH|SI|SJ|SK|SL|SM|SN|SO|SR|SS|ST|SV|SX|SY|SZ|TC|TD|TF|TG|TH|TJ|TK|TL|TM|TN|TO|TR|TT|TV|TW|TZ|UA|UG|UM|US|UY|UZ|VA|VC|VE|VG|VI|VN|VU|WF|WS|XK|YE|YT|ZA|ZM|ZW)$/i,vP=(t,e)=>{if(typeof t!="string")throw Je(`Value is not string: ${t}`,e?{nodes:e}:void 0);if(!yH.test(t))throw Je(`Value is not a valid country code: ${t}`,e?{nodes:e}:void 0);return t},ZA=new Ce({name:"CountryCode",description:"A country code as defined by ISO 3166-1 alpha-2",serialize(t){return vP(t)},parseValue(t){return vP(t)},parseLiteral(t){if(t.kind!==y.STRING)throw Je(`Can only validate strings as country codes but got a: ${t.kind}`,{nodes:[t]});return vP(t.value,t)},extensions:{codegenScalarType:"string",jsonSchema:{title:"CountryCode",type:"string",pattern:yH.source}}});se();var gH=/^(((en-GB-oed|i-ami|i-bnn|i-default|i-enochian|i-hak|i-klingon|i-lux|i-mingo|i-navajo|i-pwn|i-tao|i-tay|i-tsu|sgn-BE-FR|sgn-BE-NL|sgn-CH-DE)|(art-lojban|cel-gaulish|no-bok|no-nyn|zh-guoyu|zh-hakka|zh-min|zh-min-nan|zh-xiang))|((([A-Za-z]{2,3}(-([A-Za-z]{3}(-[A-Za-z]{3}){0,2}))?)|[A-Za-z]{4}|[A-Za-z]{5,8})(-([A-Za-z]{4}))?(-([A-Za-z]{2}|[0-9]{3}))?(-([A-Za-z0-9]{5,8}|[0-9][A-Za-z0-9]{3}))*(-([0-9A-WY-Za-wy-z](-[A-Za-z0-9]{2,8})+))*(-(x(-[A-Za-z0-9]{1,8})+))?)|(x(-[A-Za-z0-9]{1,8})+))$/;function TP(t,e){if(!t)throw Je(`Value is not a valid string. Received: ${t}`,e?{nodes:e}:void 0);if(!gH.test(t))throw Je(`Value is not a valid BCP-47 standard formatted string. Received: ${t}`,e?{nodes:e}:void 0);return t}var eI=new Ce({name:"Locale",description:"The locale in the format of a BCP 47 (RFC 5646) standard string",serialize:TP,parseValue:TP,parseLiteral(t){if(t.kind===y.STRING)return TP(t.value,t);throw Je(`Value is not a string. Received: ${t.kind}`,{nodes:t})},extensions:{codegenScalarType:"string",jsonSchema:{title:"Locale",type:"string",pattern:gH.source}}});se();function xP(t){return Qr.fromString(t).toString()}function AP(t){return ze.fromString(t).toString()}var Yh=new Ce({name:"CeramicCommitID",description:"A Ceramic Commit ID",specifiedByURL:"https://cips.ceramic.network/CIPs/cip-59#commitid",serialize:xP,parseValue:xP,parseLiteral(t){if(t.kind!==y.STRING)throw new D(`Can only validate strings as CommitID but got a: ${t.kind}`);return xP(t.value)}}),IP=new Ce({name:"CeramicStreamID",description:"A Ceramic Stream ID",specifiedByURL:"https://cips.ceramic.network/CIPs/cip-59#streamid",serialize:AP,parseValue:AP,parseLiteral(t){if(t.kind!==y.STRING)throw new D(`Can only validate strings as StreamID but got a: ${t.kind}`);return AP(t.value)}});se();function SP(t){return new sa(t).toString()}function NP(t){return new ia(t).toString()}var wH=new Ce({name:"ChainAgnosticAccountID",description:"A Chain Agnostic AccountId",specifiedByURL:"https://github.com/ChainAgnostic/CAIPs/blob/master/CAIPs/caip-10.md",serialize:SP,parseValue:SP,parseLiteral(t){if(t.kind!==y.STRING)throw new D(`Can only validate strings as ChainAgnosticAccountID but got a: ${t.kind}`);return SP(t.value)}}),bH=new Ce({name:"ChainAgnosticChainID",description:"A Chain Agnostic ChainId",specifiedByURL:"https://github.com/ChainAgnostic/CAIPs/blob/master/CAIPs/caip-2.md",serialize:NP,parseValue:NP,parseLiteral(t){if(t.kind!==y.STRING)throw new D(`Can only validate strings as ChainAgnosticAccountID but got a: ${t.kind}`);return NP(t.value)}});se();function tI(t){return t=t?.toUpperCase(),/^([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9])(\.\d{1,})?(([Z])|([+|-]([01][0-9]|2[0-3]):[0-5][0-9]))$/.test(t)}function rI(t){if(!/^(\d{4}-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01]))$/.test(t))return!1;let r=Number(t.substring(0,4)),n=Number(t.substring(5,2)),o=Number(t.substring(8,2));switch(n){case 2:return(r%4===0&&r%100!==0||r%400===0)&&o>29?!1:!((r%4===0&&r%100!==0||r%400===0)&&o>28);case 4:case 6:case 9:case 11:if(o>30)return!1;break}return!0}function _P(t){if(t=t?.toUpperCase(),!/^(\d{4}-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])T([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60))(\.\d{1,})?(([Z])|([+|-]([01][0-9]|2[0-3]):[0-5][0-9]))$/.test(t))return!1;let r=Date.parse(t);if(Number.isNaN(r))return!1;let n=t.indexOf("T"),o=t.substring(0,n),i=t.substring(n+1);return rI(o)&&tI(i)}var EH=new Ce({name:"Date",description:"A date string, such as 2007-12-03, compliant with the `full-date` format outlined in section 5.6 of the RFC 3339 profile of the ISO 8601 standard for representation of dates and times using the Gregorian calendar.",serialize:t=>{if(typeof t=="string"&&rI(t))return t;throw new TypeError(`Date cannot represent an invalid date-string ${String(t)}.`)},parseValue:t=>{if(typeof t=="string"&&rI(t))return t;throw new TypeError(`Date cannot represent an invalid date-string ${String(t)}.`)},parseLiteral:t=>{if(t.kind!==y.STRING)throw new TypeError("Date cannot represent non string or Date type");let{value:e}=t;if(rI(e))return e;throw new TypeError(`Date cannot represent an invalid date-string ${String(e)}.`)},extensions:{codegenScalarType:"string",jsonSchema:{type:"string",format:"date"}}}),vH=new Ce({name:"DateTime",description:"A date-time string at UTC, such as 2007-12-03T10:15:30Z, compliant with the `date-time` format outlined in section 5.6 of the RFC 3339 profile of the ISO 8601 standard for representation of dates and times using the Gregorian calendar.",serialize:t=>{if(typeof t=="string"&&_P(t)){if(t.indexOf("Z")!==-1)return t;throw new TypeError(`DateTime string must be formatted to UTC time ${String(t)}.`)}else throw new TypeError(`DateTime cannot represent an invalid date-time-string ${String(t)}.`)},parseValue:t=>{if(typeof t=="string"&&_P(t))return t;throw new TypeError(`DateTime cannot represent an invalid date-time-string ${String(t)}.`)},parseLiteral:t=>{if(t.kind!==y.STRING)throw new TypeError("DateTime cannot represent non string or Date type");let{value:e}=t;if(_P(e))return e;throw new TypeError(`DateTime cannot represent an invalid date-time-string ${String(e)}.`)},extensions:{codegenScalarType:"string",jsonSchema:{type:"string",format:"date-time"}}}),TH=new Ce({name:"Time",description:"A time string at UTC, such as 10:15:30Z, compliant with the `full-time` format outlined in section 5.6 of the RFC 3339profile of the ISO 8601 standard for representation of dates and times using the Gregorian calendar.",serialize(t){if(t instanceof Date){let e=t.toISOString();return e.substring(e.indexOf("T")+1)}else if(typeof t=="string"){if(tI(t))return t;throw new TypeError(`Time cannot represent an invalid time-string ${t}.`)}else throw new TypeError("Time cannot be serialized from a non string, or non Date type "+JSON.stringify(t))},parseValue(t){if(typeof t!="string")throw new TypeError(`Time cannot represent non string type ${JSON.stringify(t)}`);if(tI(t))return t;throw new TypeError(`Time cannot represent an invalid time-string ${t}.`)},parseLiteral(t){if(t.kind!==y.STRING)throw new TypeError(`Time cannot represent non string type: ${t.kind}`);let e=t.value;if(tI(e))return e;throw new TypeError(`Time cannot represent an invalid time-string ${String(e)}.`)},extensions:{codegenScalarType:"string",jsonSchema:{type:"string",format:"time"}}});se();function DP(t){let e=typeof t=="string"?Ct.parse(t):Ct.asCID(t);if(e==null)throw new D(`Could not parse input as CID: ${t}`);return e.toV1().toString()}var xH=new Ce({name:"InterPlanetaryCID",description:"A IPLD CID",specifiedByURL:"https://github.com/multiformats/cid",serialize:DP,parseValue:DP,parseLiteral(t){if(t.kind!==y.STRING)throw new D(`Can only validate strings as CID but got a: ${t.kind}`);return DP(t.value)}});se();var AH=new Ce({name:"URI",description:"A field whose value conforms to the standard Uniform Resource Identifier (URI) format as specified in RFC3986.",specifiedByURL:"https://www.ietf.org/rfc/rfc3986.txt",parseValue:t=>t,parseLiteral(t){if(t.kind!==y.STRING)throw new D(`Can only validate strings as URIs but got a: ${t.kind}`);return t.value},extensions:{jsonSchema:{type:"string",format:"uri"}}});var IH={accountid:wH,boolean:at,chainid:bH,cid:xH,commitid:Yh,countrycode:ZA,date:EH,datetime:vH,did:XA,duration:$A,float:Po,id:Er,integer:$r,latitude:KA,localdate:GA,locale:eI,localtime:zA,longitude:YA,streamid:IP,string:it,time:TH,timezone:VA,uri:AH,utcoffset:jA},xAe=Object.keys(IH);function AAe(t){return xAe.includes(t)}function Xh(t){if(AAe(t))return IH[t];throw new Error(`Unsupported scalar type: ${t}`)}se();var $n=Rr(VH(),1);var BP=["greaterThan","greaterThanOrEqualTo"],MP=["lessThan","lessThanOrEqualTo"];function zAe(t,e){return BP.includes(t)&&MP.includes(e)||BP.includes(e)&&MP.includes(t)}function qAe(t){if(t==null)throw new Error("No value filter provided");let e=Object.keys(t);if(e.length===0)throw new Error("Invalid empty value filter");if(e.length>2)throw new Error("Too many conditions provided in value filter");if(e.length===2){if(zAe(e[0],e[1]))return;throw new Error("Invalid range conditions in value filter")}let r=e[0],n=t[r];switch(r){case"in":case"notIn":if(!Array.isArray(n))throw new Error(`Invalid value for condition "${r}": must be an array`);return;case"isNull":case"equalTo":case"notEqualTo":return;default:if(BP.includes(r)||MP.includes(r))return;throw new Error(`Unexpected condition "${r}" in value filter`)}}function QAe(t){if(t==null)throw new Error("No object filter provided");let e=Object.values(t);if(e.length===0)throw new Error("Empty object filter");e.forEach(qAe)}function xf(t){if(t==null)throw new Error("No query filters provided");let e=Object.keys(t);if(e.length!==1)throw new Error("Invalid query filters: a single key must be provided");let r=e[0],n=t[r];if(n==null)throw new Error("Invalid query filters: missing filter value");switch(r){case"where":QAe(n);return;case"not":xf(n);return;case"and":case"or":if(!Array.isArray(n))throw new Error(`Invalid value for "${r}" filter: must be an array`);n.forEach(xf);return;default:throw new Error(`Invalid query filter type: expecting "where", "and", "or" or "not" key but got "${r}"`)}}function uI(t,e,r){let n={where:{[t]:{equalTo:e}}};return r==null?n:(xf(r),{and:[n,r]})}function JAe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function HAe(t,e){return e.get?e.get.call(t):e.value}function KAe(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}function QH(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}function oe(t,e){var r=QH(t,e,"get");return HAe(t,r)}function em(t,e,r){JAe(t,e),e.set(t,r)}function $P(t,e,r){var n=QH(t,e,"set");return KAe(t,n,r),r}var WAe=["meta","reference","list","view"];function jH(t){return!WAe.includes(t.type)}var YAe=["enum","node"];function XAe(t){return t.type==="reference"&&YAe.includes(t.refType)}function GH(t,e,r,n){let o={models:t};return r.type==="account"?o.queryFilters=uI(r.property,e,n):(o.account=e,n!=null&&(xf(n),o.queryFilters=n)),o}function VP(t,e,r){switch(t){case"documentAccount":return e.metadata.controller;case"viewer":return r.getViewerID();default:return t}}var zH={type:new J(Er),description:"Account defining the relation"},ZAe=S(b({},$n.connectionArgs),{account:{type:Er,description:"Returns only documents created by the provided account"}}),JH={type:at,description:"Inform indexers if they should index this document or not"},eIe={type:$r,description:"Maximum amount of time to lookup the stream over the network, in seconds - see https://developers.ceramic.network/reference/typescript/interfaces/_ceramicnetwork_common.CreateOpts.html#syncTimeoutSeconds"},tIe=new Ye({name:"CreateOptionsInput",fields:{shouldIndex:JH}}),jP=new Ye({name:"SetOptionsInput",fields:{shouldIndex:JH,syncTimeout:eIe}}),rIe=new Ye({name:"UpdateOptionsInput",fields:{replace:{type:at,defaultValue:!1,description:"Fully replace the document contents instead of performing a shallow merge"},shouldIndex:{type:at,description:"Inform indexers if they should index this document or not"},version:{type:Yh,description:"Only perform mutation if the document matches the provided version"}}}),qH=new Nt({name:"SortOrder",values:{ASC:{value:"ASC"},DESC:{value:"DESC"}}});function nIe(t){return new Ye({name:`${t.name}ValueFilterInput`,fields:{isNull:{type:at},equalTo:{type:t},notEqualTo:{type:t},in:{type:new je(new J(t))},notIn:{type:new je(new J(t))}}})}function GP(t){return new Ye({name:`${t.name}ValueFilterInput`,fields:{isNull:{type:at},equalTo:{type:t},notEqualTo:{type:t},in:{type:new je(new J(t))},notIn:{type:new je(new J(t))},lessThan:{type:t},lessThanOrEqualTo:{type:t},greaterThan:{type:t},greaterThanOrEqualTo:{type:t}}})}var oIe={BooleanValueFilter:new Ye({name:"BooleanValueFilterInput",fields:{isNull:{type:at},equalTo:{type:at}}}),FloatValueFilter:GP(Po),IntValueFilter:GP($r),StringValueFilter:GP(it)},iIe={boolean:"BooleanValueFilter",float:"FloatValueFilter",integer:"IntValueFilter",string:"StringValueFilter"},Vo=new WeakMap,Gw=new WeakMap,Yt=new WeakMap,Kt=new WeakMap,Mc=new WeakMap,Af=new WeakMap,zP=class{build(){this._buildEnums();let e=this._createSharedDefinitions();this._buildObjects(e),this._buildConnections();let r=this._createSchema(e);return Gs(r),r}_createSharedDefinitions(){let e=(0,$n.nodeDefinitions)((o,i)=>E(null,null,function*(){return o.startsWith("did:")?o:yield i.loadDoc(o)}),o=>typeof o=="string"?"CeramicAccount":oe(this,Af)[o.metadata.model?.toString()]),r=new Qe({name:"CeramicAccount",interfaces:[e.nodeInterface],fields:()=>{let o={id:{type:new J(Er),description:"Globally unique identifier of the account (DID string)",resolve:i=>i},isViewer:{type:new J(at),description:"Whether the Ceramic instance is currently authenticated with this account or not",resolve:(i,s,a)=>a.isAuthenticated()&&a.getViewerID()===i}};for(let[i,s]of Object.entries(oe(this,Vo).accountData??{})){let a=oe(this,Vo).models[s.name];if(a==null)throw new Error(`Missing model for reference name: ${s.name}`);switch(s.type){case"account":case"connection":{let c=oe(this,Kt)[`${s.name}Filters`],u=oe(this,Kt)[`${s.name}Sorting`],l=b({},$n.connectionArgs);c&&u&&(l.filters={type:c},l.sorting={type:u}),o[i]={type:oe(this,Yt)[`${s.name}Connection`],args:l,resolve:(f,m,h)=>E(this,null,function*(){var g=m,{filters:d}=g,p=Gr(g,["filters"]);let w=GH([a.id],f,s,d);return yield h.loader.queryConnection(b(b({},w),p))})},o[`${i}Count`]={type:new J($r),args:c?{filters:{type:c}}:{},resolve:(h,m,g)=>E(this,[h,m,g],function*(f,{filters:d},p){let w=GH([a.id],f,s,d);return yield p.queryCount(w)})};break}case"node":o[i]={type:oe(this,Yt)[s.name],resolve:(c,u,l)=>E(this,null,function*(){return yield l.loader.loadSingle(c,a.id,{ignoreEmpty:!0,onlyIndexed:!0})})};break;case"set":{if(a.accountRelation.type!=="set")throw new Error(`Invalid reference ${i} on account: referenced model ${s.name} must use the SET account relation`);let c=a.accountRelation.fields,u=this._buildSetInputObjectType(s.name,c);o[i]={type:oe(this,Yt)[s.name],args:{with:{type:new J(u)}},resolve:(l,f,d)=>E(this,null,function*(){let p=c.map(h=>{let m=f.with[h];return m?String(m):""});return yield d.loader.loadSet(l,a.id,p,{ignoreEmpty:!0,onlyIndexed:!0})})};break}case"account-set":{if(a.accountRelation.type!=="set")throw new Error(`Invalid reference ${i} on account: referenced model ${s.name} must use the SET account relation`);let c=a.accountRelation.fields,u={account:zH},l=c.filter(f=>f!==s.property);if(l.length!==0){let f=this._buildSetInputObjectType(s.name,l,s.property);u.with={type:new J(f)}}o[i]={type:oe(this,Yt)[s.name],args:u,resolve:(f,d,p)=>E(this,null,function*(){let h=d.account==="viewer"?p.getViewerID():d.account;if(h==null)return null;let m=c.map(g=>{if(g===s.property)return f;let w=d.with[g];return w?String(w):""});return yield p.loader.loadSet(h,a.id,m,{ignoreEmpty:!0,onlyIndexed:!0})})};break}default:throw new Error(`Unsupported reference type: ${s.type}`)}}return o}}),n={node:e.nodeField,viewer:{type:r,description:"Account currently authenticated on the Ceramic instance, if set",resolve:(o,i,s)=>s.getViewerID()}};return S(b({},e),{accountObject:r,queryFields:n})}_resolveInterfaces(e,r,n=[]){let o=n.flatMap(i=>{let s=oe(this,Af)[i];if(s==null)return[];let a=oe(this,Yt)[s];if(a==null)throw new Error(`Missing interface ${s} for ${r}`);if(!Z(a))throw new Error(`Invalid type for ${s} for ${r}, expected interface`);return[a].concat(a.getInterfaces())});return Array.from(new Set([e,...o]))}_buildEnums(){for(let[e,r]of Object.entries(oe(this,Vo).enums))oe(this,Yt)[e]=new Nt({name:e,values:r.reduce((n,o)=>(n[o]={value:o},n),{})})}_buildObjects(e){for(let[r,n]of Object.entries(oe(this,Vo).objects))this._buildObjectType({definitions:e,name:r,fields:n})}_buildObjectType(e){let r=oe(this,Vo).models[e.name];if(r==null)this._buildEmbeddedObjectType(e);else{let n=b({model:r},e);r.interface?this._buildInterfaceObjectType(n):this._buildDocumentObjectType(n)}}_buildInterfaceObjectType({model:e,definitions:r,name:n,fields:o}){oe(this,Yt)[n]=new dt({name:n,interfaces:()=>this._resolveInterfaces(r.nodeInterface,n,e.implements),fields:()=>{let i={id:{type:new J(Er),resolve:s=>s.id.toString()}};for(let[s,a]of Object.entries(o))switch(a.type){case"meta":continue;case"reference":i[s]=this._buildDocumentObjectReferenceField(s,a);break;case"list":i[s]={type:this._buildObjectListFieldType(r,a),resolve:c=>c.content?.[s]};break;case"view":{let c=this._buildDocumentObjectViewField(s,r,a,o);c&&(i[s]=c);break}default:i[s]={type:this._buildScalarFieldType(r,a),resolve:c=>c.content?.[s]}}return i}}),this._buildFiltersType(n,o,!0),this._buildSortingType(n,o,!0)}_buildDocumentObjectType({model:e,definitions:r,name:n,fields:o}){oe(this,Yt)[n]=new Qe({name:n,interfaces:()=>this._resolveInterfaces(r.nodeInterface,n,e.implements),isTypeOf:i=>i.metadata.model.toString()===e.id,fields:()=>{let i={id:{type:new J(Er),resolve:s=>s.id.toString()}};for(let[s,a]of Object.entries(o))switch(a.type){case"meta":break;case"reference":i[s]=this._buildDocumentObjectReferenceField(s,a);break;case"list":i[s]={type:this._buildObjectListFieldType(r,a),resolve:c=>c.content?.[s]};break;case"view":{let c=this._buildDocumentObjectViewField(s,r,a,o);c&&(i[s]=c);break}default:i[s]={type:this._buildScalarFieldType(r,a),resolve:c=>c.content?.[s]}}return i}}),this._buildFiltersType(n,o),this._buildSortingType(n,o),oe(this,Gw)||(this._buildInputObjectType(n,o),this._buildNodeMutations(r.queryFields,n,e))}_buildEmbeddedObjectType({definitions:e,name:r,fields:n}){oe(this,Yt)[r]=new Qe({name:r,fields:()=>{let o={};for(let[i,s]of Object.entries(n))switch(s.type){case"meta":continue;case"reference":o[i]=this._buildEmbeddedObjectReferenceField(i,s);break;case"list":o[i]={type:this._buildObjectListFieldType(e,s),resolve:a=>a[i]};break;case"view":throw new Error(`Unsupported view field ${i} on embedded object ${r}`);default:o[i]={type:this._buildScalarFieldType(e,s),resolve:a=>a[i]}}return o}}),oe(this,Gw)||this._buildInputObjectType(r,n)}_buildConnections(){for(let e of Object.keys(oe(this,Vo).models)){let r=oe(this,Yt)[e];if(r==null)throw new Error(`Missing object type for connection: ${e}`);let{connectionType:n,edgeType:o}=(0,$n.connectionDefinitions)({nodeType:r});oe(this,Yt)[`${e}Connection`]=n,oe(this,Yt)[`${e}Edge`]=o}}_buildDocumentObjectReferenceField(e,r){let n=r.refType==="connection"?r.refName+"Connection":r.refName,o=oe(this,Yt)[n];if(o==null)throw new Error(`Missing type: ${n}`);let i=r.required?new J(o):o;switch(r.refType){case"connection":return{type:i,args:$n.connectionArgs,resolve:(s,a,c)=>{throw new Error("Not implemented")}};case"node":return{type:i,args:$n.connectionArgs,resolve:(s,a,c)=>E(this,null,function*(){let u=s.content?.[e];return u?yield c.loadDoc(u):null})};case"enum":case"object":return{type:i,resolve:s=>s.content?.[e]};default:throw new Error(`Unsupported reference type on document object: ${r.refType}`)}}_buildEmbeddedObjectReferenceField(e,r){let n=oe(this,Yt)[r.refName];if(n==null)throw new Error(`Missing type: ${r.refName}`);let o=r.required?new J(n):n;switch(r.refType){case"enum":case"object":return{type:o,resolve:i=>i[e]};default:throw new Error(`Unsupported reference type on embedded object: ${r.refType}`)}}_buildObjectListFieldType(e,r){let n;if(r.item.type==="reference"){if(n=oe(this,Yt)[r.item.refName],n==null)throw new Error(`Missing referenced object type: ${r.item.refName}`)}else r.item.type==="did"?n=e.accountObject:n=Xh(r.item.type);r.item.required&&(n=new J(n));let o=new je(n);return r.required?new J(o):o}_buildDocumentObjectRelation(e,r,n,o){if(n.source==="document"){if(o[n.property]==null)throw new Error(`Missing reference field ${n.property} for relation defined on field ${e}`);let c=n.model?oe(this,Yt)[oe(this,Af)[n.model]]:r.nodeInterface;if(c==null)throw new Error(`Model not found for relation with ID ${n.model} on field ${e}`);return{type:c,resolve:(u,l,f)=>E(this,null,function*(){let d=u.content?.[n.property];if(d==null)return null;let p=yield f.loadDoc(d);if(p==null)return null;if(n.model!=null){let h=p.metadata.model.toString();if(Z(c)){let m=oe(this,Vo).models[oe(this,Af)[h]];if(m==null||!m.implements.includes(n.model))return console.warn(`Ignoring unsupported model ${h} for document ${d}, expected model implementing the ${n.model} interface`),null}else if(h!==n.model)return console.warn(`Ignoring unexpected model ${h} for document ${d}, expected model ${n.model}`),null}return p})}}let i=n.model;if(i==null)throw new Error(`Missing model for relation on field ${e}`);let s=oe(this,Af)[i];if(s==null)throw new Error(`Model alias not found for relation with ID ${i} on field ${e}`);switch(n.source){case"queryConnection":{let a=oe(this,Kt)[`${s}Filters`],c=oe(this,Kt)[`${s}Sorting`],u=b({},ZAe);return a&&c&&(u.filters={type:a},u.sorting={type:c}),{type:new J(oe(this,Yt)[`${s}Connection`]),args:u,resolve:(l,f,d)=>E(this,null,function*(){let p;if(f.account!=null){let m=VP(f.account,l,d);if(m==null)return null;p=m}let h=uI(n.property,l.id.toString(),f.filters);return yield d.loader.queryConnection(S(b({},f),{account:p,models:[i],queryFilters:h}))})}}case"queryCount":{let a=oe(this,Kt)[`${s}Filters`],c={account:{type:Er,description:"Counts only documents created by the provided account"}};return a&&(c.filters={type:a}),{type:new J($r),args:c,resolve:(u,l,f)=>E(this,null,function*(){let d;if(l.account!=null){let h=VP(l.account,u,f);if(h==null)return 0;d=h}let p=uI(n.property,u.id.toString(),l.filters);return yield f.queryCount({account:d,models:[i],queryFilters:p})})}}case"set":{let a=oe(this,Vo).models[s];if(a.accountRelation.type!=="set")throw new Error(`Invalid relation on field ${e}: referenced model ${s} must use the "set" account relation`);let c=a.accountRelation.fields,u={account:zH},l=c.filter(f=>f!==n.property);if(l.length!==0){let f=this._buildSetInputObjectType(s,l,n.property);u.with={type:new J(f)}}return{type:oe(this,Yt)[s],args:u,resolve:(f,d,p)=>E(this,null,function*(){let h=VP(d.account,f,p);if(h==null)return null;let m=c.map(g=>{if(g===n.property)return f.id.toString();let w=d.with[g];return w?String(w):""});return yield p.loader.loadSet(h,a.id,m,{ignoreEmpty:!0,onlyIndexed:!0})})}}default:throw new Error(`Unsupported relation source: ${n.source}`)}}_buildDocumentObjectViewField(e,r,n,o){switch(n.viewType){case"documentAccount":return{type:new J(r.accountObject),description:"Account controlling the document",resolve:i=>i.metadata.controller};case"documentVersion":return{type:new J(Yh),description:"Current version of the document",resolve:i=>i.commitId.toString()};case"relation":return this._buildDocumentObjectRelation(e,r,n.relation,o);default:throw new Error(`Unsupported view type: ${n.viewType}`)}}_buildScalarFieldType(e,r){let n=r.type==="did"?e.accountObject:Xh(r.type);return r.required?new J(n):n}_buildFiltersType(e,r,n=!1){let o=`${e}ObjectFilter`,i=`${e}Filters`,s={};for(let[a,c]of Object.entries(r)){let u;if(c.type==="reference"&&(c.indexed||n))if(c.refType==="enum"){let l=oe(this,Yt)[c.refName];u=nIe(l),oe(this,Kt)[u.name]=u}else c.refType==="node"&&(u=oe(this,Kt).StringValueFilter);else jH(c)&&(c.indexed||n)&&(u=oe(this,Kt)[iIe[c.type]??"StringValueFilter"]);u!=null&&(s[a]={type:u})}Object.keys(s).length>0&&(oe(this,Kt)[o]=new Ye({name:`${o}Input`,fields:()=>s}),oe(this,Kt)[i]=new Ye({name:`${i}Input`,fields:()=>({where:{type:oe(this,Kt)[o]},and:{type:new je(new J(oe(this,Kt)[i]))},or:{type:new je(new J(oe(this,Kt)[i]))},not:{type:oe(this,Kt)[i]}})}))}_buildSortingType(e,r,n=!1){let o=`${e}Sorting`,i={};for(let[s,a]of Object.entries(r))(XAe(a)||jH(a))&&(a.indexed||n)&&(i[s]={type:qH});Object.keys(i).length>0&&(oe(this,Kt)[o]=new Ye({name:`${o}Input`,fields:()=>i}))}_buildInputObjectType(e,r){let n=oe(this,Vo).models[e]!=null,o=i=>{let s={},a=n||i?"":"Partial";for(let[c,u]of Object.entries(r)){if(!i&&u.immutable)continue;let l;switch(u.type){case"meta":case"view":continue;case"reference":switch(u.refType){case"connection":continue;case"enum":l=oe(this,Yt)[u.refName];break;case"node":l=Er;break;case"object":{if(l=oe(this,Kt)[a+u.refName],l==null)throw new Error(`Missing referenced input type: ${a+u.refName}`);break}}break;case"list":{let f;if(u.item.type==="reference"){if(f=oe(this,Kt)[a+u.item.refName],f==null)throw new Error(`Missing referenced input type: ${a+u.item.refName}`)}else f=Xh(u.item.type);l=new je(f);break}default:l=Xh(u.type)}l!=null&&(s[c]={type:i&&u.required?new J(l):l})}return s};if(oe(this,Kt)[e]=new Ye({name:`${e}Input`,fields:()=>o(!0)}),n){let i=!1;for(let s of Object.values(r))if(!s.immutable&&s.type!=="meta"&&s.type!=="view"&&!(s.type==="reference"&&s.refType==="connection")){i=!0;break}i&&(oe(this,Kt)[`Partial${e}`]=new Ye({name:`Partial${e}Input`,fields:()=>o(!1)}))}}_buildSetInputObjectType(e,r,n){let o=oe(this,Vo).objects[e];if(o==null)throw new Error(`Object fields not found for model ${e}`);let s=`With${n?n[0].toUpperCase()+n.slice(1):""}${e}Input`;return oe(this,Kt)[s]==null&&(oe(this,Kt)[s]=new Ye({name:s,fields:()=>{let a={};for(let c of r){let u=o[c];if(u==null)throw new Error(`Field ${c} not found on model ${e}`);let l;switch(u.type){case"list":case"meta":case"view":throw new Error(`Invalid account relation field ${c} on model ${e}: unsupported type ${u.type}`);case"reference":switch(u.refType){case"connection":throw new Error(`Invalid account relation field ${c} on model ${e}: unsupported connection reference`);case"enum":l=oe(this,Yt)[u.refName];break;case"node":l=Er;break;case"object":throw new Error(`Invalid account relation field ${c} on model ${e}: unsupported object reference`)}break;default:l=Xh(u.type)}if(l==null)throw new Error(`Invalid account relation field ${c} on model ${e}: type not found`);a[c]={type:new J(l)}}return a}})),oe(this,Kt)[s]}_buildNodeMutations(e,r,n){switch(n.accountRelation.type){case"list":oe(this,Mc)[`create${r}`]=(0,$n.mutationWithClientMutationId)({name:`Create${r}`,inputFields:()=>({content:{type:new J(oe(this,Kt)[r])},options:{type:tIe}}),outputFields:()=>S(b({},e),{document:{type:new J(oe(this,Yt)[r])}}),mutateAndGetPayload:(o,i)=>E(this,null,function*(){if(i.ceramic.did==null||!i.ceramic.did.authenticated)throw new Error("Ceramic instance is not authenticated");return{document:yield i.loader.create(n.id,o.content,{shouldIndex:o.options?.shouldIndex})}})});break;case"set":{let o=n.accountRelation.fields;oe(this,Mc)[`set${r}`]=(0,$n.mutationWithClientMutationId)({name:`Set${r}`,inputFields:()=>({content:{type:new J(oe(this,Kt)[r])},options:{type:jP}}),outputFields:()=>S(b({},e),{document:{type:new J(oe(this,Yt)[r])}}),mutateAndGetPayload:(i,s)=>E(this,null,function*(){if(s.ceramic.did==null||!s.ceramic.did.authenticated)throw new Error("Ceramic instance is not authenticated");let a=o.map(u=>String(i.content[u]));return{document:yield s.upsertSet(n.id,a,i.content,{shouldIndex:i.options?.shouldIndex,syncTimeoutSeconds:i.options?.syncTimeout})}})});break}case"single":oe(this,Mc)[`set${r}`]=(0,$n.mutationWithClientMutationId)({name:`Set${r}`,inputFields:()=>({content:{type:new J(oe(this,Kt)[r])},options:{type:jP}}),outputFields:()=>S(b({},e),{document:{type:new J(oe(this,Yt)[r])}}),mutateAndGetPayload:(o,i)=>E(this,null,function*(){if(i.ceramic.did==null||!i.ceramic.did.authenticated)throw new Error("Ceramic instance is not authenticated");return{document:yield i.upsertSingle(n.id,o.content,{shouldIndex:o.options?.shouldIndex,syncTimeoutSeconds:o.options?.syncTimeout})}})}),oe(this,Mc)[`create${r}`]=(0,$n.mutationWithClientMutationId)({name:`Create${r}`,deprecationReason:`Replaced by the set${r} mutation, create${r} will be removed in a future version of ComposeDB.`,inputFields:()=>({content:{type:new J(oe(this,Kt)[r])},options:{type:jP}}),outputFields:()=>S(b({},e),{document:{type:new J(oe(this,Yt)[r])}}),mutateAndGetPayload:(o,i)=>E(this,null,function*(){if(i.ceramic.did==null||!i.ceramic.did.authenticated)throw new Error("Ceramic instance is not authenticated");return{document:yield i.upsertSingle(n.id,o.content,{shouldIndex:o.options?.shouldIndex,syncTimeoutSeconds:o.options?.syncTimeout})}})});break;default:throw new Error(`Unsupported account relation type to create mutations: ${n.accountRelation.type}`)}oe(this,Mc)[`update${r}`]=(0,$n.mutationWithClientMutationId)({name:`Update${r}`,inputFields:()=>{let o={id:{type:new J(Er)},options:{type:rIe}},i=oe(this,Kt)[`Partial${r}`];return i!=null&&(o.content={type:new J(i)}),o},outputFields:()=>S(b({},e),{document:{type:new J(oe(this,Yt)[r])}}),mutateAndGetPayload:(o,i)=>E(this,null,function*(){if(i.ceramic.did==null||!i.ceramic.did.authenticated)throw new Error("Ceramic instance is not authenticated");return{document:yield i.loader.update(o.id,o.content,o.options)}})}),oe(this,Mc)[`enableIndexing${r}`]=(0,$n.mutationWithClientMutationId)({name:`EnableIndexing${r}`,inputFields:()=>({id:{type:new J(Er)},shouldIndex:{type:new J(at)}}),outputFields:()=>S(b({},e),{document:{type:oe(this,Yt)[r]}}),mutateAndGetPayload:(o,i)=>E(this,null,function*(){if(i.ceramic.did==null||!i.ceramic.did.authenticated)throw new Error("Ceramic instance is not authenticated");return{document:yield i.enableDocIndexing(o.id,o.shouldIndex)}})})}_createSchema(e){let r=b({nodes:e.nodesField},e.queryFields);for(let[o,i]of Object.entries(oe(this,Vo).models)){let s=o[0].toLowerCase(),a=o.slice(1),c=oe(this,Kt)[`${o}Filters`],u=oe(this,Kt)[`${o}Sorting`],l=b({},$n.connectionArgs);c&&u&&(l.filters={type:c},l.sorting={type:u}),r[`${s}${a}Index`]={type:oe(this,Yt)[`${o}Connection`],args:l,resolve:(f,m,h)=>E(this,null,function*(){var g=m,{filters:d}=g,p=Gr(g,["filters"]);return d!=null&&xf(d),yield h.loader.queryConnection(S(b({},p),{queryFilters:d,models:[i.id]}))})},r[`${s}${a}Count`]={type:new J($r),args:c?{filters:{type:c}}:{},resolve:(h,m,g)=>E(this,[h,m,g],function*(f,{filters:d},p){return d!=null&&xf(d),yield p.queryCount({queryFilters:d,models:[i.id]})})}}let n={query:new Qe({name:"Query",fields:r})};return!oe(this,Gw)&&Object.keys(oe(this,Mc)).length!==0&&(n.mutation=new Qe({name:"Mutation",fields:oe(this,Mc)})),new _r(n)}constructor(e){em(this,Vo,{writable:!0,value:void 0}),em(this,Gw,{writable:!0,value:void 0}),em(this,Yt,{writable:!0,value:{SortOrder:qH}}),em(this,Kt,{writable:!0,value:b({},oIe)}),em(this,Mc,{writable:!0,value:{}}),em(this,Af,{writable:!0,value:void 0}),$P(this,Vo,e.definition),$P(this,Gw,!!e.readonly),$P(this,Af,Object.entries(oe(this,Vo).models).reduce((r,[n,o])=>(r[o.id]=n,r),{}))}};function tm(t){return new zP(t).build()}function HH(t){let{definition:e,readonly:r,schema:n}=t;if(n!=null)return n;if(e==null)throw new Error("Invalid parameters to get schema: missing definition or schema");return tm({definition:e,readonly:r})}function sIe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function aIe(t,e){return e.get?e.get.call(t):e.value}function cIe(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}function YH(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}function lI(t,e){var r=YH(t,e,"get");return aIe(t,r)}function KH(t,e,r){sIe(t,e),e.set(t,r)}function WH(t,e,r){var n=YH(t,e,"set");return cIe(t,n,r),r}var fI=new WeakMap,dI=new WeakMap,zw=class{get context(){return lI(this,fI)}execute(e,r){return E(this,null,function*(){let n=Pc(lI(this,dI),e);return n.length>0?{errors:n}:yield Ma({document:e,variableValues:r,contextValue:lI(this,fI),schema:lI(this,dI)})})}executeQuery(e,r){return E(this,null,function*(){let n;try{n=no(e)}catch(o){return{errors:[o]}}return yield this.execute(n,r)})}constructor(e){KH(this,fI,{writable:!0,value:void 0}),KH(this,dI,{writable:!0,value:void 0});let u=e,{ceramic:r,context:n,definition:o,readonly:i,schema:s}=u,a=Gr(u,["ceramic","context","definition","readonly","schema"]),c=typeof r=="string"?new Jx(r):r;WH(this,fI,n??Vw(S(b({},a),{ceramic:c}))),WH(this,dI,HH({definition:o,readonly:i,schema:s}))}};var XH="ComposeDB-ViewerID";var ZH=t=>Array.isArray(t)?t:t?[t]:[];function pI(t){return t!=null}function Dt(t){return hI(t,[])}function hI(t,e){switch(typeof t){case"string":return JSON.stringify(t);case"function":return t.name?`[function ${t.name}]`:"[function]";case"object":return uIe(t,e);default:return String(t)}}function eK(t){return(t.name="GraphQLError")?t.toString():`${t.name}: ${t.message};
 ${t.stack}`}function uIe(t,e){if(t===null)return"null";if(t instanceof Error)return t.name==="AggregateError"?eK(t)+`
`+tK(t.errors,e):eK(t);if(e.includes(t))return"[Circular]";let r=[...e,t];if(lIe(t)){let n=t.toJSON();if(n!==t)return typeof n=="string"?n:hI(n,r)}else if(Array.isArray(t))return tK(t,r);return fIe(t,r)}function lIe(t){return typeof t.toJSON=="function"}function fIe(t,e){let r=Object.entries(t);return r.length===0?"{}":e.length>3?"["+dIe(t)+"]":"{ "+r.map(([o,i])=>o+": "+hI(i,e)).join(", ")+" }"}function tK(t,e){if(t.length===0)return"[]";if(e.length>3)return"[Array]";let r=t.length,n=[];for(let o=0;o<r;++o)n.push(hI(t[o],e));return"["+n.join(", ")+"]"}function dIe(t){let e=Object.prototype.toString.call(t).replace(/^\[object /,"").replace(/]$/,"");if(e==="Object"&&typeof t.constructor=="function"){let r=t.constructor.name;if(typeof r=="string"&&r!=="")return r}return e}se();var pIe=["message","locations","path","nodes","source","positions","originalError","name","stack","extensions","coordinate"];function hIe(t){return t!=null&&typeof t=="object"&&Object.keys(t).every(e=>pIe.includes(e))}function If(t,e){e?.originalError&&!(e.originalError instanceof Error)&&hIe(e.originalError)&&(e.originalError=If(e.originalError.message,e.originalError));let r=D,n=eo.major>=16?new r(t,e):new r(t,e?.nodes,e?.source,e?.positions,e?.path,e?.originalError,e?.extensions);return e?.coordinate&&n.coordinate==null&&Object.defineProperties(n,{coordinate:{value:e.coordinate,enumerable:!0,configurable:!0}}),n}function $c(t,e,r){return If(t.message,{nodes:t.nodes,source:t.source,positions:t.positions,path:e??t.path,originalError:t,extensions:t.extensions,coordinate:r?`${r.parentType.name}.${r.fieldName}`:void 0})}var mI=Symbol.for("@whatwg-node/promise-helpers/FakePromise");function Xt(t){return t?.then!=null}function mIe(t){let e=t;return e&&e.then&&e.catch&&e.finally}function cr(t,e,r,n){let o=An().then(t).then(e,r);return n&&(o=o.finally(n)),bIe(o)}function An(t){return t&&mIe(t)?t:Xt(t)?{then:(e,r)=>An(t.then(e,r)),catch:e=>An(t.then(r=>r,e)),finally:e=>An(e?wIe(t,e):t),[Symbol.toStringTag]:"Promise"}:{then(e){if(e)try{return An(e(t))}catch(r){return rm(r)}return this},catch(){return this},finally(e){if(e)try{return An(e()).then(()=>t,()=>t)}catch(r){return rm(r)}return this},[Symbol.toStringTag]:"Promise",__fakePromiseValue:t,[mI]:"resolved"}}function qw(){if(Promise.withResolvers)return Promise.withResolvers();let t,e;return{promise:new Promise(function(o,i){t=o,e=i}),get resolve(){return t},get reject(){return e}}}function rm(t){return{then(e,r){if(r)try{return An(r(t))}catch(n){return rm(n)}return this},catch(e){if(e)try{return An(e(t))}catch(r){return rm(r)}return this},finally(e){if(e)try{e()}catch(r){return rm(r)}return this},__fakeRejectError:t,[Symbol.toStringTag]:"Promise",[mI]:"rejected"}}function Qw(t,e,r,n){Symbol.asyncIterator in t&&(t=t[Symbol.asyncIterator]());let o,i,s;if(n){let u;s=l=>(u||=cr(n,()=>l,()=>l),u)}typeof t.return=="function"&&(o=t.return,i=u=>{let l=()=>{throw u};return o.call(t).then(l,l)});function a(u){return u.done?s?s(u):u:cr(()=>u.value,l=>cr(()=>e(l),rK,i))}let c;if(r){let u,l=r;c=f=>(u||=cr(()=>f,d=>cr(()=>l(d),rK,i)),u)}return{next(){return t.next().then(a,c)},return(){let u=o?o.call(t).then(a,c):An({value:void 0,done:!0});return s?u.then(s):u},throw(u){return typeof t.throw=="function"?t.throw(u).then(a,c):i?i(u):rm(u)},[Symbol.asyncIterator](){return this}}}function rK(t){return{value:t,done:!1}}function yIe(t){return t?.[mI]==="resolved"}function gIe(t){return t?.[mI]==="rejected"}function wIe(t,e){return"finally"in t?t.finally(e):t.then(r=>{let n=e();return Xt(n)?n.then(()=>r):r},r=>{let n=e();if(Xt(n))return n.then(()=>{throw r});throw r})}function bIe(t){if(yIe(t))return t.__fakePromiseValue;if(gIe(t))throw t.__fakeRejectError;return t}function nK(t,e,r){let n=r;for(let o of t)n=cr(()=>n,i=>e(i,o));return n}function Vn(t){let e=new WeakMap;return function(n){let o=e.get(n);if(o===void 0){let i=t(n);return e.set(n,i),i}return o}}function fs(t){let e=new WeakMap;return function(n,o){let i=e.get(n);if(!i){i=new WeakMap,e.set(n,i);let a=t(n,o);return i.set(o,a),a}let s=i.get(o);if(s===void 0){let a=t(n,o);return i.set(o,a),a}return s}}function oK(t){let e=new WeakMap;return function(n,o,i){let s=e.get(n);if(!s){s=new WeakMap,e.set(n,s);let u=new WeakMap;s.set(o,u);let l=t(n,o,i);return u.set(i,l),l}let a=s.get(o);if(!a){a=new WeakMap,s.set(o,a);let u=t(n,o,i);return a.set(i,u),u}let c=a.get(i);if(c===void 0){let u=t(n,o,i);return a.set(i,u),u}return c}}function iK(t){let e=new WeakMap;return function(n,o,i,s,a){let c=e.get(n);if(!c){c=new WeakMap,e.set(n,c);let p=new WeakMap;c.set(o,p);let h=new WeakMap;p.set(i,h);let m=new WeakMap;h.set(s,m);let g=t(n,o,i,s,a);return m.set(a,g),g}let u=c.get(o);if(!u){u=new WeakMap,c.set(o,u);let p=new WeakMap;u.set(i,p);let h=new WeakMap;p.set(s,h);let m=t(n,o,i,s,a);return h.set(a,m),m}let l=u.get(i);if(!l){l=new WeakMap,u.set(i,l);let p=new WeakMap;l.set(s,p);let h=t(n,o,i,s,a);return p.set(a,h),h}let f=l.get(s);if(!f){f=new WeakMap,l.set(s,f);let p=t(n,o,i,s,a);return f.set(a,p),p}let d=f.get(a);if(d===void 0){let p=t(n,o,i,s,a);return f.set(a,p),p}return d}}function sK(t){let e=new WeakMap;return function(n,o,i,s){let a=e.get(n);if(!a){a=new WeakMap,e.set(n,a);let u=t(n,o,i,s);return a.set(o,u),u}let c=a.get(o);if(c===void 0){let u=t(n,o,i,s);return a.set(o,u),u}return c}}function $u(t,e){let r=e.getTypeMap(),n=[];for(let o in r){let i=r[o];"getInterfaces"in i&&i.getInterfaces().find(a=>a.name===t)&&n.push(i.name)}return n}se();function yI(t){if(Y(t)){let e=yI(t.ofType);if(e.kind===y.NON_NULL_TYPE)throw new Error(`Invalid type node ${Dt(t)}. Inner type of non-null type cannot be a non-null type.`);return{kind:y.NON_NULL_TYPE,type:e}}else if(Ie(t))return{kind:y.LIST_TYPE,type:yI(t.ofType)};return{kind:y.NAMED_TYPE,name:{kind:y.NAME,value:t.name}}}function nm(t,e,r){let o=om(t).get(e);if(o==null)throw If(`Schema is not configured to execute ${e} operation.`,{nodes:r});return o}var gI=Vn(function(e){let r=qP(e);return new Set([...r].map(n=>n.name))}),qP=Vn(function(e){let r=om(e);return new Set(r.values())}),om=Vn(function(e){let r=new Map,n=e.getQueryType();n&&r.set("query",n);let o=e.getMutationType();o&&r.set("mutation",o);let i=e.getSubscriptionType();return i&&r.set("subscription",i),r});se();var EIe=80,aK={};function vIe(t){return`
# `+t.replace(/\n/g,`
# `)}function De(t,e){return t?t.filter(r=>r).join(e||""):""}function cK(t){return t?.some(e=>e.includes(`
`))??!1}function TIe(t){return(e,r,n,o,i)=>{let s=[],a=o.reduce((l,f)=>(["fields","arguments","values"].includes(f)&&l.name&&s.push(l.name.value),l[f]),i[0]),c=[...s,a?.name?.value].filter(Boolean).join("."),u=[];return e.kind.includes("Definition")&&aK[c]&&u.push(...aK[c]),De([...u.map(vIe),e.description,t(e,r,n,o,i)],`
`)}}function Jw(t){return t&&`  ${t.replace(/\n/g,`
  `)}`}function zs(t){return t&&t.length!==0?`{
${Jw(De(t,`
`))}
}`:""}function Or(t,e,r){return e?t+e+(r||""):""}function xIe(t,e=!1){let r=t.replace(/\\/g,"\\\\").replace(/"""/g,'\\"""');return(t[0]===" "||t[0]==="	")&&t.indexOf(`
`)===-1?`"""${r.replace(/"$/,`"
`)}"""`:`"""
${e?r:Jw(r)}
"""`}var uK={Name:{leave:t=>t.value},Variable:{leave:t=>"$"+t.name},Document:{leave:t=>De(t.definitions,`

`)},OperationDefinition:{leave:t=>{let e=Or("(",De(t.variableDefinitions,", "),")");return De([t.operation,De([t.name,e]),De(t.directives," ")]," ")+" "+t.selectionSet}},VariableDefinition:{leave:({variable:t,type:e,defaultValue:r,directives:n})=>t+": "+e+Or(" = ",r)+Or(" ",De(n," "))},SelectionSet:{leave:({selections:t})=>zs(t)},Field:{leave({alias:t,name:e,arguments:r,directives:n,selectionSet:o}){let i=Or("",t,": ")+e,s=i+Or("(",De(r,", "),")");return s.length>EIe&&(s=i+Or(`(
`,Jw(De(r,`
`)),`
)`)),De([s,De(n," "),o]," ")}},Argument:{leave:({name:t,value:e})=>t+": "+e},FragmentSpread:{leave:({name:t,directives:e})=>"..."+t+Or(" ",De(e," "))},InlineFragment:{leave:({typeCondition:t,directives:e,selectionSet:r})=>De(["...",Or("on ",t),De(e," "),r]," ")},FragmentDefinition:{leave:({name:t,typeCondition:e,variableDefinitions:r,directives:n,selectionSet:o})=>`fragment ${t}${Or("(",De(r,", "),")")} on ${e} ${Or("",De(n," ")," ")}`+o},IntValue:{leave:({value:t})=>t},FloatValue:{leave:({value:t})=>t},StringValue:{leave:({value:t,block:e})=>e?xIe(t):JSON.stringify(t)},BooleanValue:{leave:({value:t})=>t?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:t})=>t},ListValue:{leave:({values:t})=>"["+De(t,", ")+"]"},ObjectValue:{leave:({fields:t})=>"{"+De(t,", ")+"}"},ObjectField:{leave:({name:t,value:e})=>t+": "+e},Directive:{leave:({name:t,arguments:e})=>"@"+t+Or("(",De(e,", "),")")},NamedType:{leave:({name:t})=>t},ListType:{leave:({type:t})=>"["+t+"]"},NonNullType:{leave:({type:t})=>t+"!"},SchemaDefinition:{leave:({directives:t,operationTypes:e})=>De(["schema",De(t," "),zs(e)]," ")},OperationTypeDefinition:{leave:({operation:t,type:e})=>t+": "+e},ScalarTypeDefinition:{leave:({name:t,directives:e})=>De(["scalar",t,De(e," ")]," ")},ObjectTypeDefinition:{leave:({name:t,interfaces:e,directives:r,fields:n})=>De(["type",t,Or("implements ",De(e," & ")),De(r," "),zs(n)]," ")},FieldDefinition:{leave:({name:t,arguments:e,type:r,directives:n})=>t+(cK(e)?Or(`(
`,Jw(De(e,`
`)),`
)`):Or("(",De(e,", "),")"))+": "+r+Or(" ",De(n," "))},InputValueDefinition:{leave:({name:t,type:e,defaultValue:r,directives:n})=>De([t+": "+e,Or("= ",r),De(n," ")]," ")},InterfaceTypeDefinition:{leave:({name:t,interfaces:e,directives:r,fields:n})=>De(["interface",t,Or("implements ",De(e," & ")),De(r," "),zs(n)]," ")},UnionTypeDefinition:{leave:({name:t,directives:e,types:r})=>De(["union",t,De(e," "),Or("= ",De(r," | "))]," ")},EnumTypeDefinition:{leave:({name:t,directives:e,values:r})=>De(["enum",t,De(e," "),zs(r)]," ")},EnumValueDefinition:{leave:({name:t,directives:e})=>De([t,De(e," ")]," ")},InputObjectTypeDefinition:{leave:({name:t,directives:e,fields:r})=>De(["input",t,De(e," "),zs(r)]," ")},DirectiveDefinition:{leave:({name:t,arguments:e,repeatable:r,locations:n})=>"directive @"+t+(cK(e)?Or(`(
`,Jw(De(e,`
`)),`
)`):Or("(",De(e,", "),")"))+(r?" repeatable":"")+" on "+De(n," | ")},SchemaExtension:{leave:({directives:t,operationTypes:e})=>De(["extend schema",De(t," "),zs(e)]," ")},ScalarTypeExtension:{leave:({name:t,directives:e})=>De(["extend scalar",t,De(e," ")]," ")},ObjectTypeExtension:{leave:({name:t,interfaces:e,directives:r,fields:n})=>De(["extend type",t,Or("implements ",De(e," & ")),De(r," "),zs(n)]," ")},InterfaceTypeExtension:{leave:({name:t,interfaces:e,directives:r,fields:n})=>De(["extend interface",t,Or("implements ",De(e," & ")),De(r," "),zs(n)]," ")},UnionTypeExtension:{leave:({name:t,directives:e,types:r})=>De(["extend union",t,De(e," "),Or("= ",De(r," | "))]," ")},EnumTypeExtension:{leave:({name:t,directives:e,values:r})=>De(["extend enum",t,De(e," "),zs(r)]," ")},InputObjectTypeExtension:{leave:({name:t,directives:e,fields:r})=>De(["extend input",t,De(e," "),zs(r)]," ")}},_ut=Object.keys(uK).reduce((t,e)=>S(b({},t),{[e]:{leave:TIe(uK[e].leave)}}),{});function Va(t,e){if(t.description!=null)return t.description.value;if(e?.commentDescriptions)return AIe(t)}function AIe(t){let e=IIe(t);if(e!==void 0)return SIe(`
${e}`)}function IIe(t){let e=t.loc;if(!e)return;let r=[],n=e.startToken.prev;for(;n!=null&&n.kind===F.COMMENT&&n.next!=null&&n.prev!=null&&n.line+1===n.next.line&&n.line!==n.prev.line;){let o=String(n.value);r.push(o),n=n.prev}return r.length>0?r.reverse().join(`
`):void 0}function SIe(t){let e=t.split(/\r\n|[\n\r]/g),r=NIe(e);if(r!==0)for(let n=1;n<e.length;n++)e[n]=e[n].slice(r);for(;e.length>0&&lK(e[0]);)e.shift();for(;e.length>0&&lK(e[e.length-1]);)e.pop();return e.join(`
`)}function NIe(t){let e=null;for(let r=1;r<t.length;r++){let n=t[r],o=fK(n);if(o!==n.length&&(e===null||o<e)&&(e=o,e===0))break}return e===null?0:e}function fK(t){let e=0;for(;e<t.length&&(t[e]===" "||t[e]==="	");)e++;return e}function lK(t){return fK(t)===t.length}se();var Le=(function(t){return t.TYPE="MapperKind.TYPE",t.SCALAR_TYPE="MapperKind.SCALAR_TYPE",t.ENUM_TYPE="MapperKind.ENUM_TYPE",t.COMPOSITE_TYPE="MapperKind.COMPOSITE_TYPE",t.OBJECT_TYPE="MapperKind.OBJECT_TYPE",t.INPUT_OBJECT_TYPE="MapperKind.INPUT_OBJECT_TYPE",t.ABSTRACT_TYPE="MapperKind.ABSTRACT_TYPE",t.UNION_TYPE="MapperKind.UNION_TYPE",t.INTERFACE_TYPE="MapperKind.INTERFACE_TYPE",t.ROOT_OBJECT="MapperKind.ROOT_OBJECT",t.QUERY="MapperKind.QUERY",t.MUTATION="MapperKind.MUTATION",t.SUBSCRIPTION="MapperKind.SUBSCRIPTION",t.DIRECTIVE="MapperKind.DIRECTIVE",t.FIELD="MapperKind.FIELD",t.COMPOSITE_FIELD="MapperKind.COMPOSITE_FIELD",t.OBJECT_FIELD="MapperKind.OBJECT_FIELD",t.ROOT_FIELD="MapperKind.ROOT_FIELD",t.QUERY_ROOT_FIELD="MapperKind.QUERY_ROOT_FIELD",t.MUTATION_ROOT_FIELD="MapperKind.MUTATION_ROOT_FIELD",t.SUBSCRIPTION_ROOT_FIELD="MapperKind.SUBSCRIPTION_ROOT_FIELD",t.INTERFACE_FIELD="MapperKind.INTERFACE_FIELD",t.INPUT_OBJECT_FIELD="MapperKind.INPUT_OBJECT_FIELD",t.ARGUMENT="MapperKind.ARGUMENT",t.ENUM_VALUE="MapperKind.ENUM_VALUE",t})(Le||{});se();se();function Sf(t,e){if(e){let r=t[e.name];if(K(r))return r}}se();se();function im(t,e){let r;return e==="object"?r=Qe:e==="interface"?r=dt:r=Ye,new r({name:t,fields:{_fake:{type:it}}})}function Hw(t,e){switch(t.kind){case y.LIST_TYPE:return new je(Hw(t.type,e));case y.NON_NULL_TYPE:return new J(Hw(t.type,e));default:return e==="output"?im(t.name.value,"object"):im(t.name.value,"input")}}function dK(t){if("getFields"in t){let e=t.getFields();for(let r in e)return e[r].name==="_fake"}return!1}function pK(t){switch(t.name){case $r.name:return $r;case Po.name:return Po;case it.name:return it;case at.name:return at;case Er.name:return Er;default:return t}}function wI(t,e){let r=Object.create(null);for(let d in t)r[d]=t[d];let n=Object.create(null);for(let d in r){let p=r[d];if(p==null||d.startsWith("__"))continue;let h=p.name;if(!h.startsWith("__")){if(n[h]!=null){console.warn(`Duplicate schema type name ${h} found; keeping the existing one found in the schema`);continue}n[h]=p}}for(let d in n)n[d]=a(n[d]);let o=e.map(d=>i(d));return{typeMap:n,directives:o};function i(d){if(os(d))return d;let p=d.toConfig();return p.args=s(p.args),new zt(p)}function s(d){let p={};for(let h in d){let m=d[h],g=f(m.type);g!=null&&(m.type=g,p[h]=m)}return p}function a(d){if(K(d)){let p=d.toConfig(),h=S(b({},p),{fields:()=>c(p.fields),interfaces:()=>l(p.interfaces)});return new Qe(h)}else if(Z(d)){let p=d.toConfig(),h=S(b({},p),{fields:()=>c(p.fields)});return"interfaces"in h&&(h.interfaces=()=>l(p.interfaces)),new dt(h)}else if(Ue(d)){let p=d.toConfig(),h=S(b({},p),{types:()=>l(p.types)});return new Tr(h)}else if(pe(d)){let p=d.toConfig(),h=S(b({},p),{fields:()=>u(p.fields)});return new Ye(h)}else if(Pe(d)){let p=d.toConfig();return new Nt(p)}else if(lt(d)){if(Kr(d))return d;let p=d.toConfig();return new Ce(p)}throw new Error(`Unexpected schema type: ${d}`)}function c(d){let p={};for(let h in d){let m=d[h],g=f(m.type);g!=null&&m.args&&(m.type=g,m.args=s(m.args),p[h]=m)}return p}function u(d){let p={};for(let h in d){let m=d[h],g=f(m.type);g!=null&&(m.type=g,p[h]=m)}return p}function l(d){let p=[];for(let h of d){let m=f(h);m!=null&&p.push(m)}return p}function f(d){if(Ie(d)){let p=f(d.ofType);return p!=null?new je(p):null}else if(Y(d)){let p=f(d.ofType);return p!=null?new J(p):null}else if(Mr(d)){let p=r[d.name];return p===void 0&&(p=dK(d)?pK(d):a(d),n[p.name]=r[d.name]=p),p!=null?n[p.name]:null}return null}}se();function Kw(t,e,r=null,n=null){if(e==null)return e;let o=ln(t);if(tt(o))return r!=null?r(o,e):e;if(Ie(o))return ZH(e).map(i=>Kw(o.ofType,i,r,n));if(pe(o)){let i=o.getFields(),s={};for(let a in e){let c=i[a];c!=null&&(s[a]=Kw(c.type,e[a],r,n))}return n!=null?n(o,s):s}}function sm(t,e){return Kw(t,e,(r,n)=>{try{return r.serialize(n)}catch{return n}})}function hK(t,e){return Kw(t,e,(r,n)=>{try{return r.parseValue(n)}catch{return n}})}function am(t,e={}){let r=gK(yK(QP(mK(DIe(QP(mK(t.getTypeMap(),t,sm),t,e,a=>tt(a)),t,e),t,hK),t,e,a=>!tt(a)),t,e),t,e),n=t.getDirectives(),o=OIe(n,t,e),{typeMap:i,directives:s}=wI(r,o);return new _r(S(b({},t.toConfig()),{query:Sf(i,Sf(r,t.getQueryType())),mutation:Sf(i,Sf(r,t.getMutationType())),subscription:Sf(i,Sf(r,t.getSubscriptionType())),types:Object.values(i),directives:s}))}var _Ie=["String","ID","Int","Float","Boolean"];function QP(t,e,r,n=()=>!0){let o={};for(let i in t)if(!i.startsWith("__")&&!_Ie.includes(i)){let s=t[i];if(s==null||!n(s)){o[i]=s;continue}let a=RIe(e,r,i);if(a==null){o[i]=s;continue}let c=a(s,e);if(c===void 0){o[i]=s;continue}o[i]=c}return o}function DIe(t,e,r){let n=UIe(r);return n?QP(t,e,{[Le.ENUM_TYPE]:o=>{let i=o.toConfig(),s=i.values,a={};for(let c in s){let u=s[c],l=n(u,o.name,e,c);if(l===void 0)a[c]=u;else if(Array.isArray(l)){let[f,d]=l;a[f]=d===void 0?u:d}else l!==null&&(a[c]=l)}return bI(new Nt(S(b({},i),{values:a})))}},o=>Pe(o)):t}function mK(t,e,r){let n=gK(t,e,{[Le.ARGUMENT]:o=>{if(o.defaultValue===void 0)return o;let i=EI(t,o.type);if(i!=null)return S(b({},o),{defaultValue:r(i,o.defaultValue)})}});return yK(n,e,{[Le.INPUT_OBJECT_FIELD]:o=>{if(o.defaultValue===void 0)return o;let i=EI(n,o.type);if(i!=null)return S(b({},o),{defaultValue:r(i,o.defaultValue)})}})}function EI(t,e){if(Ie(e)){let r=EI(t,e.ofType);return r!=null?new je(r):null}else if(Y(e)){let r=EI(t,e.ofType);return r!=null?new J(r):null}else if(Mr(e)){let r=t[e.name];return r??null}return null}function yK(t,e,r){let n={};for(let o in t)if(!o.startsWith("__")){let i=t[o];if(!K(i)&&!Z(i)&&!pe(i)){n[o]=i;continue}let s=PIe(e,r,o);if(s==null){n[o]=i;continue}let a=i.toConfig(),c=a.fields,u={};for(let l in c){let f=c[l],d=s(f,l,o,e);if(d===void 0)u[l]=f;else if(Array.isArray(d)){let[p,h]=d;h.astNode!=null&&(h.astNode=S(b({},h.astNode),{name:S(b({},h.astNode.name),{value:p})})),u[p]=h===void 0?f:h}else d!==null&&(u[l]=d)}K(i)?n[o]=bI(new Qe(S(b({},a),{fields:u}))):Z(i)?n[o]=bI(new dt(S(b({},a),{fields:u}))):n[o]=bI(new Ye(S(b({},a),{fields:u})))}return n}function gK(t,e,r){let n={};for(let o in t)if(!o.startsWith("__")){let i=t[o];if(!K(i)&&!Z(i)){n[o]=i;continue}let s=LIe(r);if(s==null){n[o]=i;continue}let a=i.toConfig(),c=a.fields,u={};for(let l in c){let f=c[l],d=f.args;if(d==null){u[l]=f;continue}let p=Object.keys(d);if(!p.length){u[l]=f;continue}let h={};for(let m of p){let g=d[m],w=s(g,l,o,e);if(w===void 0)h[m]=g;else if(Array.isArray(w)){let[T,v]=w;h[T]=v}else w!==null&&(h[m]=w)}u[l]=S(b({},f),{args:h})}K(i)?n[o]=new Qe(S(b({},a),{fields:u})):Z(i)?n[o]=new dt(S(b({},a),{fields:u})):n[o]=new Ye(S(b({},a),{fields:u}))}return n}function OIe(t,e,r){let n=FIe(r);if(n==null)return t.slice();let o=[];for(let i of t){let s=n(i,e);s===void 0?o.push(i):s!==null&&o.push(s)}return o}function CIe(t,e){let r=t.getType(e),n=[Le.TYPE];return K(r)?(n.push(Le.COMPOSITE_TYPE,Le.OBJECT_TYPE),e===t.getQueryType()?.name?n.push(Le.ROOT_OBJECT,Le.QUERY):e===t.getMutationType()?.name?n.push(Le.ROOT_OBJECT,Le.MUTATION):e===t.getSubscriptionType()?.name&&n.push(Le.ROOT_OBJECT,Le.SUBSCRIPTION)):pe(r)?n.push(Le.INPUT_OBJECT_TYPE):Z(r)?n.push(Le.COMPOSITE_TYPE,Le.ABSTRACT_TYPE,Le.INTERFACE_TYPE):Ue(r)?n.push(Le.COMPOSITE_TYPE,Le.ABSTRACT_TYPE,Le.UNION_TYPE):Pe(r)?n.push(Le.ENUM_TYPE):lt(r)&&n.push(Le.SCALAR_TYPE),n}function RIe(t,e,r){let n=CIe(t,r),o,i=[...n];for(;!o&&i.length>0;){let s=i.pop();o=e[s]}return o??null}function kIe(t,e){let r=t.getType(e),n=[Le.FIELD];return K(r)?(n.push(Le.COMPOSITE_FIELD,Le.OBJECT_FIELD),e===t.getQueryType()?.name?n.push(Le.ROOT_FIELD,Le.QUERY_ROOT_FIELD):e===t.getMutationType()?.name?n.push(Le.ROOT_FIELD,Le.MUTATION_ROOT_FIELD):e===t.getSubscriptionType()?.name&&n.push(Le.ROOT_FIELD,Le.SUBSCRIPTION_ROOT_FIELD)):Z(r)?n.push(Le.COMPOSITE_FIELD,Le.INTERFACE_FIELD):pe(r)&&n.push(Le.INPUT_OBJECT_FIELD),n}function PIe(t,e,r){let n=kIe(t,r),o,i=[...n];for(;!o&&i.length>0;){let s=i.pop();o=e[s]}return o??null}function LIe(t){let e=t[Le.ARGUMENT];return e??null}function FIe(t){let e=t[Le.DIRECTIVE];return e??null}function UIe(t){let e=t[Le.ENUM_VALUE];return e??null}function bI(t){if(K(t)){let e=t.toConfig();if(e.astNode!=null){let r=[];for(let n in e.fields){let o=e.fields[n];o.astNode!=null&&r.push(o.astNode)}e.astNode=S(b({},e.astNode),{kind:y.OBJECT_TYPE_DEFINITION,fields:r})}return e.extensionASTNodes!=null&&(e.extensionASTNodes=e.extensionASTNodes.map(r=>S(b({},r),{kind:y.OBJECT_TYPE_EXTENSION,fields:void 0}))),new Qe(e)}else if(Z(t)){let e=t.toConfig();if(e.astNode!=null){let r=[];for(let n in e.fields){let o=e.fields[n];o.astNode!=null&&r.push(o.astNode)}e.astNode=S(b({},e.astNode),{kind:y.INTERFACE_TYPE_DEFINITION,fields:r})}return e.extensionASTNodes!=null&&(e.extensionASTNodes=e.extensionASTNodes.map(r=>S(b({},r),{kind:y.INTERFACE_TYPE_EXTENSION,fields:void 0}))),new dt(e)}else if(pe(t)){let e=t.toConfig();if(e.astNode!=null){let r=[];for(let n in e.fields){let o=e.fields[n];o.astNode!=null&&r.push(o.astNode)}e.astNode=S(b({},e.astNode),{kind:y.INPUT_OBJECT_TYPE_DEFINITION,fields:r})}return e.extensionASTNodes!=null&&(e.extensionASTNodes=e.extensionASTNodes.map(r=>S(b({},r),{kind:y.INPUT_OBJECT_TYPE_EXTENSION,fields:void 0}))),new Ye(e)}else if(Pe(t)){let e=t.toConfig();if(e.astNode!=null){let r=[];for(let n in e.values){let o=e.values[n];o.astNode!=null&&r.push(o.astNode)}e.astNode=S(b({},e.astNode),{values:r})}return e.extensionASTNodes!=null&&(e.extensionASTNodes=e.extensionASTNodes.map(r=>S(b({},r),{values:void 0}))),new Nt(e)}else return t}function KP({schema:t,typeFilter:e=()=>!0,fieldFilter:r=void 0,rootFieldFilter:n=void 0,objectFieldFilter:o=void 0,interfaceFieldFilter:i=void 0,inputObjectFieldFilter:s=void 0,argumentFilter:a=void 0,directiveFilter:c=void 0,enumValueFilter:u=void 0}){return am(t,{[Le.QUERY]:f=>JP(f,"Query",n,a),[Le.MUTATION]:f=>JP(f,"Mutation",n,a),[Le.SUBSCRIPTION]:f=>JP(f,"Subscription",n,a),[Le.OBJECT_TYPE]:f=>e(f.name,f)?HP(Qe,f,o||r,a):null,[Le.INTERFACE_TYPE]:f=>e(f.name,f)?HP(dt,f,i||r,a):null,[Le.INPUT_OBJECT_TYPE]:f=>e(f.name,f)?HP(Ye,f,s||r):null,[Le.UNION_TYPE]:f=>e(f.name,f)?void 0:null,[Le.ENUM_TYPE]:f=>e(f.name,f)?void 0:null,[Le.SCALAR_TYPE]:f=>e(f.name,f)?void 0:null,[Le.DIRECTIVE]:f=>c&&!c(f.name,f)?null:void 0,[Le.ENUM_VALUE]:(f,d,p,h)=>u&&!u(d,h,f)?null:void 0})}function JP(t,e,r,n){if(r||n){let o=t.toConfig();for(let i in o.fields){let s=o.fields[i];if(r&&!r(e,i,o.fields[i]))delete o.fields[i];else if(n&&s.args)for(let a in s.args)n(t.name,i,a,s.args[a])||delete s.args[a]}return new Qe(o)}return t}function HP(t,e,r,n){if(r||n){let o=e.toConfig();for(let i in o.fields){let s=o.fields[i];if(r&&!r(e.name,i,o.fields[i]))delete o.fields[i];else if(n&&"args"in s)for(let a in s.args)n(e.name,i,a,s.args[a])||delete s.args[a]}return new t(o)}}function Vu(t,e=!1,r=!1,n=!1){if(t.length===0)return;if(t.length===1)return t[0];let o,i=!0,s=t.every(u=>{if(Array.isArray(u)){if(o===void 0)return o=u.length,!0;if(o===u.length)return!0}else i=!1;return!1});if(n&&s)return new Array(o).fill(null).map((u,l)=>Vu(t.map(f=>f[l]),e,r,n));if(i)return t.flat(1);let a,c;e&&(c=t.find(u=>wK(u)),c&&(a==null&&(a={}),Object.setPrototypeOf(a,Object.create(Object.getPrototypeOf(c)))));for(let u of t)if(u!=null)if(wK(u)){if(c){let l=Object.getPrototypeOf(a),f=Object.getPrototypeOf(u);if(f)for(let d of Object.getOwnPropertyNames(f)){let p=Object.getOwnPropertyDescriptor(f,d);pI(p)&&Object.defineProperty(l,d,p)}}for(let l in u)a==null&&(a={}),l in a?a[l]=Vu([a[l],u[l]],e,r,n):a[l]=u[l]}else Array.isArray(u)&&Array.isArray(a)?a=Vu([a,u],e,r,n):a=u;return a}function wK(t){return t&&typeof t=="object"&&!Array.isArray(t)}se();function ja(t,e){return no(t,e).definitions[0].selectionSet}function Ww(t){return t.fieldNodes[0].alias!=null?t.fieldNodes[0].alias.value:t.fieldName}se();function Yw(t,e,r){return r==null||e==null?!1:e===r?!0:Ar(e)&&Ar(r)?Fu(t,e,r):!1}se();var Nf=class extends Map{get[Symbol.toStringTag](){return"AccumulatorMap"}add(e,r){let n=this.get(e);n===void 0?this.set(e,[r]):n.push(r)}};se();var bK=new zt({name:"defer",description:"Directs the executor to defer this fragment when the `if` argument is true or undefined.",locations:[xe.FRAGMENT_SPREAD,xe.INLINE_FRAGMENT],args:{if:{type:new J(at),description:"Deferred when true or undefined.",defaultValue:!0},label:{type:it,description:"Unique name"}}}),ult=new zt({name:"stream",description:"Directs the executor to stream plural fields when the `if` argument is true or undefined.",locations:[xe.FIELD],args:{if:{type:new J(at),description:"Stream when true or undefined.",defaultValue:!0},label:{type:it,description:"Unique name"},initialCount:{defaultValue:0,type:$r,description:"Number of items to return immediately"}}});function cm(t,e,r,n,o,i,s,a){for(let c of o.selections)switch(c.kind){case y.FIELD:{if(!WP(r,c))continue;i.add(BIe(c),c);break}case y.INLINE_FRAGMENT:{if(!WP(r,c)||!EK(t,c,n))continue;let u=vK(r,c);if(u){let l=new Nf;cm(t,e,r,n,c.selectionSet,l,s,a),s.push({label:u.label,fields:l})}else cm(t,e,r,n,c.selectionSet,i,s,a);break}case y.FRAGMENT_SPREAD:{let u=c.name.value;if(!WP(r,c))continue;let l=vK(r,c);if(a.has(u)&&!l)continue;let f=e[u];if(!f||!EK(t,f,n))continue;if(l||a.add(u),l){let d=new Nf;cm(t,e,r,n,f.selectionSet,d,s,a),s.push({label:l.label,fields:d})}else cm(t,e,r,n,f.selectionSet,i,s,a);break}}}function ju(t,e,r,n,o){let i=new Nf,s=[];return cm(t,e,r,n,o,i,s,new Set),{fields:i,patches:s}}function WP(t,e){return!(Vr(Fa,e,t)?.if===!0||Vr(La,e,t)?.if===!1)}function EK(t,e,r){let n=e.typeCondition;if(!n)return!0;let o=kt(t,n);return o===r?!0:st(o)?t.getPossibleTypes(o).includes(r):!1}function BIe(t){return t.alias?t.alias.value:t.name.value}function vK(t,e){let r=Vr(bK,e,t);if(r&&r.if!==!1)return{label:typeof r.label=="string"?r.label:void 0}}var YP=iK(function(e,r,n,o,i){let s=new Nf,a=new Set,c=[],u={fields:s,patches:c};for(let l of i)l.selectionSet&&cm(e,r,n,o,l.selectionSet,s,c,a);return u});se();function MIe(t,e){let r=vf(t,e);if(!r)throw new Error(`Cannot infer operation ${e||""}`);return r}var _f=Vn(function(e){return MIe(e.document,e.operationName)});function vI(t,e,r){if(Array.isArray(t))return t.map(n=>vI(n,e,r));if(typeof t=="object"){let n=e!=null?e(t):t;if(n!=null)for(let o in n){let i=n[o];Object.defineProperty(n,o,{value:vI(i,e,r)})}return r!=null?r(n):n}return t}function XP(t){return t?.[Symbol.asyncIterator]!=null}function TK(t){let e=[],r=t;for(;r;)e.push(r.key),r=r.prev;return e.reverse()}var ZP=Rr(FA(),1);se();function $Ie(t){return`_v${t}_`}function IK(t){let e=/^_v(\d+)_(.*)$/.exec(t);return e&&e.length===3&&!isNaN(Number(e[1]))&&e[2]?{index:Number(e[1]),originalKey:e[2]}:null}function VIe(t){let e=IK(t);if(!e)throw new Error(`Key ${t} is not correctly prefixed`);return e}function jIe(t){let e=0,r=null;for(;!r&&e<t.length;e++){let n=t[e];typeof n=="string"&&(r=IK(n))}if(!r)throw new Error(`Path ${t.join(".")} does not contain correctly prefixed key`);return S(b({},r),{keyOffset:e})}function GIe(t,e){let r=Object.create(null),n=[],o=[],i=[],s=Object.create(null);for(let f=0;f<t.length;f++){let d=t[f];if(d){let p=zIe($Ie(f),d);for(let h of p.document.definitions)NK(h)&&(o.push(...h.selectionSet.selections),h.variableDefinitions&&n.push(...h.variableDefinitions)),TI(h)&&i.push(h);Object.assign(r,p.variables),s=e(s,d)}}let a=t[0];if(!a)throw new Error("At least one request is required");let c=a.operationType??_f(a).operation,u={kind:y.OPERATION_DEFINITION,operation:c,variableDefinitions:n,selectionSet:{kind:y.SELECTION_SET,selections:o}},l=a.operationName??a.info?.operation?.name?.value;return l&&(u.name={kind:y.NAME,value:l}),{document:{kind:y.DOCUMENT,definitions:[u,...i]},variables:r,extensions:s,context:a.context,info:a.info,operationType:c,rootValue:a.rootValue}}function zIe(t,e){function r(u){return AK(u,t)}let n=qIe(t,e.document),o=!1;for(let u of n.definitions)if(TI(u)||NK(u)&&u.variableDefinitions?.length){o=!0;break}let i={},s=!1;o&&(n=or(n,{[y.VARIABLE]:r,[y.FRAGMENT_DEFINITION](u){return s=!0,r(u)},[y.FRAGMENT_SPREAD]:u=>(u=AK(u,t),i[u.name.value]=!0,u)}));let a,c=e.variables;if(c){a=Object.create(null);for(let u in c)a[t+u]=c[u]}return s&&(n=S(b({},n),{definitions:n.definitions.filter(u=>!TI(u)||i[u.name.value])})),{document:n,variables:a}}function qIe(t,e){let r={[y.OPERATION_DEFINITION]:n=>{let{selections:o}=n.selectionSet;return S(b({},n),{selectionSet:S(b({},n.selectionSet),{selections:SK(t,o,e)})})}};return or(e,r,{[y.DOCUMENT]:["definitions"]})}function SK(t,e,r){return e.map(n=>{switch(n.kind){case y.INLINE_FRAGMENT:return xK(t,n,r);case y.FRAGMENT_SPREAD:{let o=QIe(n,r);return xK(t,o,r)}case y.FIELD:default:return JIe(n,t)}})}function xK(t,e,r){let{selections:n}=e.selectionSet;return S(b({},e),{selectionSet:S(b({},e.selectionSet),{selections:SK(t,n,r)})})}function QIe(t,e){let r=e.definitions.find(i=>TI(i)&&i.name.value===t.name.value);if(!r)throw new Error(`Fragment ${t.name.value} does not exist`);let{typeCondition:n,selectionSet:o}=r;return{kind:y.INLINE_FRAGMENT,typeCondition:n,selectionSet:o,directives:t.directives}}function AK(t,e){return S(b({},t),{name:S(b({},t.name),{value:e+t.name.value})})}function JIe(t,e){let r=t.alias?t.alias:t.name;return S(b({},t),{alias:S(b({},r),{value:e+r.value})})}function NK(t){return t.kind===y.OPERATION_DEFINITION}function TI(t){return t.kind===y.FRAGMENT_DEFINITION}function HIe({data:t,errors:e},r){let n=new Array(r);if(t)for(let o in t){let{index:i,originalKey:s}=VIe(o),a=n[i];a==null?n[i]={data:{[s]:t[o]}}:a.data==null?a.data={[s]:t[o]}:a.data[s]=t[o]}if(e)for(let o of e)if(o.path){let{index:i,originalKey:s,keyOffset:a}=jIe(o.path),c=$c(o,[s,...o.path.slice(a)]),u=n[i];if(u==null){n[i]={errors:[c]};continue}else if(u.errors==null){u.errors=[c];continue}else u.errors.push(c)}else for(let i=0;i<r;i++){let s=n[i];if(s==null){n[i]={errors:[o]};continue}else if(s.errors==null){s.errors=[o];continue}else s.errors.push(o)}return n}function eL(t,e,r=WIe){let n=KIe(t,r),o=new ZP.default(n,e),i=new ZP.default(n,e);return function(a){let c=a.operationType??_f(a)?.operation;switch(c){case"query":return o.load(a);case"mutation":return i.load(a);case"subscription":return t(a);default:throw new Error(`Invalid operation type "${c}"`)}}}function KIe(t,e){return function(n){if(n.length===1&&n[0]){let i=n[0];return An().then(()=>t(i)).catch(s=>s).then(s=>[s])}let o=GIe(n,e);return An().then(()=>t(o)).then(i=>HIe(i,n.length)).catch(i=>n.map(()=>i))}}function WIe(t,e){let r=e.extensions;return r!=null&&Object.assign(t,r),t}var _K=sK(function(e,r,n,o){return eL(r,n,o)});se();se();se();se();var YIe=["message","locations","path","nodes","source","positions","originalError","name","stack","extensions","coordinate"];function XIe(t){return t!=null&&typeof t=="object"&&Object.keys(t).every(e=>YIe.includes(e))}function qt(t,e){e?.originalError&&!(e.originalError instanceof Error)&&XIe(e.originalError)&&(e.originalError=qt(e.originalError.message,e.originalError));let r=D,n=eo.major>=16?new r(t,e):new r(t,e?.nodes,e?.source,e?.positions,e?.path,e?.originalError,e?.extensions);return e?.coordinate&&n.coordinate==null&&Object.defineProperties(n,{coordinate:{value:e.coordinate,enumerable:!0,configurable:!0}}),n}function Eo(t,e,r,n){let o=xn(t,e,r);if(!o.coordinate&&n&&o.coordinate==null){let i=`${n.parentType.name}.${n.fieldName}`;Object.defineProperties(o,{coordinate:{value:i,enumerable:!0,configurable:!0}})}return o}function DK(t){return t!=null&&typeof t=="object"&&Symbol.iterator in t}function tL(t){return typeof t=="object"&&t!==null}function OK(t,e,r){let n=r;for(let o of t)n=cr(()=>n,i=>e(i,o));return n}function xI(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function rL(t,e,r={}){let n={},i=(e.arguments??[]).reduce((s,a)=>S(b({},s),{[a.name.value]:a}),{});for(let{name:s,type:a,defaultValue:c}of t.args){let u=i[s];if(!u){if(c!==void 0)n[s]=c;else if(Y(a))throw qt(`Argument "${s}" of required type "${Dt(a)}" was not provided.`,{nodes:[e]});continue}let l=u.value,f=l.kind===y.NULL;if(l.kind===y.VARIABLE){let p=l.name.value;if(r==null||!xI(r,p)){if(c!==void 0)n[s]=c;else if(Y(a))throw qt(`Argument "${s}" of required type "${Dt(a)}" was provided the variable "$${p}" which was not provided a runtime value.`,{nodes:[l]});continue}f=r[p]==null}if(f&&Y(a))throw qt(`Argument "${s}" of non-null type "${Dt(a)}" must not be null.`,{nodes:[l]});let d=Sr(l,a,r);if(d===void 0)throw qt(`Argument "${s}" has invalid value ${qe(l)}.`,{nodes:[l]});n[s]=d}return n}function Gu(t){let e=new WeakMap;return function(n){let o=e.get(n);if(o===void 0){let i=t(n);return e.set(n,i),i}return o}}function CK(t){let e=new WeakMap;return function(n,o,i){let s=e.get(n);if(!s){s=new WeakMap,e.set(n,s);let u=new WeakMap;s.set(o,u);let l=t(n,o,i);return u.set(i,l),l}let a=s.get(o);if(!a){a=new WeakMap,s.set(o,a);let u=t(n,o,i);return a.set(i,u),u}let c=a.get(i);if(c===void 0){let u=t(n,o,i);return a.set(i,u),u}return c}}function RK(t){let e=new WeakMap;return function(n,o,i,s,a){let c=e.get(n);if(!c){c=new WeakMap,e.set(n,c);let p=new WeakMap;c.set(o,p);let h=new WeakMap;p.set(i,h);let m=new WeakMap;h.set(s,m);let g=t(n,o,i,s,a);return m.set(a,g),g}let u=c.get(o);if(!u){u=new WeakMap,c.set(o,u);let p=new WeakMap;u.set(i,p);let h=new WeakMap;p.set(s,h);let m=t(n,o,i,s,a);return h.set(a,m),m}let l=u.get(i);if(!l){l=new WeakMap,u.set(i,l);let p=new WeakMap;l.set(s,p);let h=t(n,o,i,s,a);return p.set(a,h),h}let f=l.get(s);if(!f){f=new WeakMap,l.set(s,f);let p=t(n,o,i,s,a);return f.set(a,p),p}let d=f.get(a);if(d===void 0){let p=t(n,o,i,s,a);return f.set(a,p),p}return d}}function kK(t,e,r){let o=PK(t).get(e);if(o==null)throw qt(`Schema is not configured to execute ${e} operation.`,{nodes:r});return o}var qft=Gu(function(e){let r=ZIe(e);return new Set([...r].map(n=>n.name))}),ZIe=Gu(function(e){let r=PK(e);return new Set(r.values())}),PK=Gu(function(e){let r=new Map,n=e.getQueryType();n&&r.set("query",n);let o=e.getMutationType();o&&r.set("mutation",o);let i=e.getSubscriptionType();return i&&r.set("subscription",i),r});se();var Df=class extends Map{get[Symbol.toStringTag](){return"AccumulatorMap"}add(e,r){let n=this.get(e);n===void 0?this.set(e,[r]):n.push(r)}};se();var LK=new zt({name:"defer",description:"Directs the executor to defer this fragment when the `if` argument is true or undefined.",locations:[xe.FRAGMENT_SPREAD,xe.INLINE_FRAGMENT],args:{if:{type:new J(at),description:"Deferred when true or undefined.",defaultValue:!0},label:{type:it,description:"Unique name"}}}),FK=new zt({name:"stream",description:"Directs the executor to stream plural fields when the `if` argument is true or undefined.",locations:[xe.FIELD],args:{if:{type:new J(at),description:"Stream when true or undefined.",defaultValue:!0},label:{type:it,description:"Unique name"},initialCount:{defaultValue:0,type:$r,description:"Number of items to return immediately"}}});function um(t,e,r,n,o,i,s,a){for(let c of o.selections)switch(c.kind){case y.FIELD:{if(!nL(r,c))continue;i.add(eSe(c),c);break}case y.INLINE_FRAGMENT:{if(!nL(r,c)||!UK(t,c,n))continue;let u=BK(r,c);if(u){let l=new Df;um(t,e,r,n,c.selectionSet,l,s,a),s.push({label:u.label,fields:l})}else um(t,e,r,n,c.selectionSet,i,s,a);break}case y.FRAGMENT_SPREAD:{let u=c.name.value;if(!nL(r,c))continue;let l=BK(r,c);if(a.has(u)&&!l)continue;let f=e[u];if(!f||!UK(t,f,n))continue;if(l||a.add(u),l){let d=new Df;um(t,e,r,n,f.selectionSet,d,s,a),s.push({label:l.label,fields:d})}else um(t,e,r,n,f.selectionSet,i,s,a);break}}}function oL(t,e,r,n,o){let i=new Df,s=[];return um(t,e,r,n,o,i,s,new Set),{fields:i,patches:s}}function nL(t,e){return!(Vr(Fa,e,t)?.if===!0||Vr(La,e,t)?.if===!1)}function UK(t,e,r){let n=e.typeCondition;if(!n)return!0;let o=kt(t,n);return o===r?!0:st(o)?t.getPossibleTypes(o).includes(r):!1}function eSe(t){return t.alias?t.alias.value:t.name.value}function BK(t,e){let r=Vr(LK,e,t);if(r&&r.if!==!1)return{label:typeof r.label=="string"?r.label:void 0}}var MK=RK(function(e,r,n,o,i){let s=new Df,a=new Set,c=[],u={fields:s,patches:c};for(let l of i)l.selectionSet&&um(e,r,n,o,l.selectionSet,s,c,a);return u});function AI(t){return t?.[Symbol.asyncIterator]!=null}function Of(t,e,r){return{prev:t,key:e,typename:r}}function In(t){let e=[],r=t;for(;r;)e.push(r.key),r=r.prev;return e.reverse()}function $K(t){return t.map(e=>typeof e=="number"?"["+e.toString()+"]":"."+e).join("")}var zu={get dispose(){return Symbol.dispose||Symbol.for("dispose")},get asyncDispose(){return Symbol.asyncDispose||Symbol.for("asyncDispose")}};function qs(t){if(t instanceof Error)return t;if(typeof t=="object"&&t!=null&&"message"in t&&typeof t.message=="string"){let e;"cause"in t&&(e={cause:t.cause});let r=new Error(t.message,e);return"stack"in t&&typeof t.stack=="string"&&(r.stack=t.stack),"name"in t&&typeof t.name=="string"&&(r.name=t.name),r}return new Error(String(t))}function VK(t){let e=t[Symbol.asyncIterator](),r,n,o=!1;function i(){return E(this,null,function*(){if(o)return{value:void 0,done:!0};try{if(!r){if(n)return yield n,yield i();let u;n=new Promise(f=>{u=f});let l=yield e.next();return l.done?(o=!0,yield i()):(r=l.value[Symbol.asyncIterator](),n=void 0,u(),yield i())}let a=r,c=yield r.next();return c.done?(r===a&&(r=void 0),yield i()):c}catch(a){throw o=!0,a}})}return{next:i,return(){return E(this,null,function*(){return o=!0,yield Promise.all([r?.return?.(),e.return?.()]),{value:void 0,done:!0}})},throw(a){return E(this,null,function*(){throw o=!0,yield Promise.all([r?.throw?.(a),e.throw?.(a)]),a})},[Symbol.asyncIterator](){return this},[zu.asyncDispose](){return E(this,null,function*(){o=!0,yield Promise.all([r?.[zu.asyncDispose]?.(),e?.[zu.asyncDispose]?.()])})}}}function iL(t,e){if(!t)throw new Error(e??"Unexpected invariant triggered.")}function sL(t,e,r){e?.throwIfAborted();let n=Object.create(null),o=[];for(let s in t){let a=cr(()=>t[s],c=>{n[s]=c});Xt(a)&&o.push(a)}if(!o.length)return n;let i=o.length===1?o[0]:Promise.all(o);return r?Promise.race([r,i]).then(()=>n):i.then(()=>n)}se();function jK(t,e,r,n){let o=[],i=n?.maxErrors;try{let s=tSe(t,e,r,a=>{if(i!=null&&o.length>=i)throw qt("Too many errors processing variables, error limit reached. Execution aborted.");o.push(a)});if(o.length===0)return{coerced:s}}catch(s){o.push(s)}return{errors:o}}function tSe(t,e,r,n){let o={};for(let i of e){let s=i.variable.name.value,a=kt(t,i.type);if(!xr(a)){let u=qe(i.type);n(qt(`Variable "$${s}" expected value of type "${u}" which cannot be used as an input type.`,{nodes:i.type}));continue}if(!xI(r,s)){if(i.defaultValue)o[s]=Sr(i.defaultValue,a);else if(Y(a)){let u=Dt(a);n(qt(`Variable "$${s}" of required type "${u}" was not provided.`,{nodes:i}))}continue}let c=r[s];if(c===null&&Y(a)){let u=Dt(a);n(qt(`Variable "$${s}" of non-null type "${u}" must not be null.`,{nodes:i}));continue}o[s]=gf(c,a,(u,l,f)=>{let d=`Variable "$${s}" got invalid value `+Dt(l);u.length>0&&(d+=` at "${s}${$K(u)}"`),n(qt(d+"; "+f.message,{nodes:i,originalError:f}))})}return o}var rSe=CK((t,e,r)=>MK(t.schema,t.fragments,t.variableValues,e,r));function YK(t){let e=ZK(t);return"schema"in e?XK(e):{errors:e.map(r=>(Object.defineProperty(r,"extensions",{value:S(b({},r.extensions),{http:S(b({},r.extensions?.http||{}),{status:400})})}),r))}}function XK(t){return t.signal?.throwIfAborted(),cr(()=>iSe(t),e=>{let r=GK(e,t.errors);return t.subsequentPayloads.size>0?{initialResult:S(b({},r),{hasNext:!0}),subsequentResults:bSe(t)}:r},e=>(t.signal?.throwIfAborted(),e.errors?t.errors.push(...e.errors):t.errors.push(e),GK(null,t.errors)))}function GK(t,e){return e.length===0?{data:t}:{errors:e,data:t}}var nSe=Gu(function(e){let r=Object.create(null);for(let n of e.definitions)n.kind===y.FRAGMENT_DEFINITION&&(r[n.name.value]=n);return r});function ZK(t){let{schema:e,document:r,rootValue:n,contextValue:o,variableValues:i,operationName:s,fieldResolver:a,typeResolver:c,subscribeFieldResolver:u,signal:l,schemaCoordinateInErrors:f}=t;l?.throwIfAborted(),Gs(e);let d=nSe(r),p;for(let T of r.definitions)switch(T.kind){case y.OPERATION_DEFINITION:if(s==null){if(p!==void 0)return[qt("Must provide operation name if query contains multiple operations.",{extensions:{code:"OPERATION_RESOLUTION_FAILURE"}})];p=T}else T.name?.value===s&&(p=T);break;default:}if(p==null)return s!=null?[qt(`Unknown operation named "${s}".`,{extensions:{code:"OPERATION_RESOLUTION_FAILURE"}})]:[qt("Must provide an operation.",{extensions:{code:"OPERATION_RESOLUTION_FAILURE"}})];let h=p.variableDefinitions??[],m=jK(e,h,i??{},{maxErrors:50});if(m.errors)return m.errors;l?.throwIfAborted();let g,w;if(l){let T=new Set,v=qw();w=v.promise;let x=()=>{v.reject(l.reason),l.removeEventListener("abort",x)};l.addEventListener("abort",x,{once:!0}),w.catch(()=>{for(let A of T)A();T.clear()}),g=A=>{T.add(A)}}return{schema:e,fragments:d,rootValue:n,contextValue:o,operation:p,variableValues:m.coerced,fieldResolver:a??JK,typeResolver:c??fSe,subscribeFieldResolver:u??JK,subsequentPayloads:new Set,errors:[],signal:l,onSignalAbort:g,signalPromise:w,schemaCoordinateInErrors:f}}function oSe(t,e){return S(b({},t),{rootValue:e,subsequentPayloads:new Set,errors:[]})}function iSe(t){let{operation:e,schema:r,fragments:n,variableValues:o,rootValue:i}=t,s=kK(r,e.operation,[e]);s==null&&qt(`Schema is not configured to execute ${e.operation} operation.`,{nodes:e});let{fields:a,patches:c}=oL(r,n,o,s,e.selectionSet),u=void 0,l;e.operation==="mutation"?l=sSe(t,s,i,u,a):l=uL(t,s,i,u,a);for(let f of c){let{label:d,fields:p}=f;sW(t,s,i,p,d,u)}return l}function sSe(t,e,r,n,o){return OK(o,(i,[s,a])=>{let c=Of(n,s,e.name);return t.signal?.throwIfAborted(),cr(()=>eW(t,e,r,a,c),u=>(u===void 0||(i[s]=u),i))},Object.create(null))}function uL(t,e,r,n,o,i){let s=Object.create(null),a=!1;try{for(let[c,u]of o){t.signal?.throwIfAborted();let l=Of(n,c,e.name),f=eW(t,e,r,u,l,i);f!==void 0&&(s[c]=f,Xt(f)&&(a=!0))}}catch(c){if(c!==t.signal?.reason&&a)return cr(()=>sL(s,t.signal),()=>{throw c},()=>{throw c});throw c}return a?sL(s,t.signal,t.signalPromise):s}function eW(t,e,r,n,o,i){let s=i?.errors??t.errors,a=aW(t.schema,e,n[0]);if(!a)return;let c=a.type,u=a.resolve??t.fieldResolver,l=tW(t,a,n,e,o);try{t.signal?.throwIfAborted();let f=rL(a,n[0],t.variableValues),d=t.contextValue,p=u(r,f,d,l),h;return Xt(p)?h=p.then(m=>qu(t,c,n,l,o,m,i)):h=qu(t,c,n,l,o,p,i),Xt(h)?h.then(void 0,m=>{if(m instanceof AggregateError){let T;for(let v of m.errors){v=qs(v);let x=Eo(v,n,In(o),t.schemaCoordinateInErrors&&l);T=ds(x,c,s),jo(t,o,i)}return T}m=qs(m);let g=Eo(m,n,In(o),t.schemaCoordinateInErrors&&l),w=ds(g,c,s);return jo(t,o,i),w}):h}catch(f){if(f instanceof AggregateError){let m;for(let g of f.errors){g=qs(g);let w=Eo(g,n,In(o),t.schemaCoordinateInErrors&&l);m=ds(w,c,s),jo(t,o,i)}return m}let d=qs(f),p=Eo(d,n,In(o),t.schemaCoordinateInErrors&&l),h=ds(p,c,s);return jo(t,o,i),h}}function tW(t,e,r,n,o){return{fieldName:e.name,fieldNodes:r,returnType:e.type,parentType:n,path:o,schema:t.schema,fragments:t.fragments,rootValue:t.rootValue,operation:t.operation,variableValues:t.variableValues,signal:t.signal}}var lL="CRITICAL_ERROR";function ds(t,e,r){if(Y(e)||t.extensions?.[lL])throw t;return r.push(t),null}function qu(t,e,r,n,o,i,s){if(i instanceof Error)throw i;if(Y(e)){let a=qu(t,e.ofType,r,n,o,i,s);if(a===null)throw new Error(`Cannot return null for non-nullable field ${n.parentType.name}.${n.fieldName}.`);return a}if(i==null)return null;if(Ie(e))return cSe(t,e,r,n,o,i,s);if(tt(e))return uSe(e,i);if(st(e))return lSe(t,e,r,n,o,i,s);if(K(e))return aL(t,e,r,n,o,i,s);console.assert(!1,"Cannot complete value of unexpected output type: "+Dt(e))}function rW(t,e,r){if(typeof r.key=="number")return;let n=Vr(FK,e[0],t.variableValues);if(n&&n.if!==!1)return iL(typeof n.initialCount=="number","initialCount must be a number"),iL(n.initialCount>=0,"initialCount must be a positive integer"),{initialCount:n.initialCount,label:typeof n.label=="string"?n.label:void 0}}function aSe(t,e,r,n,o,i,s){return E(this,null,function*(){t.signal?.throwIfAborted(),i.return&&t.onSignalAbort?.(()=>{i.return?.()});let a=s?.errors??t.errors,c=rW(t,r,o),u=!1,l=[],f=0;for(;;){if(c&&typeof c.initialCount=="number"&&f>=c.initialCount){gSe(f,i,t,r,n,e,o,c.label,s);break}let d=Of(o,f,void 0),p;try{if(p=yield i.next(),p.done)break}catch(h){let m=qs(h),g=Eo(m,r,In(d),t.schemaCoordinateInErrors&&n);l.push(ds(g,e,a));break}nW(p.value,l,a,t,e,r,n,d,s)&&(u=!0),f+=1}return u?Promise.all(l):l})}function cSe(t,e,r,n,o,i,s){let a=e.ofType,c=s?.errors??t.errors;if(AI(i)){let h=i[Symbol.asyncIterator]();return aSe(t,a,r,n,o,h,s)}if(!DK(i))throw qt(`Expected Iterable, but did not find one for field "${n.parentType.name}.${n.fieldName}".`);let u=rW(t,r,o),l=!1,f=s,d=[],p=0;for(let h of i){let m=Of(o,p,void 0);if(u&&typeof u.initialCount=="number"&&p>=u.initialCount){f=mSe(o,m,h,t,r,n,a,u.label,f),p++;continue}nW(h,d,c,t,a,r,n,m,s)&&(l=!0),p++}return l?Promise.all(d):d}function nW(t,e,r,n,o,i,s,a,c){try{let u;if(Xt(t)?u=t.then(l=>qu(n,o,i,s,a,l,c)):u=qu(n,o,i,s,a,t,c),Xt(u))return e.push(u.then(void 0,l=>{l=qs(l);let f=Eo(l,i,In(a),n.schemaCoordinateInErrors&&s),d=ds(f,o,r);return jo(n,a,c),d})),!0;e.push(u)}catch(u){let l=qs(u),f=Eo(l,i,In(a),n.schemaCoordinateInErrors&&s),d=ds(f,o,r);jo(n,a,c),e.push(d)}return!1}function uSe(t,e){let r;try{r=t.serialize(e)}catch(n){throw n instanceof D?new Error(n.message):n}if(r==null)throw new Error(`Expected \`${Dt(t)}.serialize(${Dt(e)})\` to return non-nullable value, returned: ${Dt(r)}`);return r}function lSe(t,e,r,n,o,i,s){let a=e.resolveType??t.typeResolver,c=t.contextValue,u=a(i,c,n,e);return Xt(u)?u.then(l=>aL(t,zK(l,t,e,r,n,i),r,n,o,i,s)):aL(t,zK(u,t,e,r,n,i),r,n,o,i,s)}function zK(t,e,r,n,o,i){if(t==null)throw qt(`Abstract type "${r.name}" must resolve to an Object type at runtime for field "${o.parentType.name}.${o.fieldName}". Either the "${r.name}" type should provide a "resolveType" function or each possible type should provide an "isTypeOf" function.`,{nodes:n});if(K(t)){if(eo.major>=16)throw qt("Support for returning GraphQLObjectType from resolveType was removed in graphql-js@16.0.0 please return type name instead.");t=t.name}if(typeof t!="string")throw qt(`Abstract type "${r.name}" must resolve to an Object type at runtime for field "${o.parentType.name}.${o.fieldName}" with value ${Dt(i)}, received "${Dt(t)}".`);let s=e.schema.getType(t);if(s==null)throw qt(`Abstract type "${r.name}" was resolved to a type "${t}" that does not exist inside the schema.`,{nodes:n});if(!K(s))throw qt(`Abstract type "${r.name}" was resolved to a non-object type "${t}".`,{nodes:n});if(!e.schema.isSubType(r,s))throw qt(`Runtime Object type "${s.name}" is not a possible type for "${r.name}".`,{nodes:n});return s}function aL(t,e,r,n,o,i,s){if(e.isTypeOf){let a=e.isTypeOf(i,t.contextValue,n);if(Xt(a))return a.then(c=>{if(!c)throw qK(e,i,r);return QK(t,e,r,o,i,s)});if(!a)throw qK(e,i,r)}return QK(t,e,r,o,i,s)}function qK(t,e,r){return qt(`Expected value of type "${t.name}" but got: ${Dt(e)}.`,{nodes:r})}function QK(t,e,r,n,o,i){let{fields:s,patches:a}=rSe(t,e,r),c=uL(t,e,o,n,s,i);for(let u of a){let{label:l,fields:f}=u;sW(t,e,o,f,l,n,i)}return c}var fSe=function(t,e,r,n){if(tL(t)&&typeof t.__typename=="string")return t.__typename;let o=r.schema.getPossibleTypes(n),i=[];for(let s=0;s<o.length;s++){let a=o[s];if(a.isTypeOf){let c=a.isTypeOf(t,e,r);if(Xt(c))i[s]=c;else if(c)return a.name}}if(i.length)return Promise.all(i).then(s=>{for(let a=0;a<s.length;a++)if(s[a])return o[a].name})},JK=function(t,e,r,n){if(tL(t)||typeof t=="function"){let o=t[n.fieldName];return typeof o=="function"?t[n.fieldName](e,r,n):o}};function oW(t){let e=ZK(t);if(!("schema"in e)){for(let n of e){let o=n.extensions||={},i=o.http||={};i.status=400,n.extensions.code="BAD_USER_INPUT"}return{errors:e}}let r=pSe(e);return Xt(r)?r.then(n=>HK(e,n)):HK(e,r)}function iW(t){return t?.initialResult}function fL(t){let e=t.subsequentResults,r=!1,n=!1;return{[Symbol.asyncIterator](){return this},next(){return n?An({value:void 0,done:n}):r?e.next():(r=!0,An({value:t.initialResult,done:n}))},return(){return n=!0,e.return()},throw(o){return n=!0,e.throw(o)},[zu.asyncDispose](){return n=!0,e?.[zu.asyncDispose]?.()}}}function dSe(t){return LU(this,null,function*(){"initialResult"in t?yield*qn(fL(t)):yield t})}function HK(t,e){return AI(e)?VK(Qw(e,r=>cr(()=>XK(oSe(t,r)),dSe),r=>{throw r instanceof AggregateError?new AggregateError(r.errors.map(n=>KK(n,t.operation)),r.message):KK(r,t.operation)})):e}function KK(t,e){return qt(t.message,{originalError:t,nodes:[e]})}function pSe(t){try{let e=hSe(t);return Xt(e)?e.then(void 0,r=>({errors:[r]})):e}catch(e){return{errors:[e]}}}function hSe(t){let{schema:e,fragments:r,operation:n,variableValues:o,rootValue:i}=t,s=e.getSubscriptionType();if(s==null)throw qt("Schema is not configured to execute subscription operation.",{nodes:n});let{fields:a}=oL(e,r,o,s,n.selectionSet),[c,u]=[...a.entries()][0],l=u[0].name.value,f=aW(e,s,u[0]);if(!f)throw qt(`The subscription field "${l}" is not defined.`,{nodes:u});let d=Of(void 0,c,s.name),p=tW(t,f,u,s,d);try{let h=rL(f,u[0],o),m=t.contextValue,w=(f.subscribe??t.subscribeFieldResolver)(i,h,m,p);return Xt(w)?w.then(T=>WK(T,t.signal,t.onSignalAbort)).then(void 0,T=>{throw Eo(T,u,In(d),t.schemaCoordinateInErrors&&p)}):WK(w,t.signal,t.onSignalAbort)}catch(h){throw Eo(h,u,In(d),t.schemaCoordinateInErrors&&p)}}function WK(t,e,r){if(e?.throwIfAborted(),t instanceof Error)throw t;if(!AI(t))throw qt(`Subscription field must return Async Iterable. Received: ${Dt(t)}.`);return r?{[Symbol.asyncIterator](){let n=t[Symbol.asyncIterator]();return n.return&&r?.(()=>{n.return?.()}),n}}:t}function sW(t,e,r,n,o,i,s){let a=new cL({label:o,path:i,parentContext:s,exeContext:t}),c;try{c=uL(t,e,r,i,n,a),Xt(c)&&(c=c.then(null,u=>(a.errors.push(u),null)))}catch(u){a.errors.push(u),c=null}a.addData(c)}function mSe(t,e,r,n,o,i,s,a,c){let u=new II({label:a,path:e,parentContext:c,exeContext:n}),l;try{try{Xt(r)?l=r.then(d=>qu(n,s,o,i,e,d,u)):l=qu(n,s,o,i,e,r,u),Xt(l)&&(l=l.then(void 0,d=>{d=qs(d);let p=Eo(d,o,In(e),n.schemaCoordinateInErrors&&i),h=ds(p,s,u.errors);return jo(n,e,u),h}))}catch(d){let p=qs(d),h=Eo(p,o,In(e),n.schemaCoordinateInErrors&&i);l=ds(h,s,u.errors),jo(n,e,u)}}catch(d){return u.errors.push(d),jo(n,t,u),u.addItems(null),u}let f;return Xt(l)?f=l.then(d=>[d],d=>(u.errors.push(d),jo(n,t,u),null)):f=[l],u.addItems(f),u}function ySe(t,e,r,n,o,i,s){return E(this,null,function*(){let a;try{let{value:u,done:l}=yield t.next();if(l)return i.setIsCompletedIterator(),{done:l,value:void 0};a=u}catch(u){let l=qs(u),f=Eo(l,r,In(s),e.schemaCoordinateInErrors&&n);return{done:!0,value:ds(f,o,i.errors)}}let c;try{return c=qu(e,o,r,n,s,a,i),Xt(c)&&(c=c.then(void 0,u=>{let l=Eo(u,r,In(s),e.schemaCoordinateInErrors&&n),f=ds(l,o,i.errors);return jo(e,s,i),f})),{done:!1,value:c}}catch(u){let l=Eo(u,r,In(s),e.schemaCoordinateInErrors&&n),f=ds(l,o,i.errors);return jo(e,s,i),{done:!1,value:f}}})}function gSe(t,e,r,n,o,i,s,a,c){return E(this,null,function*(){let u=t,l=c??void 0;for(;;){let f=Of(s,u,void 0),d=new II({label:a,path:f,parentContext:l,iterator:e,exeContext:r}),p;try{p=yield ySe(e,r,n,o,i,d,f)}catch(w){d.errors.push(w),jo(r,s,d),d.addItems(null),e?.return&&e.return().catch(()=>{});return}let{done:h,value:m}=p,g;if(Xt(m)?g=m.then(w=>[w],w=>(d.errors.push(w),jo(r,s,d),null)):g=[m],d.addItems(g),h)break;l=d,u++}})}function jo(t,e,r){let n=In(e);t.subsequentPayloads.forEach(o=>{if(o!==r){for(let i=0;i<n.length;i++)if(o.path[i]!==n[i])return;dL(o)&&o.iterator?.return&&o.iterator.return().catch(()=>{}),t.subsequentPayloads.delete(o)}})}function wSe(t){let e=[];for(let r of t.subsequentPayloads){let n={};if(r.isCompleted){if(t.subsequentPayloads.delete(r),dL(r)){let o=r.items;if(r.isCompletedIterator)continue;n.items=o}else{let o=r.data;n.data=o??null}n.path=r.path,r.label&&(n.label=r.label),r.errors.length>0&&(n.errors=r.errors),e.push(n)}}return e}function bSe(t){let e=!1;function r(){return E(this,null,function*(){if(e)return{value:void 0,done:!0};let i=Array.from(t.subsequentPayloads).map(c=>c.promise);if(t.signalPromise?yield Promise.race([t.signalPromise,...i]):yield Promise.race(i),e)return{value:void 0,done:!0};let s=wSe(t),a=t.subsequentPayloads.size>0;return!s.length&&a?r():(a||(e=!0),{value:s.length?{incremental:s,hasNext:a}:{hasNext:a},done:!1})})}function n(){let i=[];return t.subsequentPayloads.forEach(s=>{dL(s)&&s.iterator?.return&&i.push(s.iterator.return())}),Promise.all(i)}return{[Symbol.asyncIterator](){return this},next:r,return(){return E(this,null,function*(){return yield n(),e=!0,{value:void 0,done:!0}})},throw(i){return E(this,null,function*(){throw yield n(),e=!0,i})},[zu.asyncDispose](){return E(this,null,function*(){yield n(),e=!0})}}}var cL=class{type;errors;label;path;promise;data;parentContext;isCompleted;_exeContext;_resolve;constructor(e){this.type="defer",this.label=e.label,this.path=In(e.path),this.parentContext=e.parentContext,this.errors=[],this._exeContext=e.exeContext,this._exeContext.subsequentPayloads.add(this),this.isCompleted=!1,this.data=null,this.promise=new Promise(r=>{this._resolve=n=>{r(n)}}).then(r=>{this.data=r,this.isCompleted=!0})}addData(e){let r=this.parentContext?.promise;if(r){this._resolve?.(r.then(()=>e));return}this._resolve?.(e)}},II=class{type;errors;label;path;items;promise;parentContext;iterator;isCompletedIterator;isCompleted;_exeContext;_resolve;constructor(e){this.type="stream",this.items=null,this.label=e.label,this.path=In(e.path),this.parentContext=e.parentContext,this.iterator=e.iterator,this.errors=[],this._exeContext=e.exeContext,this._exeContext.subsequentPayloads.add(this),this.isCompleted=!1,this.items=null,this.promise=new Promise(r=>{this._resolve=n=>{r(n)}}).then(r=>{this.items=r,this.isCompleted=!0})}addItems(e){let r=this.parentContext?.promise;if(r){this._resolve?.(r.then(()=>e));return}this._resolve?.(e)}setIsCompletedIterator(){this.isCompletedIterator=!0}};function dL(t){return t.type==="stream"}function aW(t,e,r){let n=r.name.value;return n===is.name&&t.getQueryType()===e?is:n===ss.name&&t.getQueryType()===e?ss:n===Bo.name?Bo:e.getFields()[n]}se();function ESe(t){let e=vf(t.document,t.operationName);if(e==null)throw new Error("Must provide an operation.");return e.operation==="subscription"?oW(t):cr(()=>YK(t),r=>iW(r)?fL(r):r)}var cW=Gu(function(e){return function(n){return ESe({schema:e,document:n.document,variableValues:n.variables,operationName:n.operationName,rootValue:n.rootValue,contextValue:n.context,signal:n.signal||n.info?.signal,schemaCoordinateInErrors:n.schemaCoordinateInErrors})}});var hL=function(t,e){return hL=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},hL(t,e)};function vSe(t,e){hL(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function fm(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(l){try{u(n.next(l))}catch(f){s(f)}}function c(l){try{u(n.throw(l))}catch(f){s(f)}}function u(l){l.done?i(l.value):o(l.value).then(a,c)}u((n=n.apply(t,e||[])).next())})}function Qu(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(l){u=[6,l],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function dm(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Zw(t){return this instanceof Zw?(this.v=t,this):new Zw(t)}function TSe(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),o,i=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(d){n[d]&&(o[d]=function(p){return new Promise(function(h,m){i.push([d,p,h,m])>1||a(d,p)})})}function a(d,p){try{c(n[d](p))}catch(h){f(i[0][3],h)}}function c(d){d.value instanceof Zw?Promise.resolve(d.value.v).then(u,l):f(i[0][2],d)}function u(d){a("next",d)}function l(d){a("throw",d)}function f(d,p){d(p),i.shift(),i.length&&a(i[0][0],i[0][1])}}var fW=(function(t){vSe(e,t);function e(r){var n=t.call(this,r)||this;return Object.defineProperty(n,"name",{value:"RepeaterOverflowError",enumerable:!1}),typeof Object.setPrototypeOf=="function"?Object.setPrototypeOf(n,n.constructor.prototype):n.__proto__=n.constructor.prototype,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(n,n.constructor),n}return e})(Error),Upt=(function(){function t(e){if(e<0)throw new RangeError("Capacity may not be less than 0");this._c=e,this._q=[]}return Object.defineProperty(t.prototype,"empty",{get:function(){return this._q.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"full",{get:function(){return this._q.length>=this._c},enumerable:!1,configurable:!0}),t.prototype.add=function(e){if(this.full)throw new Error("Buffer full");this._q.push(e)},t.prototype.remove=function(){if(this.empty)throw new Error("Buffer empty");return this._q.shift()},t})(),Bpt=(function(){function t(e){if(e<1)throw new RangeError("Capacity may not be less than 1");this._c=e,this._q=[]}return Object.defineProperty(t.prototype,"empty",{get:function(){return this._q.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"full",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.add=function(e){for(;this._q.length>=this._c;)this._q.shift();this._q.push(e)},t.prototype.remove=function(){if(this.empty)throw new Error("Buffer empty");return this._q.shift()},t})(),Mpt=(function(){function t(e){if(e<1)throw new RangeError("Capacity may not be less than 1");this._c=e,this._q=[]}return Object.defineProperty(t.prototype,"empty",{get:function(){return this._q.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"full",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.add=function(e){this._q.length<this._c&&this._q.push(e)},t.prototype.remove=function(){if(this.empty)throw new Error("Buffer empty");return this._q.shift()},t})();function mL(t){t!=null&&typeof t.then=="function"&&t.then(DI,DI)}var pL=0,uW=1,Rf=2,NI=3,yL=4,_I=1024,DI=function(){};function lm(t){var e=t.err,r=Promise.resolve(t.execution).then(function(n){if(e!=null)throw e;return n});return t.err=void 0,t.execution=r.then(function(){},function(){}),t.pending===void 0?r:t.pending.then(function(){return r})}function Cf(t,e){var r=t.state>=NI;return Promise.resolve(e).then(function(n){return!r&&t.state>=yL?lm(t).then(function(o){return{value:o,done:!0}}):{value:n,done:r}})}function gL(t,e){var r,n;if(!(t.state>=Rf))if(t.state=Rf,t.onnext(),t.onstop(),t.err==null&&(t.err=e),t.pushes.length===0&&(typeof t.buffer>"u"||t.buffer.empty))Xw(t);else try{for(var o=dm(t.pushes),i=o.next();!i.done;i=o.next()){var s=i.value;s.resolve()}}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}}function Xw(t){var e,r;if(!(t.state>=NI)){t.state<Rf&&gL(t),t.state=NI,t.buffer=void 0;try{for(var n=dm(t.nexts),o=n.next();!o.done;o=n.next()){var i=o.value,s=t.pending===void 0?lm(t):t.pending.then(function(){return lm(t)});i.resolve(Cf(t,s))}}catch(a){e={error:a}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}t.pushes=[],t.nexts=[]}}function lW(t){t.state>=yL||(t.state<NI&&Xw(t),t.state=yL)}function xSe(t,e){if(mL(e),t.pushes.length>=_I)throw new fW("No more than "+_I+" pending calls to push are allowed on a single repeater.");if(t.state>=Rf)return Promise.resolve(void 0);var r=t.pending===void 0?Promise.resolve(e):t.pending.then(function(){return e});r=r.catch(function(c){t.state<Rf&&(t.err=c),lW(t)});var n;if(t.nexts.length){var o=t.nexts.shift();o.resolve(Cf(t,r)),t.nexts.length?n=Promise.resolve(t.nexts[0].value):typeof t.buffer<"u"&&!t.buffer.full?n=Promise.resolve(void 0):n=new Promise(function(c){return t.onnext=c})}else typeof t.buffer<"u"&&!t.buffer.full?(t.buffer.add(r),n=Promise.resolve(void 0)):n=new Promise(function(c){return t.pushes.push({resolve:c,value:r})});var i=!0,s={},a=n.catch(function(c){if(i)throw c});return s.then=function(c,u){return i=!1,Promise.prototype.then.call(n,c,u)},s.catch=function(c){return i=!1,Promise.prototype.catch.call(n,c)},s.finally=n.finally.bind(n),t.pending=r.then(function(){return a}).catch(function(c){t.err=c,lW(t)}),s}function ASe(t){var e=gL.bind(null,t),r=new Promise(function(n){return t.onstop=n});return e.then=r.then.bind(r),e.catch=r.catch.bind(r),e.finally=r.finally.bind(r),e}function ISe(t){if(!(t.state>=uW)){t.state=uW;var e=xSe.bind(null,t),r=ASe(t);t.execution=new Promise(function(n){return n(t.executor(e,r))}),t.execution.catch(function(){return gL(t)})}}var SI=new WeakMap,pm=(function(){function t(e,r){SI.set(this,{executor:e,buffer:r,err:void 0,state:pL,pushes:[],nexts:[],pending:void 0,execution:void 0,onnext:DI,onstop:DI})}return t.prototype.next=function(e){mL(e);var r=SI.get(this);if(r===void 0)throw new Error("WeakMap error");if(r.nexts.length>=_I)throw new fW("No more than "+_I+" pending calls to next are allowed on a single repeater.");if(r.state<=pL&&ISe(r),r.onnext(e),typeof r.buffer<"u"&&!r.buffer.empty){var n=Cf(r,r.buffer.remove());if(r.pushes.length){var o=r.pushes.shift();r.buffer.add(o.value),r.onnext=o.resolve}return n}else if(r.pushes.length){var i=r.pushes.shift();return r.onnext=i.resolve,Cf(r,i.value)}else if(r.state>=Rf)return Xw(r),Cf(r,lm(r));return new Promise(function(s){return r.nexts.push({resolve:s,value:e})})},t.prototype.return=function(e){mL(e);var r=SI.get(this);if(r===void 0)throw new Error("WeakMap error");return Xw(r),r.execution=Promise.resolve(r.execution).then(function(){return e}),Cf(r,lm(r))},t.prototype.throw=function(e){var r=SI.get(this);if(r===void 0)throw new Error("WeakMap error");return r.state<=pL||r.state>=Rf||typeof r.buffer<"u"&&!r.buffer.empty?(Xw(r),r.err==null&&(r.err=e),Cf(r,lm(r))):this.next(Promise.reject(e))},t.prototype[Symbol.asyncIterator]=function(){return this},t.race=SSe,t.merge=NSe,t.zip=_Se,t.latest=DSe,t})();function OI(t,e){var r,n,o=[],i=function(u){u!=null&&typeof u[Symbol.asyncIterator]=="function"?o.push(u[Symbol.asyncIterator]()):u!=null&&typeof u[Symbol.iterator]=="function"?o.push(u[Symbol.iterator]()):o.push((function(){return TSe(this,arguments,function(){return Qu(this,function(d){switch(d.label){case 0:return e.yieldValues?[4,Zw(u)]:[3,3];case 1:return[4,d.sent()];case 2:d.sent(),d.label=3;case 3:return e.returnValues?[4,Zw(u)]:[3,5];case 4:return[2,d.sent()];case 5:return[2]}})})})())};try{for(var s=dm(t),a=s.next();!a.done;a=s.next()){var c=a.value;i(c)}}catch(u){r={error:u}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o}function SSe(t){var e=this,r=OI(t,{returnValues:!0});return new pm(function(n,o){return fm(e,void 0,void 0,function(){var i,s,a,c,u,l;return Qu(this,function(f){switch(f.label){case 0:if(!r.length)return o(),[2];s=!1,o.then(function(){i(),s=!0}),f.label=1;case 1:f.trys.push([1,,5,7]),c=void 0,u=0,l=function(){var d,p,h,m,g,w;return Qu(this,function(T){switch(T.label){case 0:d=u;try{for(p=(g=void 0,dm(r)),h=p.next();!h.done;h=p.next())m=h.value,Promise.resolve(m.next()).then(function(v){v.done?(o(),a===void 0&&(a=v)):u===d&&(u++,i(v))},function(v){return o(v)})}catch(v){g={error:v}}finally{try{h&&!h.done&&(w=p.return)&&w.call(p)}finally{if(g)throw g.error}}return[4,new Promise(function(v){return i=v})];case 1:return c=T.sent(),c===void 0?[3,3]:[4,n(c.value)];case 2:T.sent(),T.label=3;case 3:return[2]}})},f.label=2;case 2:return s?[3,4]:[5,l()];case 3:return f.sent(),[3,2];case 4:return[2,a&&a.value];case 5:return o(),[4,Promise.race(r.map(function(d){return d.return&&d.return()}))];case 6:return f.sent(),[7];case 7:return[2]}})})})}function NSe(t){var e=this,r=OI(t,{yieldValues:!0});return new pm(function(n,o){return fm(e,void 0,void 0,function(){var i,s,a,c=this;return Qu(this,function(u){switch(u.label){case 0:if(!r.length)return o(),[2];i=[],s=!1,o.then(function(){var l,f;s=!0;try{for(var d=dm(i),p=d.next();!p.done;p=d.next()){var h=p.value;h()}}catch(m){l={error:m}}finally{try{p&&!p.done&&(f=d.return)&&f.call(d)}finally{if(l)throw l.error}}}),u.label=1;case 1:return u.trys.push([1,,3,4]),[4,Promise.all(r.map(function(l,f){return fm(c,void 0,void 0,function(){var d,p;return Qu(this,function(h){switch(h.label){case 0:h.trys.push([0,,6,9]),h.label=1;case 1:return s?[3,5]:(Promise.resolve(l.next()).then(function(m){return i[f](m)},function(m){return o(m)}),[4,new Promise(function(m){i[f]=m})]);case 2:return d=h.sent(),d===void 0?[3,4]:d.done?(a=d,[2]):[4,n(d.value)];case 3:h.sent(),h.label=4;case 4:return[3,1];case 5:return[3,9];case 6:return p=l.return,p?[4,l.return()]:[3,8];case 7:p=h.sent(),h.label=8;case 8:return[7];case 9:return[2]}})})}))];case 2:return u.sent(),[2,a&&a.value];case 3:return o(),[7];case 4:return[2]}})})})}function _Se(t){var e=this,r=OI(t,{returnValues:!0});return new pm(function(n,o){return fm(e,void 0,void 0,function(){var i,s,a,c;return Qu(this,function(u){switch(u.label){case 0:if(!r.length)return o(),[2,[]];s=!1,o.then(function(){i(),s=!0}),u.label=1;case 1:u.trys.push([1,,6,8]),u.label=2;case 2:return s?[3,5]:(Promise.all(r.map(function(l){return l.next()})).then(function(l){return i(l)},function(l){return o(l)}),[4,new Promise(function(l){return i=l})]);case 3:return a=u.sent(),a===void 0?[2]:(c=a.map(function(l){return l.value}),a.some(function(l){return l.done})?[2,c]:[4,n(c)]);case 4:return u.sent(),[3,2];case 5:return[3,8];case 6:return o(),[4,Promise.all(r.map(function(l){return l.return&&l.return()}))];case 7:return u.sent(),[7];case 8:return[2]}})})})}function DSe(t){var e=this,r=OI(t,{yieldValues:!0,returnValues:!0});return new pm(function(n,o){return fm(e,void 0,void 0,function(){var i,s,a,c,u,l=this;return Qu(this,function(f){switch(f.label){case 0:if(!r.length)return o(),[2,[]];s=[],a=!1,o.then(function(){var d,p;i();try{for(var h=dm(s),m=h.next();!m.done;m=h.next()){var g=m.value;g()}}catch(w){d={error:w}}finally{try{m&&!m.done&&(p=h.return)&&p.call(h)}finally{if(d)throw d.error}}a=!0}),f.label=1;case 1:return f.trys.push([1,,5,7]),Promise.all(r.map(function(d){return d.next()})).then(function(d){return i(d)},function(d){return o(d)}),[4,new Promise(function(d){return i=d})];case 2:return c=f.sent(),c===void 0?[2]:(u=c.map(function(d){return d.value}),c.every(function(d){return d.done})?[2,u]:[4,n(u.slice())]);case 3:return f.sent(),[4,Promise.all(r.map(function(d,p){return fm(l,void 0,void 0,function(){var h;return Qu(this,function(m){switch(m.label){case 0:if(c[p].done)return[2,c[p].value];m.label=1;case 1:return a?[3,4]:(Promise.resolve(d.next()).then(function(g){return s[p](g)},function(g){return o(g)}),[4,new Promise(function(g){return s[p]=g})]);case 2:return h=m.sent(),h===void 0?[2,c[p].value]:h.done?[2,h.value]:(u[p]=h.value,[4,n(u.slice())]);case 3:return m.sent(),[3,1];case 4:return[2]}})})}))];case 4:return[2,f.sent()];case 5:return o(),[4,Promise.all(r.map(function(d){return d.return&&d.return()}))];case 6:return f.sent(),[7];case 7:return[2]}})})})}function wL(t,e,r){if(typeof t=="object"&&typeof e=="object"){if(Array.isArray(t)&&Array.isArray(e))for(r=0;r<e.length;r++)t[r]=wL(t[r],e[r]);else for(r in e){if(r==="__proto__"||r==="constructor"||r==="prototype")break;t[r]=wL(t[r],e[r])}return t}return e}function dW(t,e,r){e.split&&(e=e.split("."));for(var n=0,o=e.length,i=t,s,a;n<o&&(a=""+e[n++],!(a==="__proto__"||a==="constructor"||a==="prototype"));)i=i[a]=n===o?wL(i[a],r):typeof(s=i[a])==typeof e?s:e[n]*0!==0||~(""+e[n]).indexOf(".")?{}:[]}var LI=fs(function(e,r){let n=r.transforms;return n==null?e:n.reduce((o,i)=>i.transformSchema?.(o,r)||o,e)});var tb=class{name;schema;executor;batch;batchingOptions;createProxyingResolver;transforms;_transformedSchema;merge;constructor(e){this.name=e.name,this.schema=e.schema,this.executor=e.executor,this.batch=e.batch,this.batchingOptions=e.batchingOptions,this.createProxyingResolver=e.createProxyingResolver,this.transforms=e.transforms??[],this.merge=e.merge}get transformedSchema(){return this._transformedSchema||(globalThis.process?.env?.DEBUG!=null&&console.warn("Transformed schema is not set yet. Returning a dummy one."),this._transformedSchema=LI(this.schema,this)),this._transformedSchema}set transformedSchema(e){this._transformedSchema=e}},OSe=["__proto__","constructor","prototype"];function gW(t){return OSe.includes(t)}var vL=new WeakMap,wW=Symbol("PLAN_LEFT_OVER");function bW(t){if(t!=null&&typeof t=="object")return t[wW]}var Qs=Symbol.for("subschemaErrors"),mm=Symbol.for("initialSubschema"),Vc=Symbol.for("subschemaMap");function rb(t){return t[Qs]!==void 0}function CSe(t,e,r,n){return Object.defineProperties(t,{[mm]:{value:r,writable:!0},[Vc]:{value:n,writable:!0},[Qs]:{value:e,writable:!0}}),t}function nb(t,e){return t[Vc]?.[e]??t[mm]}function TL(t){return t[Qs]}var RSe=[],kI=Object.create(null),FI=Vn(function(t){return[t]});function kSe(t,e,r,n,o){let i=t.delegationPlanBuilder(o.schema,r,o.variableValues!=null&&Object.keys(o.variableValues).length>0?o.variableValues:kI,o.fragments!=null&&Object.keys(o.fragments).length>0?o.fragments:kI,o.fieldNodes?.length?o.fieldNodes.length===1&&o.fieldNodes[0]?FI(o.fieldNodes[0]):o.fieldNodes:RSe,n,o),s=vL.get(i);return s&&(e[wW]=s),cr(()=>nK(i,(a,c)=>PSe(t,c,e,n,o),void 0),()=>e)}function hm(t,e,r,n,o,i,s,a){if(t instanceof Error||t==null){let l=e.transformedSchema||i.schema,f=l.getType(n.__typename),{fields:d}=ju(l,i.fragments,i.variableValues,f,r),p={};for(let[h,m]of d){let g=[...s,h];t instanceof D?t.message.includes("Cannot return null for non-nullable field")?p[h]=null:p[h]=$c(t,g):t instanceof Error?p[h]=xn(t,m,g):p[h]=null}t=p}else t[Qs]&&a.push(...t[Qs]);let c=t[mm],u=t[Vc];for(let l in t){if(gW(l))continue;let f=n[l],d=t[l];l==="__typename"&&f!==d&&st(e.transformedSchema.getType(d))||((d!=null||f==null)&&(f!=null&&typeof f=="object"&&!(f instanceof Error)&&Object.keys(f).length>0?Array.isArray(f)&&Array.isArray(d)&&f.length===d.length?n[l]=f.map((p,h)=>d instanceof Error?p:Vu([p,d[h]],void 0,!0,!0)):d instanceof Error||(n[l]=Vu([f,d],void 0,!0,!0)):n[l]=d),o[l]=u?.[l]??c??e)}}function PSe(t,e,r,n,o){let i=r[Qs],s=TK(o.path),a=r[Vc],c=[];for(let[u,l]of e){let d=(u.transformedSchema||o.schema).getType(r.__typename),p=t.resolvers.get(u);if(p)try{let h=p(r,n,o,u,l,void 0,d);Xt(h)?c.push(h.then(m=>hm(m,u,l,r,a,o,s,i),m=>hm(m,u,l,r,a,o,s,i))):hm(h,u,l,r,a,o,s,i)}catch(h){hm(h,u,l,r,a,o,s,i)}}if(c.length)return c.length===1?c[0]:Promise.all(c)}function wm(t,e,r,n,o,i=BSe(o),s){let a=ln(i);if(t instanceof Error)return t;if(t==null)return USe(e);if(tt(a))try{return a.parseValue(t)}catch{return null}else{if(Ar(a))return cr(()=>LSe(a,t,e,r,n,o,s),c=>o&&st(a)&&c.__typename!=null&&!o.schema.getType(c.__typename)?null:c);if(Ie(a))return Array.isArray(t)?FSe(a,t,e,r,n,o,s):wm(t,e,r,n,o,a.ofType,s)}}function LSe(t,e,r,n,o,i,s){if(rb(e)||CSe(e,r,n,Object.create(null)),s||i==null)return e;let a=i.schema.extensions?.stitchingInfo;if(a==null)return e;let c,u=[e.__typename,t.name];for(let l of u)if(l!=null&&a.mergedTypes[l]?.targetSubschemas?.get(n)?.length){c=a.mergedTypes[l];break}return c?kSe(c,e,n,o,i):e}function FSe(t,e,r,n,o,i,s){return e.map(a=>wm(a,r,n,o,i,t.ofType,s))}var pW=new WeakMap;function USe(t){if(t.length){let e=[];for(let r of t)pW.has(r)||(e.push(r),pW.set(r,!0));if(e.length){let r=e[0];return e.length===1&&r?xn(r,void 0,r.path):new AggregateError(e.map(n=>xn(n,void 0,r?.path)),e.map(n=>n.message).join(`, 
`))}}return null}function BSe(t){if(t==null)throw new Error("Return type cannot be inferred without a source schema.");return t.returnType}function MSe(t={data:null,errors:[]},e){let{context:r,info:n,fieldName:o=$Se(n),subschema:i,returnType:s=VSe(n),skipTypeMerging:a,onLocatedError:c}=e,{data:u,unpathedErrors:l}=EW(t.data==null?void 0:t.data[o],t.errors==null?[]:t.errors,n!=null&&n.path?Ir(n.path):void 0,c);return wm(u,l,i,r,n,s,a)}function EW(t,e,r,n,o=1){if(t==null){if(!e.length)return{data:null,unpathedErrors:[]};if(e.length===1&&e[0]){let c=n?n(e[0]):e[0],u=r===void 0?c.path:c.path?r.concat(c.path.slice(1)):r;return{data:$c(e[0],u),unpathedErrors:[]}}return{data:new AggregateError(e.map(c=>{let u=n?n(c):c,l=r===void 0?u.path:u.path?r.concat(u.path.slice(1)):r;return $c(u,l)}),e.map(c=>c.message).join(`,
`)),unpathedErrors:[]}}if(!e.length)return{data:t,unpathedErrors:[]};let i=[],s=new Map;for(let a of e){let c=a.path?.[o];if(c!=null){let u=s.get(c);u===void 0?(u=[a],s.set(c,u)):u.push(a)}else i.push(a)}for(let[a,c]of s)if(t[a]!==void 0){let{data:u,unpathedErrors:l}=EW(t[a],c,r,n,o+1);t[a]=u,i.push(...l)}else i.push(...c);return{data:t,unpathedErrors:i}}function $Se(t){if(t==null)throw new Error("Data cannot be extracted from result without an explicit key or source schema.");return Ww(t)}function VSe(t){if(t==null)throw new Error("Return type cannot be inferred without a source schema.");return t.returnType}function vW(t){let e=[],r=[],n=new Set;for(let o=0;o<t.definitions.length;o++){let i=t.definitions[o];i?.kind===y.FRAGMENT_DEFINITION?(r.push(i),n.add(i.name.value)):i?.kind===y.OPERATION_DEFINITION&&e.push(i)}return{operations:e,fragments:r,fragmentNames:n}}var ob=Vn(function(e){return new Mn(e)}),TW=fs(function(e,r){return eo.major<16?new Mn(e,void 0,r):new Mn(e,r)});function xW(t,e,r,n,o,i,s){if(t[n]={kind:y.ARGUMENT,name:{kind:y.NAME,value:n},value:{kind:y.VARIABLE,name:{kind:y.NAME,value:o}}},e[o]={kind:y.VARIABLE_DEFINITION,variable:{kind:y.VARIABLE,name:{kind:y.NAME,value:o}},type:yI(i)},s!==void 0){r[o]=s;return}o in r&&delete r[o]}function AW(t){let e=0;return r=>{let n;do n=e===0?r:`_v${e.toString()}_${r}`,e++;while(n in t);return n}}function jSe(t,e,r,n,o){let i=[],s=[],a=[],c=[],u=[],l=Object.create(null);for(let h of e){let m=h.typeCondition.name.value,g=t.getType(m);g!=null&&(u.push(h),l[h.name.value]=g)}let f=Object.create(null);for(let h of r){let m=nm(t,h.operation),{selectionSet:g,usedFragments:w,usedVariables:T}=IW(t,m,l,h.selectionSet,n);s=eb(s,w);let{usedVariables:v,newFragments:x,fragmentSet:A}=JSe(t,f,u,l,s,n),_=eb(T,v);i=eb(i,_),c=x,f=A;let O=(h.variableDefinitions??[]).filter(C=>_.indexOf(C.variable.name.value)!==-1);h.operation==="subscription"&&(g.selections=g.selections.filter(C=>C.kind!==y.FIELD||C.name.value!=="__typename")),!(g.selections.length===1&&g.selections[0]&&g.selections[0].kind===y.FIELD&&g.selections[0].name.value==="__typename")&&a.push({kind:y.OPERATION_DEFINITION,operation:h.operation,name:h.name,directives:h.directives,variableDefinitions:O,selectionSet:g})}if(!a.length)throw If("Failed to create a gateway request. The request must contain at least one operation.",{extensions:{[lL]:!0}});let d={kind:y.DOCUMENT,definitions:[...a,...c]},p=o.info?.schema?.extensions?.stitchingInfo;if(p!=null){let h=ob(t);d=or(d,Mo(h,{[y.FIELD](m){let g=h.getParentType();if(g){let w=g.name,T=p?.mergedTypes?.[w];if(T){let v=T?.providedSelectionsByField?.get(o.subschema);if(v){let x=v[m.name.value];if(x)return S(b({},m),{selectionSet:{kind:y.SELECTION_SET,selections:[...x.selections,...m.selectionSet?.selections??[]]}})}}}return m}}))}return{usedVariables:i,newDocument:d}}function GSe(t,e,r){let{document:n,variables:o}=t,{operations:i,fragments:s}=vW(n),{targetSchema:a,args:c}=e;if(c){let d=qSe(a,i,c);i=d.newOperations,o=Object.assign({},o??{},d.newVariables)}let{usedVariables:u,newDocument:l}=jSe(a,s,i,r,e),f={};if(o!=null)for(let d of u){let p=o[d];p!==void 0&&(f[d]=p)}return S(b({},t),{document:l,variables:f})}function zSe(t){return t.kind===y.FIELD&&!t.alias&&t.name.value==="__typename"}function hW(t){let e=!1,r=t.filter(n=>zSe(n)?(e=!0,!1):!0);return{hasTypeNameField:e,selections:r}}function qSe(t,e,r){let n=Object.create(null);return{newOperations:e.map(i=>{let s=(i.variableDefinitions??[]).reduce((l,f)=>S(b({},l),{[f.variable.name.value]:f}),{}),a=nm(t,i.operation),c=[];for(let l of i.selectionSet.selections)if(l.kind===y.FIELD){let d=(l.arguments??[]).reduce((h,m)=>S(b({},h),{[m.name.value]:m}),{}),p=a.getFields()[l.name.value];p!=null&&QSe(p,d,s,n,r),c.push(S(b({},l),{arguments:Object.values(d)}))}else c.push(l);let u={kind:y.SELECTION_SET,selections:c};return S(b({},i),{variableDefinitions:Object.values(s),selectionSet:u})}),newVariables:n}}function QSe(t,e,r,n,o){let i=AW(r);for(let s of t.args){let a=s.name,c=s.type;a in o&&xW(e,r,n,a,i(a),c,sm(c,o[a]))}}function JSe(t,e,r,n,o,i){let s=o.slice(),a=[],c=[];for(;s.length!==0;){let u=s.pop(),l=r.find(f=>f.name.value===u);if(l!=null){let f=u,d=l.typeCondition.name.value,p=t.getType(d);if(p==null)throw new Error(`Fragment reference type "${d}", but the type is not contained within the target schema.`);let{selectionSet:h,usedFragments:m,usedVariables:g}=IW(t,p,n,l.selectionSet,i);s=eb(s,m),a=eb(a,g),f&&!(f in e)&&(e[f]=!0,c.push({kind:y.FRAGMENT_DEFINITION,name:{kind:y.NAME,value:f},typeCondition:l.typeCondition,selectionSet:h}))}}return{usedVariables:a,newFragments:c,fragmentSet:e}}var HSe={SelectionSet:["selections"],Field:["selectionSet"],InlineFragment:["selectionSet"],FragmentDefinition:["selectionSet"]},KSe={SelectionSet:["selections"],Field:["arguments","directives","selectionSet"],Argument:["value"],InlineFragment:["directives","selectionSet"],FragmentSpread:["directives"],FragmentDefinition:["selectionSet"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["arguments"],ListValue:["values"]};function IW(t,e,r,n,o){let i=[],s=[],a=TW(t,e),l=SW(t,a,r,n,o,i,new WeakMap,new WeakMap);return or(l,{[y.VARIABLE]:f=>{s.push(f.name.value)}},KSe),{selectionSet:l,usedFragments:i,usedVariables:s}}function SW(t,e,r,n,o,i,s,a){return or(n,Mo(e,{[y.FIELD]:{enter:c=>{let u=e.getParentType();if(K(u)||Z(u)){let l=e.getFieldDef();if(!l)return null;let f=l.args!=null?l.args:[],d=Object.create(null);for(let p of f)d[p.name]=p;if(c.arguments!=null){let p=[];for(let h of c.arguments)h.name.value in d&&p.push(h);if(p.length!==c.arguments.length)return S(b({},c),{arguments:p})}}if(Ue(u)&&e.getType()==null){let l=[],f=c.name.value;for(let d of u.getTypes()){let h=d.getFields()[f];if(h!=null){let m=ke(h.type);if(c.selectionSet?.selections?.length&&tt(m)||!c.selectionSet?.selections?.length&&Ar(m))continue;l.push(d.name)}}if(l.length>0){let p=l.map(h=>{if(!c.selectionSet?.selections)return{kind:y.INLINE_FRAGMENT,typeCondition:{kind:y.NAMED_TYPE,name:{kind:y.NAME,value:h}},selectionSet:{kind:y.SELECTION_SET,selections:[c]}};let g=t.getType(h).getFields()[c.name.value];if(!g)return;let w=SW(t,TW(t,g.type),r,c.selectionSet,o,i,s,a);if(w.selections.length)return{kind:y.INLINE_FRAGMENT,typeCondition:{kind:y.NAMED_TYPE,name:{kind:y.NAME,value:h}},selectionSet:{kind:y.SELECTION_SET,selections:[S(b({},c),{selectionSet:w})]}}}).filter(Boolean);return p.length?p:void 0}}},leave:c=>{let u=e.getType();if(u==null)return null;let l=ke(u);if(t.getType(l.name)==null)return null;if(K(l)||Z(l)){let f=c.selectionSet!=null?c.selectionSet.selections:null;if(f==null||f.length===0)return null}}},[y.FRAGMENT_SPREAD]:{enter:c=>{if(!(c.name.value in r))return null;let u=e.getParentType(),l=r[c.name.value];if(!Yw(t,u,l))return null;i.push(c.name.value)}},[y.SELECTION_SET]:{enter:(c,u,l,f)=>{let d=e.getParentType(),{hasTypeNameField:p,selections:h}=hW(c.selections);return(p||d!=null&&st(d))&&h.unshift({kind:y.FIELD,name:{kind:y.NAME,value:"__typename"}}),S(b({},c),{selections:h})}},[y.INLINE_FRAGMENT]:{enter:c=>{if(c.typeCondition!=null){let u=e.getParentType(),l=t.getType(c.typeCondition.name.value);if(Ue(u)&&u.getTypes().some(f=>f.name===l?.name))return c;if(!Yw(t,u,l))return null}},leave:(c,u,l)=>{if(!c.selectionSet?.selections?.length)return null;if(Array.isArray(l)){let d=c.typeCondition?.name.value;if(d){let p=t.getType(d);if(p&&"getFields"in p){let h=p.getFields(),m=s.get(l);m||(m=new Set,s.set(l,m));let g=a.get(l);g||(g=new Set,a.set(l,g)),c=S(b({},c),{selectionSet:S(b({},c.selectionSet),{selections:c.selectionSet.selections.map(w=>{if(w.kind===y.FIELD){let T=w.name.value;if(!w.alias){let v=h[T];if(v){let x;if($s(v.type)?(g.add(T),x=!0):(m.add(T),x=!1),g.has(T)&&m.has(T))return o(),S(b({},w),{alias:{kind:y.NAME,value:x?`_nullable_${T}`:`_nonNullable_${T}`}})}}}return w})})})}}}let{selections:f}=hW(c.selectionSet.selections);return f.length===0?null:S(b({},c),{selectionSet:S(b({},c.selectionSet),{selections:f}),directives:c.directives?.filter?.(d=>d.name.value!=="defer")})}}}),HSe)}function eb(...t){let e=Object.create(null),r=[];for(let n of t)for(let o of n)o in e||(e[o]=!0,r.push(o));return r}function WSe(t,e,r,n){let o=rNe(r,e,t);if(n==null)return o;let i=new WeakSet,{possibleTypesMap:s,reversePossibleTypesMap:a,interfaceExtensionsMap:c,fieldNodesByType:u,fieldNodesByField:l,dynamicSelectionSetsByField:f}=ZSe(n,e),{operations:d,fragments:p,fragmentNames:h}=vW(o),{expandedFragments:m,fragmentReplacements:g}=tNe(p,h,s),w=ob(e),T={kind:y.DOCUMENT,definitions:[...d,...p,...m]},v={Document:["definitions"],OperationDefinition:["selectionSet"],SelectionSet:["selections"],Field:["selectionSet"],InlineFragment:["selectionSet"],FragmentDefinition:["selectionSet"]};return or(T,Mo(w,{[y.SELECTION_SET]:x=>XSe(x,g,e,w,s,a,c,u,l,f,n,i)}),v)}var YSe=fs(function(e,r){let n=new Map;return function(i){let s=n.get(i);if(!s){s=new Set;let a=r.getType(i),c=e.getType(i);if(st(a)&&st(c)){let u=r.getPossibleTypes(a),l=e.getPossibleTypes(c);for(let f of u){let d=e.getType(f.name);d&&(d&&l.some(p=>p.name===f.name)||s.add(f.name))}}n.set(i,s)}return s}});function XSe(t,e,r,n,o,i,s,a,c,u,l,f){let d=new Set,p=n.getParentType();if(p!=null){let h=ke(p),m=h.name,g=a[m];if(g)for(let v of g)d.add(v);let w=s[h.name],T=[];for(let v of t.selections)if(v.kind===y.INLINE_FRAGMENT)if(v.typeCondition!=null){if(!f.has(v)){f.add(v);let A=v.typeCondition.name.value,O=YSe(r,l)(A);for(let I of O)d.add(S(b({},v),{typeCondition:{kind:y.NAMED_TYPE,name:{kind:y.NAME,value:I}}}));let C=r.getType(A);if(K(C)||Z(C)){let I=C.getFields();for(let k of v.selectionSet.selections)if(k.kind===y.FIELD){let M=k.name.value;I[M]||d.add(k)}}else if(!C)for(let I of v.selectionSet.selections)d.add(I)}let x=o[v.typeCondition.name.value];if(x==null){let A=c[m]?.__typename;if(A)for(let _ of A)d.add(_);d.add(v);continue}for(let A of x){let _=r.getType(A);_!=null&&Yw(r,h,_)&&d.add(mW(A,v.selectionSet))}x.length===0&&d.add(v)}else d.add(v);else if(v.kind===y.FRAGMENT_SPREAD){let x=v.name.value;if(!e[x]){d.add(v);continue}for(let A of e[x]){let _=A.typeName;r.getType(_)!=null&&Yw(r,h,p)&&d.add({kind:y.FRAGMENT_SPREAD,name:{kind:y.NAME,value:A.fragmentName}})}}else{let x=v.name.value;if(st(h)){let O=c[m]?.__typename;if(O)for(let C of O)d.add(C)}let A=c[m];A&&NW(v,new Set,A,d);let _=u[m]?.[x];if(_!=null)for(let O of _){let C=O(v);if(C!=null)for(let I of C.selections)d.add(I)}w?.[x]?T.push(v):d.add(v)}if(i[h.name]&&d.add({kind:y.FIELD,name:{kind:y.NAME,value:"__typename"}}),T.length){let v=o[h.name];if(v!=null)for(let x of v)d.add(mW(x,{kind:y.SELECTION_SET,selections:T}))}return S(b({},t),{selections:Array.from(d)})}return t}function NW(t,e,r,n){if(e.has(t.name.value))return;e.add(t.name.value);let o=r[t.name.value];if(o!=null)for(let i of o)n.add(i),NW(i,e,r,n)}function mW(t,e){return{kind:y.INLINE_FRAGMENT,typeCondition:{kind:y.NAMED_TYPE,name:{kind:y.NAME,value:t}},selectionSet:e}}var ZSe=fs((t,e)=>{let r=t.getTypeMap(),n=e.getTypeMap(),o=Object.create(null),i=Object.create(null);for(let a in r){let c=r[a];if(st(c)){let u=n[a];if(Z(c)&&Z(u)){let l=u.getFields(),f=c.getFields(),d=Object.create(null),p=!0;for(let h in f)l[h]||(d[h]=!0,p=!1);p||(i[a]=d)}if(i[a]||!st(u)){let l=t.getPossibleTypes(c);o[a]=[];for(let f of l)n[f.name]&&o[a].push(f.name)}}}let s=t.extensions?.stitchingInfo;return{possibleTypesMap:o,reversePossibleTypesMap:eNe(o),interfaceExtensionsMap:i,fieldNodesByType:s?.fieldNodesByType??{},fieldNodesByField:s?.fieldNodesByField??{},dynamicSelectionSetsByField:s?.dynamicSelectionSetsByField??{}}});function eNe(t){let e=Object.create(null);for(let r in t){let n=t[r];if(n)for(let o of n)e[o]||(e[o]=[]),e[o].push(r)}return e}function tNe(t,e,r){let n=0;function o(a){let c;do c=`_${a}_Fragment${n.toString()}`,n++;while(e.has(c));return c}let i=[],s=Object.create(null);for(let a of t){let c=r[a.typeCondition.name.value];if(c!=null){let u=a.name.value;s[u]=[];for(let l of c){let f=o(l);e.add(f),i.push({kind:y.FRAGMENT_DEFINITION,name:{kind:y.NAME,value:f},typeCondition:{kind:y.NAMED_TYPE,name:{kind:y.NAME,value:l}},selectionSet:a.selectionSet}),s[u].push({fragmentName:f,typeName:l})}}}return{expandedFragments:i,fragmentReplacements:s}}function rNe(t,e,r){let n=ke(t);if(tt(n))return r;let o=st(n)?e.getPossibleTypes(n):[n];o.length===0&&(o=[n]);let i=gI(e),s=ob(e),a={Document:["definitions"],OperationDefinition:["selectionSet"],SelectionSet:["selections"],InlineFragment:["selectionSet"],FragmentDefinition:["selectionSet"]};return or(r,Mo(s,{[y.FRAGMENT_DEFINITION]:c=>{let u=c.typeCondition.name.value;if(!i.has(u))return!1},[y.FIELD]:c=>{let u=s.getType();if(u){let l=ke(u);if(st(l)&&l.name!==n.name&&o.length>0)return S(b({},c),{selectionSet:{kind:y.SELECTION_SET,selections:o.map(f=>({kind:y.INLINE_FRAGMENT,typeCondition:{kind:y.NAMED_TYPE,name:{kind:y.NAME,value:f.name}},selectionSet:c.selectionSet}))}})}}}),a)}var bL=class{transformations=[];delegationContext;hasOverlappingAliases=!1;constructor(e){this.delegationContext=e;let n=e.transforms.slice().reverse();for(let o of n)this.addTransform(o)}addTransform(e,r={}){this.transformations.push({transform:e,context:r})}transformRequest(e){let r=S(b({},e),{document:WSe(e.document,this.delegationContext.transformedSchema,this.delegationContext.returnType,this.delegationContext.info?.schema)});for(let n of this.transformations)n.transform.transformRequest&&(r=n.transform.transformRequest(r,this.delegationContext,n.context));return GSe(r,this.delegationContext,()=>{this.hasOverlappingAliases=!0})}transformResult(e){let r=e;for(let n=this.transformations.length-1;n>=0;n--){let o=this.transformations[n];o?.transform.transformResult&&(r=o.transform.transformResult(r,this.delegationContext,o.context))}return this.hasOverlappingAliases&&(r=CI(r)),MSe(r,this.delegationContext)}};function CI(t){if(t!=null){if(Array.isArray(t))return t.map(CI);if(typeof t=="object"){let e={};for(let r in t)if(r.startsWith("_nullable_")||r.startsWith("_nonNullable_")){let n=r.replace(/^_nullable_/,"").replace(/^_nonNullable_/,"");e[n]=CI(t[r])}else e[r]=CI(t[r]);return e}}return t}function nNe(t,e){return t===e.getMutationType()?"mutation":t===e.getSubscriptionType()?"subscription":"query"}function oNe({sourceSchema:t,sourceParentType:e,sourceFieldName:r,fragments:n,variableDefinitions:o,variableValues:i,targetRootValue:s,targetOperationName:a,targetOperation:c,targetFieldName:u,selectionSet:l,fieldNodes:f,context:d,info:p}){let h,m=Object.create(null);if(l!=null)h=l;else{let I=[];for(let M of f||[])if(M.selectionSet)for(let X of M.selectionSet.selections)I.push(X);h=I.length?{kind:y.SELECTION_SET,selections:I}:void 0;let k=f?.[0]?.arguments;if(k)for(let M of k)m[M.name.value]=M}let g=Object.create(null),w=Object.create(null);if(t!=null&&o!=null)for(let I of o){let k=I.variable.name.value;w[k]=I;let M=kt(t,I.type),X=sm(M,i?.[k]);X!==void 0&&(g[k]=X)}e!=null&&r!=null&&iNe(e,r,m,w,g);let T=f?.[0],v=u??T?.name.value;if(v===void 0)throw new Error('Either "targetFieldName" or a non empty "fieldNodes" array must be provided.');let x={kind:y.FIELD,arguments:Object.values(m),name:{kind:y.NAME,value:v},selectionSet:h,directives:T?.directives},A=a?{kind:y.NAME,value:a}:void 0,O=[{kind:y.OPERATION_DEFINITION,name:A,operation:c,variableDefinitions:Object.values(w),selectionSet:{kind:y.SELECTION_SET,selections:[x]}}];if(n!=null)for(let I in n){let k=n[I];k&&O.push(k)}return{document:{kind:y.DOCUMENT,definitions:O},variables:g,rootValue:s,operationName:a,context:d,info:p,operationType:c}}function iNe(t,e,r,n,o){let i=AW(n),s=t.getFields()[e];if(!s)throw new Error(`Field "${e}" was not found in type "${t}".`);for(let a of s.args){let c=a.name,u=a.type;if(r[c]===void 0){let l=a.defaultValue;l!==void 0&&xW(r,n,o,c,i(c),u,sm(u,l))}}}function UI(t,e,r,n){if(!t)return null;let o=Ww(n);if(!rb(t))return Ef(t,e,r,n);if(!Object.prototype.hasOwnProperty.call(t,o)){let i=bW(t);if(i){let s=i.missingFieldsParentMap.get(t);s||(s=[],i.missingFieldsParentMap.set(t,s)),s.push(...n.fieldNodes.filter(d=>i.unproxiableFieldNodes.some(p=>p===d)));let a=i.missingFieldsParentDeferredMap.get(t);a||(a=new Map,i.missingFieldsParentDeferredMap.set(t,a));let c=qw();a.set(o,c);let u=n.schema.extensions?.stitchingInfo,l=t?.__typename||n.parentType.name;return u?.fieldNodesByField?.[l]?.[n.fieldName]?.every(d=>{let p=d.alias?.value??d.name.value;return!!Object.prototype.hasOwnProperty.call(t,p)})&&EL(t,o,r,n),c.promise}return}return EL(t,o,r,n)}function EL(t,e,r,n){let o=nb(t,e),i=t[e],s=TL(t),a=wm(i,s,o,r,n),c=bW(t);return c?cr(()=>a,u=>(t[e]=u,sNe(t,r,n,c),u)):a}function sNe(t,e,r,n){let o=r.schema.extensions?.stitchingInfo;if(o)for(let i of n.nonProxiableSubschemas){let s=r.parentType.name,a=new Set,c=o.mergedTypes[s]?.selectionSets.get(i);c&&a.add(c);for(let u of n.unproxiableFieldNodes){let l=u.name.value,f=o.mergedTypes[s]?.fieldSelectionSets.get(i)?.[l];f&&a.add(f)}if(a.size){let u={kind:y.SELECTION_SET,selections:Array.from(a).flatMap(l=>l.selections)};cr(()=>RI(t),l=>{_W(l,t,i,u,n,o,s,e,r)})}}}function _W(t,e,r,n,o,i,s,a,c){if(ym(t,n)){let u=o.missingFieldsParentMap.get(e);if(u){let l=i.mergedTypes[s]?.resolvers.get(r);if(l){Object.assign(e,t);let f={kind:y.SELECTION_SET,selections:u};cr(()=>l(e,a,c,r,f,c.parentType,c.parentType),d=>{aNe(d,r,f,e,o,a,c)},d=>cNe(o,e,d))}}}else for(let u of n.selections)if(u.kind===y.FIELD&&u.selectionSet?.selections?.length){let l=u.alias?.value??u.name.value,f=t[l],d=u.selectionSet;if(f!=null&&!ym(f,d)){function p(h,m){return E(this,null,function*(){let g=h.__typename,w=nb(t,l);if(w&&g){let T=i.mergedTypes[g]?.delegationPlanBuilder(c.schema,w,c.variableValues!=null&&Object.keys(c.variableValues).length>0?c.variableValues:kI,c.fragments!=null&&Object.keys(c.fragments).length>0?c.fragments:kI,FI(m),a,c);if(T?.length)for(let v of T)for(let[x,A]of v){let _=i.mergedTypes[g]?.resolvers.get(x);if(_){let O=yield _(h,a,c,x,A,c.parentType,c.parentType);O&&hm(O,x,A,h,h[Vc]||=new Map,c,Ir(c.path),h[Qs]||=[])}}ym(f,d)&&_W(t,e,r,n,o,i,s,a,c)}})}Array.isArray(f)?f.forEach(h=>p(h,u)):p(f,u)}}}function aNe(t,e,r,n,o,i,s){hm(t,e,r,n,n[Vc],s,Ir(s.path),n[Qs]);let a=o.missingFieldsParentDeferredMap.get(n);if(a){for(let[c,u]of a)Object.prototype.hasOwnProperty.call(t,c)&&u.resolve(EL(n,c,i,s));o.missingFieldsParentDeferredMap.delete(n)}}function cNe(t,e,r){let n=t.missingFieldsParentDeferredMap.get(e);if(n){for(let[o,i]of n)i.reject(r);t.missingFieldsParentDeferredMap.delete(e)}}function ym(t,e){if(Array.isArray(t)){let n=new Set;for(let o of t){let i=ym(o,e);if(i===void 0)return;for(let s of i)n.add(s)}return n}if(t===null)return new Set;if(t===void 0)return;let r=new Set;for(let n of e.selections)if(n.kind===y.FIELD){let o=n.alias?.value??n.name.value;if(t[o]===void 0)return;if(rb(t)){let i=nb(t,o);i&&r.add(i)}if(t[o]===null)continue;if(n.selectionSet!=null){let i=ym(t[o],n.selectionSet);if(i===void 0)return;for(let s of i)r.add(s)}}else if(n.kind===y.INLINE_FRAGMENT){let o=ym(t,n.selectionSet);if(o===void 0)return;for(let i of o)r.add(i)}return r}function RI(t){if(Xt(t))return t.then(RI);if(Array.isArray(t))return Promise.all(t.map(RI));if(t!=null&&typeof t=="object"){let e=[],r={};for(let n in t){let o=RI(t[n]);Xt(o)?e.push(o.then(i=>{r[n]=i})):r[n]=o}return mm in t&&(r[mm]=t[mm]),Vc in t&&(r[Vc]=t[Vc]),Qs in t&&(r[Qs]=t[Qs]),e.length?Promise.all(e).then(()=>r):r}return t}function Ju(t){return!!t?.schema}function DW(t){let e=S(b({},t),{transforms:t.transforms!=null?[...t.transforms]:void 0});if(e.merge!=null){e.merge=b({},t.merge);for(let r in e.merge){let n=e.merge[r]=b({},t.merge?.[r]??{});if(n.entryPoints!=null&&(n.entryPoints=n.entryPoints.map(o=>b({},o))),n.fields!=null){let o=n.fields=b({},n.fields);for(let i in o)o[i]=b({},o[i])}}}return e}function bm(t){let{info:e,schema:r,rootValue:n=r.rootValue??e.rootValue,operationName:o=e.operation.name?.value,operation:i=nNe(e.parentType,e.schema),fieldName:s=e.fieldName,selectionSet:a,fieldNodes:c=e.fieldNodes,context:u}=t,l=oNe({sourceSchema:e.schema,sourceParentType:e.parentType,sourceFieldName:e.fieldName,fragments:e.fragments,variableDefinitions:e.operation.variableDefinitions,variableValues:e.variableValues,targetRootValue:n,targetOperationName:o,targetOperation:i,targetFieldName:s,selectionSet:a,fieldNodes:c,context:u,info:e});return uNe(S(b({},t),{request:l}))}function yW(t,e,r){let n=nm(t,e),o=n.getFields()[r];if(!o)throw new Error(`Unable to find field '${r}' in type '${n}'.`);return o.type}function uNe(t){let e=lNe(t),r=new bL(e),n=r.transformRequest(t.request);return t.validateRequest&&fNe(e,n.document),cr(()=>pNe(e)(n),function(i){return XP(i)?e.operation==="query"&&Ie(e.returnType)?new pm((s,a)=>E(null,null,function*(){let c=new WeakSet,u=!1;a.finally(()=>{u=!0});try{try{for(var l=FU(i),f,d,p;f=!(d=yield l.next()).done;f=!1){let h=d.value;if(u)break;if(h.incremental){let g={};for(let w of h.incremental)if(w.items?.length){for(let T of w.items)dW(g,(w.path||[]).slice(0,-1),T);yield s(yield r.transformResult({data:g}))}if(h.hasNext===!1)break;continue}let m=yield r.transformResult(h);if(Array.isArray(m))for(let g of m){if(u)break;let w=yield g;c.has(w)||(c.add(w),yield s(w))}else yield s(yield m)}}catch{p=[d]}finally{try{f&&(d=l.return)&&(yield d.call(l))}finally{if(p)throw p[0]}}a()}catch(h){a(h)}})):Qw(i,s=>r.transformResult(s)):r.transformResult(i)})}function lNe({request:t,schema:e,fieldName:r,returnType:n,args:o,info:i,transforms:s=[],transformedSchema:a,skipTypeMerging:c=!1,onLocatedError:u}){let l=_f(t),f;r==null?f=l.selectionSet.selections[0].name.value:f=r;let p=i?.schema.extensions?.stitchingInfo?.subschemaMap.get(e)??e,h=l.operation;if(Ju(p)){let m=p.schema;return{subschema:e,subschemaConfig:p,targetSchema:m,operation:h,fieldName:f,args:o,context:t.context,info:i,returnType:n??i?.returnType??yW(m,h,f),transforms:p.transforms!=null?p.transforms.concat(s):s,transformedSchema:a??(p instanceof tb?p.transformedSchema:LI(m,p)),skipTypeMerging:c,onLocatedError:u}}return{subschema:e,subschemaConfig:void 0,targetSchema:p,operation:h,fieldName:f,args:o,context:t.context,info:i,returnType:n??i?.returnType??yW(p,h,f),transforms:s,transformedSchema:a??p,skipTypeMerging:c}}function fNe(t,e){let r=Pc(t.targetSchema,e);if(r.length>0){if(r.length>1)throw new AggregateError(r,r.map(i=>i.message).join(`, 
`));let n=r[0];if(n)throw n.originalError||n}}var dNe={};function pNe(t){let{subschemaConfig:e,targetSchema:r,context:n}=t,o=e?.executor||cW(r);if(e?.batch){let i=e?.batchingOptions;o=_K(n??dNe,o,i?.dataLoaderOptions,i?.extensionsReducer)}return o}function gm(t,e,r,n,o={}){if(tt(e))return[];if(Ue(e)){let a=[];for(let c of e.getTypes()){let u=S(b({},r),{selections:r.selections.filter(l=>l.kind===y.INLINE_FRAGMENT?l.typeCondition?l.typeCondition.name.value===c.name:!1:!0)});a.push(...gm(t,c,u,n,o))}return a}let i=e.getFields(),s=[];for(let a of r.selections)if(a.kind===y.FIELD){if(a.name.value==="__typename")continue;let c=a.name.value,u=i[c];if(!u)n(e,a)&&s.push(a);else{let l=BI(t,u,a,n,o);l.length&&s.push(S(b({},a),{selectionSet:{kind:y.SELECTION_SET,selections:l}}))}}else if(a.kind===y.INLINE_FRAGMENT){let c=a.typeCondition?.name.value||e.name,u=a.typeCondition&&t.getType(c)||e;if(c===e.name||(K(u)||Z(u))&&st(e)&&t.isSubType(e,u)){let l=gm(t,u,a.selectionSet,n,o);l.length&&s.push(S(b({},a),{selectionSet:{kind:y.SELECTION_SET,selections:l}}))}else if(K(u)||Z(u))for(let l of a.selectionSet.selections)l.kind===y.FIELD&&l.name.value==="__typename"||n(u,l)&&s.push(l)}else if(a.kind===y.FRAGMENT_SPREAD){let c=o[a.name.value];if(c){let u=gm(t,e,{kind:y.SELECTION_SET,selections:[{kind:y.INLINE_FRAGMENT,typeCondition:{kind:y.NAMED_TYPE,name:{kind:y.NAME,value:c.typeCondition.name.value}},selectionSet:c.selectionSet}]},n,o);u.length&&s.push(...u)}}return s}function BI(t,e,r,n,o={}){if(r.selectionSet){let i=ke(e.type);return gm(t,i,r.selectionSet,n,o)}return[]}function PI(t,e){let r=[];for(let n of t.selections)switch(n.kind){case y.FIELD:{let o=n,i=e.selections.filter(s=>s.kind!==y.FIELD?!1:o.name.value===s.name.value);if(i.length>0&&o.selectionSet?.selections?.length){let s=i.reduce((a,c)=>c.selectionSet?PI(a,c.selectionSet):a,{kind:y.SELECTION_SET,selections:o.selectionSet.selections});s.selections.length&&r.push(S(b({},o),{selectionSet:s}))}else i.length===0&&r.push(n);break}case y.INLINE_FRAGMENT:{let o=n,i=e.selections.filter(s=>{if(s.kind!==y.INLINE_FRAGMENT)return!1;let a=s;return o.typeCondition?.name.value===a.typeCondition?.name.value});if(i.length>0){let s=i.reduce((a,c)=>c.selectionSet?PI(a,c.selectionSet):a,{kind:y.SELECTION_SET,selections:o.selectionSet.selections});if(s.selections.length){if(s.selections.length===1){let a=s.selections[0];if(a?.kind===y.FIELD&&(a.alias?.value||a.name.value)==="__typename")continue}r.push(S(b({},o),{selectionSet:s}))}}else r.push(n);break}case y.FRAGMENT_SPREAD:{let o=n;e.selections.some(i=>i.kind===y.FRAGMENT_SPREAD&&i.name.value===o.name.value)||r.push(n);break}}return{kind:y.SELECTION_SET,selections:r}}function hNe(t,e){return String(t)<String(e)?-1:String(t)>String(e)?1:0}function OW(t){let e;return"alias"in t&&(e=t.alias?.value),e==null&&"name"in t&&(e=t.name?.value),e==null&&(e=t.kind),e}function Hu(t,e,r){let n=OW(t),o=OW(e);return typeof r=="function"?r(n,o):hNe(n,o)}function Em(t){return t!=null}se();se();se();var mNe=["message","locations","path","nodes","source","positions","originalError","name","stack","extensions","coordinate"];function yNe(t){return t!=null&&typeof t=="object"&&Object.keys(t).every(e=>mNe.includes(e))}function vm(t,e){e?.originalError&&!(e.originalError instanceof Error)&&yNe(e.originalError)&&(e.originalError=vm(e.originalError.message,e.originalError));let r=D,n=eo.major>=16?new r(t,e):new r(t,e?.nodes,e?.source,e?.positions,e?.path,e?.originalError,e?.extensions);return e?.coordinate&&n.coordinate==null&&Object.defineProperties(n,{coordinate:{value:e.coordinate,enumerable:!0,configurable:!0}}),n}function CW(t){return t!=null&&typeof t=="object"&&Symbol.iterator in t}function RW(t){return typeof t=="object"&&t!==null}function kW(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function PW(t,e,r={}){let n={},i=(e.arguments??[]).reduce((s,a)=>S(b({},s),{[a.name.value]:a}),{});for(let{name:s,type:a,defaultValue:c}of t.args){let u=i[s];if(!u){if(c!==void 0)n[s]=c;else if(Y(a))throw vm(`Argument "${s}" of required type "${Dt(a)}" was not provided.`,{nodes:[e]});continue}let l=u.value,f=l.kind===y.NULL;if(l.kind===y.VARIABLE){let p=l.name.value;if(r==null||!kW(r,p)){if(c!==void 0)n[s]=c;else if(Y(a))throw vm(`Argument "${s}" of required type "${Dt(a)}" was provided the variable "$${p}" which was not provided a runtime value.`,{nodes:[l]});continue}f=r[p]==null}if(f&&Y(a))throw vm(`Argument "${s}" of non-null type "${Dt(a)}" must not be null.`,{nodes:[l]});let d=Sr(l,a,r);if(d===void 0)throw vm(`Argument "${s}" has invalid value ${qe(l)}.`,{nodes:[l]});n[s]=d}return n}function Tm(t){let e=new WeakMap;return function(n){let o=e.get(n);if(o===void 0){let i=t(n);return e.set(n,i),i}return o}}function LW(t,e,r=["directives"]){let n={};if(t.extensions){let s=t.extensions;for(let a of r)s=s?.[a];if(s!=null)for(let a in s){let c=s[a],u=a;if(Array.isArray(c))for(let l of c){let f=n[u];f||(f=[],n[u]=f),f.push(l)}else{let l=n[u];l||(l=[],n[u]=l),l.push(c)}}}let o=Tm(s=>JSON.stringify(s)),i=[];t.astNode&&i.push(t.astNode),t.extensionASTNodes&&i.push(...t.extensionASTNodes);for(let s of i)if(s.directives?.length)for(let a of s.directives){let c=a.name.value,u=n[c];u||(u=[],n[c]=u);let l=e?.getDirective(c),f={};if(l&&(f=PW(l,a)),a.arguments)for(let d of a.arguments){let p=d.name.value;if(f[p]==null){let h=l?.args.find(m=>m.name===p);h&&(f[p]=Sr(d.value,h.type))}f[p]==null&&(f[p]=rs(d.value))}if(i.length>0&&u.length>0){let d=o(f);if(u.some(p=>o(p)===d))continue}u.push(f)}return n}function xL(t,e=["directives"]){let r=LW(t,void 0,e);return Object.entries(r).map(([n,o])=>o?.map(i=>({name:n,args:i}))).flat(1/0).filter(Boolean)}se();se();function Ga(t){if(Y(t)){let e=Ga(t.ofType);if(e.kind===y.NON_NULL_TYPE)throw new Error(`Invalid type node ${Dt(t)}. Inner type of non-null type cannot be a non-null type.`);return{kind:y.NON_NULL_TYPE,type:e}}else if(Ie(t))return{kind:y.LIST_TYPE,type:Ga(t.ofType)};return{kind:y.NAMED_TYPE,name:{kind:y.NAME,value:t.name}}}se();se();function kf(t){if(t===null)return{kind:y.NULL};if(t===void 0)return null;if(Array.isArray(t)){let e=[];for(let r of t){let n=kf(r);n!=null&&e.push(n)}return{kind:y.LIST,values:e}}if(typeof t=="object"){if(t?.toJSON)return kf(t.toJSON());let e=[];for(let r in t){let n=t[r],o=kf(n);o&&e.push({kind:y.OBJECT_FIELD,name:{kind:y.NAME,value:r},value:o})}return{kind:y.OBJECT,fields:e}}if(typeof t=="boolean")return{kind:y.BOOLEAN,value:t};if(typeof t=="bigint")return{kind:y.INT,value:String(t)};if(typeof t=="number"&&isFinite(t)){let e=String(t);return gNe.test(e)?{kind:y.INT,value:e}:{kind:y.FLOAT,value:e}}if(typeof t=="string")return{kind:y.STRING,value:t};throw new TypeError(`Cannot convert value to AST: ${t}.`)}var gNe=/^-?(?:0|[1-9][0-9]*)$/;function Ku(t,e){if(Y(e)){let r=Ku(t,e.ofType);return r?.kind===y.NULL?null:r}if(t===null)return{kind:y.NULL};if(t===void 0)return null;if(Ie(e)){let r=e.ofType;if(CW(t)){let n=[];for(let o of t){let i=Ku(o,r);i!=null&&n.push(i)}return{kind:y.LIST,values:n}}return Ku(t,r)}if(pe(e)){if(!RW(t))return null;let r=[];for(let n of Object.values(e.getFields())){let o=Ku(t[n.name],n.type);o&&r.push({kind:y.OBJECT_FIELD,name:{kind:y.NAME,value:n.name},value:o})}return{kind:y.OBJECT,fields:r}}if(tt(e)){let r=e.serialize(t);return r==null?null:Pe(e)?{kind:y.ENUM,value:r}:e.name==="ID"&&typeof r=="string"&&wNe.test(r)?{kind:y.INT,value:r}:kf(r)}console.assert(!1,"Unexpected input type: "+Dt(e))}var wNe=/^-?(?:0|[1-9][0-9]*)$/;se();function Ii(t){if(t.astNode?.description)return S(b({},t.astNode.description),{block:!0});if(t.description)return{kind:y.STRING,value:t.description,block:!0}}var _ht=Tm(function(e){let r=bNe(e);return new Set([...r].map(n=>n.name))}),bNe=Tm(function(e){let r=AL(e);return new Set(r.values())}),AL=Tm(function(e){let r=new Map,n=e.getQueryType();n&&r.set("query",n);let o=e.getMutationType();o&&r.set("mutation",o);let i=e.getSubscriptionType();return i&&r.set("subscription",i),r});function FW(t,e={}){let r=e.pathToDirectivesInExtensions,n=t.getTypeMap(),o=ENe(t,r),i=o!=null?[o]:[],s=t.getDirectives();for(let a of s)os(a)||i.push(vNe(a,t,r));for(let a in n){let c=n[a],u=Kr(c),l=Tn(c);if(!(u||l))if(K(c))i.push(TNe(c,t,r));else if(Z(c))i.push(xNe(c,t,r));else if(Ue(c))i.push(ANe(c,t,r));else if(pe(c))i.push(INe(c,t,r));else if(Pe(c))i.push(SNe(c,t,r));else if(lt(c))i.push(NNe(c,t,r));else throw new Error(`Unknown type ${c}.`)}return{kind:y.DOCUMENT,definitions:i}}function ENe(t,e){let r=new Map([["query",void 0],["mutation",void 0],["subscription",void 0]]),n=[];if(t.astNode!=null&&n.push(t.astNode),t.extensionASTNodes!=null)for(let u of t.extensionASTNodes)n.push(u);for(let u of n)if(u.operationTypes)for(let l of u.operationTypes)r.set(l.operation,l);let o=AL(t);for(let[u,l]of r){let f=o.get(u);if(f!=null){let d=Ga(f);l!=null?l.type=d:r.set(u,{kind:y.OPERATION_TYPE_DEFINITION,operation:u,type:d})}}let i=[...r.values()].filter(Em),s=za(t,t,e);if(!i.length&&!s.length)return null;let a={kind:i.length?y.SCHEMA_DEFINITION:y.SCHEMA_EXTENSION,operationTypes:i,directives:s},c=Ii(t);return c&&(a.description=c),a}function vNe(t,e,r){return{kind:y.DIRECTIVE_DEFINITION,description:Ii(t),name:{kind:y.NAME,value:t.name},arguments:t.args?.map(n=>UW(n,e,r)),repeatable:t.isRepeatable,locations:t.locations?.map(n=>({kind:y.NAME,value:n}))||[]}}function za(t,e,r){let n=[],o=xL(t,r),i;o!=null&&(i=MW(e,o));let s=null,a=null,c=null;if(i!=null&&(n=i.filter(u=>rn.every(l=>l.name!==u.name.value)),s=i.find(u=>u.name.value==="deprecated"),a=i.find(u=>u.name.value==="specifiedBy"),c=i.find(u=>u.name.value==="oneOf")),t.deprecationReason!=null&&s==null&&(s=ONe(t.deprecationReason)),t.specifiedByUrl!=null||t.specifiedByURL!=null&&a==null){let l={url:t.specifiedByUrl||t.specifiedByURL};a=ib("specifiedBy",l)}return t.isOneOf&&c==null&&(c=ib("oneOf")),s!=null&&n.push(s),a!=null&&n.push(a),c!=null&&n.push(c),n}function UW(t,e,r){return{kind:y.INPUT_VALUE_DEFINITION,description:Ii(t),name:{kind:y.NAME,value:t.name},type:Ga(t.type),defaultValue:t.defaultValue!==void 0?Ku(t.defaultValue,t.type)??void 0:void 0,directives:za(t,e,r)}}function TNe(t,e,r){return{kind:y.OBJECT_TYPE_DEFINITION,description:Ii(t),name:{kind:y.NAME,value:t.name},fields:Object.values(t.getFields()).map(n=>BW(n,e,r)),interfaces:Object.values(t.getInterfaces()).map(n=>Ga(n)),directives:za(t,e,r)}}function xNe(t,e,r){let n={kind:y.INTERFACE_TYPE_DEFINITION,description:Ii(t),name:{kind:y.NAME,value:t.name},fields:Object.values(t.getFields()).map(o=>BW(o,e,r)),directives:za(t,e,r)};return"getInterfaces"in t&&(n.interfaces=Object.values(t.getInterfaces()).map(o=>Ga(o))),n}function ANe(t,e,r){return{kind:y.UNION_TYPE_DEFINITION,description:Ii(t),name:{kind:y.NAME,value:t.name},directives:za(t,e,r),types:t.getTypes().map(n=>Ga(n))}}function INe(t,e,r){return{kind:y.INPUT_OBJECT_TYPE_DEFINITION,description:Ii(t),name:{kind:y.NAME,value:t.name},fields:Object.values(t.getFields()).map(n=>_Ne(n,e,r)),directives:za(t,e,r)}}function SNe(t,e,r){return{kind:y.ENUM_TYPE_DEFINITION,description:Ii(t),name:{kind:y.NAME,value:t.name},values:Object.values(t.getValues()).map(n=>DNe(n,e,r)),directives:za(t,e,r)}}function NNe(t,e,r){let n=xL(t,r),o=MW(e,n),i=t.specifiedByUrl||t.specifiedByURL;if(i&&!o.some(s=>s.name.value==="specifiedBy")){let s={url:i};o.push(ib("specifiedBy",s))}return{kind:y.SCALAR_TYPE_DEFINITION,description:Ii(t),name:{kind:y.NAME,value:t.name},directives:o}}function BW(t,e,r){return{kind:y.FIELD_DEFINITION,description:Ii(t),name:{kind:y.NAME,value:t.name},arguments:t.args.map(n=>UW(n,e,r)),type:Ga(t.type),directives:za(t,e,r)}}function _Ne(t,e,r){return{kind:y.INPUT_VALUE_DEFINITION,description:Ii(t),name:{kind:y.NAME,value:t.name},type:Ga(t.type),directives:za(t,e,r),defaultValue:Ku(t.defaultValue,t.type)??void 0}}function DNe(t,e,r){return{kind:y.ENUM_VALUE_DEFINITION,description:Ii(t),name:{kind:y.NAME,value:t.name},directives:za(t,e,r)}}function ONe(t){return ib("deprecated",{reason:t},ns)}function ib(t,e,r){let n=[];for(let o in e){let i=e[o],s;if(r!=null){let a=r.args.find(c=>c.name===o);a&&(s=Ku(i,a.type))}s==null&&(s=kf(i)),s!=null&&n.push({kind:y.ARGUMENT,name:{kind:y.NAME,value:o},value:s})}return{kind:y.DIRECTIVE,name:{kind:y.NAME,value:t},arguments:n}}function MW(t,e){let r=[];for(let{name:n,args:o}of e){let i=t?.getDirective(n);r.push(ib(n,o,i))}return r}se();var CNe=80,xm={};function $I(){xm={}}function GW(t){let e=t.name?.value;if(e!=null)switch(MI(t,e),t.kind){case"EnumTypeDefinition":if(t.values)for(let r of t.values)MI(r,e,r.name.value);break;case"ObjectTypeDefinition":case"InputObjectTypeDefinition":case"InterfaceTypeDefinition":if(t.fields){for(let r of t.fields)if(MI(r,e,r.name.value),FNe(r)&&r.arguments)for(let n of r.arguments)MI(n,e,r.name.value,n.name.value)}break}}function MI(t,e,r,n){let o=UNe(t);if(typeof o!="string"||o.length===0)return;let i=[e];r&&(i.push(r),n&&i.push(n));let s=i.join(".");xm[s]||(xm[s]=[]),xm[s].push(o)}function RNe(t){return`
# `+t.replace(/\n/g,`
# `)}function Oe(t,e){return t?t.filter(r=>r).join(e||""):""}function $W(t){return t?.some(e=>e.includes(`
`))??!1}function kNe(t){return(e,r,n,o,i)=>{let s=[],a=o.reduce((l,f)=>(["fields","arguments","values"].includes(f)&&l.name&&s.push(l.name.value),l[f]),i[0]),c=[...s,a?.name?.value].filter(Boolean).join("."),u=[];return e.kind.includes("Definition")&&xm[c]&&u.push(...xm[c]),Oe([...u.map(RNe),e.description,t(e,r,n,o,i)],`
`)}}function sb(t){return t&&`  ${t.replace(/\n/g,`
  `)}`}function Js(t){return t&&t.length!==0?`{
${sb(Oe(t,`
`))}
}`:""}function Cr(t,e,r){return e?t+e+(r||""):""}function PNe(t,e=!1){let r=t.replace(/\\/g,"\\\\").replace(/"""/g,'\\"""');return(t[0]===" "||t[0]==="	")&&t.indexOf(`
`)===-1?`"""${r.replace(/"$/,`"
`)}"""`:`"""
${e?r:sb(r)}
"""`}var VW={Name:{leave:t=>t.value},Variable:{leave:t=>"$"+t.name},Document:{leave:t=>Oe(t.definitions,`

`)},OperationDefinition:{leave:t=>{let e=Cr("(",Oe(t.variableDefinitions,", "),")");return Oe([t.operation,Oe([t.name,e]),Oe(t.directives," ")]," ")+" "+t.selectionSet}},VariableDefinition:{leave:({variable:t,type:e,defaultValue:r,directives:n})=>t+": "+e+Cr(" = ",r)+Cr(" ",Oe(n," "))},SelectionSet:{leave:({selections:t})=>Js(t)},Field:{leave({alias:t,name:e,arguments:r,directives:n,selectionSet:o}){let i=Cr("",t,": ")+e,s=i+Cr("(",Oe(r,", "),")");return s.length>CNe&&(s=i+Cr(`(
`,sb(Oe(r,`
`)),`
)`)),Oe([s,Oe(n," "),o]," ")}},Argument:{leave:({name:t,value:e})=>t+": "+e},FragmentSpread:{leave:({name:t,directives:e})=>"..."+t+Cr(" ",Oe(e," "))},InlineFragment:{leave:({typeCondition:t,directives:e,selectionSet:r})=>Oe(["...",Cr("on ",t),Oe(e," "),r]," ")},FragmentDefinition:{leave:({name:t,typeCondition:e,variableDefinitions:r,directives:n,selectionSet:o})=>`fragment ${t}${Cr("(",Oe(r,", "),")")} on ${e} ${Cr("",Oe(n," ")," ")}`+o},IntValue:{leave:({value:t})=>t},FloatValue:{leave:({value:t})=>t},StringValue:{leave:({value:t,block:e})=>e?PNe(t):JSON.stringify(t)},BooleanValue:{leave:({value:t})=>t?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:t})=>t},ListValue:{leave:({values:t})=>"["+Oe(t,", ")+"]"},ObjectValue:{leave:({fields:t})=>"{"+Oe(t,", ")+"}"},ObjectField:{leave:({name:t,value:e})=>t+": "+e},Directive:{leave:({name:t,arguments:e})=>"@"+t+Cr("(",Oe(e,", "),")")},NamedType:{leave:({name:t})=>t},ListType:{leave:({type:t})=>"["+t+"]"},NonNullType:{leave:({type:t})=>t+"!"},SchemaDefinition:{leave:({directives:t,operationTypes:e})=>Oe(["schema",Oe(t," "),Js(e)]," ")},OperationTypeDefinition:{leave:({operation:t,type:e})=>t+": "+e},ScalarTypeDefinition:{leave:({name:t,directives:e})=>Oe(["scalar",t,Oe(e," ")]," ")},ObjectTypeDefinition:{leave:({name:t,interfaces:e,directives:r,fields:n})=>Oe(["type",t,Cr("implements ",Oe(e," & ")),Oe(r," "),Js(n)]," ")},FieldDefinition:{leave:({name:t,arguments:e,type:r,directives:n})=>t+($W(e)?Cr(`(
`,sb(Oe(e,`
`)),`
)`):Cr("(",Oe(e,", "),")"))+": "+r+Cr(" ",Oe(n," "))},InputValueDefinition:{leave:({name:t,type:e,defaultValue:r,directives:n})=>Oe([t+": "+e,Cr("= ",r),Oe(n," ")]," ")},InterfaceTypeDefinition:{leave:({name:t,interfaces:e,directives:r,fields:n})=>Oe(["interface",t,Cr("implements ",Oe(e," & ")),Oe(r," "),Js(n)]," ")},UnionTypeDefinition:{leave:({name:t,directives:e,types:r})=>Oe(["union",t,Oe(e," "),Cr("= ",Oe(r," | "))]," ")},EnumTypeDefinition:{leave:({name:t,directives:e,values:r})=>Oe(["enum",t,Oe(e," "),Js(r)]," ")},EnumValueDefinition:{leave:({name:t,directives:e})=>Oe([t,Oe(e," ")]," ")},InputObjectTypeDefinition:{leave:({name:t,directives:e,fields:r})=>Oe(["input",t,Oe(e," "),Js(r)]," ")},DirectiveDefinition:{leave:({name:t,arguments:e,repeatable:r,locations:n})=>"directive @"+t+($W(e)?Cr(`(
`,sb(Oe(e,`
`)),`
)`):Cr("(",Oe(e,", "),")"))+(r?" repeatable":"")+" on "+Oe(n," | ")},SchemaExtension:{leave:({directives:t,operationTypes:e})=>Oe(["extend schema",Oe(t," "),Js(e)]," ")},ScalarTypeExtension:{leave:({name:t,directives:e})=>Oe(["extend scalar",t,Oe(e," ")]," ")},ObjectTypeExtension:{leave:({name:t,interfaces:e,directives:r,fields:n})=>Oe(["extend type",t,Cr("implements ",Oe(e," & ")),Oe(r," "),Js(n)]," ")},InterfaceTypeExtension:{leave:({name:t,interfaces:e,directives:r,fields:n})=>Oe(["extend interface",t,Cr("implements ",Oe(e," & ")),Oe(r," "),Js(n)]," ")},UnionTypeExtension:{leave:({name:t,directives:e,types:r})=>Oe(["extend union",t,Oe(e," "),Cr("= ",Oe(r," | "))]," ")},EnumTypeExtension:{leave:({name:t,directives:e,values:r})=>Oe(["extend enum",t,Oe(e," "),Js(r)]," ")},InputObjectTypeExtension:{leave:({name:t,directives:e,fields:r})=>Oe(["extend input",t,Oe(e," "),Js(r)]," ")}},LNe=Object.keys(VW).reduce((t,e)=>S(b({},t),{[e]:{leave:kNe(VW[e].leave)}}),{});function zW(t){return or(t,LNe)}function FNe(t){return t.kind==="FieldDefinition"}function UNe(t){let e=BNe(t);if(e!==void 0)return MNe(`
${e}`)}function BNe(t){let e=t.loc;if(!e)return;let r=[],n=e.startToken.prev;for(;n!=null&&n.kind===F.COMMENT&&n.next!=null&&n.prev!=null&&n.line+1===n.next.line&&n.line!==n.prev.line;){let o=String(n.value);r.push(o),n=n.prev}return r.length>0?r.reverse().join(`
`):void 0}function MNe(t){let e=t.split(/\r\n|[\n\r]/g),r=$Ne(e);if(r!==0)for(let n=1;n<e.length;n++)e[n]=e[n].slice(r);for(;e.length>0&&jW(e[0]);)e.shift();for(;e.length>0&&jW(e[e.length-1]);)e.pop();return e.join(`
`)}function $Ne(t){let e=null;for(let r=1;r<t.length;r++){let n=t[r],o=qW(n);if(o!==n.length&&(e===null||o<e)&&(e=o,e===0))break}return e===null?0:e}function qW(t){let e=0;for(;e<t.length&&(t[e]===" "||t[e]==="	");)e++;return e}function jW(t){return qW(t)===t.length}function Wu(t,e=!1,r=!1,n=!1){if(t.length===0)return;if(t.length===1)return t[0];let o,i=!0,s=t.every(u=>{if(Array.isArray(u)){if(o===void 0)return o=u.length,!0;if(o===u.length)return!0}else i=!1;return!1});if(n&&s)return new Array(o).fill(null).map((u,l)=>Wu(t.map(f=>f[l]),e,r,n));if(i)return t.flat(1);let a,c;e&&(c=t.find(u=>QW(u)),c&&(a==null&&(a={}),Object.setPrototypeOf(a,Object.create(Object.getPrototypeOf(c)))));for(let u of t)if(u!=null)if(QW(u)){if(c){let l=Object.getPrototypeOf(a),f=Object.getPrototypeOf(u);if(f)for(let d of Object.getOwnPropertyNames(f)){let p=Object.getOwnPropertyDescriptor(f,d);Em(p)&&Object.defineProperty(l,d,p)}}for(let l in u)a==null&&(a={}),l in a?a[l]=Wu([a[l],u[l]],e,r,n):a[l]=u[l]}else Array.isArray(u)&&Array.isArray(a)?a=Wu([a,u],e,r,n):a=u;return a}function QW(t){return t&&typeof t=="object"&&!Array.isArray(t)}se();function JW(t){return t&&typeof t=="object"&&"kind"in t&&t.kind===y.DOCUMENT}function IL(t,e){if(!t||Array.isArray(t)&&t.length===0)return{};if(!Array.isArray(t))return t;if(t.length===1)return t[0]||{};let r=new Array;for(let o of t)Array.isArray(o)&&(o=IL(o)),typeof o=="object"&&o&&r.push(o);let n=Wu(r,!0);if(e?.exclusions)for(let o of e.exclusions){let[i,s]=o.split(".");["__proto__","constructor","prototype"].includes(i)||["__proto__","constructor","prototype"].includes(s)||(!s||s==="*"?delete n[i]:n[i]&&delete n[i][s])}return n}function HW(t,e,r){let n=VNe([...e,...t].filter(Em),r);return r&&r.sort&&n.sort(Hu),n}function VNe(t,e){return t.reduce((r,n)=>{let o=r.findIndex(i=>i.name.value===n.name.value);return o===-1?r.concat([n]):(e?.reverseArguments||(r[o]=n),r)},[])}se();function jNe(t,e,r){return!!(e?.[t.name.value]?.repeatable??r?.has(t.name.value))}function KW(t,e){return e.some(({value:r})=>r===t.value)}function GNe(t,e){let r=[];for(let n of[...e,...t]){let o=r.findIndex(i=>i.name.value===n.name.value);if(o===-1)r.push(n);else{let i=r[o];if(i.value.kind==="ListValue"){let s=i.value.values,a=n.value.values;i.value=S(b({},i.value),{values:XW(s,a,(c,u)=>{let l=c.value;return!l||!u.some(f=>f.value===l)})})}else i.value=n.value}}return r}var SL=(t,e)=>{if(t.kind===e.kind)switch(t.kind){case y.LIST:return t.values.length===e.values.length&&t.values.every(r=>e.values.find(n=>SL(r,n)));case y.VARIABLE:case y.NULL:return!0;case y.OBJECT:return t.fields.length===e.fields.length&&t.fields.every(r=>e.fields.find(n=>r.name.value===n.name.value&&SL(r.value,n.value)));default:return t.value===e.value}return!1},NL=t=>t.name.value==="link",WW=t=>{let e=NL(t)?t.arguments?.find(r=>r.name.value==="url")?.value:void 0;return e?.kind==="StringValue"?e.value:void 0},zNe=(t,e)=>t.name.value===e.name.value&&t.value.kind===e.value.kind&&SL(t.value,e.value),qNe=(t,e)=>!!(t.name.value===e.name.value&&(t.arguments===e.arguments||t.arguments?.length===e.arguments?.length&&t.arguments?.every(n=>e.arguments?.find(o=>zNe(n,o)))));function Sn(t=[],e=[],r,n){let o=r&&r.reverseDirectives,i=o?t:e,s=o?e:t,a=[];for(let c of[...i,...s])if(jNe(c,n,r?.repeatableLinkImports))a.find(l=>qNe(c,l))||a.push(c);else{let u=a.findIndex(l=>l.name.value===c.name.value);if(u===-1)a.push(c);else{if(NL(c)&&NL(a[u])){let f=WW(c),d=WW(a[u]);if(f&&d&&f!==d){a.push(c);continue}}let l=GNe(c.arguments??[],a[u].arguments??[]);a[u]=S(b({},a[u]),{arguments:l.length===0?void 0:l})}}return a}function YW(t,e){return e?S(b({},t),{arguments:XW(e.arguments||[],t.arguments||[],(r,n)=>!KW(r.name,n.map(o=>o.name))),locations:[...e.locations,...t.locations.filter(r=>!KW(r,e.locations))]}):t}function XW(t,e,r){return t.concat(e.filter(n=>r(n,t)))}function ZW(t,e,r,n){if(r?.consistentEnumMerge){let s=[];t&&s.push(...t),t=e,e=s}let o=new Map;if(t)for(let s of t)o.set(s.name.value,s);if(e)for(let s of e){let a=s.name.value;if(o.has(a)){let c=o.get(a);c.description=s.description||c.description,c.directives=Sn(s.directives,c.directives,n)}else o.set(a,s)}let i=[...o.values()];return r&&r.sort&&i.sort(Hu),i}se();function VI(t,e,r,n){return e?{name:t.name,description:t.description||e.description,kind:r?.convertExtensions||t.kind==="EnumTypeDefinition"||e.kind==="EnumTypeDefinition"?"EnumTypeDefinition":"EnumTypeExtension",loc:t.loc,directives:Sn(t.directives,e.directives,r,n),values:ZW(t.values,e.values,r)}:r?.convertExtensions?S(b({},t),{kind:y.ENUM_TYPE_DEFINITION}):t}se();function eY(t){return typeof t=="string"}function tY(t){return t instanceof vi}function _L(t){let e=t;for(;e.kind===y.LIST_TYPE||e.kind==="NonNullType";)e=e.type;return e}function DL(t){return t.kind!==y.NAMED_TYPE}function jI(t){return t.kind===y.LIST_TYPE}function Yu(t){return t.kind===y.NON_NULL_TYPE}function ab(t){return jI(t)?`[${ab(t.type)}]`:Yu(t)?`${ab(t.type)}!`:t.name.value}var Pf=(function(t){return t[t.A_SMALLER_THAN_B=-1]="A_SMALLER_THAN_B",t[t.A_EQUALS_B=0]="A_EQUALS_B",t[t.A_GREATER_THAN_B=1]="A_GREATER_THAN_B",t})(Pf||{});function rY(t,e){return t==null&&e==null?Pf.A_EQUALS_B:t==null?Pf.A_SMALLER_THAN_B:e==null?Pf.A_GREATER_THAN_B:t<e?Pf.A_SMALLER_THAN_B:t>e?Pf.A_GREATER_THAN_B:Pf.A_EQUALS_B}function QNe(t,e){let r=t.findIndex(n=>n.name.value===e.name.value);return[r>-1?t[r]:null,r]}function Am(t,e,r,n,o){let i=[];if(r!=null&&i.push(...r),e!=null)for(let s of e){let[a,c]=QNe(i,s);if(a&&!n?.ignoreFieldConflicts){let u=n?.onFieldTypeConflict&&n.onFieldTypeConflict(a,s,t,n?.throwOnConflict)||JNe(t,a,s,n?.throwOnConflict);u.arguments=HW(s.arguments||[],a.arguments||[],n),u.directives=Sn(s.directives,a.directives,n,o),u.description=s.description||a.description,i[c]=u}else i.push(s)}if(n&&n.sort&&i.sort(Hu),n&&n.exclusions){let s=n.exclusions;return i.filter(a=>!s.includes(`${t.name.value}.${a.name.value}`))}return i}function JNe(t,e,r,n=!1){let o=ab(e.type),i=ab(r.type);if(o!==i){let s=_L(e.type),a=_L(r.type);if(s.name.value!==a.name.value)throw new Error(`Field "${r.name.value}" already defined with a different type. Declared as "${s.name.value}", but you tried to override with "${a.name.value}"`);if(!cb(e.type,r.type,!n))throw new Error(`Field '${t.name.value}.${e.name.value}' changed type from '${o}' to '${i}'`)}return Yu(r.type)&&!Yu(e.type)&&(e.type=r.type),e}function cb(t,e,r=!1){if(!DL(t)&&!DL(e))return t.toString()===e.toString();if(Yu(e)){let n=Yu(t)?t.type:t;return cb(n,e.type)}return Yu(t)?cb(e,t,r):jI(t)?jI(e)&&cb(t.type,e.type)||Yu(e)&&cb(t,e.type):!1}se();function GI(t,e,r,n){if(e)try{return{name:t.name,description:t.description||e.description,kind:r?.convertExtensions||t.kind==="InputObjectTypeDefinition"||e.kind==="InputObjectTypeDefinition"?"InputObjectTypeDefinition":"InputObjectTypeExtension",loc:t.loc,fields:Am(t,t.fields,e.fields,r),directives:Sn(t.directives,e.directives,r,n)}}catch(o){throw new Error(`Unable to merge GraphQL input type "${t.name.value}": ${o.message}`)}return r?.convertExtensions?S(b({},t),{kind:y.INPUT_OBJECT_TYPE_DEFINITION}):t}se();function HNe(t,e){return!!t.find(r=>r.name.value===e.name.value)}function Im(t=[],e=[],r={}){let n=[...e,...t.filter(o=>!HNe(e,o))];return r&&r.sort&&n.sort(Hu),n}function zI(t,e,r,n){if(e)try{return{name:t.name,description:t.description||e.description,kind:r?.convertExtensions||t.kind==="InterfaceTypeDefinition"||e.kind==="InterfaceTypeDefinition"?"InterfaceTypeDefinition":"InterfaceTypeExtension",loc:t.loc,fields:Am(t,t.fields,e.fields,r,n),directives:Sn(t.directives,e.directives,r,n),interfaces:t.interfaces?Im(t.interfaces,e.interfaces,r):void 0}}catch(o){throw new Error(`Unable to merge GraphQL interface "${t.name.value}": ${o.message}`)}return r?.convertExtensions?S(b({},t),{kind:y.INTERFACE_TYPE_DEFINITION}):t}se();se();function qI(t,e,r,n){return e?{name:t.name,description:t.description||e.description,kind:r?.convertExtensions||t.kind==="ScalarTypeDefinition"||e.kind==="ScalarTypeDefinition"?"ScalarTypeDefinition":"ScalarTypeExtension",loc:t.loc,directives:Sn(t.directives,e.directives,r,n)}:r?.convertExtensions?S(b({},t),{kind:y.SCALAR_TYPE_DEFINITION}):t}se();var QI={query:"Query",mutation:"Mutation",subscription:"Subscription"};function KNe(t=[],e=[]){let r=[];for(let n in QI){let o=t.find(i=>i.operation===n)||e.find(i=>i.operation===n);o&&r.push(o)}return r}function nY(t,e,r,n){return e?{kind:t.kind===y.SCHEMA_DEFINITION||e.kind===y.SCHEMA_DEFINITION?y.SCHEMA_DEFINITION:y.SCHEMA_EXTENSION,description:t.description||e.description,directives:Sn(t.directives,e.directives,r,n),operationTypes:KNe(t.operationTypes,e.operationTypes)}:r?.convertExtensions?S(b({},t),{kind:y.SCHEMA_DEFINITION}):t}se();function JI(t,e,r,n){if(e)try{return{name:t.name,description:t.description||e.description,kind:r?.convertExtensions||t.kind==="ObjectTypeDefinition"||e.kind==="ObjectTypeDefinition"?"ObjectTypeDefinition":"ObjectTypeExtension",loc:t.loc,fields:Am(t,t.fields,e.fields,r,n),directives:Sn(t.directives,e.directives,r,n),interfaces:Im(t.interfaces,e.interfaces,r)}}catch(o){throw new Error(`Unable to merge GraphQL type "${t.name.value}": ${o.message}`)}return r?.convertExtensions?S(b({},t),{kind:y.OBJECT_TYPE_DEFINITION}):t}se();function HI(t,e,r,n){return e?{name:t.name,description:t.description||e.description,directives:Sn(t.directives,e.directives,r,n),kind:r?.convertExtensions||t.kind==="UnionTypeDefinition"||e.kind==="UnionTypeDefinition"?y.UNION_TYPE_DEFINITION:y.UNION_TYPE_EXTENSION,loc:t.loc,types:Im(t.types,e.types,r)}:r?.convertExtensions?S(b({},t),{kind:y.UNION_TYPE_DEFINITION}):t}var Lf="SCHEMA_DEF_SYMBOL";function WNe(t){return"name"in t}function OL(t,e,r={}){let n=r;for(let o of t)if(WNe(o)){let i=o.name?.value;if(e?.commentDescriptions&&GW(o),i==null)continue;if(e?.exclusions?.includes(i+".*")||e?.exclusions?.includes(i))delete n[i];else switch(o.kind){case y.OBJECT_TYPE_DEFINITION:case y.OBJECT_TYPE_EXTENSION:n[i]=JI(o,n[i],e,r);break;case y.ENUM_TYPE_DEFINITION:case y.ENUM_TYPE_EXTENSION:n[i]=VI(o,n[i],e,r);break;case y.UNION_TYPE_DEFINITION:case y.UNION_TYPE_EXTENSION:n[i]=HI(o,n[i],e,r);break;case y.SCALAR_TYPE_DEFINITION:case y.SCALAR_TYPE_EXTENSION:n[i]=qI(o,n[i],e,r);break;case y.INPUT_OBJECT_TYPE_DEFINITION:case y.INPUT_OBJECT_TYPE_EXTENSION:n[i]=GI(o,n[i],e,r);break;case y.INTERFACE_TYPE_DEFINITION:case y.INTERFACE_TYPE_EXTENSION:n[i]=zI(o,n[i],e,r);break;case y.DIRECTIVE_DEFINITION:n[i]&&i in{}&&(YNe(n[i])||(n[i]=void 0)),n[i]=YW(o,n[i]);break}}else(o.kind===y.SCHEMA_DEFINITION||o.kind===y.SCHEMA_EXTENSION)&&(n[Lf]=nY(o,n[Lf],e));return n}function YNe(t){return t!=null&&typeof t=="object"&&"kind"in t&&typeof t.kind=="string"}se();se();function oY(t){return t.as??t.url.name}function XNe(t){let e=oY(t);return e&&`@${e}`}function KI(t,e){if(t.url.name&&e===`@${t.url.name}`)return XNe(t).substring(1);let r=t.imports.find(o=>o.name===e),n=r?.as??r?.name??ZNe(oY(t),e);return n.startsWith("@")?n.substring(1):n}function ZNe(t,e){return t?.length?e.startsWith("@")?`@${t}__${e.substring(1)}`:`${t}__${e}`:e}function iY(t){let e=[];for(let r of t.definitions)if(r.kind===y.SCHEMA_EXTENSION||r.kind===y.SCHEMA_DEFINITION){let o=r.directives?.filter(a=>a.name.value==="link")?.map(a=>e1e(a.arguments??[])).filter(a=>a!==void 0)??[];e=e.concat(o);let s=r.directives?.filter(({name:a})=>a.value==="core")?.map(a=>t1e(a.arguments??[])).filter(a=>a!==void 0);s&&(e=e.concat(...s))}return e}function e1e(t){let e,r=[],n;for(let o of t)switch(o.name.value){case"url":{o.value.kind===y.STRING&&(e=sY(o.value.value));break}case"import":{r=r1e(o.value);break}case"as":{o.value.kind===y.STRING&&(n=o.value.value??void 0);break}default:}if(e!==void 0)return{url:e,as:n,imports:r}}function t1e(t){let e=t.find(({name:r,value:n})=>r.value==="feature"&&n.kind===y.STRING);if(e)return{url:sY(e.value.value),imports:[]}}function r1e(t){return t.kind===y.LIST?t.values.map(r=>{let n;if(r.kind===y.STRING)n={name:r.value};else if(r.kind===y.OBJECT){let o="",i;for(let s of r.fields)s.name.value==="name"?s.value.kind===y.STRING&&(o=s.value.value):s.name.value==="as"&&s.value.kind===y.STRING&&(i=s.value.value);n={name:o,as:i}}return n}).filter(r=>r!==void 0):[]}var n1e=/v(\d{1,3})\.(\d{1,4})/i;function sY(t){let e=new URL(t),r=e.pathname.split("/").filter(Boolean),n=r[r.length-1];if(n){if(n1e.test(n)){let o=r[r.length-2];return{identity:e.origin+(o?`/${r.slice(0,r.length-1).join("/")}`:""),name:o??null,version:n}}return{identity:`${e.origin}/${r.join("/")}`,name:n,version:null}}return{identity:e.origin,name:null,version:null}}function aY(t,e){$I();let r={kind:y.DOCUMENT,definitions:o1e(t,b({useSchemaDefinition:!0,forceSchemaDefinition:!1,throwOnConflict:!1,commentDescriptions:!1},e))},n;return e?.commentDescriptions?n=zW(r):n=r,$I(),n}function Sm(t,e,r=[],n=[],o=new Set,i=new Set){let s=a=>{i.add(a)};if(t&&!o.has(t))if(o.add(t),typeof t=="function")Sm(t(),e,r,n,o,i);else if(Array.isArray(t))for(let a of t)Sm(a,e,r,n,o,i);else if(Lh(t)){let a=FW(t,e);Sm(a.definitions,e,r,n,o,i)}else if(eY(t)||tY(t)){let a=no(t,e);Sm(a.definitions,e,r,n,o,i)}else if(typeof t=="object"&&K0(t)){let a=iY({definitions:[t],kind:y.DOCUMENT}),c="https://specs.apollo.dev/federation",u="https://specs.apollo.dev/link",l=a.find(d=>d.url.identity===c);l&&(s(KI(l,"@composeDirective")),s(KI(l,"@key")));let f=a.find(d=>d.url.identity===u);f&&s(KI(f,"@link")),t.kind===y.DIRECTIVE_DEFINITION?r.push(t):n.push(t)}else if(JW(t))Sm(t.definitions,e,r,n,o,i);else throw new Error(`typeDefs must contain only strings, documents, schemas, or functions, got ${typeof t}`);return{allDirectives:r,allNodes:n,repeatableLinkImports:i}}function o1e(t,e){$I();let{allDirectives:r,allNodes:n,repeatableLinkImports:o}=Sm(t,e),i=OL(r,e);e.repeatableLinkImports=o;let s=OL(n,e,i);if(e?.useSchemaDefinition){let c=s[Lf]||{kind:y.SCHEMA_DEFINITION,operationTypes:[]},u=c.operationTypes;for(let l in QI)if(!u.find(d=>d.operation===l)){let d=QI[l],p=s[d];p!=null&&p.name!=null&&u.push({kind:y.OPERATION_TYPE_DEFINITION,type:{kind:y.NAMED_TYPE,name:p.name},operation:l})}c?.operationTypes?.length!=null&&c.operationTypes.length>0&&(s[Lf]=c)}e?.forceSchemaDefinition&&!s[Lf]?.operationTypes?.length&&(s[Lf]={kind:y.SCHEMA_DEFINITION,operationTypes:[{kind:y.OPERATION_TYPE_DEFINITION,operation:"query",type:{kind:y.NAMED_TYPE,name:{kind:y.NAME,value:"Query"}}}]});let a=Object.values(s);if(e?.sort){let c=typeof e.sort=="function"?e.sort:rY;a.sort((u,l)=>c(u.name?.value,l.name?.value))}return a}function cY(t){return Wu(t,!1,!0)}function Nm(t,e){if(!(!t||!e||e===t.extensions)){if(!t.extensions){t.extensions=e;return}t.extensions=Wu([t.extensions,e],!1,!0)}}function uY(t,e){Nm(t,e.schemaExtensions);for(let[r,n]of Object.entries(e.types||{})){let o=t.getType(r);if(o){if(Nm(o,n.extensions),n.type==="object"||n.type==="interface")for(let[i,s]of Object.entries(n.fields)){let a=o.getFields()[i];if(a){Nm(a,s.extensions);for(let[c,u]of Object.entries(s.arguments))Nm(a.args.find(l=>l.name===c),u)}}else if(n.type==="input")for(let[i,s]of Object.entries(n.fields)){let a=o.getFields()[i];Nm(a,s.extensions)}else if(n.type==="enum")for(let[i,s]of Object.entries(n.values)){let a=o.getValue(i);Nm(a,s)}}}return t}se();var lY=t=>Array.isArray(t)?t:t?[t]:[];var Ke=(function(t){return t.TYPE="MapperKind.TYPE",t.SCALAR_TYPE="MapperKind.SCALAR_TYPE",t.ENUM_TYPE="MapperKind.ENUM_TYPE",t.COMPOSITE_TYPE="MapperKind.COMPOSITE_TYPE",t.OBJECT_TYPE="MapperKind.OBJECT_TYPE",t.INPUT_OBJECT_TYPE="MapperKind.INPUT_OBJECT_TYPE",t.ABSTRACT_TYPE="MapperKind.ABSTRACT_TYPE",t.UNION_TYPE="MapperKind.UNION_TYPE",t.INTERFACE_TYPE="MapperKind.INTERFACE_TYPE",t.ROOT_OBJECT="MapperKind.ROOT_OBJECT",t.QUERY="MapperKind.QUERY",t.MUTATION="MapperKind.MUTATION",t.SUBSCRIPTION="MapperKind.SUBSCRIPTION",t.DIRECTIVE="MapperKind.DIRECTIVE",t.FIELD="MapperKind.FIELD",t.COMPOSITE_FIELD="MapperKind.COMPOSITE_FIELD",t.OBJECT_FIELD="MapperKind.OBJECT_FIELD",t.ROOT_FIELD="MapperKind.ROOT_FIELD",t.QUERY_ROOT_FIELD="MapperKind.QUERY_ROOT_FIELD",t.MUTATION_ROOT_FIELD="MapperKind.MUTATION_ROOT_FIELD",t.SUBSCRIPTION_ROOT_FIELD="MapperKind.SUBSCRIPTION_ROOT_FIELD",t.INTERFACE_FIELD="MapperKind.INTERFACE_FIELD",t.INPUT_OBJECT_FIELD="MapperKind.INPUT_OBJECT_FIELD",t.ARGUMENT="MapperKind.ARGUMENT",t.ENUM_VALUE="MapperKind.ENUM_VALUE",t})(Ke||{});se();se();function Ff(t,e){if(e){let r=t[e.name];if(K(r))return r}}se();se();function fY(t){if("getFields"in t){let e=t.getFields();for(let r in e)return e[r].name==="_fake"}return!1}function dY(t){switch(t.name){case $r.name:return $r;case Po.name:return Po;case it.name:return it;case at.name:return at;case Er.name:return Er;default:return t}}function pY(t,e){let r=Object.create(null);for(let d in t)r[d]=t[d];let n=Object.create(null);for(let d in r){let p=r[d];if(p==null||d.startsWith("__"))continue;let h=p.name;if(!h.startsWith("__")){if(n[h]!=null){console.warn(`Duplicate schema type name ${h} found; keeping the existing one found in the schema`);continue}n[h]=p}}for(let d in n)n[d]=a(n[d]);let o=e.map(d=>i(d));return{typeMap:n,directives:o};function i(d){if(os(d))return d;let p=d.toConfig();return p.args=s(p.args),new zt(p)}function s(d){let p={};for(let h in d){let m=d[h],g=f(m.type);g!=null&&(m.type=g,p[h]=m)}return p}function a(d){if(K(d)){let p=d.toConfig(),h=S(b({},p),{fields:()=>c(p.fields),interfaces:()=>l(p.interfaces)});return new Qe(h)}else if(Z(d)){let p=d.toConfig(),h=S(b({},p),{fields:()=>c(p.fields)});return"interfaces"in h&&(h.interfaces=()=>l(p.interfaces)),new dt(h)}else if(Ue(d)){let p=d.toConfig(),h=S(b({},p),{types:()=>l(p.types)});return new Tr(h)}else if(pe(d)){let p=d.toConfig(),h=S(b({},p),{fields:()=>u(p.fields)});return new Ye(h)}else if(Pe(d)){let p=d.toConfig();return new Nt(p)}else if(lt(d)){if(Kr(d))return d;let p=d.toConfig();return new Ce(p)}throw new Error(`Unexpected schema type: ${d}`)}function c(d){let p={};for(let h in d){let m=d[h],g=f(m.type);g!=null&&m.args&&(m.type=g,m.args=s(m.args),p[h]=m)}return p}function u(d){let p={};for(let h in d){let m=d[h],g=f(m.type);g!=null&&(m.type=g,p[h]=m)}return p}function l(d){let p=[];for(let h of d){let m=f(h);m!=null&&p.push(m)}return p}function f(d){if(Ie(d)){let p=f(d.ofType);return p!=null?new je(p):null}else if(Y(d)){let p=f(d.ofType);return p!=null?new J(p):null}else if(Mr(d)){let p=r[d.name];return p===void 0&&(p=fY(d)?dY(d):a(d),n[p.name]=r[d.name]=p),p!=null?n[p.name]:null}return null}}se();function WI(t,e,r=null,n=null){if(e==null)return e;let o=ln(t);if(tt(o))return r!=null?r(o,e):e;if(Ie(o))return lY(e).map(i=>WI(o.ofType,i,r,n));if(pe(o)){let i=o.getFields(),s={};for(let a in e){let c=i[a];c!=null&&(s[a]=WI(c.type,e[a],r,n))}return n!=null?n(o,s):s}}function YI(t,e){return WI(t,e,(r,n)=>{try{return r.serialize(n)}catch{return n}})}function XI(t,e){return WI(t,e,(r,n)=>{try{return r.parseValue(n)}catch{return n}})}function ub(t,e={}){let r=yY(mY(CL(hY(s1e(CL(hY(t.getTypeMap(),t,YI),t,e,a=>tt(a)),t,e),t,XI),t,e,a=>!tt(a)),t,e),t,e),n=t.getDirectives(),o=a1e(n,t,e),{typeMap:i,directives:s}=pY(r,o);return new _r(S(b({},t.toConfig()),{query:Ff(i,Ff(r,t.getQueryType())),mutation:Ff(i,Ff(r,t.getMutationType())),subscription:Ff(i,Ff(r,t.getSubscriptionType())),types:Object.values(i),directives:s}))}var i1e=["String","ID","Int","Float","Boolean"];function CL(t,e,r,n=()=>!0){let o={};for(let i in t)if(!i.startsWith("__")&&!i1e.includes(i)){let s=t[i];if(s==null||!n(s)){o[i]=s;continue}let a=u1e(e,r,i);if(a==null){o[i]=s;continue}let c=a(s,e);if(c===void 0){o[i]=s;continue}o[i]=c}return o}function s1e(t,e,r){let n=h1e(r);return n?CL(t,e,{[Ke.ENUM_TYPE]:o=>{let i=o.toConfig(),s=i.values,a={};for(let c in s){let u=s[c],l=n(u,o.name,e,c);if(l===void 0)a[c]=u;else if(Array.isArray(l)){let[f,d]=l;a[f]=d===void 0?u:d}else l!==null&&(a[c]=l)}return ZI(new Nt(S(b({},i),{values:a})))}},o=>Pe(o)):t}function hY(t,e,r){let n=yY(t,e,{[Ke.ARGUMENT]:o=>{if(o.defaultValue===void 0)return o;let i=eS(t,o.type);if(i!=null)return S(b({},o),{defaultValue:r(i,o.defaultValue)})}});return mY(n,e,{[Ke.INPUT_OBJECT_FIELD]:o=>{if(o.defaultValue===void 0)return o;let i=eS(n,o.type);if(i!=null)return S(b({},o),{defaultValue:r(i,o.defaultValue)})}})}function eS(t,e){if(Ie(e)){let r=eS(t,e.ofType);return r!=null?new je(r):null}else if(Y(e)){let r=eS(t,e.ofType);return r!=null?new J(r):null}else if(Mr(e)){let r=t[e.name];return r??null}return null}function mY(t,e,r){let n={};for(let o in t)if(!o.startsWith("__")){let i=t[o];if(!K(i)&&!Z(i)&&!pe(i)){n[o]=i;continue}let s=f1e(e,r,o);if(s==null){n[o]=i;continue}let a=i.toConfig(),c=a.fields,u={};for(let l in c){let f=c[l],d=s(f,l,o,e);if(d===void 0)u[l]=f;else if(Array.isArray(d)){let[p,h]=d;h.astNode!=null&&(h.astNode=S(b({},h.astNode),{name:S(b({},h.astNode.name),{value:p})})),u[p]=h===void 0?f:h}else d!==null&&(u[l]=d)}K(i)?n[o]=ZI(new Qe(S(b({},a),{fields:u}))):Z(i)?n[o]=ZI(new dt(S(b({},a),{fields:u}))):n[o]=ZI(new Ye(S(b({},a),{fields:u})))}return n}function yY(t,e,r){let n={};for(let o in t)if(!o.startsWith("__")){let i=t[o];if(!K(i)&&!Z(i)){n[o]=i;continue}let s=d1e(r);if(s==null){n[o]=i;continue}let a=i.toConfig(),c=a.fields,u={};for(let l in c){let f=c[l],d=f.args;if(d==null){u[l]=f;continue}let p=Object.keys(d);if(!p.length){u[l]=f;continue}let h={};for(let m of p){let g=d[m],w=s(g,l,o,e);if(w===void 0)h[m]=g;else if(Array.isArray(w)){let[T,v]=w;h[T]=v}else w!==null&&(h[m]=w)}u[l]=S(b({},f),{args:h})}K(i)?n[o]=new Qe(S(b({},a),{fields:u})):Z(i)?n[o]=new dt(S(b({},a),{fields:u})):n[o]=new Ye(S(b({},a),{fields:u}))}return n}function a1e(t,e,r){let n=p1e(r);if(n==null)return t.slice();let o=[];for(let i of t){let s=n(i,e);s===void 0?o.push(i):s!==null&&o.push(s)}return o}function c1e(t,e){let r=t.getType(e),n=[Ke.TYPE];return K(r)?(n.push(Ke.COMPOSITE_TYPE,Ke.OBJECT_TYPE),e===t.getQueryType()?.name?n.push(Ke.ROOT_OBJECT,Ke.QUERY):e===t.getMutationType()?.name?n.push(Ke.ROOT_OBJECT,Ke.MUTATION):e===t.getSubscriptionType()?.name&&n.push(Ke.ROOT_OBJECT,Ke.SUBSCRIPTION)):pe(r)?n.push(Ke.INPUT_OBJECT_TYPE):Z(r)?n.push(Ke.COMPOSITE_TYPE,Ke.ABSTRACT_TYPE,Ke.INTERFACE_TYPE):Ue(r)?n.push(Ke.COMPOSITE_TYPE,Ke.ABSTRACT_TYPE,Ke.UNION_TYPE):Pe(r)?n.push(Ke.ENUM_TYPE):lt(r)&&n.push(Ke.SCALAR_TYPE),n}function u1e(t,e,r){let n=c1e(t,r),o,i=[...n];for(;!o&&i.length>0;){let s=i.pop();o=e[s]}return o??null}function l1e(t,e){let r=t.getType(e),n=[Ke.FIELD];return K(r)?(n.push(Ke.COMPOSITE_FIELD,Ke.OBJECT_FIELD),e===t.getQueryType()?.name?n.push(Ke.ROOT_FIELD,Ke.QUERY_ROOT_FIELD):e===t.getMutationType()?.name?n.push(Ke.ROOT_FIELD,Ke.MUTATION_ROOT_FIELD):e===t.getSubscriptionType()?.name&&n.push(Ke.ROOT_FIELD,Ke.SUBSCRIPTION_ROOT_FIELD)):Z(r)?n.push(Ke.COMPOSITE_FIELD,Ke.INTERFACE_FIELD):pe(r)&&n.push(Ke.INPUT_OBJECT_FIELD),n}function f1e(t,e,r){let n=l1e(t,r),o,i=[...n];for(;!o&&i.length>0;){let s=i.pop();o=e[s]}return o??null}function d1e(t){let e=t[Ke.ARGUMENT];return e??null}function p1e(t){let e=t[Ke.DIRECTIVE];return e??null}function h1e(t){let e=t[Ke.ENUM_VALUE];return e??null}function ZI(t){if(K(t)){let e=t.toConfig();if(e.astNode!=null){let r=[];for(let n in e.fields){let o=e.fields[n];o.astNode!=null&&r.push(o.astNode)}e.astNode=S(b({},e.astNode),{kind:y.OBJECT_TYPE_DEFINITION,fields:r})}return e.extensionASTNodes!=null&&(e.extensionASTNodes=e.extensionASTNodes.map(r=>S(b({},r),{kind:y.OBJECT_TYPE_EXTENSION,fields:void 0}))),new Qe(e)}else if(Z(t)){let e=t.toConfig();if(e.astNode!=null){let r=[];for(let n in e.fields){let o=e.fields[n];o.astNode!=null&&r.push(o.astNode)}e.astNode=S(b({},e.astNode),{kind:y.INTERFACE_TYPE_DEFINITION,fields:r})}return e.extensionASTNodes!=null&&(e.extensionASTNodes=e.extensionASTNodes.map(r=>S(b({},r),{kind:y.INTERFACE_TYPE_EXTENSION,fields:void 0}))),new dt(e)}else if(pe(t)){let e=t.toConfig();if(e.astNode!=null){let r=[];for(let n in e.fields){let o=e.fields[n];o.astNode!=null&&r.push(o.astNode)}e.astNode=S(b({},e.astNode),{kind:y.INPUT_OBJECT_TYPE_DEFINITION,fields:r})}return e.extensionASTNodes!=null&&(e.extensionASTNodes=e.extensionASTNodes.map(r=>S(b({},r),{kind:y.INPUT_OBJECT_TYPE_EXTENSION,fields:void 0}))),new Ye(e)}else if(Pe(t)){let e=t.toConfig();if(e.astNode!=null){let r=[];for(let n in e.values){let o=e.values[n];o.astNode!=null&&r.push(o.astNode)}e.astNode=S(b({},e.astNode),{values:r})}return e.extensionASTNodes!=null&&(e.extensionASTNodes=e.extensionASTNodes.map(r=>S(b({},r),{values:void 0}))),new Nt(e)}else return t}se();function gY(t){return m1e(t.getTypeMap(),t.getDirectives()),t}function m1e(t,e){let r=Object.create(null);for(let u in t){let l=t[u];if(l==null||u.startsWith("__"))continue;let f=l.name;if(!f.startsWith("__")){if(r[f]!=null){console.warn(`Duplicate schema type name ${f} found; keeping the existing one found in the schema`);continue}r[f]=l}}for(let u in r){let l=r[u];t[u]=l}for(let u of e)u.args=u.args.filter(l=>(l.type=c(l.type),l.type!==null));for(let u in t){let l=t[u];!u.startsWith("__")&&u in r&&l!=null&&n(l)}for(let u in t)!u.startsWith("__")&&!(u in r)&&delete t[u];function n(u){if(K(u)){o(u),i(u);return}else if(Z(u)){o(u),"getInterfaces"in u&&i(u);return}else if(Ue(u)){a(u);return}else if(pe(u)){s(u);return}else if(tt(u))return;throw new Error(`Unexpected schema type: ${u}`)}function o(u){let l=u.getFields();for(let[f,d]of Object.entries(l))d.args.map(p=>(p.type=c(p.type),p.type===null?null:p)).filter(Boolean),d.type=c(d.type),d.type===null&&delete l[f]}function i(u){if("getInterfaces"in u){let l=u.getInterfaces();l.push(...l.splice(0).map(f=>c(f)).filter(Boolean))}}function s(u){let l=u.getFields();for(let[f,d]of Object.entries(l))d.type=c(d.type),d.type===null&&delete l[f]}function a(u){let l=u.getTypes();l.push(...l.splice(0).map(f=>c(f)).filter(Boolean))}function c(u){if(Ie(u)){let l=c(u.ofType);return l!=null?new je(l):null}else if(Y(u)){let l=c(u.ofType);return l!=null?new J(l):null}else if(Mr(u)){let l=t[u.name];if(l&&u!==l)return l}return u}}se();function tS(t,e){let r=t.getTypeMap();for(let n in r){let o=r[n];if(!ke(o).name.startsWith("__")&&K(o)){let i=o.getFields();for(let s in i){let a=i[s];e(a,n,s)}}}}se();function RL(t,e){let r=t.getTypeMap();for(let n in r){let o=r[n];if(!ke(o).name.startsWith("__")){if(K(o)){let i=o.getFields();for(let s in i){let a=i[s];for(let c of a.args)c.defaultValue=e(c.type,c.defaultValue)}}else if(pe(o)){let i=o.getFields();for(let s in i){let a=i[s];a.defaultValue=e(a.type,a.defaultValue)}}}}}function PL(t,e={}){let{requireResolversForArgs:r,requireResolversForNonScalar:n,requireResolversForAllFields:o}=e;if(o&&(r||n))throw new TypeError("requireResolversForAllFields takes precedence over the more specific assertions. Please configure either requireResolversForAllFields or requireResolversForArgs / requireResolversForNonScalar, but not a combination of them.");tS(t,(i,s,a)=>{o&&kL("requireResolversForAllFields",o,i,s,a),r&&i.args.length>0&&kL("requireResolversForArgs",r,i,s,a),n!=="ignore"&&!lt(ke(i.type))&&kL("requireResolversForNonScalar",n,i,s,a)})}function kL(t,e,r,n,o){if(!r.resolve){let i=`Resolver missing for "${n}.${o}".
To disable this validator, use:
  resolverValidationOptions: {
    ${t}: 'ignore'
  }`;if(e==="error")throw new Error(i);e==="warn"&&console.warn(i);return}if(typeof r.resolve!="function")throw new Error(`Resolver "${n}.${o}" must be a function`)}se();function wY(t,e){ub(t,{[Ke.ABSTRACT_TYPE]:r=>{if(!r.resolveType){let n=`Type "${r.name}" is missing a "__resolveType" resolver. Pass 'ignore' into "resolverValidationOptions.requireResolversForResolveType" to disable this error.`;if(e==="error")throw new Error(n);e==="warn"&&console.warn(n)}}})}function lb(t,e){let r={},n=t.getTypeMap();for(let o in n){let i=n[o];if("getInterfaces"in i){r[o]={};for(let a of i.getInterfaces())if(e[a.name])for(let c in e[a.name])(c==="__isTypeOf"||!c.startsWith("__"))&&(r[o][c]=e[a.name][c]);let s=e[o];r[o]=b(b({},r[o]),s)}else{let s=e[o];s!=null&&(r[o]=s)}}return r}function LL({schema:t,resolvers:e,defaultFieldResolver:r,resolverValidationOptions:n={},inheritResolversFromInterfaces:o=!1,updateResolversInPlace:i=!1}){let{requireResolversToMatchSchema:s="error",requireResolversForResolveType:a}=n,c=o?lb(t,e):e;for(let u in c){let l=c[u];if(typeof l!=="object")throw new Error(`"${u}" defined in resolvers, but has invalid value "${l}". The resolver's value must be of type object.`);let d=t.getType(u);if(d==null){let p=`"${u}" defined in resolvers, but not in schema`;if(s&&s!=="error"){s==="warn"&&console.warn(p);continue}throw new Error(p)}else if(Kr(d))for(let p in l)p.startsWith("__")?d[p.substring(2)]=l[p]:d[p]=l[p];else if(Pe(d)){let p=d.getValues();for(let h in l)if(!h.startsWith("__")&&!p.some(m=>m.name===h)&&s&&s!=="ignore"){let m=`${d.name}.${h} was defined in resolvers, but not present within ${d.name}`;if(s==="error")throw new Error(m);console.warn(m)}}else if(Ue(d)){for(let p in l)if(!p.startsWith("__")&&s&&s!=="ignore"){let h=`${d.name}.${p} was defined in resolvers, but ${d.name} is not an object or interface type`;if(s==="error")throw new Error(h);console.warn(h)}}else if(K(d)||Z(d)){for(let p in l)if(!p.startsWith("__"))if(d.getFields()[p]==null){if(s&&s!=="ignore"){let g=`${u}.${p} defined in resolvers, but not in schema`;if(s==="error")throw new Error(g);console.error(g)}}else{let g=l[p];if(typeof g!="function"&&typeof g!="object")throw new Error(`Resolver ${u}.${p} must be object or function`)}}}return t=i?y1e(t,c,r):g1e(t,c,r),a&&a!=="ignore"&&wY(t,a),t}function y1e(t,e,r){let n=t.getTypeMap();for(let o in e){let i=t.getType(o),s=e[o];if(lt(i))for(let a in s)a.startsWith("__")?i[a.substring(2)]=s[a]:a==="astNode"&&i.astNode!=null?i.astNode=S(b({},i.astNode),{description:s?.astNode?.description??i.astNode.description,directives:(i.astNode.directives??[]).concat(s?.astNode?.directives??[])}):a==="extensionASTNodes"&&i.extensionASTNodes!=null?i.extensionASTNodes=i.extensionASTNodes.concat(s?.extensionASTNodes??[]):a==="extensions"&&i.extensions!=null&&s.extensions!=null?i.extensions=Object.assign(Object.create(null),i.extensions,s.extensions):i[a]=s[a];else if(Pe(i)){let a=i.toConfig(),c=a.values;for(let u in s)u.startsWith("__")?a[u.substring(2)]=s[u]:u==="astNode"&&a.astNode!=null?a.astNode=S(b({},a.astNode),{description:s?.astNode?.description??a.astNode.description,directives:(a.astNode.directives??[]).concat(s?.astNode?.directives??[])}):u==="extensionASTNodes"&&a.extensionASTNodes!=null?a.extensionASTNodes=a.extensionASTNodes.concat(s?.extensionASTNodes??[]):u==="extensions"&&i.extensions!=null&&s.extensions!=null?i.extensions=Object.assign(Object.create(null),i.extensions,s.extensions):c[u]&&(c[u].value=s[u]);n[o]=new Nt(a)}else if(Ue(i))for(let a in s)a.startsWith("__")&&(i[a.substring(2)]=s[a]);else if(K(i)||Z(i))for(let a in s){if(a.startsWith("__")){i[a.substring(2)]=s[a];continue}let u=i.getFields()[a];if(u!=null){let l=s[a];typeof l=="function"?u.resolve=l.bind(s):bY(u,l)}}}return RL(t,YI),gY(t),RL(t,XI),r!=null&&tS(t,o=>{o.resolve||(o.resolve=r)}),t}function g1e(t,e,r){return t=ub(t,{[Ke.SCALAR_TYPE]:n=>{let o=n.toConfig(),i=e[n.name];if(!Kr(n)&&i!=null){for(let s in i)s.startsWith("__")?o[s.substring(2)]=i[s]:s==="astNode"&&o.astNode!=null?o.astNode=S(b({},o.astNode),{description:i?.astNode?.description??o.astNode.description,directives:(o.astNode.directives??[]).concat(i?.astNode?.directives??[])}):s==="extensionASTNodes"&&o.extensionASTNodes!=null?o.extensionASTNodes=o.extensionASTNodes.concat(i?.extensionASTNodes??[]):s==="extensions"&&o.extensions!=null&&i.extensions!=null?o.extensions=Object.assign(Object.create(null),n.extensions,i.extensions):o[s]=i[s];return new Ce(o)}},[Ke.ENUM_TYPE]:n=>{let o=e[n.name],i=n.toConfig(),s=i.values;if(o!=null){for(let a in o)a.startsWith("__")?i[a.substring(2)]=o[a]:a==="astNode"&&i.astNode!=null?i.astNode=S(b({},i.astNode),{description:o?.astNode?.description??i.astNode.description,directives:(i.astNode.directives??[]).concat(o?.astNode?.directives??[])}):a==="extensionASTNodes"&&i.extensionASTNodes!=null?i.extensionASTNodes=i.extensionASTNodes.concat(o?.extensionASTNodes??[]):a==="extensions"&&i.extensions!=null&&o.extensions!=null?i.extensions=Object.assign(Object.create(null),n.extensions,o.extensions):s[a]&&(s[a].value=o[a]);return new Nt(i)}},[Ke.UNION_TYPE]:n=>{let o=e[n.name];if(o!=null){let i=n.toConfig();return o.__resolveType&&(i.resolveType=o.__resolveType),new Tr(i)}},[Ke.OBJECT_TYPE]:n=>{let o=e[n.name];if(o!=null){let i=n.toConfig();return o.__isTypeOf&&(i.isTypeOf=o.__isTypeOf),new Qe(i)}},[Ke.INTERFACE_TYPE]:n=>{let o=e[n.name];if(o!=null){let i=n.toConfig();return o.__resolveType&&(i.resolveType=o.__resolveType),new dt(i)}},[Ke.COMPOSITE_FIELD]:(n,o,i)=>{let s=e[i];if(s!=null){let a=s[o];if(a!=null){let c=b({},n);return typeof a=="function"?c.resolve=a.bind(s):bY(c,a),c}}}}),r!=null&&(t=ub(t,{[Ke.OBJECT_FIELD]:n=>S(b({},n),{resolve:n.resolve!=null?n.resolve:r})})),t}function bY(t,e){for(let r in e)t[r]=e[r]}se();var vY=Rr(FA(),1);se();var TY=t=>({ids:t});function w1e(t){let e=t.argsFromKeys??TY,r=t.fieldName??t.info.fieldName,{valuesFromResults:n,lazyOptionsFn:o}=t;return function(s){return An().then(()=>bm(b({returnType:new je(ke(t.returnType||t.info.returnType)),onLocatedError:a=>{if(a.path==null)return a;let[c,u,...l]=a.path;return c!==r||typeof u!=="number"?a:$c(a,[r,...l])},args:e(s)},o==null?t:o(t,s)))).then(a=>{let c=n==null?a:a instanceof Error?s.map(()=>a):n(a,s);return Array.isArray(c)?c:s.map(()=>c)}).catch(a=>s.map(()=>a))}}var b1e=fs(function(e,r){return new Map}),E1e={},v1e=Vn(function(e){return JSON.stringify(e)}),EY=Vn(qe);function T1e(t){return typeof t=="object"?v1e(t):t}function x1e(t){let{schema:e,context:r,info:n,fieldName:o=n.fieldName,dataLoaderOptions:i,fieldNodes:s=n.fieldNodes[0]&&FI(n.fieldNodes[0]),selectionSet:a=s?.[0]?.selectionSet,returnType:c=n.returnType,argsFromKeys:u=TY,key:l}=t,f=n?.rootValue||r||E1e,d=b1e(f,e),p=o;if(c){let g=ke(c);p+="@"+g.name}a!=null&&(p+=EY(a));let h=s?.[0];if(h?.arguments){let g=u([l]);p+=h.arguments.filter(w=>w.name.value in g).map(w=>EY(w)).join(",")}let m=d.get(p);if(m===void 0){let g=w1e(t);m=new vY.default(g,b({cacheKeyFn:T1e},i)),d.set(p,m)}return m}function xY(t){let e=t.key;if(e==null)return null;if(Array.isArray(e)&&!e.length)return[];let r=x1e(t);return Array.isArray(e)?r.loadMany(e):r.load(e)}se();function A1e(t){let e=t.schema,r=t.createProxyingResolver??N1e,n=om(e),o={};for(let[i,s]of n.entries()){let a=s.name,c=s.getFields();o[a]={};for(let u in c){let l=r({subschemaConfig:t,operation:i,fieldName:u}),f=S1e(t,l);i==="subscription"?o[a][u]={subscribe:f,resolve:I1e}:o[a][u]={resolve:f}}}return o}function I1e(t){return t}function S1e(t,e){return function(n,o,i,s){if(n!=null){let a=Ww(s);if(rb(n)){let c=TL(n),u=nb(n,a);if(t===u&&n[a]!==void 0)return wm(n[a],c,u,i,s)}}return e(n,o,i,s)}}function N1e({subschemaConfig:t,operation:e}){return function(n,o,i,s){return bm({schema:t,operation:e,context:i,info:s})}}var AY=Vn(function(e){let r=e.schema,n=A1e(e),o=_1e(r,n);return LI(o,e)});function _1e(t,e){return am(t,{[Le.ROOT_FIELD]:(r,n,o)=>b(b({},r),e[o]?.[n]),[Le.OBJECT_FIELD]:r=>S(b({},r),{resolve:UI,subscribe:void 0}),[Le.OBJECT_TYPE]:r=>{let n=r.toConfig();return new Qe(S(b({},n),{isTypeOf:void 0}))},[Le.INTERFACE_TYPE]:r=>{let n=r.toConfig();return new dt(S(b({},n),{resolveType:void 0}))},[Le.UNION_TYPE]:r=>{let n=r.toConfig();return new Tr(S(b({},n),{resolveType:void 0}))},[Le.ENUM_VALUE]:r=>S(b({},r),{value:void 0})})}var rS=class{filter;constructor(e){this.filter=e}transformSchema(e,r){return am(e,{[Le.TYPE]:n=>{if(!this.filter(n))return null}})}};var nS=class{fieldTransformer;fieldNodeTransformer;dataTransformer;errorsTransformer;transformedSchema;typeInfo;mapping;subscriptionTypeName;constructor(e,r,n,o){this.fieldTransformer=e,this.fieldNodeTransformer=r,this.dataTransformer=n,this.errorsTransformer=o,this.mapping={}}_getTypeInfo(){let e=this.typeInfo;if(e===void 0)throw new Error(`The TransformCompositeFields transform's  "transformRequest" and "transformResult" methods cannot be used without first calling "transformSchema".`);return e}transformSchema(e,r){return this.transformedSchema=am(e,{[Le.COMPOSITE_FIELD]:(n,o,i)=>{let s=this.fieldTransformer(i,o,n);if(Array.isArray(s)){let a=s[0];a!==o&&(this.mapping[i]||(this.mapping[i]={}),this.mapping[i][a]=o)}return s}}),this.typeInfo=ob(this.transformedSchema),this.subscriptionTypeName=e.getSubscriptionType()?.name,this.transformedSchema}transformRequest(e,r,n){let o=e.document;return S(b({},e),{document:this.transformDocument(o,n)})}transformResult(e,r,n){let o=this.dataTransformer;return o!=null&&(e.data=vI(e.data,i=>o(i,n))),this.errorsTransformer!=null&&Array.isArray(e.errors)&&(e.errors=this.errorsTransformer(e.errors,n)),e}transformDocument(e,r){let n=Object.create(null);for(let o of e.definitions)o.kind===y.FRAGMENT_DEFINITION&&(n[o.name.value]=o);return or(e,Mo(this._getTypeInfo(),{[y.SELECTION_SET]:{leave:o=>this.transformSelectionSet(o,this._getTypeInfo(),n,r)}}))}transformSelectionSet(e,r,n,o){let i=r.getParentType();if(i==null)return;let s=i.name,a=[],c=!1;for(let u of e.selections){if(u.kind!==y.FIELD){a.push(u);continue}u.name.value==="__typename"&&(!u.alias||u.alias.value==="__typename")&&(c=!0);let l=u.name.value,f;if(this.fieldNodeTransformer==null?f=u:(f=this.fieldNodeTransformer(s,l,u,n,o),f=f===void 0?u:f),f==null)continue;if(Array.isArray(f)){a=a.concat(f);continue}else if(f.kind!==y.FIELD){a.push(f);continue}if(this.mapping[s]==null){a.push(f);continue}let p=this.mapping[s][l];if(p==null){a.push(f);continue}a.push(S(b({},f),{name:{kind:y.NAME,value:p},alias:{kind:y.NAME,value:f.alias?.value??l}}))}return!c&&(this.dataTransformer!=null||this.errorsTransformer!=null)&&(this.subscriptionTypeName==null||s!==this.subscriptionTypeName)&&a.push({kind:y.FIELD,name:{kind:y.NAME,value:"__typename"}}),S(b({},e),{selections:a})}};var Ngt=Vn(function(e){return new Mn(e)});fs(function(e,r){return eo.major<16?new Mn(e,void 0,r):new Mn(e,r)});function D1e(t,e,r,n,o,i,s,a,c){let u=a.transformedSchema,{fields:l,patches:f}=YP(t,i,s,r,o),d=!1;if(f.length){l=new Map(l);for(let w of f)for(let[T,v]of w.fields){d||(l=new Map(l),d=!0);let x=l.get(T);x?x.push(...v):l.set(T,v)}}let p=new Set;if(st(r)){p.add({kind:y.FIELD,name:{kind:y.NAME,value:"__typename"}});for(let w of t.getPossibleTypes(r)){let{fields:T,patches:v}=YP(t,i,s,w,o);for(let x of v)for(let[A,_]of x.fields){d||(l=new Map(l),d=!0);let O=l.get(A);O?O.push(..._):l.set(A,_)}for(let[x,A]of T){d||(l=new Map(l),d=!0);let _=l.get(x);_?_.push(...A):l.set(x,A)}}}let h=e?.fieldNodesByField,m=n.getFields(),g=h?.[r.name];for(let[,w]of l){let T=!1,v=w[0]?.name.value,x=v==="__typename"?Bo:m[v];if(x)for(let O of w){let C=BI(u,x,O,I=>!e.mergedTypes[I.name]?.resolvers.get(a),i);C.length&&(T=!0,p.add(S(b({},O),{selectionSet:{kind:y.SELECTION_SET,selections:C}})))}else if(c){let O={kind:y.SELECTION_SET,selections:w},C=PI(O,c);if(C?.selections?.length){T=!0;for(let I of C.selections)p.add(I)}}else{T=!0;for(let O of w)p.add(O)}let A=a.merge?.[r.name]?.fields?.[v]?.computed,_=!1;(A||T)&&g&&_Y({fieldName:v,fields:m,fieldsNotInSchema:p,visitedFieldNames:new Set,onAdd:()=>{if(!_){for(let C of w)p.add(C);_=!0}},fieldNodesByField:g})}return Array.from(p)}function _Y({fieldName:t,fields:e,fieldsNotInSchema:r,onAdd:n,fieldNodesByField:o,visitedFieldNames:i}){if(i.has(t))return;i.add(t);let s=o?.[t];if(s)for(let a of s)a.name.value!=="__typename"&&!e[a.name.value]&&(n(),r.add(a),_Y({fieldName:a.name.value,fields:e,fieldsNotInSchema:r,onAdd:n,fieldNodesByField:o,visitedFieldNames:i}))}function O1e(t){let e=new WeakMap;return function(n,o,i,s,a,c,u){let l=e.get(n);if(!l){l=new WeakMap,e.set(n,l);let m=new WeakMap;l.set(o,m);let g=new WeakMap;m.set(i,g);let w=new WeakMap;g.set(s,w);let T=t(n,o,i,s,a,c,u);return w.set(a,T),T}let f=l.get(o);if(!f){f=new WeakMap,l.set(o,f);let m=new WeakMap;f.set(i,m);let g=new WeakMap;m.set(s,g);let w=t(n,o,i,s,a,c,u);return g.set(a,w),w}let d=f.get(i);if(!d){d=new WeakMap,f.set(i,d);let m=new WeakMap;d.set(s,m);let g=t(n,o,i,s,a,c,u);return m.set(a,g),g}let p=d.get(s);if(!p){p=new WeakMap,d.set(s,p);let m=t(n,o,i,s,a,c,u);return p.set(a,m),m}let h=p.get(a);if(h===void 0){let m=t(n,o,i,s,a,c,u);return p.set(a,m),m}return h}}function IY(t,e,r,n,o){let{selectionSets:i,fieldSelectionSets:s,uniqueFields:a,nonUniqueFields:c}=t,u=[],l=[];for(let p of r){let h=i.get(p),m=s.get(p);h!=null&&!FL(t,e,h)?l.push(p):m==null||n.every(g=>{let w=g.name.value,T=m[w];return T==null||FL(t,e,T)})?u.push(p):l.push(p)}let f=[],d=new Map;for(let p of n){let h=p.name.value;if(h==="__typename")continue;let m=e.filter(v=>s.get(v)!=null&&s.get(v)[h]!=null&&!FL(t,e,s.get(v)[h]));if(m.length===e.length){f.push(p);for(let v of m)l.includes(v)||l.push(v);continue}let g=a[h];if(g!=null){if(!u.includes(g)){f.push(p);continue}let v=d.get(g)?.selections;v!=null?v.push(p):d.set(g,{kind:y.SELECTION_SET,selections:[p]});continue}let w=c[p.name.value];if(w==null){f.push(p);continue}if(w=w.filter(v=>u.includes(v)),!w.length){f.push(p);continue}let T=w.find(v=>d.has(v));if(T!=null)d.get(T).selections.push(p);else{let v=w[0],x=1/0;for(let A of w){let C=A.transformedSchema.getType(t.typeName).getFields()[p.name.value];if(C!=null){let I=BI(A.transformedSchema,C,p,M=>{if(!A.merge?.[M.name]){let X=d.get(A)?.selections;return X==null&&(X=[],d.set(A,{kind:y.SELECTION_SET,selections:X})),X.push(p),!1}return!0}),k=C1e(I,o);k<x&&(x=k,v=A)}}d.set(v,{kind:y.SELECTION_SET,selections:[p]})}}return d.size>1&&P1e(d,t.typeName,o),{delegationMap:d,proxiableSubschemas:u,nonProxiableSubschemas:l,unproxiableFieldNodes:f}}var C1e=fs(function t(e,r){let n=0;for(let o of e)switch(o.kind){case y.FIELD:n++,o.selectionSet?.selections&&(n+=t(o.selectionSet.selections,r));break;case y.INLINE_FRAGMENT:n+=t(o.selectionSet.selections,r);break;case y.FRAGMENT_SPREAD:let i=r?.[o.name.value];i&&(n+=t(i.selectionSet.selections,r));break}return n});function R1e(t){let e=t.extensions?.stitchingInfo;if(!e)throw new Error("Schema is not a stitched schema.");return e}function k1e(t){return t.nonMemoizedDelegationPlanBuilder=function(r,n,o,i,s,a,c){let u=R1e(r),l=t?.targetSubschemas.get(n);if(!l||!l.length)return[];let f=t.typeName,d=n.transformedSchema.getType(f),p,h=s[0]?.name.value;c?.parentType&&h&&(p=u.mergedTypes[c.parentType.name]?.providedSelectionsByField?.get(n)?.[h]);let m=D1e(r,u,r.getType(f),t.typeMaps.get(n)?.[f],s,i,o,n,p);if(!m.length)return[];let g=[],w=L1e(n),T=IY(t,w,l,m,i),{delegationMap:v}=T;for(;v.size;){g.push(v);let{proxiableSubschemas:x,nonProxiableSubschemas:A,unproxiableFieldNodes:_}=T;w=F1e(w,x),T=IY(t,w,A,_,i),v=T.delegationMap}if(st(d)&&m.some(x=>x.name.value==="__typename")){let x=[];for(let O of s)if(O.selectionSet)for(let C of O.selectionSet.selections)C.kind===y.INLINE_FRAGMENT&&x.push(C);let A=l.filter(O=>{let C=t.typeMaps.get(O)?.[f];return st(C)&&O.transformedSchema.getPossibleTypes(C).length}),_=!1;for(let O of A)for(let C of g){let I=C.get(O)?.selections;if(I){I.push({kind:y.FIELD,name:{kind:y.NAME,value:"__typename"}}),I.push(...x),_=!0;break}if(_)break}if(!_){let O=A[0];if(O){let C=new Map;C.set(O,{kind:y.SELECTION_SET,selections:[{kind:y.FIELD,name:{kind:y.NAME,value:"__typename"}},...x]}),g.push(C)}}}return T.unproxiableFieldNodes.length&&T.nonProxiableSubschemas.length&&vL.set(g,{unproxiableFieldNodes:T.unproxiableFieldNodes,nonProxiableSubschemas:T.nonProxiableSubschemas,missingFieldsParentMap:new Map,missingFieldsParentDeferredMap:new Map}),g},O1e(function(r,n,o,i,s,a,c){return t.nonMemoizedDelegationPlanBuilder(r,n,o,i,s,a,c)})}function P1e(t,e,r){for(let[n,o]of t)for(let[i,s]of t){if(n===i)continue;gm(i.transformedSchema,i.transformedSchema.getType(e),o,()=>!0,r).length||(t.set(i,{kind:y.SELECTION_SET,selections:[...s.selections,...o.selections]}),t.delete(n))}return t}var L1e=Vn(function(e){return[e]}),F1e=fs(function(e,r){return e.concat(r)}),FL=oK(function(e,r,n){return UL(r.map(o=>o.transformedSchema.getType(e.typeName)),n)});function UL(t,e){let r=t.map(n=>n.getFields());for(let n of e.selections)if(n.kind===y.FIELD){let o=r.map(i=>i[n.name.value]).filter(i=>i!=null);if(!o.length)return!1;if(n.selectionSet!=null)return UL(o.map(i=>ke(i.type)),n.selectionSet)}else if(n.kind===y.INLINE_FRAGMENT&&n.typeCondition?.name.value===t[0]?.name)return UL(t,n.selectionSet);return!0}function U1e(t,e){let{fieldName:r,argsFromKeys:n,valuesFromResults:o,args:i}=t;function s(a){return e?typeof e=="string"?a.schema.getType(e):e:ke(a.returnType)}if(n!=null)return function(c,u,l,f,d,p,h=s(l)){return xY({schema:f,operation:"query",fieldName:r,returnType:new je(h),key:p,argsFromKeys:n,valuesFromResults:o,selectionSet:d,context:u,info:l,skipTypeMerging:!0,dataLoaderOptions:t.dataLoaderOptions})};if(i!=null)return function(c,u,l,f,d,p,h=s(l)){return bm({schema:f,operation:"query",fieldName:r,returnType:h,args:i(c),selectionSet:d,context:u,info:l,skipTypeMerging:!0})}}function B1e(t,e,r){let n=M1e(e,r);return{subschemaMap:t,fieldNodesByType:Object.create(null),fieldNodesByField:Object.create(null),dynamicSelectionSetsByField:Object.create(null),mergedTypes:n}}function M1e(t,e){let r=Object.create(null),n=Object.create(null);for(let o in t)if(t[o]){for(let{type:i}of t[o])if("getInterfaces"in i){let s=i.getInterfaces();for(let a of s){let c=a.name,u=n[o];u==null&&(u=new Set,n[o]=u),u.add(c)}}}for(let o in t){let i=t[o];if(!i)throw new Error(`Invalid type candidates for type name ${o}`);let s=i[0];if(K(s?.type)||Z(s?.type)){let a=i.filter(c=>c.transformedSubschema!=null&&c.transformedSubschema.merge!=null&&o in c.transformedSubschema.merge);if(e===!0||typeof e=="function"&&e(i,o)||Array.isArray(e)&&e.includes(o)||a.length){let c=[],u=new Map,l=Object.create({}),f=new Map,d=new Map,p=new Map,h=new Map;for(let T of i){let v=T.transformedSubschema;if(v==null)continue;u.set(v,v.transformedSchema.getTypeMap());let x=v?.merge?.[o];if(!x){for(let k of n[o]??[])if(x=v?.merge?.[k],x)break}if(x==null)continue;if(x.selectionSet){let k=ja(x.selectionSet,{noLocation:!0});f.set(v,k)}if(x.fields){let k=Object.create(null);for(let M in x.fields){if(x.fields[M]?.selectionSet){let re=x.fields[M].selectionSet;k[M]=re?ja(re,{noLocation:!0}):void 0}let X=x.fields[M]?.provides;if(X){X=or(X,{[y.SELECTION_SET](ye){return ye.selections.find($e=>$e.kind===y.FIELD&&$e.name.value==="__typename")?ye:S(b({},ye),{selections:[...ye.selections,{kind:y.FIELD,name:{kind:y.NAME,value:"__typename"}}]})}});let re=h.get(v);re==null&&(re=Object.create({}),h.set(v,re)),re[M]=X}}d.set(v,k)}let A=v.transformedSchema.getType(o),_=x.resolve??U1e(x,A);if(_==null)continue;let O=x.key;p.set(v,O?function(M,X,re,ye,Te,$e){return cr(()=>O(M),ot=>_(M,X,re,ye,Te,ot,$e))}:_),c.push(v);let C=A.getFields(),I=f.get(v);for(let k in C){let M=C[k],X=ke(M?.type);I&&tt(X)&&DY(I,k)||(l[k]||(l[k]=[]),l[k]?.push(v))}}let m=t[o]?.map(T=>T?.transformedSubschema).filter(pI),g=new Map;if(m)for(let T of m){let v=c.filter(x=>x!==T);v.length&&g.set(T,v)}let w={typeName:o,targetSubschemas:g,typeMaps:u,selectionSets:f,fieldSelectionSets:d,uniqueFields:Object.create({}),nonUniqueFields:Object.create({}),resolvers:p,providedSelectionsByField:h};r[o]=w,w.delegationPlanBuilder=k1e(w);for(let T in l)l[T]?.length===1&&l[T][0]?w.uniqueFields[T]=l[T][0]:l[T]&&(w.nonUniqueFields[T]=l[T])}}}return r}function $1e(t,e,r){let{fieldNodesByType:n,fieldNodesByField:o,dynamicSelectionSetsByField:i,mergedTypes:s}=t,a=[r.getQueryType(),r.getMutationType()];for(let d of a)d&&(n[d.name]=[ja("{ __typename }",{noLocation:!0}).selections[0]]);let c=Object.create(null);for(let d in s){let p=s[d];if(!(p?.selectionSets==null&&p?.fieldSelectionSets==null)){for(let[h,m]of p.selectionSets){let w=h.transformedSchema.getType(d),T=w.getFields();for(let v in T){let x=T[v],A=ke(x?.type);m&&tt(A)&&DY(m,v)||oS(c,d,v,m,!0)}st(w)&&oS(c,d,"__typename",m)}for(let[,h]of p.fieldSelectionSets)for(let m in h){let g=h[m];g&&oS(c,d,m,g,!0)}}}for(let d in e){let p=r.getType(d);if(p===void 0||tt(p)||pe(p)||Ue(p))continue;let h=e[d];for(let m in h){let g=h[m];if(typeof g.selectionSet=="function")i[d]||(i[d]=Object.create(null)),i[d][m]||(i[d][m]=[]),i[d][m].push(g.selectionSet);else if(g.selectionSet){let w=ja(g.selectionSet,{noLocation:!0});oS(c,d,m,w)}}}let u=Object.create(null),l=Object.create(null),f=Object.create(null);for(let d in c){let p=r.getType(d);for(let h in c[d])for(let m of c[d][h]){let{fields:g}=ju(r,l,u,p,m);for(let[,w]of g)for(let T of w){let v=qe(T);f[v]==null?(f[v]=T,aS(o,d,h,T)):aS(o,d,h,f[v])}}}return t}function oS(t,e,r,n,o){if(o){let i=ja("{ __typename }",{noLocation:!0});aS(t,e,r,n,i);return}aS(t,e,r,n)}function aS(t,e,r,n,o){if(t[e]==null){let i=o===void 0?[n]:[o,n];t[e]={[r]:i}}else if(t[e][r]==null){let i=o===void 0?[n]:[o,n];t[e][r]=i}else t[e][r].push(n)}function V1e(t,e){t.extensions=S(b({},t.extensions),{stitchingInfo:e})}function DY(t,e){return t.selections.some(r=>r.kind===y.FIELD&&r.name.value===e)}function j1e(t){if(t.merge==null)return[t];let e=Object.create(null),r=Object.create(null);for(let n in t.merge){let o=t.merge[n],i=t.schema.getType(n);if(e[n]=o,o.fields){let s=Object.create(null),a=Object.create(null);for(let u in o.fields){let l=o.fields[u];if(l?.computed&&l?.selectionSet)a[u]=l;else{if(l?.computed)throw new Error(`A selectionSet is required for computed field "${n}.${u}"`);s[u]=l}}let c=Object.keys(a).length;if(c&&c!==Object.keys(i.getFields()).length){e[n]=S(b({},o),{fields:s});let u=r[n]?.keyFieldNames??[];if(u.length===0){if(o.selectionSet){let l=ja(o.selectionSet,{noLocation:!0}),f=ju(t.schema,{},{},i,l);u.push(...Array.from(f.fields.keys()))}for(let l of o.entryPoints??[])if(l.selectionSet){let f=ja(l.selectionSet,{noLocation:!0}),d=ju(t.schema,{},{},i,f);u.push(...Array.from(d.fields.keys()))}}r[n]=S(b({},o),{keyFieldNames:u,fields:b(b({},r[n]?.fields??{}),a),canonical:void 0});for(let l in a){let f=ke(i.getFields()[l]?.type),d=[f];Z(f)?d.push(...$u(f.name,t.schema).map(p=>t.schema.getType(p))):Ue(f)&&d.push(...f.getTypes());for(let p of d){let h=t.merge[p.name];if(!Object.values(t.schema.getTypeMap()).filter(K).filter(m=>m!==p).filter(m=>!r[m.name]).find(m=>Object.values(m.getFields()).find(g=>ke(g.type)===p))&&K(p)){let m=h?.selectionSet;if(m){let g=[],w=ja(m,{noLocation:!0}),T=ju(t.schema,{},{},p,w);g.push(...Array.from(T.fields.keys()));for(let v of h.entryPoints??[])if(v.selectionSet){let x=ja(v.selectionSet,{noLocation:!0}),A=ju(t.schema,{},{},p,x);g.push(...Array.from(A.fields.keys()))}r[p.name]=S(b({},h),{keyFieldNames:g,fields:b({},r[p.name]?.fields??{})})}else if(!h){let g=b({},r[p.name]?.fields);if(st(p))for(let w of $u(p.name,t.schema)){let T=r[w]?.fields;if(T)for(let v in T)T[v]&&(g[v]=b(b({},T[v]),g[v]))}if(Z(p)||K(p))for(let w in p.getFields())g[w]||={};r[p.name]={keyFieldNames:[],fields:g,canonical:!0}}}}}}}}return Object.keys(r).length?[z1e(t,r),G1e(S(b({},t),{merge:e}),r)]:[t]}function OY(t){let e={};for(let r in t.getTypeMap()){let n=t.getType(r);if(K(n)||Z(n)){let o={__typename:!0},i=!1,s=n.getFields();for(let a in s)o[a]=!0,i=!0;i&&(e[r]=o)}}return new nS((r,n)=>e[r]?.[n]?void 0:null,(r,n)=>e[r]?.[n]?void 0:null)}function BL(t,e,r){return!!r[t]?.fields?.[e]}function G1e(t,e){let r=t.schema,n={},o={},i=KP({schema:r,objectFieldFilter:(u,l)=>{let f=o[u]||=[];if(!f){let m=function(T){f.includes(T.name)||(f.push(T.name),T.getInterfaces().forEach(m))},w=r.getType(u).getInterfaces();for(let T of w)m(T)}let d=[u,...f],p=d.every(m=>BL(m,l,e)),h=d.some(m=>(e[m]?.keyFieldNames??[]).includes(l));return!p||h},interfaceFieldFilter:(u,l)=>{n[u]||(n[u]=$u(u,r));let f=o[u]||=[];if(!f){let m=function(T){f.includes(T.name)||(f.push(T.name),T.getInterfaces().forEach(m))},w=r.getType(u).getInterfaces();for(let T of w)m(T)}let d=[u,...f,...n[u]],p=d.every(m=>BL(m,l,e)),h=d.some(m=>(e[m]?.keyFieldNames??[]).includes(l));return!p||h}}),s=S(b({},t),{merge:t.merge?b({},t.merge):void 0,transforms:(t.transforms??[]).concat([OY(i),new rS(u=>{let l=u.name;return i.getType(l)?K(u)||Z(u)?Object.keys(u.getFields()).length>0:!0:!1})])}),a=i.getTypeMap(),c=s.merge;if(c){for(let u in c)a[u]||delete c[u];Object.keys(c).length||delete s.merge}return s}function z1e(t,e){let r={},n={};function o(d,p,h=new Set){if(lt(p))return h;if((K(p)||Z(p))&&d.merge?.[p.name])return h.add(p.name),h;if(Ar(p)){h.add(p.name);let m=new Set;K(p)?m.add(p):Z(p)?$u(p.name,d.schema).forEach(g=>m.add(d.schema.getType(g))):Ue(p)&&p.getTypes().forEach(g=>m.add(g));for(let g of m){h.add(g.name);for(let w of Object.values(g.getFields())){let T=ke(w.type);!h.has(T.name)&&Ar(T)&&o(d,T,h)}}return h}else return Ue(p)&&(h.add(p.name),p.getTypes().forEach(m=>o(d,m,h))),h}let i=t.schema.getQueryType();for(let d in t.merge){let p=t.merge[d],h=p?.entryPoints??[p],m=i?.getFields();for(let T of h)if(T?.fieldName!=null){n[T.fieldName]=!0;let v=m?.[T.fieldName];if(v){let x=ke(v.type);r[x.name]=!0,Z(x)&&$u(x.name,t.schema).forEach(A=>{r[A]=!0})}}let g=[...Object.entries(p?.fields||{}).map(([T,v])=>v.computed?T:null).filter(T=>T!==null)].filter(T=>!n[T]),w=t.schema.getType(d);for(let T of g){let v=ke(w.getFields()[T].type);r[v.name]=!0,o(t,v).forEach(x=>{r[x]=!0})}}let s=gI(t.schema),a={},c={},u=KP({schema:t.schema,rootFieldFilter:(d,p,h)=>{if(s.has(d))if(i?.name===d){if(n[p])return!0}else return!0;let m=ke(h.type);return st(m)?[m.name,...$u(m.name,t.schema)].some(w=>r[w]!=null):r[m.name]!=null},objectFieldFilter:(d,p,h)=>{if(r[d]||(c[d]||(c[d]=t.schema.getType(d).getInterfaces().map(g=>g.name)),c[d].some(g=>r[g])))return!0;let m=ke(h.type);return r[m.name]?!0:t.merge?.[d]==null||t.merge[d]?.fields?.[p]!=null||(e[d]?.keyFieldNames??[]).includes(p)},interfaceFieldFilter:(d,p,h)=>{if(r[d])return!0;let m=ke(h.type);if(r[m.name]||(a[d]||(a[d]=$u(d,t.schema)),a[d].some(T=>r[T])))return!0;let g=a[d].some(T=>BL(T,p,e))||t.merge?.[d]?.fields?.[p]!=null,w=a[d].some(T=>{if(r[T])return!0;let x=t.schema.getType(T).getFields()[p];if(x==null)return!1;let A=ke(x.type);return r[A.name]!=null});return g||w||a[d].some(T=>(e?.[T]?.keyFieldNames??[]).includes(p))||(e[d]?.keyFieldNames??[]).includes(p)}}),l=Object.fromEntries(Object.entries(e).map(m=>{var[d,g]=m,w=g,{keyFieldNames:p}=w,h=Gr(w,["keyFieldNames"]);return[d,h]}));return S(b({},t),{merge:l,transforms:(t.transforms??[]).concat([OY(u)])})}function q1e(t){if(!t.merge)return[t];let e=Object.values(t.merge).reduce((n,o)=>Math.max(n,o?.entryPoints?.length??0),0);if(e===0)return[t];let r=[];for(let n=0;n<e;n+=1){let o=DW(t),i=o.merge??Object.create(null),s=i;n>0&&(o.merge=s=Object.create(null));for(let a in i){let c=i[a],u=c?.entryPoints?.[n];if(u){if(c.selectionSet??c.fieldName??c.resolve)throw new Error(`Merged type ${a} may not define entryPoints in addition to selectionSet, fieldName, or resolve`);if(Object.assign(c,u),delete c.entryPoints,n>0&&(delete c.canonical,c.fields!=null))for(let l in c.fields){let f=c.fields[l];delete f?.canonical}s[a]=c}}r.push(o)}return r}function Q1e(t){let e=[],r=[],n=[],o=[],i=[];for(let s of t.definitions)switch(s.kind){case y.OBJECT_TYPE_DEFINITION:case y.INTERFACE_TYPE_DEFINITION:case y.INPUT_OBJECT_TYPE_DEFINITION:case y.UNION_TYPE_DEFINITION:case y.ENUM_TYPE_DEFINITION:case y.SCALAR_TYPE_DEFINITION:e.push(s);break;case y.DIRECTIVE_DEFINITION:r.push(s);break;case y.SCHEMA_DEFINITION:n.push(s);break;case y.SCHEMA_EXTENSION:o.push(s);break;case y.OBJECT_TYPE_EXTENSION:case y.INTERFACE_TYPE_EXTENSION:case y.INPUT_OBJECT_TYPE_EXTENSION:case y.UNION_TYPE_EXTENSION:case y.ENUM_TYPE_EXTENSION:case y.SCALAR_TYPE_EXTENSION:i.push(s);break}return{typeDefinitions:e,directiveDefs:r,schemaDefs:n,schemaExtensions:o,extensionDefs:i}}var sS=(t=>(t.Error="error",t.Warn="warn",t.Off="off",t))(sS||{});function J1e(t,e,r){let n=e[0];if(!n)throw new Error("First candidate is null");let o=`${n.type.name}.${n.fieldName}`,i=Y(t.type);ML(t,e.map(a=>a.fieldConfig),"field",o,r),cS(o,r).strictNullComparison&&e.some(a=>i!==Y(a.fieldConfig.type))?qa(`Nullability of field "${o}" does not match across subschemas. Disable typeMergingOptions.validationSettings.strictNullComparison to permit safe divergences.`,o,r):i&&e.some(a=>!Y(a.fieldConfig.type))&&qa(`Canonical definition of field "${o}" is not-null while some subschemas permit null. This will be an automatic error in future versions.`,o,r);let s=Object.create(null);for(let{fieldConfig:a}of e)if(a.args!=null)for(let c in a.args){let u=a.args[c];u&&(s[c]||=[],s[c].push(u))}Object.values(s).some(a=>e.length!==a.length)&&qa(`Canonical definition of field "${o}" implements inconsistent argument names across subschemas. Input may be filtered from some requests.`,o,r);for(let a in s){if(t.args==null)continue;let c=s[a];if(!c)throw new Error("argCandidates is null");let u=`${o}.${a}`,l=t.args[a]||c[c.length-1];if(!l)throw new Error("finalArgConfig is null");let f=ke(l.type),d=Y(l.type);ML(l,c,"argument",u,r),cS(u,r).strictNullComparison&&c.some(p=>d!==Y(p.type))?qa(`Nullability of argument "${u}" does not match across subschemas. Disable typeMergingOptions.validationSettings.strictNullComparison to permit safe divergences.`,u,r):!d&&c.some(p=>Y(p.type))&&qa(`Canonical definition of argument "${u}" permits null while some subschemas require not-null. This will be an automatic error in future versions.`,u,r),Pe(f)&&CY(f,c,r)}}function H1e(t,e,r){for(let n in t){let o=t[n];if(e.length!==o&&e[0]){let i=`${e[0].type.name}.${n}`;qa(`Definition of input field "${i}" is not implemented by all subschemas. Input may be filtered from some requests.`,i,r)}}}function K1e(t,e,r){let n=`${e[0]?.type.name}.${e[0]?.fieldName}`,o=e.map(a=>a.inputFieldConfig),i=ke(t.type),s=Y(t.type);ML(t,o,"input field",n,r),cS(n,r).strictNullComparison&&e.some(a=>s!==Y(a.inputFieldConfig.type))?qa(`Nullability of input field "${n}" does not match across subschemas. Disable typeMergingOptions.validationSettings.strictNullComparison to permit safe divergences.`,n,r):!s&&e.some(a=>Y(a.inputFieldConfig.type))&&qa(`Canonical definition of input field "${n}" permits null while some subschemas require not-null. This will be an automatic error in future versions.`,n,r),Pe(i)&&CY(i,o,r)}function ML(t,e,r,n,o){let i=ke(t.type),s=lt(i),a=SY(t.type);for(let c of e){if(a!==SY(c.type))throw new Error(`Definitions of ${r} "${n}" implement inconsistent list types across subschemas and cannot be merged.`);let u=ke(c.type);if(i.toString()!==u.toString()){let l=!!o?.validationSettings?.proxiableScalars?.[i.toString()]?.includes(u.toString()),f=s&&lt(u),d=l&&f;if(l&&!f)throw new Error(`Types ${i} and ${u} are not proxiable scalars.`);d||qa(`Definitions of ${r} "${n}" implement inconsistent named types across subschemas. This will be an automatic error in future versions.`,n,o)}}}function SY(t){return Ie(ln(t))}function CY(t,e,r){let n=Object.create(null);for(let o of e){let i=ke(o.type);if(Pe(i))for(let{value:s}of i.getValues())n[s]=n[s]||0,n[s]+=1}Object.values(n).some(o=>e.length!==o)&&qa(`Enum "${t.name}" is used as an input with inconsistent values across subschemas. This will be an automatic error in future versions.`,t.name,r)}function qa(t,e,r){let n=`typeMergingOptions.validationScopes['${e}'].validationLevel`;switch(cS(e,r).validationLevel??sS.Warn){case sS.Off:return;case sS.Error:throw new Error(`${t} If this is intentional, you may disable this error by setting ${n} = "warn|off"`);default:console.warn(`${t} To disable this warning or elevate it to an error, set ${n} = "error|off"`)}}function cS(t,e){return b(b({},e?.validationSettings??{}),e?.validationScopes?.[t]??{})}function W1e(t,e,r){let n=e[0]?.type;if(e.length===1)return n;if(e.some(o=>o.type.constructor!==n?.constructor))throw new Error(`Cannot merge different type categories into common type ${t}.`);if(K(n))return Y1e(t,e,r);if(pe(n))return X1e(t,e,r);if(Z(n))return Z1e(t,e,r);if(Ue(n))return e_e(t,e,r);if(Pe(n))return t_e(t,e,r);if(lt(n))return o_e(t,e,r);throw new Error(`Type ${t} has unknown GraphQL type.`)}function Y1e(t,e,r){e=_m(e,r);let n=Dm(e,r),o=RY(e,r),s=e.map(h=>h.type.toConfig()).map(h=>h.interfaces).reduce((h,m)=>{if(m!=null)for(let g of m)h[g.name]=g;return h},Object.create(null)),a=Object.values(s),c=Wr("astNode",e),u=$L(e).map(h=>o[h]?.astNode).filter(h=>h!=null);c.length>1&&u.length&&c.push(S(b({},c[c.length-1]),{fields:JSON.parse(JSON.stringify(u))}));let l=c.slice(1).reduce((h,m)=>JI(m,h,{ignoreFieldConflicts:!0}),c[0]),f=Wr("extensionASTNodes",e),d=Object.assign({},...Wr("extensions",e)),p={name:t,description:n,fields:o,interfaces:a,astNode:l,extensionASTNodes:f,extensions:d,isOneOf:e.every(h=>h.type.isOneOf)};return new Qe(p)}function X1e(t,e,r){e=_m(e,r);let n=Dm(e,r),o=u_e(e,r),i=Wr("astNode",e),s=$L(e).map(f=>o[f]?.astNode).filter(f=>f!=null);i.length>1&&s.length&&i.push(S(b({},i[i.length-1]),{fields:JSON.parse(JSON.stringify(s))}));let a=i.slice(1).reduce((f,d)=>GI(d,f,{ignoreFieldConflicts:!0}),i[0]),c=Wr("extensionASTNodes",e),u=Object.assign({},...Wr("extensions",e)),l={name:t,description:n,fields:o,astNode:a,extensionASTNodes:c,extensions:u,isOneOf:e.every(f=>f.type.isOneOf)};return new Ye(l)}function Wr(t,e){return e.map(r=>r.type[t]).filter(r=>r!=null)}function Z1e(t,e,r){e=_m(e,r);let n=Dm(e,r),o=RY(e,r),s=e.map(h=>h.type.toConfig()).map(h=>"interfaces"in h?h.interfaces:[]).reduce((h,m)=>{if(m!=null)for(let g of m)h[g.name]=g;return h},Object.create(null)),a=Object.values(s),c=Wr("astNode",e),u=$L(e).map(h=>o[h]?.astNode).filter(h=>h!=null);c.length>1&&u.length&&c.push(S(b({},c[c.length-1]),{fields:JSON.parse(JSON.stringify(u))}));let l=c.slice(1).reduce((h,m)=>zI(m,h,{ignoreFieldConflicts:!0}),c[0]),f=Wr("extensionASTNodes",e),d=Object.assign({},...Wr("extensions",e)),p={name:t,description:n,fields:o,interfaces:a,astNode:l,extensionASTNodes:f,extensions:d};return new dt(p)}function e_e(t,e,r){e=_m(e,r);let n=Dm(e,r),i=e.map(d=>{if(!Ue(d.type))throw new Error(`Expected ${d.type} to be a union type!`);return d.type.toConfig()}).reduce((d,p)=>{for(let h of p.types)d[h.name]=h;return d},Object.create(null)),s=Object.values(i),a=Wr("astNode",e),c=a.slice(1).reduce((d,p)=>HI(p,d),a[0]),u=Wr("extensionASTNodes",e),l=Object.assign({},...Wr("extensions",e)),f={name:t,description:n,types:s,astNode:c,extensionASTNodes:u,extensions:l};return new Tr(f)}function t_e(t,e,r){e=_m(e,r);let n=Dm(e,r),o=r_e(e,r),i=Wr("astNode",e),s=i.slice(1).reduce((l,f)=>VI(f,l,{consistentEnumMerge:!0}),i[0]),a=Wr("extensionASTNodes",e),c=Object.assign({},...Wr("extensions",e)),u={name:t,description:n,values:o,astNode:s,extensionASTNodes:a,extensions:c};return new Nt(u)}function r_e(t,e){let r=Object.create(null);for(let o of t){let i=o.type.toConfig().values;for(let s in i){let a=i[s];if(a){let c={enumValueConfig:a,enumValue:s,type:o.type,subschema:o.subschema,transformedSubschema:o.transformedSubschema};r[s]?r[s].push(c):r[s]=[c]}}}let n=Object.create(null);for(let o in r){let i=r[o];if(i){let s=e?.enumValueConfigMerger??n_e;n[o]=s(i)}}return n}function n_e(t){let e=t.find(({type:n,transformedSubschema:o})=>Ju(o)&&o.merge?.[n.name]?.canonical),r=t[t.length-1];if(!r)throw new Error("Last canonical is required");return(e||r).enumValueConfig}function o_e(t,e,r){e=_m(e,r);let n=Dm(e,r),o=Wr("serialize",e),i=o[o.length-1],s=Wr("parseValue",e),a=s[s.length-1],c=Wr("parseLiteral",e),u=c[c.length-1],l=Wr("astNode",e),f=l.slice(1).reduce((g,w)=>qI(w,g),l[0]),d=Wr("extensionASTNodes",e),p=Object.assign({},...Wr("extensions",e)),h;for(let g of e)if("specifiedByURL"in g.type&&g.type.specifiedByURL){h=g.type.specifiedByURL;break}let m={name:t,description:n,serialize:i,parseValue:a,parseLiteral:u,astNode:f,extensionASTNodes:d,extensions:p,specifiedByURL:h};return new Ce(m)}function _m(t,e){let n=(e?.typeCandidateMerger??i_e)(t);return t.filter(o=>o!==n).concat([n])}function i_e(t){let e=t.filter(({type:n,transformedSubschema:o})=>Ju(o)?o.merge?.[n.name]?.canonical:!1);if(e.length>1)throw e[0]?new Error(`Multiple canonical definitions for "${e[0].type.name}"`):new Error("First canonical is required");if(e.length){if(!e[0])throw new Error("First canonical is required");return e[0]}let r=t[t.length-1];if(!r)throw new Error("Last canonical is required");return r}function Dm(t,e){return(e?.typeDescriptionsMerger??s_e)(t)}function s_e(t){return t[t.length-1]?.type.description}function RY(t,e){let r=Object.create(null);for(let o of t){let s=o.type.toConfig().fields;for(let a in s){let c=s[a];if(c){let u={fieldConfig:c,fieldName:a,type:o.type,subschema:o.subschema,transformedSubschema:o.transformedSubschema};r[a]?r[a].push(u):r[a]=[u]}}}let n=Object.create(null);for(let o in r){let i=r[o];i&&(n[o]=a_e(i,e))}return n}function a_e(t,e){let n=(e?.fieldConfigMerger??c_e(e?.useNonNullableFieldOnConflict))(t);return J1e(n,t,e),n}function c_e(t=!1){return function(r){let n=[],o=[],i=[],s=[];for(let{type:u,fieldName:l,fieldConfig:f,transformedSubschema:d}of r)Ju(d)&&(d.merge?.[u.name]?.fields?.[l]?.canonical?i.push(f):d.merge?.[u.name]?.canonical&&s.push(f),$s(f.type)?n.push(f):o.push(f));let a=o.length>0&&n.length>0&&t;if(i.length>1&&r[0])throw new Error(`Multiple canonical definitions for "${r[0].type.name}.${r[0].fieldName}"`);if(i.length){let u=i[0];if(!u)throw new Error("Final field is required");return a?S(b({},u),{type:ln(u.type)}):u}else if(s.length){let u=s[0];if(!u)throw new Error("Final field is required");return a?S(b({},u),{type:ln(u.type)}):u}let c=r[r.length-1]?.fieldConfig;if(!c)throw new Error("Field config is required");return a?S(b({},c),{type:ln(c.type)}):c}}function u_e(t,e){let r=Object.create(null),n=Object.create(null);for(let i of t){let a=i.type.toConfig().fields;for(let c in a){let u=a[c];if(u==null)throw new Error("'inputFieldConfig' is required");n[c]=n[c]||0,n[c]+=1;let l={inputFieldConfig:u,fieldName:c,type:i.type,subschema:i.subschema,transformedSubschema:i.transformedSubschema};r[c]?r[c].push(l):r[c]=[l]}}H1e(n,t,e);let o=Object.create(null);for(let i in r){let s=e?.inputFieldConfigMerger??l_e,a=r[i];if(!a)throw new Error("Input field config candidate is required");o[i]=s(a),K1e(o[i],a,e)}return o}function l_e(t){let e=[],r=[];for(let{type:o,fieldName:i,inputFieldConfig:s,transformedSubschema:a}of t)Ju(a)&&(a.merge?.[o.name]?.fields?.[i]?.canonical?e.push(s):a.merge?.[o.name]?.canonical&&r.push(s));if(e.length>1&&t[0])throw new Error(`Multiple canonical definitions for "${t[0].type.name}.${t[0].fieldName}"`);if(e.length)return e[0];if(r.length)return r[0];let n=t[t.length-1];if(!n)throw new Error("Last candidate is required");return n.inputFieldConfig}function $L(t){let e=Object.create(null);for(let{type:r,transformedSubschema:n}of t){if(!Ju(n))continue;let o=n.merge?.[r.name];if(o!=null&&o.fields!=null&&!o.canonical)for(let i in o.fields)o.fields[i]?.canonical&&(e[i]=!0)}return Object.keys(e)}function f_e(t){if(t.size===0)return;if(t.size===1)return t.values().next().value;let e,r,n=new Set,o={},i=new Set,s=!1;for(let a of t){e=a.name,a.description&&(r=a.description);for(let c of a.locations)n.add(c);for(let c of a.args)o[c.name]=c;s=s||a.isRepeatable,a.extensions&&i.add(a.extensions)}return new zt({name:e,description:r,locations:Array.from(n),args:o,isRepeatable:s,extensions:i.size>0?Vu([...i]):void 0})}var jc={commentDescriptions:!0};function NY(t){switch(t.kind){case y.OBJECT_TYPE_DEFINITION:return d_e(t);case y.INTERFACE_TYPE_DEFINITION:return p_e(t);case y.ENUM_TYPE_DEFINITION:return h_e(t);case y.UNION_TYPE_DEFINITION:return m_e(t);case y.SCALAR_TYPE_DEFINITION:return y_e(t);case y.INPUT_OBJECT_TYPE_DEFINITION:return g_e(t);case y.DIRECTIVE_DEFINITION:return b_e(t);default:return null}}function d_e(t){let e={name:t.name.value,description:Va(t,jc),interfaces:()=>t.interfaces?.map(r=>im(r.name.value,"interface"))||[],fields:()=>t.fields!=null?kY(t.fields):{},astNode:t};return new Qe(e)}function p_e(t){let e={name:t.name.value,description:Va(t,jc),interfaces:()=>t.interfaces?.map(r=>im(r.name.value,"interface")),fields:()=>t.fields!=null?kY(t.fields):{},astNode:t};return new dt(e)}function h_e(t){let e=t.values?.reduce((r,n)=>S(b({},r),{[n.name.value]:{description:Va(n,jc),deprecationReason:PY(n),astNode:n}}),{})??{};return new Nt({name:t.name.value,description:Va(t,jc),values:e,astNode:t})}function m_e(t){return new Tr({name:t.name.value,description:Va(t,jc),types:()=>t.types?.map(e=>im(e.name.value,"object"))??[],astNode:t})}function y_e(t){return new Ce({name:t.name.value,description:Va(t,jc),astNode:t,serialize:e=>e})}function g_e(t){return new Ye({name:t.name.value,description:Va(t,jc),fields:()=>t.fields?VL(t.fields):{},astNode:t})}function kY(t){return t.reduce((e,r)=>S(b({},e),{[r.name.value]:{type:Hw(r.type,"output"),description:Va(r,jc),args:VL(r.arguments??[]),deprecationReason:PY(r),astNode:r}}),{})}function VL(t){return t.reduce((e,r)=>S(b({},e),{[r.name.value]:{type:Hw(r.type,"input"),defaultValue:r.defaultValue!==void 0?rs(r.defaultValue):void 0,description:Va(r,jc),astNode:r}}),{})}function w_e(t){return t in xe}function b_e(t){let e=[];for(let r of t.locations){let n=r.value;w_e(n)&&e.push(n)}return new zt({name:t.name.value,description:t.description!=null?t.description.value:null,locations:e,isRepeatable:t.repeatable,args:VL(t.arguments??[]),astNode:t})}function PY(t){return Vr(ns,t)?.reason}function E_e({subschemas:t,originalSubschemaMap:e,types:r,typeDefs:n,parseOptions:o,directiveMap:i,schemaDefs:s,mergeDirectives:a}){let c=new Map(Object.entries(i).map(([g,w])=>[g,new Set([w])])),u=[],l=Object.create(null),f,d=[],p,h;(n&&!Array.isArray(n)||Array.isArray(n)&&n.length)&&(p=aY(n,o),h=Q1e(p),f=h.schemaDefs[0],d=d.concat(h.schemaExtensions)),s.schemaDef=f??s.schemaDef,s.schemaExtensions=d;let m=v_e(s);for(let g of t){let w=g.transformedSchema=AY(g),T=om(w),v=qP(w);for(let[A,_]of T.entries())iS(l,m[A],{type:_,subschema:e.get(g),transformedSubschema:g});if(a===!0)for(let A of w.getDirectives()){let _=c.get(A.name);_==null&&(_=new Set,c.set(A.name,_)),_.add(A)}let x=w.getTypeMap();for(let A in x){let _=x[A];Mr(_)&&!Tn(_)&&!v.has(_)&&iS(l,_.name,{type:_,subschema:e.get(g),transformedSubschema:g})}}if(p!=null&&h!=null){for(let g of h.typeDefinitions){let w=NY(g);if(!Mr(w))throw new Error(`Expected to get named typed but got ${Dt(g)}`);if(w!=null){if(Z(w))try{w.getInterfaces()}catch{Object.defineProperty(w,"_interfaces",{value:[]})}iS(l,w.name,{type:w})}}for(let g of h.directiveDefs){let w=NY(g);if(!Pa(w))throw new Error(`Expected to get directive type but got ${Dt(g)}`);let T=c.get(w.name);T==null&&(T=new Set,c.set(w.name,T)),T.add(w)}h.extensionDefs.length>0&&u.push(S(b({},p),{definitions:h.extensionDefs}))}for(let g of r)iS(l,g.name,{type:g});for(let[g,w]of c)i[g]=f_e(w);return[l,m,u]}function v_e({schemaDef:t,schemaExtensions:e}){let r={query:"Query",mutation:"Mutation",subscription:"Subscription"},n=e.slice();t!=null&&n.unshift(t);for(let o of n)if(o.operationTypes!=null)for(let i of o.operationTypes)r[i.operation]=i.type.name.value;return r}function iS(t,e,r){t[e]||(t[e]=[]),t[e].push(r)}function T_e({typeCandidates:t,directives:e,stitchingInfo:r,rootTypeNames:n,onTypeConflict:o,mergeTypes:i,typeMergingOptions:s}){let a=Object.create(null);for(let c in t)if(n.includes(c)||i===!0&&!t[c]?.some(u=>Kr(u.type))||typeof i=="function"&&i(t[c],c)||Array.isArray(i)&&i.includes(c)||r!=null&&c in r.mergedTypes)a[c]=W1e(c,t[c],s);else{let u=o!=null?x_e(o):l=>l[l.length-1];a[c]=u(t[c]).type}return wI(a,e)}function x_e(t){return e=>e.reduce((r,n)=>{let o=t(r.type,n.type,{left:{subschema:r.subschema,transformedSubschema:r.transformedSubschema},right:{subschema:n.subschema,transformedSubschema:n.transformedSubschema}});return r.type===o?r:n.type===o?n:{schemaName:"unknown",type:o}})}function LY(h){var m=h,{subschemas:t=[],types:e=[],typeDefs:r=[],onTypeConflict:n,mergeDirectives:o,mergeTypes:i=!0,typeMergingOptions:s,subschemaConfigTransforms:a=[],resolvers:c={},inheritResolversFromInterfaces:u=!1,resolverValidationOptions:l={},updateResolversInPlace:f=!0,schemaExtensions:d}=m,p=Gr(m,["subschemas","types","typeDefs","onTypeConflict","mergeDirectives","mergeTypes","typeMergingOptions","subschemaConfigTransforms","resolvers","inheritResolversFromInterfaces","resolverValidationOptions","updateResolversInPlace","schemaExtensions"]);let g=[],w=new Map,T=new Map;for(let Te of t)for(let $e of I_e(a,Te,w,T))g.push($e);let v=Object.create(null);for(let Te of rn)v[Te.name]=Te;let x=Object.create(null),[A,_,O]=E_e({subschemas:g,originalSubschemaMap:T,types:e,typeDefs:r||[],parseOptions:p,directiveMap:v,schemaDefs:x,mergeDirectives:o}),C=B1e(w,A,i),{typeMap:I,directives:k}=T_e({typeCandidates:A,directives:Object.values(v),stitchingInfo:C,rootTypeNames:Object.values(_),onTypeConflict:n,mergeTypes:i,typeMergingOptions:s}),M=new _r({query:I[_.query],mutation:I[_.mutation],subscription:I[_.subscription],types:Object.values(I),directives:k,astNode:x.schemaDef,extensionASTNodes:x.schemaExtensions,extensions:null,assumeValid:p.assumeValid});for(let Te of O)M=Lw(M,Te,{commentDescriptions:!0});let X=IL(c),re=u?lb(M,X):X;C=$1e(C,re,M),M=LL({schema:M,defaultFieldResolver:UI,resolvers:re,resolverValidationOptions:l,inheritResolversFromInterfaces:!1,updateResolversInPlace:f});let ye=Object.entries(l);return ye.length>0&&ye.some(([,Te])=>Te!=="ignore")&&PL(M,l),V1e(M,C),d&&(Array.isArray(d)&&(d=cY(d)),uY(M,d)),M}var A_e=[j1e,q1e];function I_e(t,e,r,n){let o;if(Ju(e))o=e;else if(e instanceof _r)o={schema:e};else throw new TypeError("Received invalid input."+Dt(e));let s=t.concat(A_e).reduce((c,u)=>c.flatMap(l=>u(l)),[o]).map(c=>new tb(c)),a=s[0];r.set(e,a);for(let c of s)n.set(c,e);return s}se();function S_e(t,e){return eL(i=>E(null,[i],function*({document:n,variables:o}){let s=e(),a=s?{[XH]:s}:{};return yield rr(t,{method:"POST",headers:a,body:{query:qe(n),variables:o}})}))}function FY(t){let{definition:e,getViewerID:r,remoteExecutor:n,serverURL:o}=t,i;if(typeof n=="function")i=n;else if(typeof r=="function"&&typeof o=="string")i=S_e(o,r);else throw new Error("Invalid parameters to create hybrid schema: missing `remoteExecutor` or `getViewerID` and `serverURL` parameters");let s={executor:i,schema:tm({definition:e,readonly:!0})};return LY({subschemas:[tm({definition:e}),s],mergeTypes:!1,onTypeConflict:(a,c,u)=>u?.left.subschema===s?a:c})}function N_e(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function __e(t,e){return e.get?e.get.call(t):e.value}function D_e(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}function UY(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}function Xu(t,e){var r=UY(t,e,"get");return __e(t,r)}function jL(t,e,r){N_e(t,e),e.set(t,r)}function GL(t,e,r){var n=UY(t,e,"set");return D_e(t,n,r),r}var Uf=new WeakMap,zL=new WeakMap,uS=new WeakMap,fb=class{get context(){return Xu(this,Uf)}get did(){return Xu(this,Uf).ceramic.did}get id(){return Xu(this,Uf).getViewerID()}get resources(){return Xu(this,zL)}setDID(e){Xu(this,Uf).ceramic.did=e}execute(e,r){return E(this,null,function*(){return yield Xu(this,uS).execute(e,r)})}executeQuery(e,r){return E(this,null,function*(){return yield Xu(this,uS).executeQuery(e,r)})}constructor(e){jL(this,Uf,{writable:!0,value:void 0}),jL(this,zL,{writable:!0,value:void 0}),jL(this,uS,{writable:!0,value:void 0});let u=e,{ceramic:r,definition:n,remoteExecutor:o,serverURL:i}=u,s=Gr(u,["ceramic","definition","remoteExecutor","serverURL"]),a=typeof r=="string"?new jx(r):r;GL(this,Uf,Vw(S(b({},s),{ceramic:a}))),GL(this,zL,Object.values(n.models).map(l=>`ceramic://*?model=${l.id}`));let c={ceramic:a,context:Xu(this,Uf),definition:n};(o!=null||i!=null)&&(c.schema=FY({definition:n,getViewerID:()=>this.id,remoteExecutor:o,serverURL:i})),GL(this,uS,new zw(c))}};function Bf(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function db(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Bf(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function Om(t,e){e||(e=t.reduce((o,i)=>o+i.length,0));let r=db(e),n=0;for(let o of t)r.set(o,n),n+=o.length;return Bf(r)}var KL={};vt(KL,{identity:()=>L_e});function O_e(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var o=0;o<t.length;o++){var i=t.charAt(o),s=i.charCodeAt(0);if(r[s]!==255)throw new TypeError(i+" is ambiguous");r[s]=o}var a=t.length,c=t.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function f(h){if(h instanceof Uint8Array||(ArrayBuffer.isView(h)?h=new Uint8Array(h.buffer,h.byteOffset,h.byteLength):Array.isArray(h)&&(h=Uint8Array.from(h))),!(h instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(h.length===0)return"";for(var m=0,g=0,w=0,T=h.length;w!==T&&h[w]===0;)w++,m++;for(var v=(T-w)*l+1>>>0,x=new Uint8Array(v);w!==T;){for(var A=h[w],_=0,O=v-1;(A!==0||_<g)&&O!==-1;O--,_++)A+=256*x[O]>>>0,x[O]=A%a>>>0,A=A/a>>>0;if(A!==0)throw new Error("Non-zero carry");g=_,w++}for(var C=v-g;C!==v&&x[C]===0;)C++;for(var I=c.repeat(m);C<v;++C)I+=t.charAt(x[C]);return I}function d(h){if(typeof h!="string")throw new TypeError("Expected String");if(h.length===0)return new Uint8Array;var m=0;if(h[m]!==" "){for(var g=0,w=0;h[m]===c;)g++,m++;for(var T=(h.length-m)*u+1>>>0,v=new Uint8Array(T);h[m];){var x=r[h.charCodeAt(m)];if(x===255)return;for(var A=0,_=T-1;(x!==0||A<w)&&_!==-1;_--,A++)x+=a*v[_]>>>0,v[_]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");w=A,m++}if(h[m]!==" "){for(var O=T-w;O!==T&&v[O]===0;)O++;for(var C=new Uint8Array(g+(T-O)),I=g;O!==T;)C[I++]=v[O++];return C}}}function p(h){var m=d(h);if(m)return m;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:d,decode:p}}var C_e=O_e,R_e=C_e,BY=R_e;var f0t=new Uint8Array(0);var MY=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},Gc=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")};var $Y=t=>new TextEncoder().encode(t),VY=t=>new TextDecoder().decode(t);var qL=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},QL=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return GY(this,e)}},JL=class{constructor(e){this.decoders=e}or(e){return GY(this,e)}decode(e){let r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},GY=(t,e)=>new JL(b(b({},t.decoders||{[t.prefix]:t}),e.decoders||{[e.prefix]:e})),HL=class{constructor(e,r,n,o){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=o,this.encoder=new qL(e,r,n),this.decoder=new QL(e,r,o)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},Cm=({name:t,prefix:e,encode:r,decode:n})=>new HL(t,e,r,n),Zu=({prefix:t,name:e,alphabet:r})=>{let{encode:n,decode:o}=BY(r,e);return Cm({prefix:t,name:e,encode:n,decode:i=>Gc(o(i))})},k_e=(t,e,r,n)=>{let o={};for(let l=0;l<e.length;++l)o[e[l]]=l;let i=t.length;for(;t[i-1]==="=";)--i;let s=new Uint8Array(i*r/8|0),a=0,c=0,u=0;for(let l=0;l<i;++l){let f=o[t[l]];if(f===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|f,a+=r,a>=8&&(a-=8,s[u++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return s},P_e=(t,e,r)=>{let n=e[e.length-1]==="=",o=(1<<r)-1,i="",s=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],s+=8;s>r;)s-=r,i+=e[o&a>>s];if(s&&(i+=e[o&a<<r-s]),n)for(;i.length*r&7;)i+="=";return i},jr=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>Cm({prefix:e,name:t,encode(o){return P_e(o,n,r)},decode(o){return k_e(o,n,r,t)}});var L_e=Cm({prefix:"\0",name:"identity",encode:t=>VY(t),decode:t=>$Y(t)});var WL={};vt(WL,{base2:()=>F_e});var F_e=jr({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var YL={};vt(YL,{base8:()=>U_e});var U_e=jr({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var XL={};vt(XL,{base10:()=>B_e});var B_e=Zu({prefix:"9",name:"base10",alphabet:"0123456789"});var ZL={};vt(ZL,{base16:()=>M_e,base16upper:()=>$_e});var M_e=jr({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),$_e=jr({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var eF={};vt(eF,{base32:()=>Rm,base32hex:()=>z_e,base32hexpad:()=>Q_e,base32hexpadupper:()=>J_e,base32hexupper:()=>q_e,base32pad:()=>j_e,base32padupper:()=>G_e,base32upper:()=>V_e,base32z:()=>H_e});var Rm=jr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),V_e=jr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),j_e=jr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),G_e=jr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),z_e=jr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),q_e=jr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Q_e=jr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),J_e=jr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),H_e=jr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var tF={};vt(tF,{base36:()=>K_e,base36upper:()=>W_e});var K_e=Zu({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),W_e=Zu({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var rF={};vt(rF,{base58btc:()=>Qa,base58flickr:()=>Y_e});var Qa=Zu({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Y_e=Zu({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var nF={};vt(nF,{base64:()=>X_e,base64pad:()=>Z_e,base64url:()=>eDe,base64urlpad:()=>tDe});var X_e=jr({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Z_e=jr({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),eDe=jr({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),tDe=jr({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var oF={};vt(oF,{base256emoji:()=>sDe});var zY=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),rDe=zY.reduce((t,e,r)=>(t[r]=e,t),[]),nDe=zY.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function oDe(t){return t.reduce((e,r)=>(e+=rDe[r],e),"")}function iDe(t){let e=[];for(let r of t){let n=nDe[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}var sDe=Cm({prefix:"\u{1F680}",name:"base256emoji",encode:oDe,decode:iDe});var cF={};vt(cF,{sha256:()=>IDe,sha512:()=>SDe});var Vf={};vt(Vf,{decode:()=>km,encodeTo:()=>Mf,encodingLength:()=>$f});var aDe=JY,qY=128,cDe=127,uDe=~cDe,lDe=Math.pow(2,31);function JY(t,e,r){e=e||[],r=r||0;for(var n=r;t>=lDe;)e[r++]=t&255|qY,t/=128;for(;t&uDe;)e[r++]=t&255|qY,t>>>=7;return e[r]=t|0,JY.bytes=r-n+1,e}var fDe=iF,dDe=128,QY=127;function iF(t,n){var r=0,n=n||0,o=0,i=n,s,a=t.length;do{if(i>=a)throw iF.bytes=0,new RangeError("Could not decode varint");s=t[i++],r+=o<28?(s&QY)<<o:(s&QY)*Math.pow(2,o),o+=7}while(s>=dDe);return iF.bytes=i-n,r}var pDe=Math.pow(2,7),hDe=Math.pow(2,14),mDe=Math.pow(2,21),yDe=Math.pow(2,28),gDe=Math.pow(2,35),wDe=Math.pow(2,42),bDe=Math.pow(2,49),EDe=Math.pow(2,56),vDe=Math.pow(2,63),TDe=function(t){return t<pDe?1:t<hDe?2:t<mDe?3:t<yDe?4:t<gDe?5:t<wDe?6:t<bDe?7:t<EDe?8:t<vDe?9:10},xDe={encode:aDe,decode:fDe,encodingLength:TDe},ADe=xDe,pb=ADe;var km=(t,e=0)=>[pb.decode(t,e),pb.decode.bytes],Mf=(t,e,r=0)=>(pb.encode(t,e,r),e),$f=t=>pb.encodingLength(t);var jf=(t,e)=>{let r=e.byteLength,n=$f(t),o=n+$f(r),i=new Uint8Array(o+r);return Mf(t,i,0),Mf(r,i,n),i.set(e,o),new Pm(t,r,e,i)},HY=t=>{let e=Gc(t),[r,n]=km(e),[o,i]=km(e.subarray(n)),s=e.subarray(n+i);if(s.byteLength!==o)throw new Error("Incorrect length");return new Pm(r,o,s,e)},KY=(t,e)=>t===e?!0:t.code===e.code&&t.size===e.size&&MY(t.bytes,e.bytes),Pm=class{constructor(e,r,n,o){this.code=e,this.size=r,this.digest=n,this.bytes=o}};var aF=({name:t,code:e,encode:r})=>new sF(t,e,r),sF=class{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){let r=this.encode(e);return r instanceof Uint8Array?jf(this.code,r):r.then(n=>jf(this.code,n))}else throw Error("Unknown type, must be binary type")}};var YY=t=>e=>E(null,null,function*(){return new Uint8Array(yield crypto.subtle.digest(t,e))}),IDe=aF({name:"sha2-256",code:18,encode:YY("SHA-256")}),SDe=aF({name:"sha2-512",code:19,encode:YY("SHA-512")});var uF={};vt(uF,{identity:()=>DDe});var XY=0,NDe="identity",ZY=Gc,_De=t=>jf(XY,ZY(t)),DDe={code:XY,name:NDe,encode:ZY,digest:_De};var P0t=new TextEncoder,L0t=new TextDecoder;var dS=class t{constructor(e,r,n,o){this.code=r,this.version=e,this.multihash=n,this.bytes=o,this.byteOffset=o.byteOffset,this.byteLength=o.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:fS,byteLength:fS,code:lS,version:lS,multihash:lS,bytes:lS,_baseCache:fS,asCID:fS})}toV0(){switch(this.version){case 0:return this;default:{let{code:e,multihash:r}=this;if(e!==mb)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==LDe)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return t.createV0(r)}}}toV1(){switch(this.version){case 0:{let{code:e,digest:r}=this.multihash,n=jf(e,r);return t.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&KY(this.multihash,e.multihash)}toString(e){let{bytes:r,version:n,_baseCache:o}=this;switch(n){case 0:return kDe(r,o,e||Qa.encoder);default:return PDe(r,o,e||Rm.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return UDe(/^0\.0/,BDe),!!(e&&(e[tX]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof t)return e;if(e!=null&&e.asCID===e){let{version:r,code:n,multihash:o,bytes:i}=e;return new t(r,n,o,i||eX(r,n,o.bytes))}else if(e!=null&&e[tX]===!0){let{version:r,multihash:n,code:o}=e,i=HY(n);return t.create(r,o,i)}else return null}static create(e,r,n){if(typeof r!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(r!==mb)throw new Error(`Version 0 CID must use dag-pb (code: ${mb}) block encoding`);return new t(e,r,n,n.bytes)}case 1:{let o=eX(e,r,n.bytes);return new t(e,r,n,o)}default:throw new Error("Invalid version")}}static createV0(e){return t.create(0,mb,e)}static createV1(e,r){return t.create(1,e,r)}static decode(e){let[r,n]=t.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return r}static decodeFirst(e){let r=t.inspectBytes(e),n=r.size-r.multihashSize,o=Gc(e.subarray(n,n+r.multihashSize));if(o.byteLength!==r.multihashSize)throw new Error("Incorrect length");let i=o.subarray(r.multihashSize-r.digestSize),s=new Pm(r.multihashCode,r.digestSize,i,o);return[r.version===0?t.createV0(s):t.createV1(r.codec,s),e.subarray(r.size)]}static inspectBytes(e){let r=0,n=()=>{let[f,d]=km(e.subarray(r));return r+=d,f},o=n(),i=mb;if(o===18?(o=0,r=0):o===1&&(i=n()),o!==0&&o!==1)throw new RangeError(`Invalid CID version ${o}`);let s=r,a=n(),c=n(),u=r+c,l=u-s;return{version:o,codec:i,multihashCode:a,digestSize:c,multihashSize:l,size:u}}static parse(e,r){let[n,o]=RDe(e,r),i=t.decode(o);return i._baseCache.set(n,e),i}},RDe=(t,e)=>{switch(t[0]){case"Q":{let r=e||Qa;return[Qa.prefix,r.decode(`${Qa.prefix}${t}`)]}case Qa.prefix:{let r=e||Qa;return[Qa.prefix,r.decode(t)]}case Rm.prefix:{let r=e||Rm;return[Rm.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},kDe=(t,e,r)=>{let{prefix:n}=r;if(n!==Qa.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let o=e.get(n);if(o==null){let i=r.encode(t).slice(1);return e.set(n,i),i}else return o},PDe=(t,e,r)=>{let{prefix:n}=r,o=e.get(n);if(o==null){let i=r.encode(t);return e.set(n,i),i}else return o},mb=112,LDe=18,eX=(t,e,r)=>{let n=$f(t),o=n+$f(e),i=new Uint8Array(o+r.byteLength);return Mf(t,i,0),Mf(e,i,n),i.set(r,o),i},tX=Symbol.for("@ipld/js-cid/CID"),lS={writable:!1,configurable:!1,enumerable:!0},fS={writable:!1,enumerable:!1,configurable:!1},FDe="0.0.0-dev",UDe=(t,e)=>{if(t.test(FDe))console.warn(e);else throw new Error(e)},BDe=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`;var lF=b(b(b(b(b(b(b(b(b(b({},KL),WL),YL),XL),ZL),eF),tF),rF),nF),oF),G0t=b(b({},cF),uF);function nX(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}var rX=nX("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),fF=nX("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);let e=db(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),MDe=b({utf8:rX,"utf-8":rX,hex:lF.base16,latin1:fF,ascii:fF,binary:fF},lF),pS=MDe;function Gf(t,e="utf8"){let r=pS[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Bf(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}function hS(t,e="utf8"){let r=pS[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}var Hs=BigInt(0),Si=BigInt(1),mS=BigInt(2),$De=BigInt(8),VDe={zip215:!0};function jDe(t){let e=HU(t);return Kb(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze(b({},e))}function yS(t){let e=jDe(t),{Fp:r,n,prehash:o,hash:i,randomBytes:s,nByteLength:a,h:c}=e,u=mS<<BigInt(a*8)-Si,l=r.create,f=e.uvRatio||((ne,L)=>{try{return{isValid:!0,value:r.sqrt(ne*r.inv(L))}}catch{return{isValid:!1,value:Hs}}}),d=e.adjustScalarBytes||(ne=>ne),p=e.domain||((ne,L,ae)=>{if(L.length||ae)throw new Error("Contexts/pre-hash are not supported");return ne}),h=ne=>typeof ne=="bigint"&&Hs<ne,m=(ne,L)=>h(ne)&&h(L)&&ne<L,g=ne=>ne===Hs||m(ne,u);function w(ne,L){if(m(ne,L))return ne;throw new Error(`Expected valid scalar < ${L}, got ${typeof ne} ${ne}`)}function T(ne){return ne===Hs?ne:w(ne,n)}let v=new Map;function x(ne){if(!(ne instanceof A))throw new Error("ExtendedPoint expected")}class A{constructor(L,ae,ge,R){if(this.ex=L,this.ey=ae,this.ez=ge,this.et=R,!g(L))throw new Error("x required");if(!g(ae))throw new Error("y required");if(!g(ge))throw new Error("z required");if(!g(R))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(L){if(L instanceof A)throw new Error("extended point not allowed");let{x:ae,y:ge}=L||{};if(!g(ae)||!g(ge))throw new Error("invalid affine point");return new A(ae,ge,Si,l(ae*ge))}static normalizeZ(L){let ae=r.invertBatch(L.map(ge=>ge.ez));return L.map((ge,R)=>ge.toAffine(ae[R])).map(A.fromAffine)}_setWindowSize(L){this._WINDOW_SIZE=L,v.delete(this)}assertValidity(){let{a:L,d:ae}=e;if(this.is0())throw new Error("bad point: ZERO");let{ex:ge,ey:R,ez:W,et:H}=this,te=l(ge*ge),_e=l(R*R),Ve=l(W*W),He=l(Ve*Ve),er=l(te*L),xo=l(Ve*l(er+_e)),dn=l(He+l(ae*l(te*_e)));if(xo!==dn)throw new Error("bad point: equation left != right (1)");let Xr=l(ge*R),Ka=l(W*H);if(Xr!==Ka)throw new Error("bad point: equation left != right (2)")}equals(L){x(L);let{ex:ae,ey:ge,ez:R}=this,{ex:W,ey:H,ez:te}=L,_e=l(ae*te),Ve=l(W*R),He=l(ge*te),er=l(H*R);return _e===Ve&&He===er}is0(){return this.equals(A.ZERO)}negate(){return new A(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){let{a:L}=e,{ex:ae,ey:ge,ez:R}=this,W=l(ae*ae),H=l(ge*ge),te=l(mS*l(R*R)),_e=l(L*W),Ve=ae+ge,He=l(l(Ve*Ve)-W-H),er=_e+H,xo=er-te,dn=_e-H,Xr=l(He*xo),Ka=l(er*dn),jb=l(He*dn),Gb=l(xo*er);return new A(Xr,Ka,Gb,jb)}add(L){x(L);let{a:ae,d:ge}=e,{ex:R,ey:W,ez:H,et:te}=this,{ex:_e,ey:Ve,ez:He,et:er}=L;if(ae===BigInt(-1)){let NU=l((W-R)*(Ve+_e)),_U=l((W+R)*(Ve-_e)),tN=l(_U-NU);if(tN===Hs)return this.double();let DU=l(H*mS*er),OU=l(te*mS*He),CU=OU+DU,RU=_U+NU,kU=OU-DU,nte=l(CU*tN),ote=l(RU*kU),ite=l(CU*kU),ste=l(tN*RU);return new A(nte,ote,ste,ite)}let xo=l(R*_e),dn=l(W*Ve),Xr=l(te*ge*er),Ka=l(H*He),jb=l((R+W)*(_e+Ve)-xo-dn),Gb=Ka-Xr,IU=Ka+Xr,SU=l(dn-ae*xo),Zee=l(jb*Gb),ete=l(IU*SU),tte=l(jb*SU),rte=l(Gb*IU);return new A(Zee,ete,rte,tte)}subtract(L){return this.add(L.negate())}wNAF(L){return C.wNAFCached(this,v,L,A.normalizeZ)}multiply(L){let{p:ae,f:ge}=this.wNAF(w(L,n));return A.normalizeZ([ae,ge])[0]}multiplyUnsafe(L){let ae=T(L);return ae===Hs?O:this.equals(O)||ae===Si?this:this.equals(_)?this.wNAF(ae).p:C.unsafeLadder(this,ae)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return C.unsafeLadder(this,n).is0()}toAffine(L){let{ex:ae,ey:ge,ez:R}=this,W=this.is0();L==null&&(L=W?$De:r.inv(R));let H=l(ae*L),te=l(ge*L),_e=l(R*L);if(W)return{x:Hs,y:Si};if(_e!==Si)throw new Error("invZ was invalid");return{x:H,y:te}}clearCofactor(){let{h:L}=e;return L===Si?this:this.multiplyUnsafe(L)}static fromHex(L,ae=!1){let{d:ge,a:R}=e,W=r.BYTES;L=Di("pointHex",L,W);let H=L.slice(),te=L[W-1];H[W-1]=te&-129;let _e=ll(H);_e===Hs||(ae?w(_e,u):w(_e,r.ORDER));let Ve=l(_e*_e),He=l(Ve-Si),er=l(ge*Ve-R),{isValid:xo,value:dn}=f(He,er);if(!xo)throw new Error("Point.fromHex: invalid y coordinate");let Xr=(dn&Si)===Si,Ka=(te&128)!==0;if(!ae&&dn===Hs&&Ka)throw new Error("Point.fromHex: x=0 and x_0=1");return Ka!==Xr&&(dn=l(-dn)),A.fromAffine({x:dn,y:_e})}static fromPrivateKey(L){return M(L).point}toRawBytes(){let{x:L,y:ae}=this.toAffine(),ge=qm(ae,r.BYTES);return ge[ge.length-1]|=L&Si?128:0,ge}toHex(){return GU(this.toRawBytes())}}A.BASE=new A(e.Gx,e.Gy,Si,l(e.Gx*e.Gy)),A.ZERO=new A(Hs,Si,Si,Hs);let{BASE:_,ZERO:O}=A,C=JU(A,a*8);function I(ne){return Ao(ne,n)}function k(ne){return I(ll(ne))}function M(ne){let L=a;ne=Di("private key",ne,L);let ae=Di("hashed private key",i(ne),2*L),ge=d(ae.slice(0,L)),R=ae.slice(L,2*L),W=k(ge),H=_.multiply(W),te=H.toRawBytes();return{head:ge,prefix:R,scalar:W,point:H,pointBytes:te}}function X(ne){return M(ne).pointBytes}function re(ne=new Uint8Array,...L){let ae=nN(...L);return k(i(p(ae,Di("context",ne),!!o)))}function ye(ne,L,ae={}){ne=Di("message",ne),o&&(ne=o(ne));let{prefix:ge,scalar:R,pointBytes:W}=M(L),H=re(ae.context,ge,ne),te=_.multiply(H).toRawBytes(),_e=re(ae.context,te,W,ne),Ve=I(H+_e*R);T(Ve);let He=nN(te,qm(Ve,r.BYTES));return Di("result",He,a*2)}let Te=VDe;function $e(ne,L,ae,ge=Te){let{context:R,zip215:W}=ge,H=r.BYTES;ne=Di("signature",ne,2*H),L=Di("message",L),o&&(L=o(L));let te=ll(ne.slice(H,2*H)),_e,Ve,He;try{_e=A.fromHex(ae,W),Ve=A.fromHex(ne.slice(0,H),W),He=_.multiplyUnsafe(te)}catch{return!1}if(!W&&_e.isSmallOrder())return!1;let er=re(R,Ve.toRawBytes(),_e.toRawBytes(),L);return Ve.add(_e.multiplyUnsafe(er)).subtract(He).clearCofactor().equals(A.ZERO)}return _._setWindowSize(8),{CURVE:e,getPublicKey:X,sign:ye,verify:$e,ExtendedPoint:A,utils:{getExtendedPublicKey:M,randomPrivateKey:()=>s(r.BYTES),precompute(ne=8,L=A.BASE){return L._setWindowSize(ne),L.multiply(BigInt(3)),L}}}}var yb=BigInt(0),dF=BigInt(1);function GDe(t){return Kb(t,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze(b({},t))}function oX(t){let e=GDe(t),{P:r}=e,n=v=>Ao(v,r),o=e.montgomeryBits,i=Math.ceil(o/8),s=e.nByteLength,a=e.adjustScalarBytes||(v=>v),c=e.powPminus2||(v=>zU(v,r-BigInt(2),r));function u(v,x,A){let _=n(v*(x-A));return x=n(x-_),A=n(A+_),[x,A]}function l(v){if(typeof v=="bigint"&&yb<=v&&v<r)return v;throw new Error("Expected valid scalar 0 < scalar < CURVE.P")}let f=(e.a-BigInt(2))/BigInt(4);function d(v,x){let A=l(v),_=l(x),O=A,C=dF,I=yb,k=A,M=dF,X=yb,re;for(let Te=BigInt(o-1);Te>=yb;Te--){let $e=_>>Te&dF;X^=$e,re=u(X,C,k),C=re[0],k=re[1],re=u(X,I,M),I=re[0],M=re[1],X=$e;let ot=C+I,ne=n(ot*ot),L=C-I,ae=n(L*L),ge=ne-ae,R=k+M,W=k-M,H=n(W*ot),te=n(R*L),_e=H+te,Ve=H-te;k=n(_e*_e),M=n(O*n(Ve*Ve)),C=n(ne*ae),I=n(ge*(ne+n(f*ge)))}re=u(X,C,k),C=re[0],k=re[1],re=u(X,I,M),I=re[0],M=re[1];let ye=c(I);return n(C*ye)}function p(v){return qm(n(v),i)}function h(v){let x=Di("u coordinate",v,i);return s===i&&(x[s-1]&=127),ll(x)}function m(v){let x=Di("scalar",v);if(x.length!==i&&x.length!==s)throw new Error(`Expected ${i} or ${s} bytes, got ${x.length}`);return ll(a(x))}function g(v,x){let A=h(x),_=m(v),O=d(A,_);if(O===yb)throw new Error("Invalid private or public key received");return p(O)}let w=p(e.Gu);function T(v){return g(v,w)}return{scalarMult:g,scalarMultBase:T,getSharedSecret:(v,x)=>g(v,x),getPublicKey:v=>T(v),utils:{randomPrivateKey:()=>e.randomBytes(e.nByteLength)},GuBytes:w}}var gb=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),iX=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),Dwt=BigInt(0),zDe=BigInt(1),pF=BigInt(2),qDe=BigInt(5),sX=BigInt(10),QDe=BigInt(20),JDe=BigInt(40),aX=BigInt(80);function cX(t){let e=gb,n=t*t%e*t%e,o=Oi(n,pF,e)*n%e,i=Oi(o,zDe,e)*t%e,s=Oi(i,qDe,e)*i%e,a=Oi(s,sX,e)*s%e,c=Oi(a,QDe,e)*a%e,u=Oi(c,JDe,e)*c%e,l=Oi(u,aX,e)*u%e,f=Oi(l,aX,e)*u%e,d=Oi(f,sX,e)*s%e;return{pow_p_5_8:Oi(d,pF,e)*t%e,b2:n}}function uX(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function HDe(t,e){let r=gb,n=Ao(e*e*e,r),o=Ao(n*n*e,r),i=cX(t*o).pow_p_5_8,s=Ao(t*n*i,r),a=Ao(e*s*s,r),c=s,u=Ao(s*iX,r),l=a===t,f=a===Ao(-t,r),d=a===Ao(-t*iX,r);return l&&(s=c),(f||d)&&(s=u),qU(s,r)&&(s=Ao(-s,r)),{isValid:l||f,value:s}}var ps=Hc(gb,void 0,!0),hF={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:ps,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:ml,randomBytes:sd,adjustScalarBytes:uX,uvRatio:HDe},gS=yS(hF);function lX(t,e,r){if(e.length>255)throw new Error("Context is too big");return Jb(id("SigEd25519 no Ed25519 collisions"),new Uint8Array([r?1:0,e.length]),e,t)}var Owt=yS(S(b({},hF),{domain:lX})),Cwt=yS(S(b({},hF),{domain:lX,prehash:ml})),Lm=oX({P:gb,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:t=>{let e=gb,{pow_p_5_8:r,b2:n}=cX(t);return Ao(Oi(r,BigInt(3),e)*n,e)},adjustScalarBytes:uX,randomBytes:sd});function fX(t){let{y:e}=gS.ExtendedPoint.fromHex(t),r=BigInt(1);return ps.toBytes(ps.create((r+e)*ps.inv(r-e)))}var KDe=(ps.ORDER+BigInt(3))/BigInt(8),Rwt=ps.pow(pF,KDe),kwt=ps.sqrt(ps.neg(ps.ONE)),Pwt=(ps.ORDER-BigInt(5))/BigInt(8),Lwt=BigInt(486662);var Fwt=QU(ps,ps.neg(BigInt(486664)));var Uwt=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),Bwt=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),Mwt=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),$wt=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952");var Vwt=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var RF=Rr(IX(),1);var SX=Hc(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),E2e=SX.create(BigInt("-3")),v2e=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Um=cd({a:E2e,b:v2e,Fp:SX,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},ad);var XX=Rr(_X(),1);function wF(t){if(!Number.isSafeInteger(t))throw new Error(`Wrong integer: ${t}`)}function T2e(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function x2e(...t){let e=i=>i,r=(i,s)=>a=>i(s(a)),n=t.map(i=>i.encode).reduceRight(r,e),o=t.map(i=>i.decode).reduce(r,e);return{encode:n,decode:o}}function A2e(t){return{encode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return e.map(r=>{if(r<0||r>=t.length)throw new Error(`Digit index outside alphabet: ${r} (alphabet: ${t.length})`);return t[r]})},decode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="string")throw new Error("alphabet.decode input should be array of strings");return e.map(r=>{if(typeof r!="string")throw new Error(`alphabet.decode: not string element=${r}`);let n=t.indexOf(r);if(n===-1)throw new Error(`Unknown letter: "${r}". Allowed: ${t}`);return n})}}}function I2e(t=""){if(typeof t!="string")throw new Error("join separator should be string");return{encode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="string")throw new Error("join.encode input should be array of strings");for(let r of e)if(typeof r!="string")throw new Error(`join.encode: non-string input=${r}`);return e.join(t)},decode:e=>{if(typeof e!="string")throw new Error("join.decode input should be string");return e.split(t)}}}var RX=(t,e)=>e?RX(e,t%e):t,ES=(t,e)=>t+(e-RX(t,e));function yF(t,e,r,n){if(!Array.isArray(t))throw new Error("convertRadix2: data should be array");if(e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(r<=0||r>32)throw new Error(`convertRadix2: wrong to=${r}`);if(ES(e,r)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${r} carryBits=${ES(e,r)}`);let o=0,i=0,s=2**r-1,a=[];for(let c of t){if(c>=2**e)throw new Error(`convertRadix2: invalid data word=${c} from=${e}`);if(o=o<<e|c,i+e>32)throw new Error(`convertRadix2: carry overflow pos=${i} from=${e}`);for(i+=e;i>=r;i-=r)a.push((o>>i-r&s)>>>0);o&=2**i-1}if(o=o<<r-i&s,!n&&i>=e)throw new Error("Excess padding");if(!n&&o)throw new Error(`Non-zero padding: ${o}`);return n&&i>0&&a.push(o>>>0),a}function S2e(t,e=!1){if(t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(ES(8,t)>32||ES(t,8)>32)throw new Error("radix2: carry overflow");return{encode:r=>{if(!T2e(r))throw new Error("radix2.encode input should be Uint8Array");return yF(Array.from(r),8,t,!e)},decode:r=>{if(!Array.isArray(r)||r.length&&typeof r[0]!="number")throw new Error("radix2.decode input should be array of numbers");return Uint8Array.from(yF(r,t,8,e))}}}function DX(t){if(typeof t!="function")throw new Error("unsafeWrapper fn should be function");return function(...e){try{return t.apply(null,e)}catch{}}}var gF=x2e(A2e("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),I2e("")),OX=[996825010,642813549,513874426,1027748829,705979059];function bb(t){let e=t>>25,r=(t&33554431)<<5;for(let n=0;n<OX.length;n++)(e>>n&1)===1&&(r^=OX[n]);return r}function CX(t,e,r=1){let n=t.length,o=1;for(let i=0;i<n;i++){let s=t.charCodeAt(i);if(s<33||s>126)throw new Error(`Invalid prefix (${t})`);o=bb(o)^s>>5}o=bb(o);for(let i=0;i<n;i++)o=bb(o)^t.charCodeAt(i)&31;for(let i of e)o=bb(o)^i;for(let i=0;i<6;i++)o=bb(o);return o^=r,gF.encode(yF([o%2**30],30,5,!1))}function N2e(t){let e=t==="bech32"?1:734539939,r=S2e(5),n=r.decode,o=r.encode,i=DX(n);function s(f,d,p=90){if(typeof f!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof f}`);if(d instanceof Uint8Array&&(d=Array.from(d)),!Array.isArray(d)||d.length&&typeof d[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof d}`);if(f.length===0)throw new TypeError(`Invalid prefix length ${f.length}`);let h=f.length+7+d.length;if(p!==!1&&h>p)throw new TypeError(`Length ${h} exceeds limit ${p}`);let m=f.toLowerCase(),g=CX(m,d,e);return`${m}1${gF.encode(d)}${g}`}function a(f,d=90){if(typeof f!="string")throw new Error(`bech32.decode input should be string, not ${typeof f}`);if(f.length<8||d!==!1&&f.length>d)throw new TypeError(`Wrong string length: ${f.length} (${f}). Expected (8..${d})`);let p=f.toLowerCase();if(f!==p&&f!==f.toUpperCase())throw new Error("String must be lowercase or uppercase");let h=p.lastIndexOf("1");if(h===0||h===-1)throw new Error('Letter "1" must be present between prefix and data only');let m=p.slice(0,h),g=p.slice(h+1);if(g.length<6)throw new Error("Data must be at least 6 characters long");let w=gF.decode(g).slice(0,-6),T=CX(m,w,e);if(!g.endsWith(T))throw new Error(`Invalid checksum in ${f}: expected "${T}"`);return{prefix:m,words:w}}let c=DX(a);function u(f){let{prefix:d,words:p}=a(f,!1);return{prefix:d,words:p,bytes:n(p)}}function l(f,d){return s(f,o(d))}return{encode:s,decode:a,encodeFromBytes:l,decodeToBytes:u,decodeUnsafe:c,fromWords:n,fromWordsUnsafe:i,toWords:o}}var bF=N2e("bech32");var qc=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4));function kX(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}var PX=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),_2e=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!_2e)throw new Error("Non little-endian hardware is not supported");function vS(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function TS(t){if(typeof t=="string")t=vS(t);else if(kX(t))t=t.slice();else throw new Error(`expected Uint8Array, got ${typeof t}`);return t}var D2e=t=>Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object;function LX(t,e){if(e!==void 0&&(typeof e!="object"||!D2e(e)))throw new Error("options must be object or undefined");return Object.assign(t,e)}function qf(t,e){if(!kX(t))throw new Error("Uint8Array expected");if(typeof e=="number"&&t.length!==e)throw new Error(`Uint8Array length ${e} expected`)}function FX(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}var EF=(t,e)=>(Object.assign(e,t),e);function vF(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let o=BigInt(32),i=BigInt(4294967295),s=Number(r>>o&i),a=Number(r&i),c=n?4:0,u=n?0:4;t.setUint32(e+c,s,n),t.setUint32(e+u,a,n)}function xS(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`wrong positive integer: ${t}`)}function TF(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function O2e(t){return t!=null&&typeof t=="object"&&(t instanceof Uint8Array||t.constructor.name==="Uint8Array")}function Bm(t,...e){if(!O2e(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function xF(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function UX(t,e){Bm(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var Gn=(t,e)=>t[e++]&255|(t[e++]&255)<<8,AF=class{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=TS(e),qf(e,32);let r=Gn(e,0),n=Gn(e,2),o=Gn(e,4),i=Gn(e,6),s=Gn(e,8),a=Gn(e,10),c=Gn(e,12),u=Gn(e,14);this.r[0]=r&8191,this.r[1]=(r>>>13|n<<3)&8191,this.r[2]=(n>>>10|o<<6)&7939,this.r[3]=(o>>>7|i<<9)&8191,this.r[4]=(i>>>4|s<<12)&255,this.r[5]=s>>>1&8190,this.r[6]=(s>>>14|a<<2)&8191,this.r[7]=(a>>>11|c<<5)&8065,this.r[8]=(c>>>8|u<<8)&8191,this.r[9]=u>>>5&127;for(let l=0;l<8;l++)this.pad[l]=Gn(e,16+2*l)}process(e,r,n=!1){let o=n?0:2048,{h:i,r:s}=this,a=s[0],c=s[1],u=s[2],l=s[3],f=s[4],d=s[5],p=s[6],h=s[7],m=s[8],g=s[9],w=Gn(e,r+0),T=Gn(e,r+2),v=Gn(e,r+4),x=Gn(e,r+6),A=Gn(e,r+8),_=Gn(e,r+10),O=Gn(e,r+12),C=Gn(e,r+14),I=i[0]+(w&8191),k=i[1]+((w>>>13|T<<3)&8191),M=i[2]+((T>>>10|v<<6)&8191),X=i[3]+((v>>>7|x<<9)&8191),re=i[4]+((x>>>4|A<<12)&8191),ye=i[5]+(A>>>1&8191),Te=i[6]+((A>>>14|_<<2)&8191),$e=i[7]+((_>>>11|O<<5)&8191),ot=i[8]+((O>>>8|C<<8)&8191),ne=i[9]+(C>>>5|o),L=0,ae=L+I*a+k*(5*g)+M*(5*m)+X*(5*h)+re*(5*p);L=ae>>>13,ae&=8191,ae+=ye*(5*d)+Te*(5*f)+$e*(5*l)+ot*(5*u)+ne*(5*c),L+=ae>>>13,ae&=8191;let ge=L+I*c+k*a+M*(5*g)+X*(5*m)+re*(5*h);L=ge>>>13,ge&=8191,ge+=ye*(5*p)+Te*(5*d)+$e*(5*f)+ot*(5*l)+ne*(5*u),L+=ge>>>13,ge&=8191;let R=L+I*u+k*c+M*a+X*(5*g)+re*(5*m);L=R>>>13,R&=8191,R+=ye*(5*h)+Te*(5*p)+$e*(5*d)+ot*(5*f)+ne*(5*l),L+=R>>>13,R&=8191;let W=L+I*l+k*u+M*c+X*a+re*(5*g);L=W>>>13,W&=8191,W+=ye*(5*m)+Te*(5*h)+$e*(5*p)+ot*(5*d)+ne*(5*f),L+=W>>>13,W&=8191;let H=L+I*f+k*l+M*u+X*c+re*a;L=H>>>13,H&=8191,H+=ye*(5*g)+Te*(5*m)+$e*(5*h)+ot*(5*p)+ne*(5*d),L+=H>>>13,H&=8191;let te=L+I*d+k*f+M*l+X*u+re*c;L=te>>>13,te&=8191,te+=ye*a+Te*(5*g)+$e*(5*m)+ot*(5*h)+ne*(5*p),L+=te>>>13,te&=8191;let _e=L+I*p+k*d+M*f+X*l+re*u;L=_e>>>13,_e&=8191,_e+=ye*c+Te*a+$e*(5*g)+ot*(5*m)+ne*(5*h),L+=_e>>>13,_e&=8191;let Ve=L+I*h+k*p+M*d+X*f+re*l;L=Ve>>>13,Ve&=8191,Ve+=ye*u+Te*c+$e*a+ot*(5*g)+ne*(5*m),L+=Ve>>>13,Ve&=8191;let He=L+I*m+k*h+M*p+X*d+re*f;L=He>>>13,He&=8191,He+=ye*l+Te*u+$e*c+ot*a+ne*(5*g),L+=He>>>13,He&=8191;let er=L+I*g+k*m+M*h+X*p+re*d;L=er>>>13,er&=8191,er+=ye*f+Te*l+$e*u+ot*c+ne*a,L+=er>>>13,er&=8191,L=(L<<2)+L|0,L=L+ae|0,ae=L&8191,L=L>>>13,ge+=L,i[0]=ae,i[1]=ge,i[2]=R,i[3]=W,i[4]=H,i[5]=te,i[6]=_e,i[7]=Ve,i[8]=He,i[9]=er}finalize(){let{h:e,pad:r}=this,n=new Uint16Array(10),o=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=o,o=e[a]>>>13,e[a]&=8191;e[0]+=o*5,o=e[0]>>>13,e[0]&=8191,e[1]+=o,o=e[1]>>>13,e[1]&=8191,e[2]+=o,n[0]=e[0]+5,o=n[0]>>>13,n[0]&=8191;for(let a=1;a<10;a++)n[a]=e[a]+o,o=n[a]>>>13,n[a]&=8191;n[9]-=8192;let i=(o^1)-1;for(let a=0;a<10;a++)n[a]&=i;i=~i;for(let a=0;a<10;a++)e[a]=e[a]&i|n[a];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let s=e[0]+r[0];e[0]=s&65535;for(let a=1;a<8;a++)s=(e[a]+r[a]|0)+(s>>>16)|0,e[a]=s&65535}update(e){xF(this);let{buffer:r,blockLen:n}=this;e=TS(e);let o=e.length;for(let i=0;i<o;){let s=Math.min(n-this.pos,o-i);if(s===n){for(;n<=o-i;i+=n)this.process(e,i);continue}r.set(e.subarray(i,i+s),this.pos),this.pos+=s,i+=s,this.pos===n&&(this.process(r,0,!1),this.pos=0)}return this}destroy(){this.h.fill(0),this.r.fill(0),this.buffer.fill(0),this.pad.fill(0)}digestInto(e){xF(this),UX(e,this),this.finished=!0;let{buffer:r,h:n}=this,{pos:o}=this;if(o){for(r[o++]=1;o<16;o++)r[o]=0;this.process(r,0,!0)}this.finalize();let i=0;for(let s=0;s<8;s++)e[i++]=n[s]>>>0,e[i++]=n[s]>>>8;return e}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}};function C2e(t){let e=(n,o)=>t(o).update(TS(n)).digest(),r=t(new Uint8Array(32));return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}var BX=C2e(t=>new AF(t));var R2e=vS("expand 16-byte k"),k2e=vS("expand 32-byte k"),P2e=qc(R2e),L2e=qc(k2e);function Ne(t,e){return t<<e|t>>>32-e}function IF(t){return t.byteOffset%4===0}var AS=64,F2e=16,$X=2**32-1,MX=new Uint32Array;function U2e(t,e,r,n,o,i,s,a){let c=o.length,u=new Uint8Array(AS),l=qc(u),f=IF(o)&&IF(i),d=f?qc(o):MX,p=f?qc(i):MX;for(let h=0;h<c;s++){if(t(e,r,n,l,s,a),s>=$X)throw new Error("arx: counter overflow");let m=Math.min(AS,c-h);if(f&&m===AS){let g=h/4;if(h%4!==0)throw new Error("arx: invalid block position");for(let w=0,T;w<F2e;w++)T=g+w,p[T]=d[T]^l[w];h+=AS;continue}for(let g=0,w;g<m;g++)w=h+g,i[w]=o[w]^u[g];h+=m}}function SF(t,e){let{allowShortKeys:r,extendNonceFn:n,counterLength:o,counterRight:i,rounds:s}=LX({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return xS(o),xS(s),TF(i),TF(r),(a,c,u,l,f=0)=>{Bm(a),Bm(c),Bm(u);let d=u.length;if(l||(l=new Uint8Array(d)),Bm(l),xS(f),f<0||f>=$X)throw new Error("arx: counter overflow");if(l.length<d)throw new Error(`arx: output (${l.length}) is shorter than data (${d})`);let p=[],h=a.length,m,g;if(h===32)m=a.slice(),p.push(m),g=L2e;else if(h===16&&r)m=new Uint8Array(32),m.set(a),m.set(a,16),g=P2e,p.push(m);else throw new Error(`arx: invalid 32-byte key, got length=${h}`);IF(c)||(c=c.slice(),p.push(c));let w=qc(m);if(n){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");n(g,w,qc(c.subarray(0,16)),w),c=c.subarray(16)}let T=16-o;if(T!==c.length)throw new Error(`arx: nonce must be ${T} or 16 bytes`);if(T!==12){let x=new Uint8Array(12);x.set(c,i?0:12-c.length),c=x,p.push(c)}let v=qc(c);for(U2e(t,g,w,v,u,l,f,s);p.length>0;)p.pop().fill(0);return l}}function GX(t,e,r,n,o,i=20){let s=t[0],a=t[1],c=t[2],u=t[3],l=e[0],f=e[1],d=e[2],p=e[3],h=e[4],m=e[5],g=e[6],w=e[7],T=o,v=r[0],x=r[1],A=r[2],_=s,O=a,C=c,I=u,k=l,M=f,X=d,re=p,ye=h,Te=m,$e=g,ot=w,ne=T,L=v,ae=x,ge=A;for(let W=0;W<i;W+=2)_=_+k|0,ne=Ne(ne^_,16),ye=ye+ne|0,k=Ne(k^ye,12),_=_+k|0,ne=Ne(ne^_,8),ye=ye+ne|0,k=Ne(k^ye,7),O=O+M|0,L=Ne(L^O,16),Te=Te+L|0,M=Ne(M^Te,12),O=O+M|0,L=Ne(L^O,8),Te=Te+L|0,M=Ne(M^Te,7),C=C+X|0,ae=Ne(ae^C,16),$e=$e+ae|0,X=Ne(X^$e,12),C=C+X|0,ae=Ne(ae^C,8),$e=$e+ae|0,X=Ne(X^$e,7),I=I+re|0,ge=Ne(ge^I,16),ot=ot+ge|0,re=Ne(re^ot,12),I=I+re|0,ge=Ne(ge^I,8),ot=ot+ge|0,re=Ne(re^ot,7),_=_+M|0,ge=Ne(ge^_,16),$e=$e+ge|0,M=Ne(M^$e,12),_=_+M|0,ge=Ne(ge^_,8),$e=$e+ge|0,M=Ne(M^$e,7),O=O+X|0,ne=Ne(ne^O,16),ot=ot+ne|0,X=Ne(X^ot,12),O=O+X|0,ne=Ne(ne^O,8),ot=ot+ne|0,X=Ne(X^ot,7),C=C+re|0,L=Ne(L^C,16),ye=ye+L|0,re=Ne(re^ye,12),C=C+re|0,L=Ne(L^C,8),ye=ye+L|0,re=Ne(re^ye,7),I=I+k|0,ae=Ne(ae^I,16),Te=Te+ae|0,k=Ne(k^Te,12),I=I+k|0,ae=Ne(ae^I,8),Te=Te+ae|0,k=Ne(k^Te,7);let R=0;n[R++]=s+_|0,n[R++]=a+O|0,n[R++]=c+C|0,n[R++]=u+I|0,n[R++]=l+k|0,n[R++]=f+M|0,n[R++]=d+X|0,n[R++]=p+re|0,n[R++]=h+ye|0,n[R++]=m+Te|0,n[R++]=g+$e|0,n[R++]=w+ot|0,n[R++]=T+ne|0,n[R++]=v+L|0,n[R++]=x+ae|0,n[R++]=A+ge|0}function B2e(t,e,r,n){let o=t[0],i=t[1],s=t[2],a=t[3],c=e[0],u=e[1],l=e[2],f=e[3],d=e[4],p=e[5],h=e[6],m=e[7],g=r[0],w=r[1],T=r[2],v=r[3];for(let A=0;A<20;A+=2)o=o+c|0,g=Ne(g^o,16),d=d+g|0,c=Ne(c^d,12),o=o+c|0,g=Ne(g^o,8),d=d+g|0,c=Ne(c^d,7),i=i+u|0,w=Ne(w^i,16),p=p+w|0,u=Ne(u^p,12),i=i+u|0,w=Ne(w^i,8),p=p+w|0,u=Ne(u^p,7),s=s+l|0,T=Ne(T^s,16),h=h+T|0,l=Ne(l^h,12),s=s+l|0,T=Ne(T^s,8),h=h+T|0,l=Ne(l^h,7),a=a+f|0,v=Ne(v^a,16),m=m+v|0,f=Ne(f^m,12),a=a+f|0,v=Ne(v^a,8),m=m+v|0,f=Ne(f^m,7),o=o+u|0,v=Ne(v^o,16),h=h+v|0,u=Ne(u^h,12),o=o+u|0,v=Ne(v^o,8),h=h+v|0,u=Ne(u^h,7),i=i+l|0,g=Ne(g^i,16),m=m+g|0,l=Ne(l^m,12),i=i+l|0,g=Ne(g^i,8),m=m+g|0,l=Ne(l^m,7),s=s+f|0,w=Ne(w^s,16),d=d+w|0,f=Ne(f^d,12),s=s+f|0,w=Ne(w^s,8),d=d+w|0,f=Ne(f^d,7),a=a+c|0,T=Ne(T^a,16),p=p+T|0,c=Ne(c^p,12),a=a+c|0,T=Ne(T^a,8),p=p+T|0,c=Ne(c^p,7);let x=0;n[x++]=o,n[x++]=i,n[x++]=s,n[x++]=a,n[x++]=g,n[x++]=w,n[x++]=T,n[x++]=v}var M2e=SF(GX,{counterRight:!1,counterLength:4,allowShortKeys:!1}),$2e=SF(GX,{counterRight:!1,counterLength:8,extendNonceFn:B2e,allowShortKeys:!1});var V2e=new Uint8Array(16),VX=(t,e)=>{t.update(e);let r=e.length%16;r&&t.update(V2e.subarray(r))},j2e=new Uint8Array(32);function jX(t,e,r,n,o){let i=t(e,r,j2e),s=BX.create(i);o&&VX(s,o),VX(s,n);let a=new Uint8Array(16),c=PX(a);vF(c,0,BigInt(o?o.length:0),!0),vF(c,8,BigInt(n.length),!0),s.update(a);let u=s.digest();return i.fill(0),u}var zX=t=>(e,r,n)=>(qf(e,32),qf(r),{encrypt:(i,s)=>{let a=i.length,c=a+16;s?qf(s,c):s=new Uint8Array(c),t(e,r,i,s,1);let u=jX(t,e,r,s.subarray(0,-16),n);return s.set(u,a),s},decrypt:(i,s)=>{let a=i.length,c=a-16;if(a<16)throw new Error("encrypted data must be at least 16 bytes");s?qf(s,c):s=new Uint8Array(c);let u=i.subarray(0,-16),l=i.subarray(-16),f=jX(t,e,r,u,n);if(!FX(l,f))throw new Error("invalid tag");return t(e,r,u,s,1),s}}),pbt=EF({blockSize:64,nonceLength:12,tagLength:16},zX(M2e)),NF=EF({blockSize:64,nonceLength:24,tagLength:16},zX($2e));var _i={toString:hS,fromString:Gf,concat:Om};function Ni(t){return _i.toString(t,"base64url")}function Yr(t){let e=t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"");return _i.fromString(e,"base64url")}function ZX(t){return _i.fromString(t,"base58btc")}function G2e(t){return _i.toString(t,"base58btc")}function z2e(t){let e=(0,RF.decode)(t);if([32,33,48,64,65,96].includes(e.length))return e;try{let[r,n]=Vf.decode(e);return e.slice(n)}catch{return e}}function SS(t,e){let r=t.startsWith("0x")?t.substring(2):t;if(r.length%2!==0&&(r=`0${r}`),e){let n=Math.max(r.length,e*2);r=r.padStart(n,"00")}return _i.fromString(r.toLowerCase(),"base16")}function DF(t){return Ni(_i.fromString(t))}function eZ(t){return _i.toString(Yr(t))}function tl(t){return _i.toString(t,"base16")}function IS(t){return BigInt("0x"+_i.toString(t,"base16"))}function NS(t){return _i.fromString(t,"utf-8")}function tZ({r:t,s:e,recoveryParam:r},n){let o=new Uint8Array(n?65:64);if(o.set(_i.fromString(t,"base16"),0),o.set(_i.fromString(e,"base16"),32),n){if(typeof r>"u")throw new Error("Signer did not return a recoveryParam");o[64]=r}return Ni(o)}function q2e(t){let e=Yr(t);if(e.length<64||e.length>65)throw new TypeError(`Wrong size for signature. Expected 64 or 65 bytes, but got ${e.length}`);let r=tl(e.slice(0,32)),n=tl(e.slice(32,64)),o=e.length===65?e[64]:void 0;return{r,s:n,recoveryParam:o}}function rZ(t,e){return _i.concat([Yr(t),e?Yr(e):new Uint8Array(0)])}function nZ(){let t=Lm.utils.randomPrivateKey(),e=Lm.getPublicKey(t);return{secretKey:t,publicKey:e}}function Q2e(t){if(t.length!==32)throw new Error("x25519: seed must be 32 bytes");return{publicKey:Lm.getPublicKey(t),secretKey:t}}function J2e(){let t=nZ();return{publicKeyJWK:{kty:"OKP",crv:"X25519",x:Ni(t.publicKey)},secretKey:t.secretKey}}function rl(t){let e=typeof t=="string"?Gf(t):t;return ad(e)}var H2e=ul;function oZ(t){let e=Gf(t.slice(2),"base16");return`0x${hS(H2e(e).slice(-20),"base16")}`}function OF(t,e=new Uint8Array(4)){let r=Gf(t.toString(),"base10");return e.set(r,4-r.length),e}var _F=t=>Om([OF(t.length),t]);function iZ(t,e,r,n,o){if(e!==256)throw new Error(`Unsupported key length: ${e}`);let i=Om([_F(Gf(r)),_F(typeof n>"u"?new Uint8Array(0):n),_F(typeof o>"u"?new Uint8Array(0):o),OF(e)]);return rl(Om([OF(1),t,i]))}function sZ(t){let e=t;if(![32,64].includes(e.length))throw new Error(`bad_key: Invalid private key format. Expecting 32 or 64 bytes, but got ${e.length}`);return function(r){try{let n=typeof r=="string"?NS(r):r,o=gS.sign(n,e.slice(0,32));return Promise.resolve(Ni(o))}catch(n){return Promise.reject(n)}}}function kF(t){return typeof t=="object"&&"r"in t&&"s"in t}function K2e(){return function(e,r){try{return Promise.resolve(r(e)).then(function(n){return kF(n)?tZ(n):n})}catch(n){return Promise.reject(n)}}}function qX(t){return function(r,n){try{return Promise.resolve(n(r)).then(function(o){if(kF(o))return tZ(o,t);if(t&&typeof q2e(o).recoveryParam>"u")throw new Error("not_supported: ES256K-R not supported when signer doesn't provide a recovery param");return o})}catch(o){return Promise.reject(o)}}}function QX(){return function(e,r){try{return Promise.resolve(r(e)).then(function(n){if(kF(n))throw new Error("invalid_config: expected a signer function that returns a string instead of signature object");return n})}catch(n){return Promise.reject(n)}}}var W2e={ES256:K2e(),ES256K:qX(),"ES256K-R":qX(!0),Ed25519:QX(),EdDSA:QX()};function Y2e(t){let e=W2e[t];if(!e)throw new Error(`not_supported: Unsupported algorithm ${t}`);return e}function X2e(t,e){let r=tl(ZX(e).slice(0,1)),n=SS(t),o=wN(rl(n)),i=r+tl(o),s=rl(SS(i)),a=rl(s),c=tl(a).substring(0,8),u=i+c;return G2e(SS(u))}function Z2e(t,e){let r=Qn.ProjectivePoint.fromHex(t).toRawBytes(),n=wN(rl(r)),o=bF.toWords(n);return bF.encode(e,o).replace(e,"")}function eOe(t,e){if(e){let r=e.split(":");switch(r[0]){case"bip122":r[r.length-1]=X2e(t,r[r.length-1]);break;case"cosmos":r[r.length-1]=Z2e(t,r[1]);break;case"eip155":r[r.length-1]=oZ(t);break;default:return!1}return r.join(":").toLowerCase()===e.toLowerCase()}return!1}function tOe(t,e=!1){let r=Yr(t);if(r.length!==(e?65:64))throw new Error("wrong signature length");let n=tl(r.slice(0,32)),o=tl(r.slice(32,64)),i={r:n,s:o};return e&&(i.recoveryParam=r[64]),i}function CF(t,e=!1){let r=Yr(t);if(r.length!==(e?65:64))throw new Error("wrong signature length");return{compact:r.slice(0,64),recovery:r[64]}}function Eb(t){return t.publicKeyBase58?ZX(t.publicKeyBase58):t.publicKeyBase64?Yr(t.publicKeyBase64):t.publicKeyHex?SS(t.publicKeyHex):t.publicKeyJwk&&t.publicKeyJwk.crv==="secp256k1"&&t.publicKeyJwk.x&&t.publicKeyJwk.y?Qn.ProjectivePoint.fromAffine({x:IS(Yr(t.publicKeyJwk.x)),y:IS(Yr(t.publicKeyJwk.y))}).toRawBytes(!1):t.publicKeyJwk&&t.publicKeyJwk.crv==="P-256"&&t.publicKeyJwk.x&&t.publicKeyJwk.y?Um.ProjectivePoint.fromAffine({x:IS(Yr(t.publicKeyJwk.x)),y:IS(Yr(t.publicKeyJwk.y))}).toRawBytes(!1):t.publicKeyJwk&&t.publicKeyJwk.kty==="OKP"&&["Ed25519","X25519"].includes(t.publicKeyJwk.crv??"")&&t.publicKeyJwk.x?Yr(t.publicKeyJwk.x):t.publicKeyMultibase?z2e(t.publicKeyMultibase):new Uint8Array}function rOe(t,e,r){let n=rl(t),o=Um.Signature.fromCompact(CF(e).compact),s=r.filter(a=>!a.ethereumAddress&&!a.blockchainAccountId).find(a=>{try{let c=Eb(a);return Um.verify(o,n,c)}catch{return!1}});if(!s)throw new Error("invalid_signature: Signature invalid for JWT");return s}function nOe(t,e,r){let n=rl(t),o=Qn.Signature.fromCompact(Yr(e)).normalizeS(),i=r.filter(c=>!c.ethereumAddress&&!c.blockchainAccountId),s=r.filter(c=>c.ethereumAddress||c.blockchainAccountId),a=i.find(c=>{try{let u=Eb(c);return Qn.verify(o,n,u)}catch{return!1}});if(!a&&s.length>0&&(a=aZ(t,e,s)),!a)throw new Error("invalid_signature: Signature invalid for JWT");return a}function aZ(t,e,r){let n=[];if(e.length>86)n.push(CF(e,!0));else{let s=CF(e,!1);n.push(S(b({},s),{recovery:0})),n.push(S(b({},s),{recovery:1}))}let o=rl(t),i=s=>{let c=Qn.Signature.fromCompact(s.compact).addRecoveryBit(s.recovery||0).recoverPublicKey(o),u=oZ(c.toHex(!1)).toLowerCase(),l=c.toHex(!1),f=c.toHex(!0);return r.find(d=>{let p=tl(Eb(d));return p===l||p===f||d.ethereumAddress?.toLowerCase()===u||d.blockchainAccountId?.split("@eip155")?.[0].toLowerCase()===u||eOe(l,d.blockchainAccountId)})};for(let s of n){let a=i(s);if(a)return a}throw new Error("invalid_signature: Signature invalid for JWT")}function JX(t,e,r){let n=NS(t),o=Yr(e),i=r.find(s=>gS.verify(o,n,Eb(s)));if(!i)throw new Error("invalid_signature: Signature invalid for JWT");return i}var oOe={ES256:rOe,ES256K:nOe,"ES256K-R":aZ,Ed25519:JX,EdDSA:JX};function cZ(t){let e=oOe[t];if(!e)throw new Error(`not_supported: Unsupported algorithm ${t}`);return e}cZ.toSignatureObject=tOe;var Sbt=typeof Symbol<"u"?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";var uZ=function(t,e,r={},n={}){try{r.alg||(r.alg=iOe);let o=typeof t=="string"?t:HX(t,n.canonicalize),i=[HX(r,n.canonicalize),o].join("."),s=Y2e(r.alg);return Promise.resolve(s(i,e)).then(function(a){return[i,a].join(".")})}catch(o){return Promise.reject(o)}};var iOe="ES256K";function HX(t,e=!1){return DF(e?(0,XX.default)(t):JSON.stringify(t))}function sOe(t){let e=t.match(/^([a-zA-Z0-9_-]+)\.([a-zA-Z0-9_-]+)\.([a-zA-Z0-9_-]+)$/);if(e)return{header:JSON.parse(eZ(e[1])),payload:e[2],signature:e[3],data:`${e[1]}.${e[2]}`};throw new Error("invalid_argument: Incorrect format JWS")}function aOe({header:t,data:e,signature:r},n){return Array.isArray(n)||(n=[n]),cZ(t.alg)(e,r,n)}function lZ(t,e){let r=sOe(t);return aOe(r,e)}var KX=typeof Symbol<"u"?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function fn(t,e,r){if(!t.s){if(r instanceof Qf)if(r.s)e&1&&(e=r.s),r=r.v;else{r.o=fn.bind(null,t,e);return}if(r&&r.then){r.then(fn.bind(null,t,e),fn.bind(null,t,2));return}t.s=e,t.v=r;let n=t.o;n&&n(t)}}var Qf=(function(){function t(){}return t.prototype.then=function(e,r){let n=new t,o=this.s;if(o){let i=o&1?e:r;if(i){try{fn(n,1,i(this.v))}catch(s){fn(n,2,s)}return n}else return this}return this.o=function(i){try{let s=i.v;i.s&1?fn(n,1,e?e(s):s):r?fn(n,1,r(s)):fn(n,2,s)}catch(s){fn(n,2,s)}},n},t})();function el(t){return t instanceof Qf&&t.s&1}function cOe(t,e,r){var n=-1,o,i;function s(a){try{for(;++n<t.length&&(!r||!r());)if(a=e(n),a&&a.then)if(el(a))a=a.v;else{a.then(s,i||(i=fn.bind(null,o=new Qf,2)));return}o?fn(o,1,a):o=a}catch(c){fn(o||(o=new Qf),2,c)}}return s(),o}function uOe(t,e,r){if(typeof t[KX]=="function"){let f=function(d){try{for(;!(o=n.next()).done&&(!r||!r());)if(d=e(o.value),d&&d.then)if(el(d))d=d.v;else{d.then(f,s||(s=fn.bind(null,i=new Qf,2)));return}i?fn(i,1,d):i=d}catch(p){fn(i||(i=new Qf),2,p)}};var l=f,n=t[KX](),o,i,s;if(f(),n.return){var a=function(d){try{o.done||n.return()}catch{}return d};if(i&&i.then)return i.then(a,function(d){throw a(d)});a()}return i}if(!("length"in t))throw new TypeError("Object is not iterable");for(var c=[],u=0;u<t.length;u++)c.push(t[u]);return cOe(c,function(f){return e(c[f])},r)}function lOe(t,e,r){for(var n;;){var o=t();if(el(o)&&(o=o.v),!o)return i;if(o.then){n=0;break}var i=r();if(i&&i.then)if(el(i))i=i.s;else{n=1;break}if(e){var s=e();if(s&&s.then&&!el(s)){n=2;break}}}var a=new Qf,c=fn.bind(null,a,2);return(n===0?o.then(l):n===1?i.then(u):s.then(f)).then(void 0,c),a;function u(d){i=d;do{if(e&&(s=e(),s&&s.then&&!el(s))){s.then(f).then(void 0,c);return}if(o=t(),!o||el(o)&&!o.v){fn(a,1,i);return}if(o.then){o.then(l).then(void 0,c);return}i=r(),el(i)&&(i=i.v)}while(!i||!i.then);i.then(u).then(void 0,c)}function l(d){d?(i=r(),i&&i.then?i.then(u).then(void 0,c):u(i)):fn(a,1,i)}function f(){(o=t())?o.then?o.then(l).then(void 0,c):l(o):fn(a,1,i)}}function fOe(t){if(!(t.protected&&t.iv&&t.ciphertext&&t.tag))throw new Error("bad_jwe: missing properties");t.recipients&&t.recipients.map(e=>{if(!(e.header&&e.encrypted_key))throw new Error("bad_jwe: malformed recipients")})}function WX({ciphertext:t,tag:e,iv:r,protectedHeader:n,recipient:o},i){let s={protected:n,iv:Ni(r??new Uint8Array(0)),ciphertext:Ni(t),tag:Ni(e??new Uint8Array(0))};return i&&(s.aad=Ni(i)),o&&(s.recipients=[o]),s}var fZ=function(t,e){try{let o=function(l){if(c===null)throw new Error("failure: Failed to decrypt");return c};var r=o;let n;fOe(t);let i=JSON.parse(eZ(t.protected));if(i.enc!==e.enc)throw new Error(`not_supported: Decrypter does not supported: '${i.enc}'`);let s=rZ(t.ciphertext,t.tag),a=NS(t.aad?`${t.protected}.${t.aad}`:t.protected),c=null,u=(function(){return i.alg==="dir"&&e.alg==="dir"?Promise.resolve(e.decrypt(s,Yr(t.iv),a)).then(function(l){c=l}):(function(){if(!t.recipients||t.recipients.length===0)throw new Error("bad_jwe: missing recipients");{let l=0;return lOe(function(){return!c&&l<t.recipients.length},function(){return l++},function(){let f=t.recipients[l];Object.assign(f.header,i);let d=(function(){if(f.header.alg===e.alg)return Promise.resolve(e.decrypt(s,Yr(t.iv),a,f)).then(function(p){c=p})})();if(d&&d.then)return d.then(function(){})})}})()})();return Promise.resolve(u&&u.then?u.then(o):o(u))}catch(n){return Promise.reject(n)}},dZ=function(t,e,r={},n,o=!1){try{if(e[0].alg==="dir"){if(e.length>1)throw new Error('not_supported: Can only do "dir" encryption to one key.');return Promise.resolve(e[0].encrypt(t,r,n)).then(function(i){return WX(i,n)})}else{let i=e[0].enc;if(!e.reduce((l,f)=>l&&f.enc===i,!0))throw new Error("invalid_argument: Incompatible encrypters passed");let s,a,c;if(o){c=e[0].genEpk?.();let l=e[0].alg;r=S(b({},r),{alg:l,epk:c?.publicKeyJWK})}let u=uOe(e,function(l){let f=(function(){return s?Promise.resolve(l.encryptCek?.(s,c)).then(function(d){d&&a?.recipients?.push(d)}):Promise.resolve(l.encrypt(t,r,n,c)).then(function(d){s=d.cek,a=WX(d,n)})})();if(f&&f.then)return f.then(function(){})});return Promise.resolve(u&&u.then?u.then(function(){return a}):a)}}catch(i){return Promise.reject(i)}};function pZ(t){return(e,r)=>{let n=sd(24),i=NF(t,n,r).encrypt(e);return{ciphertext:i.subarray(0,i.length-16),tag:i.subarray(i.length-16),iv:n}}}function dOe(t){let e=function(i,s={},a){try{let c=DF(JSON.stringify(Object.assign({alg:o},s,{enc:n}))),u=NS(a?`${c}.${Ni(a)}`:c);return Promise.resolve(S(b({},r(i,u)),{protectedHeader:c}))}catch(c){return Promise.reject(c)}},r=pZ(t),n="XC20P",o="dir";return{alg:o,enc:n,encrypt:e}}function YX(t){return{alg:"dir",enc:"XC20P",decrypt:function(r,n,o){try{try{return Promise.resolve(NF(t,n,o).decrypt(r))}catch{return Promise.resolve(null)}}catch(i){return Promise.reject(i)}}}}var pOe=function(t,e,r,n,o,i){try{let s="X25519",c=i?Q2e(i.secretKey):nZ(),u={kty:"OKP",crv:s,x:Ni(c.publicKey)},l=Lm.getSharedSecret(c.secretKey,t),f=Yr(o??""),d=iZ(l,256,r,void 0,f);return Promise.resolve({epk:u,kek:d})}catch(s){return Promise.reject(s)}},hOe=function(t,e,r){try{let o=function(){let f,d;return t.header.apu&&(f=Yr(t.header.apu)),t.header.apv&&(d=Yr(t.header.apv)),iZ(u,s,r,f,d)};var n=o;let i="X25519",s=256,a=t.header;if(a.epk?.crv!==i||typeof a.epk.x>"u")return Promise.resolve(null);let c=Yr(a.epk.x),u,l=(function(){if(e instanceof Uint8Array)u=Lm.getSharedSecret(e,c);else return Promise.resolve(e(c)).then(function(f){u=f})})();return Promise.resolve(l&&l.then?l.then(o):o(l))}catch(o){return Promise.reject(o)}};function mOe(t,e,r={},n,o,i){let s=function(c,u={},l,f){try{Object.assign(u,{alg:void 0});let d=sd(32);return Promise.resolve(a(d,f)).then(function(p){return f&&(u.alg=`${n.alg}+${o.alg}`,u.epk=f.publicKeyJWK),Promise.resolve(i.from(d).encrypt(c,u,l)).then(function(h){return S(b({},h),{recipient:p,cek:d})})})}catch(d){return Promise.reject(d)}},a=function(c,u){try{return Promise.resolve(n.createKek(t,e,`${n.alg}+${o.alg}`,r.apu,r.apv,u)).then(function({epk:l,kek:f}){return Promise.resolve(o.from(f).wrap(c)).then(function(d){let p={encrypted_key:Ni(d.ciphertext),header:{}};return d.iv&&(p.header.iv=Ni(d.iv)),d.tag&&(p.header.tag=Ni(d.tag)),r.kid&&(p.header.kid=r.kid),r.apu&&(p.header.apu=r.apu),r.apv&&(p.header.apv=r.apv),u||(p.header.alg=`${n.alg}+${o.alg}`,p.header.epk=l),p})})}catch(l){return Promise.reject(l)}};return{alg:o.alg,enc:i.enc,encrypt:s,encryptCek:a,genEpk:J2e}}var hZ=function(t,e){try{let r=function(o,i=[]){try{return Promise.resolve(e.resolve(o)).then(function({didResolutionMetadata:s,didDocument:a}){function c(){let d=a.keyAgreement?.map(p=>typeof p=="string"?[...a.publicKey||[],...a.verificationMethod||[]].find(h=>h.id===p):p)?.filter(p=>typeof p<"u")?.filter(p=>p.type==="X25519KeyAgreementKey2019"||p.type==="X25519KeyAgreementKey2020")||[];if(!d.length&&!u.length)throw new Error(`no_suitable_keys: Could not find x25519 key for ${o}`);return d.map(p=>wOe(Eb(p),p.id)).concat(...u)}if(i.push(o),s?.error||a==null)throw new Error(`resolver_error: Could not resolve ${o}: ${s.error}, ${s.message}`);let u=[];if(!a.controller&&!a.keyAgreement)throw new Error(`no_suitable_keys: Could not find x25519 key for ${o}`);let l=(function(){if(a.controller){let f=Array.isArray(a.controller)?a.controller:[a.controller];f=f.filter(p=>!i.includes(p));let d=f.map(p=>r(p,i).catch(()=>[]));return Promise.resolve(Promise.all(d)).then(function(p){u=[].concat(...p)})}})();return l&&l.then?l.then(c):c(l)})}catch(s){return Promise.reject(s)}},n=t.map(o=>r(o));return Promise.resolve(Promise.all(n)).then(function(o){return[].concat(...o)})}catch(r){return Promise.reject(r)}};function yOe(t){if(!(t&&t.epk&&t.iv&&t.tag))throw new Error("bad_jwe: malformed header");return t}var gOe={from:t=>({wrap:function(r){try{return Promise.resolve(pZ(t)(r))}catch(n){return Promise.reject(n)}}}),alg:"XC20PKW"};function wOe(t,e,r){return bOe(t,{kid:e,apv:r})}function bOe(t,e={}){return mOe(t,void 0,e,{createKek:pOe,alg:"ECDH-ES"},gOe,{from:r=>dOe(r),enc:"XC20P"})}function mZ(t){return EOe(t)}function EOe(t){let e=function(o,i,s,a){try{a=a;let c=yOe(a.header);return Promise.resolve(hOe(a,t,r)).then(function(u){if(!u)return null;let l=rZ(a.encrypted_key,c.tag);return Promise.resolve(YX(u).decrypt(l,Yr(c.iv))).then(function(f){return f===null?null:YX(f).decrypt(o,i,s)})})}catch(c){return Promise.reject(c)}},r="ECDH-ES+XC20PKW";return{alg:r,enc:"XC20P",decrypt:e}}function _S({enumerable:t=!0,configurable:e=!1}={}){return{enumerable:t,configurable:e,writable:!1}}function*vOe(t,e){if(e!=null&&typeof e=="object")if(Array.isArray(e))for(let[r,n]of e.entries()){let o=[...t,r],i=Ct.asCID(n);i!=null?yield[o.join("/"),i]:typeof n=="object"&&(yield*qn(PF(n,o)))}else{let r=Ct.asCID(e);r!=null?yield[t.join("/"),r]:yield*qn(PF(e,t))}}function*PF(t,e){if(t==null||t instanceof Uint8Array)return;let r=Ct.asCID(t);r!=null&&(yield[e.join("/"),r]);for(let[n,o]of Object.entries(t)){let i=[...e,n];yield*qn(vOe(i,o))}}function*TOe(t,e){if(Array.isArray(e))for(let[r,n]of e.entries()){let o=[...t,r];yield o.join("/"),typeof n=="object"&&Ct.asCID(n)==null&&(yield*qn(LF(n,o)))}else yield*qn(LF(e,t))}function*LF(t,e){if(!(t==null||typeof t!="object"))for(let[r,n]of Object.entries(t)){let o=[...e,r];yield o.join("/"),n!=null&&!(n instanceof Uint8Array)&&typeof n=="object"&&Ct.asCID(n)==null&&(yield*qn(TOe(o,n)))}}function xOe(t,e){let r=t;for(let[n,o]of e.entries()){if(r=r[o],r==null)throw new Error(`Object has no property at ${e.slice(0,n+1).map(s=>`[${JSON.stringify(s)}]`).join("")}`);let i=Ct.asCID(r);if(i!=null)return{value:i,remaining:e.slice(n+1).join("/")}}return{value:r}}var DS=class{cid;bytes;value;asBlock;constructor({cid:e,bytes:r,value:n}){if(e==null||r==null||typeof n>"u")throw new Error("Missing required argument");this.cid=e,this.bytes=r,this.value=n,this.asBlock=this,Object.defineProperties(this,{cid:_S(),bytes:_S(),value:_S(),asBlock:_S()})}links(){return PF(this.value,[])}tree(){return LF(this.value,[])}get(e="/"){return xOe(this.value,e.split("/").filter(Boolean))}};function vb(n){return E(this,arguments,function*({value:t,codec:e,hasher:r}){if(typeof t>"u")throw new Error('Missing required argument "value"');if(e==null||r==null)throw new Error("Missing required argument: codec or hasher");let o=e.encode(t),i=yield r.digest(o),s=Ct.create(1,e.code,i);return new DS({value:t,bytes:o,cid:s})})}function yZ(n){return E(this,arguments,function*({bytes:t,codec:e,hasher:r}){if(t==null)throw new Error('Missing required argument "bytes"');if(e==null||r==null)throw new Error("Missing required argument: codec or hasher");let o=e.decode(t),i=yield r.digest(t),s=Ct.create(1,e.code,i);return new DS({value:o,bytes:t,cid:s})})}var AOe=24;function wZ(t){return E(this,null,function*(){let e=yield vb({value:t,codec:Gl,hasher:Wd});return{cid:e.cid,linkedBlock:e.bytes}})}function IOe(t,e=AOe){let r=(e-t.length%e)%e,n=new Uint8Array(t.length+r);return n.set(t,0),n}function SOe(t){return E(this,null,function*(){return(yield vb({value:t,codec:Gl,hasher:Kd})).cid})}function NOe(t){let e=Ct.asCID(t);if(!e)throw new Error("CID could not be parsed");if(e.code!==zD)throw new Error("CID codec must be dag-cbor");if(e.multihash.code!==Kd.code)throw new Error("CID must use identity multihash");return qD(e.multihash.digest)}function bZ(t,e){return E(this,null,function*(){return IOe((yield SOe(t)).bytes,e)})}function EZ(t){return NOe(Ct.decodeFirst(t)[0])}var vZ=Symbol("abortable"),OS=Symbol("aborted");function TZ(t,e){if(e.aborted)return Promise.reject(OS);let r,n=new Promise((o,i)=>{r=i});return e.addEventListener("abort",()=>{r(OS)}),Promise.race([t,n])}var xZ=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,r)=>(r&=63,r<36?e+=r.toString(36):r<62?e+=(r-26).toString(36).toUpperCase():r>62?e+="-":e+="_",e),"");var CS="utils_abort_request";var Go=(function(t){return t[t.PARSE_ERROR=-32700]="PARSE_ERROR",t[t.INVALID_REQUEST=-32600]="INVALID_REQUEST",t[t.METHOD_NOT_FOUND=-32601]="METHOD_NOT_FOUND",t[t.INVALID_PARAMS=-32602]="INVALID_PARAMS",t[t.INTERNAL_ERROR=-32603]="INTERNAL_ERROR",t})(Go||{}),AZ={[Go.PARSE_ERROR]:"Parse error",[Go.INVALID_REQUEST]:"Invalid request",[Go.METHOD_NOT_FOUND]:"Method not found",[Go.INVALID_PARAMS]:"Invalid params",[Go.INTERNAL_ERROR]:"Internal error"};function _Oe(t){return-32e3>=t&&t>=-32099}function RS(t){return AZ[t.toString()]??(_Oe(t)?"Server error":"Application error")}var Ja=class t extends Error{static fromObject(e){return new t(e.code,e.message,e.data)}toObject(){return{code:this.code,data:this.data,message:this.message}}constructor(e,r,n){super(),Object.setPrototypeOf(this,t.prototype),this.code=e,this.data=n,this.message=r??RS(e)}};function Tb(t){let e=AZ[t];return function(n){return new Ja(t,e,n)}}var DOe=Tb(Go.PARSE_ERROR),Gbt=Tb(Go.INVALID_REQUEST),zbt=Tb(Go.METHOD_NOT_FOUND),qbt=Tb(Go.INVALID_PARAMS),Qbt=Tb(Go.INTERNAL_ERROR);function OOe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function COe(t,e){return e.get?e.get.call(t):e.value}function ROe(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}function IZ(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}function FF(t,e){var r=IZ(t,e,"get");return COe(t,r)}function kOe(t,e,r){OOe(t,e),e.set(t,r)}function POe(t,e,r){var n=IZ(t,e,"set");return ROe(t,n,r),r}var xb=new WeakMap,Ab=class{get connection(){return FF(this,xb)}createID(){return xZ()}request(e,r=void 0,n={}){let{signal:o}=n;if(o?.aborted)return Promise.reject(OS);let i=this.createID(),s=FF(this,xb).send({jsonrpc:"2.0",id:i,method:e,params:r}).then(a=>{if(a==null)throw new Error("Missing response");if(a.error!=null)throw Ja.fromObject(a.error);return a.result});return o==null?s:(o.addEventListener("abort",()=>{this.notify(CS,{id:i})}),TZ(s,o))}notify(e,r=void 0){return E(this,null,function*(){yield FF(this,xb).send({jsonrpc:"2.0",method:e,params:r})})}constructor(e){kOe(this,xb,{writable:!0,value:void 0}),POe(this,xb,e)}};function SZ(t,e){return{jsonrpc:"2.0",id:t,error:{code:e,message:RS(e)}}}function LOe(t,e,r){console.warn("Unhandled handler error",e,r)}function FOe(t,e){console.warn("Unhandled invalid message",e)}function UOe(t,e){console.warn("Unhandled notification",e)}function NZ(t,e={}){let r=e.onHandlerError??LOe,n=e.onInvalidMessage??FOe,o=e.onNotification??UOe,i={};function s(a,c){if(c.method===CS){let u=c.params?.id;u!=null&&i[u]?.abort()}else o(a,c)}return function(c,u){return E(this,null,function*(){let l=u.id;if(u.jsonrpc!=="2.0"||u.method==null)return l==null?(n(c,u),null):SZ(l,Go.INVALID_REQUEST);let f=t[u.method];if(f==null)return l==null?(s(c,u),null):SZ(l,Go.METHOD_NOT_FOUND);try{let d;if(l!=null&&f[vZ]){let h=new AbortController;i[l]=h,d=f(c,u.params,{signal:h.signal})}else d=f(c,u.params,{});let p=d==null?d:typeof d.then=="function"?yield d:d;return l==null||i[l]?.signal.aborted?null:{jsonrpc:"2.0",id:l,result:p}}catch(d){if(l==null||i[l]?.signal.aborted)return r(c,u,d),null;let p;if(d instanceof Ja)p=d.toObject();else{r(c,u,d);let h=d.code??-32e3;p={code:h,message:d.message||RS(h)}}return{jsonrpc:"2.0",id:l,error:p}}finally{l!=null&&delete i[l]}})}}var Mm=class{position;input;constructor(e){this.input=e,this.position=0}get isEOF(){return this.position>=this.input.length}};function Jf(t,e,r){return r.position=e,kS(t)}function kS(t){return Mi(t)}function sn(t){return function(e){return e.input.slice(e.position,e.position+t.length)===t?(e.position+=t.length,vr(t)):kS(new Error(`Can not match literal "${t}"`))}}function Hf(t,e){return function(n){let o=n.position,i=t(n);if(It(i))return n.position=o,i;let s=e(i.right);return It(s)?Jf(s.left,o,n):s}}function so(t,e){return function(r){let n=r.position,o=t(r);return It(o)?(r.position=n,o):vr(e(o.right))}}function ao(t){return function(e){let r=e.input.slice(e.position).match(t);return r?(e.position+=r[0].length,vr(r[0])):kS(new Error(`Can not match ${t}`))}}function nl(...t){return Ib(_Z(t))}function Ib(t,e=""){return function(r){let n=r.position,o=t(r);return It(o)?(r.position=n,o):vr(o.right.join(e))}}function Zt(...t){return _Z(t)}function _Z(t){return function(e){let r=e.position,n=[];for(let o of t){let i=o(e);if(It(i))return Jf(i.left,r,e);n.push(i.right)}return vr(n)}}function Ks(t,e){return function(n){let o=t(n);return It(o)?vr(e):o}}function Sb(...t){return function(r){for(let n of t){let o=r.position,i=n(r);if(It(i))r.position=o;else return i}return kS(new Error(`Can not find any of ${t.map(n=>n.name).join(", ")}`))}}function PS(t,e,r=1,n=1/0){return function(o){let i=o.position,s=[],a=t(o);if(It(a))return Jf(a.left,i,o);s.push(a.right);let c=o.position,u=l=>s.length<r?Jf(l.left,c,o):(o.position=c,vr(s));for(;!o.isEOF&&s.length<n;){c=o.position;let l=e(o);if(It(l))return u(l);let f=t(o);if(It(f))return u(f);s.push(f.right)}return s.length<r?Jf(new Error(`Got ${s}/${r} instances of ${t.name}`),i,o):vr(s)}}function DZ(t,e=1,r=1/0){return function(o){let i=o.position,s=[];for(;!o.isEOF&&s.length<r;){let a=t(o);if(It(a))return s.length<e?Jf(a.left,i,o):vr(s);s.push(a.right)}return vr(s)}}function LS(t){return function(r){let n=r.position,o=t(r);return It(o)||r.isEOF?o:Jf(new Error(`Consumed only ${r.position} of input`),n,r)}}var UF=sn("."),BF=sn(":"),ol=sn("::"),Nb=ao(/^([0-9a-fA-F]{2}){1,4}/),FS=ao(/^(25[0-5])|(2[0-4]\d)|(1\d\d)|([1-9]\d)|(\d)/),MF=nl(FS,UF,FS,UF,FS,UF,FS),Kf=Sb(nl(Nb,BF,Nb),MF);function BOe(){let t=f=>Ib(DZ(nl(Nb,BF),f,f)),e=f=>Ks(Ib(PS(Nb,BF,1,f),":"),""),r=Zt(t(6),Kf),n=Zt(ol,t(5),Kf),o=Zt(e(1),ol,t(4),Kf),i=Zt(e(2),ol,t(3),Kf),s=Zt(e(3),ol,t(2),Kf),a=Zt(e(4),ol,t(1),Kf),c=Zt(e(5),ol,Kf),u=Zt(e(6),ol,Nb),l=Zt(e(7),ol);return Ib(Sb(r,n,o,i,s,a,c,u,l))}var MOe=BOe(),OZ=nl(sn("["),MOe,sn("]"));var $Oe=Hf(ao(/^\d+/),t=>String(parseInt(t,10))===t?vr(t):Mi(new Error(`Invalid port ${t}`))),VOe=ao(/^([a-zA-Z0-9\-._~!$&'()*+,;=]|(%[a-fA-F0-9]{2}))*/),jOe=Sb(OZ,MF,VOe),GOe=nl(sn(":"),$Oe),zOe=nl(jOe,Ks(GOe,"")),US=Hf(zOe,t=>t?vr(t):Mi(new Error("domain can not be empty")));var _b=Hf(ao(/^\S+/),t=>{try{return new URL(t),vr(t)}catch{return Mi(new Error(`Invalid URI ${t}`))}});var co=sn(`
`),qOe=ao(/^\d+/),QOe=ao(/^\w+/),JOe=Zt(US,sn(" wants you to sign in with your "),QOe,sn(" account:")),HOe=so(JOe,t=>({domain:t[0],network:t[2]})),KOe=ao(/^\w+/),WOe=ao(/^[^\n]+/),YOe=so(Ks(Zt(WOe,co),void 0),t=>{if(t)return t[0]}),XOe=so(Zt(sn("URI: "),_b,co),t=>t[1]),ZOe=so(Zt(sn("Version: 1"),co),()=>"1"),eCe=so(Zt(sn("Chain ID: "),qOe,co),t=>t[1]),$F=ao(/^[a-zA-Z0-9]{8,}/),tCe=so(Zt(sn("Nonce: "),$F,co),t=>t[1]),rCe=ao(/\d\d\d\d-\d\d-\d\dT\d\d:\d\d:\d\d(\.\d+)?(Z|([+-](\d\d):(\d\d)))/),VF=Hf(rCe,t=>Number.isFinite(Date.parse(t))?vr(t):Mi(new Error(`Invalid date-time ${t}`))),jF=t=>so(Zt(sn(t),VF),e=>e[1]),nCe=jF("Issued At: "),oCe=jF("Expiration Time: "),iCe=jF("Not Before: "),sCe=ao(/^([a-zA-Z0-9-._~!$&'():@]|(%[a-fA-F0-9]{2}))*/),aCe=Zt(sn("Request ID: "),sCe,co),cCe=so(aCe,t=>t[1]),uCe=_b,lCe=Zt(sn("- "),uCe),fCe=so(lCe,t=>t[1]),dCe=Zt(sn("Resources:"),co,Ks(PS(fCe,co),[])),pCe=so(dCe,t=>t[2]),hCe=Zt(HOe,co,KOe,co),mCe=so(hCe,t=>({domain:t[0].domain,network:t[0].network,address:t[2]})),yCe=so(Zt(XOe,ZOe,eCe,tCe,nCe),t=>({uri:t[0],version:t[1],chainId:t[2],nonce:t[3],issuedAt:t[4]})),gCe=Ks(Zt(co,oCe),void 0),wCe=Ks(Zt(co,iCe),void 0),bCe=Ks(Zt(co,cCe),void 0),ECe=so(Ks(Zt(co,pCe),void 0),t=>t?t[1]:void 0),vCe=so(Zt(gCe,wCe,bCe,ECe),t=>({expirationTime:t[0],notBefore:t[1],requestId:t[2],resources:t[3]})),TCe=Zt(mCe,co,YOe,co,yCe,vCe),CZ=so(TCe,t=>{let e=t[0],r=t[2],n=t[4],o=t[5];return{domain:e.domain,network:e.network,address:e.address,statement:r,uri:n.uri,version:n.version,chainId:n.chainId,nonce:n.nonce,issuedAt:n.issuedAt,resources:o.resources}});function BS(t){let e=LS(t);return function(r){return rT(e(new Mm(r)))}}var RZ=BS(US),MS=BS(VF),GF=BS(_b);function Db(t,e){if(t)return t;throw new Error(`Expect non-empty string for "${e}" field`)}function kZ(t){if(String(t)!=="1")throw new Error(`Invalid version string: ${t}`);return"1"}function PZ(t){return String(t)}function LZ(t){return BS($F)(String(t))}function vo(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xCe(t){return t.map(e=>`- ${e}`).join(`
`)}var $m=class{toString(){return FZ(this)}constructor(e){vo(this,"domain",void 0),vo(this,"network",void 0),vo(this,"address",void 0),vo(this,"statement",void 0),vo(this,"uri",void 0),vo(this,"version",void 0),vo(this,"chainId",void 0),vo(this,"nonce",void 0),vo(this,"issuedAt",void 0),vo(this,"expirationTime",void 0),vo(this,"notBefore",void 0),vo(this,"requestId",void 0),vo(this,"resources",void 0),this.domain=RZ(e.domain),this.network=Db(e.network,"network"),this.address=Db(e.address,"address"),this.statement=Ob(e.statement,r=>Db(r,"statement")),this.uri=GF(e.uri),this.version=kZ(e.version||"1"),this.chainId=PZ(e.chainId),this.nonce=LZ(e.nonce),this.issuedAt=MS(e.issuedAt),this.expirationTime=Ob(e.expirationTime,MS),this.notBefore=Ob(e.notBefore,MS),this.requestId=Ob(e.requestId,r=>Db(r,"requestId")),this.resources=Ob(e.resources,r=>r.map(GF))}};vo($m,"fromString",$S);vo($m,"fromStringSafe",zF);function zF(t){let r=LS(CZ)(new Mm(t));return It(r)?r:vr(new $m(r.right))}function $S(t){return rT(zF(t))}function FZ(t){let e=`${t.domain} wants you to sign in with your ${t.network} account:`,r=t.address,n=t.statement,o=`URI: ${t.uri}`,i=`Version: ${t.version}`,s=`Chain ID: ${t.chainId}`,a=`Nonce: ${t.nonce}`,c=`Issued At: ${t.issuedAt}`,u=t.expirationTime?`Expiration Time: ${t.expirationTime}`:void 0,l=t.notBefore?`Not Before: ${t.notBefore}`:void 0,f=t.requestId?`Request ID: ${t.requestId}`:void 0,d=t.resources?`Resources:
${xCe(t.resources)}`:void 0,p=`${e}
${r}

`;return n&&(p+=`${n}
`),[p,o,i,s,a,c,u,l,f,d].filter(Boolean).join(`
`)}function Ob(t,e){if(t!==void 0)return e(t)}function zo(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var qF=(function(t){return t.PERSONAL_SIGNATURE="Personal signature",t})(qF||{}),VS=class{static fromCacao(e){let r=sa.parse(e.p.iss.replace("did:pkh:","")),n=new this({domain:e.p.domain,address:r.address,uri:e.p.aud,version:e.p.version,chainId:new ia(r.chainId).reference});return e.p.statement&&(n.statement=e.p.statement),e.p.nonce&&(n.nonce=e.p.nonce),e.p.iat&&(n.issuedAt=e.p.iat),e.p.exp&&(n.expirationTime=e.p.exp),e.p.nbf&&(n.notBefore=e.p.nbf),e.p.requestId&&(n.requestId=e.p.requestId),e.p.resources&&(n.resources=e.p.resources),e.s&&(e.s.s&&(n.signature=e.s.s),e.s.t==="eip191"&&(n.type="Personal signature")),n}toMessage(e,r){return ACe(this,e,r)}constructor(e){if(zo(this,"domain",void 0),zo(this,"address",void 0),zo(this,"statement",void 0),zo(this,"uri",void 0),zo(this,"version",void 0),zo(this,"nonce",void 0),zo(this,"issuedAt",void 0),zo(this,"expirationTime",void 0),zo(this,"notBefore",void 0),zo(this,"requestId",void 0),zo(this,"chainId",void 0),zo(this,"resources",void 0),zo(this,"signature",void 0),zo(this,"type",void 0),typeof e=="string"){let r=$S(e);this.domain=r.domain,this.address=r.address,this.statement=r.statement,this.uri=r.uri,this.version=r.version,this.nonce=r.nonce,this.issuedAt=r.issuedAt,this.expirationTime=r.expirationTime,this.notBefore=r.notBefore,this.requestId=r.requestId,this.chainId=r.chainId,this.resources=r.resources}else Object.assign(this,e)}};function UZ(t,e){let r=`${t.domain} wants you to sign in with your ${e} account:`,n=`URI: ${t.uri}`,o=[r,t.address].join(`
`),i=`Version: ${t.version}`;t.nonce||(t.nonce=(Math.random()+1).toString(36).substring(4));let s=`Nonce: ${t.nonce}`,a=[n,i,s];if(t.issuedAt&&Date.parse(t.issuedAt),t.issuedAt=t.issuedAt?t.issuedAt:new Date().toISOString(),a.push(`Issued At: ${t.issuedAt}`),t.expirationTime){let u=`Expiration Time: ${t.expirationTime}`;a.push(u)}t.notBefore&&a.push(`Not Before: ${t.notBefore}`),t.requestId&&a.push(`Request ID: ${t.requestId}`),t.chainId&&a.push(`Chain ID: ${t.chainId}`),t.resources&&a.push(["Resources:",...t.resources.map(u=>`- ${u}`)].join(`
`));let c=a.join(`
`);return t.statement&&(o=[o,t.statement].join(`

`)),[o,c].join(`

`)}function ACe(t,e,r){let n=`${t.domain} wants you to sign in with your ${e} account:`,o=`URI: ${t.uri}`,i=[n,r||t.address].join(`
`),s=`Version: ${t.version}`;t.nonce||(t.nonce=(Math.random()+1).toString(36).substring(4));let a=`Nonce: ${t.nonce}`,c=`Chain ID: ${t.chainId}`,u=[o,s,c,a];if(t.issuedAt&&Date.parse(t.issuedAt),t.issuedAt=t.issuedAt?t.issuedAt:new Date().toISOString(),u.push(`Issued At: ${t.issuedAt}`),t.expirationTime){let f=`Expiration Time: ${t.expirationTime}`;u.push(f)}t.notBefore&&u.push(`Not Before: ${t.notBefore}`),t.requestId&&u.push(`Request ID: ${t.requestId}`),t.resources&&t.resources.length>=1&&u.push(["Resources:",...t.resources.map(f=>`- ${f}`)].join(`
`));let l=u.join(`
`);return t.statement&&(i=[i,t.statement].join(`

`)),[i,l].join(`

`)}var Vm=class extends VS{toMessage(){return super.toMessage("Ethereum")}toMessageEip55(){let e=oN(this.address);return super.toMessage("Ethereum",e)}signMessage({eip55:e}={}){let r;switch(this.type){case qF.PERSONAL_SIGNATURE:{r=e?this.toMessageEip55():this.toMessage();break}default:{r=e?this.toMessageEip55():this.toMessage();break}}return r}};var ICe=300,qEt=new Date("2022-09-20").valueOf(),Cb;(function(t){function e(a){let c={h:{t:"eip4361"},p:{domain:a.domain,iat:a.issuedAt,iss:`did:pkh:eip155:${a.chainId}:${a.address}`,aud:a.uri,version:a.version,nonce:a.nonce}};return a.signature&&(c.s={t:"eip191",s:a.signature}),a.notBefore&&(c.p.nbf=a.notBefore),a.expirationTime&&(c.p.exp=a.expirationTime),a.statement&&(c.p.statement=a.statement),a.requestId&&(c.p.requestId=a.requestId),a.resources&&(c.p.resources=a.resources),c}t.fromSiweMessage=e;function r(a){let c={h:{t:"caip122"},p:{domain:a.domain,iat:a.issuedAt,iss:`did:pkh:solana:${a.chainId}:${a.address}`,aud:a.uri,version:a.version,nonce:a.nonce}};return a.signature&&(c.s={t:"solana:ed25519",s:a.signature}),a.notBefore&&(c.p.nbf=a.notBefore),a.expirationTime&&(c.p.exp=a.expirationTime),a.statement&&(c.p.statement=a.statement),a.requestId&&(c.p.requestId=a.requestId),a.resources&&(c.p.resources=a.resources),c}t.fromSiwsMessage=r;function n(a){let c={h:{t:"caip122"},p:{domain:a.domain,iat:a.issuedAt,iss:`did:pkh:tezos:${a.chainId}:${a.address}`,aud:a.uri,version:a.version,nonce:a.nonce}};return a.signature&&(c.s={t:"tezos:ed25519",s:a.signature}),a.notBefore&&(c.p.nbf=a.notBefore),a.expirationTime&&(c.p.exp=a.expirationTime),a.statement&&(c.p.statement=a.statement),a.requestId&&(c.p.requestId=a.requestId),a.resources&&(c.p.resources=a.resources),c}t.fromSiwTezosMessage=n;function o(a){let c={h:{t:"caip122"},p:{domain:a.domain,iat:a.issuedAt,iss:`did:pkh:stacks:${a.chainId}:${a.address}`,aud:a.uri,version:a.version,nonce:a.nonce}};return a.signature&&(c.s={t:"stacks:secp256k1",s:a.signature}),a.notBefore&&(c.p.nbf=a.notBefore),a.expirationTime&&(c.p.exp=a.expirationTime),a.statement&&(c.p.statement=a.statement),a.requestId&&(c.p.requestId=a.requestId),a.resources&&(c.p.resources=a.resources),c}t.fromSiwStacksMessage=o;function i(a){return E(this,null,function*(){return(yield yZ({bytes:a,codec:Gl,hasher:Wd})).value})}t.fromBlockBytes=i;function s(u){return E(this,arguments,function*(a,c={}){QF(a);let l=c.verifiers[a.s.t];if(!l)throw new Error("Unsupported CACAO signature type, register the needed verifier");return l(a,c)})}t.verify=s})(Cb||(Cb={}));var Rb;(function(t){function e(r){return vb({value:r,codec:Gl,hasher:Wd})}t.fromCacao=e})(Rb||(Rb={}));function QF(t){if(t.s===null||t.s===void 0)throw new Error("CACAO does not have a signature")}function BZ(t,e){let r=e.atTime?e.atTime.getTime():Date.now(),n=(e.clockSkewSecs??ICe)*1e3;if(Date.parse(t.p.iat)>r+n||Date.parse(t.p.nbf)>r+n)throw new Error("CACAO is not valid yet");let o=e.revocationPhaseOutSecs?e.revocationPhaseOutSecs*1e3:0;if(!e.disableExpirationCheck&&Date.parse(t.p.exp)+o+n<r)throw new Error("CACAO has expired")}function MZ(){return{eip191:(t,e)=>E(null,null,function*(){_Ce(t,e)})}}var SCe=new Date("2022-09-20").valueOf(),NCe=`Ethereum Signed Message:
`;function JF(t,e){let r=typeof t=="string"?id(t):t,n=ul(Jb(id(NCe),id(String(t.length)),r)),o=jU(e.replace(/^0x/,"")),i=o[64];(i===0||i===1)&&(i+=27);let s=Qn.Signature.fromCompact(o.slice(0,64)).addRecoveryBit(i-27).recoverPublicKey(n).toRawBytes(!1),a=ul(s.subarray(1)).subarray(-20);return`0x${VU(a)}`}function _Ce(t,e){QF(t),BZ(t,e);let r=sa.parse(t.p.iss.replace("did:pkh:","")).address.toLowerCase(),n=JF(Vm.fromCacao(t).toMessage(),t.s.s);if(n!==r&&(n=JF(Vm.fromCacao(t).toMessageEip55(),t.s.s)),n!==r&&Date.parse(t.p.iat)<=SCe&&(n=JF(UZ(Vm.fromCacao(t),"Ethereum"),t.s.s)),n!==r)throw new Error("Signature does not belong to issuer")}function $Z(t){return t instanceof Uint8Array}var nvt=new yn("Uint8Array",$Z);function HF(t){return new ai(`Uint8Array-as-${String(t)}`,$Z,(e,r)=>{try{return r.success(So(e,t))}catch{return r.failure()}},e=>gt(e,t))}var ovt=HF("base64"),KF=HF("base64pad"),WF=HF("base64url");var VZ=Rr(jy(),1);function jZ(){return gt((0,VZ.randomBytes)(16),"base64")}function GZ(t){return KF.encode(t)}function zZ(t){return WF.encode(t)}function qZ(t){return Np(KF,t)}function jS(t){let e=Np(WF,t);return JSON.parse(gt(e))}function QZ(t){if(t.signatures.length>1)throw new Error("Cant convert to compact jws");return`${t.signatures[0].protected}.${t.payload}.${t.signatures[0].signature}`}function JZ(t,e){if(e){let r=e.toISOString().split(".")[0]+"Z";return`${t}?versionTime=${r}`}else return t}function HZ(t){return t?Array.isArray(t)?t:[t]:[]}function kb(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var DCe=b({},MZ());function OCe(t){return"registry"in t&&"cache"in t}function CCe(t,e){return t===e?!0:t.startsWith("did:pkh:eip155:")?t.toLowerCase()===e.toLowerCase():!1}var GS=class t{get capability(){if(!this._capability)throw new Error("DID has no capability attached");return this._capability}get hasCapability(){return this._capability!=null}get parent(){if(!this._parentId)throw new Error("DID has no parent DID");return this._parentId}get hasParent(){return this._parentId!=null}get id(){if(this._id==null)throw new Error("DID is not authenticated");return this._id}get authenticated(){return this._id!=null}withCapability(e){return new t({provider:this._client?.connection,resolver:this._resolver,capability:e,parent:this._parentId})}setProvider(e){if(this._client==null)this._client=new Ab(e);else if(this._client.connection!==e)throw new Error("A different provider is already set, create a new DID instance to use another provider")}setResolver(e,r){this._resolver=OCe(e)?e:new tT(e,r)}authenticate(){return E(this,arguments,function*({provider:e,paths:r=[],aud:n}={}){if(e!=null&&this.setProvider(e),this._client==null)throw new Error("No provider available");let o=jZ(),i=yield this._client.request("did_authenticate",{nonce:o,aud:n,paths:r}),{kid:s}=yield this.verifyJWS(i),a=jS(i.payload);if(!s.includes(a.did))throw new Error("Invalid authencation response, kid mismatch");if(a.nonce!==o)throw new Error("Invalid authencation response, wrong nonce");if(a.aud!==n)throw new Error("Invalid authencation response, wrong aud");if(a.exp<Date.now()/1e3)throw new Error("Invalid authencation response, expired");return this._id=a.did,this._id})}createJWS(n){return E(this,arguments,function*(e,r={}){if(this._client==null)throw new Error("No provider available");if(this._id==null)throw new Error("DID is not authenticated");if(this._capability){let i=this._capability.p.exp;if(i&&Date.parse(i)<Date.now())throw new Error("Capability is expired, cannot create a valid signature");let s=yield Rb.fromCacao(this._capability),a=Ct.asCID(s.cid);if(!a)throw new Error("Capability CID of the JWS cannot be set to the capability payload cid as they are incompatible");r.protected=r.protected||{},r.protected.cap=`ipfs://${a?.toString()}`}let{jws:o}=yield this._client.request("did_createJWS",S(b({did:this._id},r),{payload:e}));return o})}createDagJWS(n){return E(this,arguments,function*(e,r={}){let{cid:o,linkedBlock:i}=yield wZ(e),s=zZ(o.bytes);Object.assign(r,{linkedBlock:GZ(i)});let a=yield this.createJWS(s,r),c=Ct.asCID(o);if(!c)throw new Error("CID of the JWS cannot be set to the encoded payload cid as they are incompatible");if(a.link=c,this._capability){let u=yield Rb.fromCacao(this._capability);return{jws:a,linkedBlock:i,cacaoBlock:u.bytes}}return{jws:a,linkedBlock:i}})}verifyJWS(n){return E(this,arguments,function*(e,r={}){r=Object.assign({verifiers:DCe},r),typeof e!="string"&&(e=QZ(e));let o=jS(e.split(".")[0]).kid;if(!o)throw new Error('No "kid" found in jws');let i=yield this.resolve(o);if(!r.disableTimecheck){let l=i.didDocumentMetadata?.nextUpdate;if(l){let d=r.revocationPhaseOutSecs?r.revocationPhaseOutSecs*1e3:0,p=new Date(l).valueOf()+d;if(!(r.atTime&&r.atTime.getTime()<p))throw new Error(`invalid_jws: signature authored with a revoked DID version: ${o}`)}let f=i.didDocumentMetadata?.updated;if(f&&r.atTime&&r.atTime.getTime()<new Date(f).valueOf())throw new Error(`invalid_jws: signature authored before creation of DID version: ${o}`)}let a=i.didDocument?.id;if(r.issuer&&r.capability&&CCe(r.issuer,r.capability?.p.iss)&&a===r.capability.p.aud){if(!r.verifiers)throw new Error("Registered verifiers needed for CACAO");yield Cb.verify(r.capability,{disableExpirationCheck:r.disableTimecheck,atTime:r.atTime?r.atTime:void 0,revocationPhaseOutSecs:r.revocationPhaseOutSecs,verifiers:r.verifiers??{}})}else if(r.issuer&&r.issuer!==a){let l=JZ(r.issuer,r.atTime),d=(yield this.resolve(l)).didDocument?.controller,p=HZ(d);if(r.capability?.s&&r.capability.p.aud===a&&p.includes(r.capability.p.iss))yield Cb.verify(r.capability,{atTime:r.atTime?r.atTime:void 0,revocationPhaseOutSecs:r.revocationPhaseOutSecs,verifiers:r.verifiers??{}});else if(!(a?p.includes(a):!1))throw new Error(`invalid_jws: not a valid verificationMethod for issuer: ${o}`)}let c=i.didDocument?.verificationMethod||[];lZ(e,c);let u;try{u=jS(e.split(".")[1])}catch{}return{kid:o,payload:u,didResolutionResult:i}})}createJWE(o,i){return E(this,arguments,function*(e,r,n={}){let s=yield hZ(r,this._resolver);return dZ(e,s,n.protectedHeader,n.aad)})}createDagJWE(o,i){return E(this,arguments,function*(e,r,n={}){let s=yield bZ(e);return this.createJWE(s,r,n)})}decryptJWE(n){return E(this,arguments,function*(e,r={}){if(this._client==null)throw new Error("No provider available");if(this._id==null)throw new Error("DID is not authenticated");let{cleartext:o}=yield this._client.request("did_decryptJWE",S(b({did:this._id},r),{jwe:e}));return qZ(o)})}decryptDagJWE(e){return E(this,null,function*(){let r=yield this.decryptJWE(e);return EZ(r)})}resolve(e){return E(this,null,function*(){let r=yield this._resolver.resolve(e);if(r.didResolutionMetadata.error){let{error:n,message:o}=r.didResolutionMetadata,i=o?`, ${o}`:"";throw new Error(`Failed to resolve ${e}: ${n}${i}`)}return r})}constructor({provider:e,resolver:r={},resolverOptions:n,capability:o,parent:i}={}){if(kb(this,"_client",void 0),kb(this,"_id",void 0),kb(this,"_resolver",void 0),kb(this,"_capability",void 0),kb(this,"_parentId",void 0),e!=null&&(this._client=new Ab(e)),o){if(this._capability=o,this._parentId=this._capability.p.iss,this._parentId.startsWith("did:pkh:eip155:1:")&&(this._parentId=this._parentId.toLowerCase()),i&&this._parentId!==i)throw new Error("Capability issuer and parent not equal")}else i&&(this._parentId=i);this.setResolver(r,n)}};var Wf=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function Yf(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function YF(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Jc(t,...e){if(!Yf(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function XF(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function WZ(t,e){Jc(t);let r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function Pb(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function qS(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}var YZ=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",RCe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function jm(t){if(Jc(t),YZ)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=RCe[t[r]];return e}var Qc={_0:48,_9:57,A:65,F:70,a:97,f:102};function KZ(t){if(t>=Qc._0&&t<=Qc._9)return t-Qc._0;if(t>=Qc.A&&t<=Qc.F)return t-(Qc.A-10);if(t>=Qc.a&&t<=Qc.f)return t-(Qc.a-10)}function QS(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(YZ)return Uint8Array.fromHex(t);let e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(r);for(let o=0,i=0;o<r;o++,i+=2){let s=KZ(t.charCodeAt(i)),a=KZ(t.charCodeAt(i+1));if(s===void 0||a===void 0){let c=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}n[o]=s*16+a}return n}function XZ(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function ZF(t){return typeof t=="string"&&(t=XZ(t)),Jc(t),t}function Lb(...t){let e=0;for(let n=0;n<t.length;n++){let o=t[n];Jc(o),e+=o.length}let r=new Uint8Array(e);for(let n=0,o=0;n<t.length;n++){let i=t[n];r.set(i,o),o+=i.length}return r}var zS=class{};function ZZ(t){let e=n=>t().update(ZF(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function eU(t=32){if(Wf&&typeof Wf.getRandomValues=="function")return Wf.getRandomValues(new Uint8Array(t));if(Wf&&typeof Wf.randomBytes=="function")return Uint8Array.from(Wf.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}function kCe(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let o=BigInt(32),i=BigInt(4294967295),s=Number(r>>o&i),a=Number(r&i),c=n?4:0,u=n?0:4;t.setUint32(e+c,s,n),t.setUint32(e+u,a,n)}var JS=class extends zS{constructor(e,r,n,o){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=o,this.buffer=new Uint8Array(e),this.view=qS(this.buffer)}update(e){XF(this),e=ZF(e),Jc(e);let{view:r,buffer:n,blockLen:o}=this,i=e.length;for(let s=0;s<i;){let a=Math.min(o-this.pos,i-s);if(a===o){let c=qS(e);for(;o<=i-s;s+=o)this.process(c,s);continue}n.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===o&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){XF(this),WZ(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:o,isLE:i}=this,{pos:s}=this;r[s++]=128,Pb(this.buffer.subarray(s)),this.padOffset>o-s&&(this.process(n,0),s=0);for(let f=s;f<o;f++)r[f]=0;kCe(n,o-8,BigInt(this.length*8),i),this.process(n,0);let a=qS(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)a.setUint32(4*f,l[f],i)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:o,finished:i,destroyed:s,pos:a}=this;return e.destroyed=s,e.finished=i,e.length=o,e.pos=a,o%r&&e.buffer.set(n),e}clone(){return this._cloneInto()}};var zn=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]);var HS=BigInt(4294967295),eee=BigInt(32);function PCe(t,e=!1){return e?{h:Number(t&HS),l:Number(t>>eee&HS)}:{h:Number(t>>eee&HS)|0,l:Number(t&HS)|0}}function tee(t,e=!1){let r=t.length,n=new Uint32Array(r),o=new Uint32Array(r);for(let i=0;i<r;i++){let{h:s,l:a}=PCe(t[i],e);[n[i],o[i]]=[s,a]}return[n,o]}var tU=(t,e,r)=>t>>>r,rU=(t,e,r)=>t<<32-r|e>>>r,Xf=(t,e,r)=>t>>>r|e<<32-r,Zf=(t,e,r)=>t<<32-r|e>>>r,Fb=(t,e,r)=>t<<64-r|e>>>r-32,Ub=(t,e,r)=>t>>>r-32|e<<64-r;function Ha(t,e,r,n){let o=(e>>>0)+(n>>>0);return{h:t+r+(o/2**32|0)|0,l:o|0}}var ree=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),nee=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,oee=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),iee=(t,e,r,n,o)=>e+r+n+o+(t/2**32|0)|0,see=(t,e,r,n,o)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(o>>>0),aee=(t,e,r,n,o,i)=>e+r+n+o+i+(t/2**32|0)|0;var cee=tee(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),FCe=cee[0],UCe=cee[1],il=new Uint32Array(80),sl=new Uint32Array(80),nU=class extends JS{constructor(e=64){super(128,e,16,!1),this.Ah=zn[0]|0,this.Al=zn[1]|0,this.Bh=zn[2]|0,this.Bl=zn[3]|0,this.Ch=zn[4]|0,this.Cl=zn[5]|0,this.Dh=zn[6]|0,this.Dl=zn[7]|0,this.Eh=zn[8]|0,this.El=zn[9]|0,this.Fh=zn[10]|0,this.Fl=zn[11]|0,this.Gh=zn[12]|0,this.Gl=zn[13]|0,this.Hh=zn[14]|0,this.Hl=zn[15]|0}get(){let{Ah:e,Al:r,Bh:n,Bl:o,Ch:i,Cl:s,Dh:a,Dl:c,Eh:u,El:l,Fh:f,Fl:d,Gh:p,Gl:h,Hh:m,Hl:g}=this;return[e,r,n,o,i,s,a,c,u,l,f,d,p,h,m,g]}set(e,r,n,o,i,s,a,c,u,l,f,d,p,h,m,g){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=o|0,this.Ch=i|0,this.Cl=s|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=f|0,this.Fl=d|0,this.Gh=p|0,this.Gl=h|0,this.Hh=m|0,this.Hl=g|0}process(e,r){for(let v=0;v<16;v++,r+=4)il[v]=e.getUint32(r),sl[v]=e.getUint32(r+=4);for(let v=16;v<80;v++){let x=il[v-15]|0,A=sl[v-15]|0,_=Xf(x,A,1)^Xf(x,A,8)^tU(x,A,7),O=Zf(x,A,1)^Zf(x,A,8)^rU(x,A,7),C=il[v-2]|0,I=sl[v-2]|0,k=Xf(C,I,19)^Fb(C,I,61)^tU(C,I,6),M=Zf(C,I,19)^Ub(C,I,61)^rU(C,I,6),X=oee(O,M,sl[v-7],sl[v-16]),re=iee(X,_,k,il[v-7],il[v-16]);il[v]=re|0,sl[v]=X|0}let{Ah:n,Al:o,Bh:i,Bl:s,Ch:a,Cl:c,Dh:u,Dl:l,Eh:f,El:d,Fh:p,Fl:h,Gh:m,Gl:g,Hh:w,Hl:T}=this;for(let v=0;v<80;v++){let x=Xf(f,d,14)^Xf(f,d,18)^Fb(f,d,41),A=Zf(f,d,14)^Zf(f,d,18)^Ub(f,d,41),_=f&p^~f&m,O=d&h^~d&g,C=see(T,A,O,UCe[v],sl[v]),I=aee(C,w,x,_,FCe[v],il[v]),k=C|0,M=Xf(n,o,28)^Fb(n,o,34)^Fb(n,o,39),X=Zf(n,o,28)^Ub(n,o,34)^Ub(n,o,39),re=n&i^n&a^i&a,ye=o&s^o&c^s&c;w=m|0,T=g|0,m=p|0,g=h|0,p=f|0,h=d|0,{h:f,l:d}=Ha(u|0,l|0,I|0,k|0),u=a|0,l=c|0,a=i|0,c=s|0,i=n|0,s=o|0;let Te=ree(k,X,ye);n=nee(Te,I,M,re),o=Te|0}({h:n,l:o}=Ha(this.Ah|0,this.Al|0,n|0,o|0)),{h:i,l:s}=Ha(this.Bh|0,this.Bl|0,i|0,s|0),{h:a,l:c}=Ha(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=Ha(this.Dh|0,this.Dl|0,u|0,l|0),{h:f,l:d}=Ha(this.Eh|0,this.El|0,f|0,d|0),{h:p,l:h}=Ha(this.Fh|0,this.Fl|0,p|0,h|0),{h:m,l:g}=Ha(this.Gh|0,this.Gl|0,m|0,g|0),{h:w,l:T}=Ha(this.Hh|0,this.Hl|0,w|0,T|0),this.set(n,o,i,s,a,c,u,l,f,d,p,h,m,g,w,T)}roundClean(){Pb(il,sl)}destroy(){Pb(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};var uee=ZZ(()=>new nU);var sU=BigInt(0),iU=BigInt(1);function KS(t,e=""){if(typeof t!="boolean"){let r=e&&`"${e}"`;throw new Error(r+"expected boolean, got type="+typeof t)}return t}function Bb(t,e,r=""){let n=Yf(t),o=t?.length,i=e!==void 0;if(!n||i&&o!==e){let s=r&&`"${r}" `,a=i?` of length ${e}`:"",c=n?`length=${o}`:`type=${typeof t}`;throw new Error(s+"expected Uint8Array"+a+", got "+c)}return t}function lee(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?sU:BigInt("0x"+t)}function fee(t){return lee(jm(t))}function ed(t){return Jc(t),lee(jm(Uint8Array.from(t).reverse()))}function aU(t,e){return QS(t.toString(16).padStart(e*2,"0"))}function dee(t,e){return aU(t,e).reverse()}function hs(t,e,r){let n;if(typeof e=="string")try{n=QS(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(Yf(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");let o=n.length;if(typeof r=="number"&&o!==r)throw new Error(t+" of length "+r+" expected, got "+o);return n}function cU(t){return Uint8Array.from(t)}var oU=t=>typeof t=="bigint"&&sU<=t;function BCe(t,e,r){return oU(t)&&oU(e)&&oU(r)&&e<=t&&t<r}function uU(t,e,r,n){if(!BCe(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function pee(t){let e;for(e=0;t>sU;t>>=iU,e+=1);return e}var Mb=t=>(iU<<BigInt(t))-iU;function $b(t,e,r={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function n(o,i,s){let a=t[o];if(s&&a===void 0)return;let c=typeof a;if(c!==i||a===null)throw new Error(`param "${o}" is invalid: expected ${i}, got ${c}`)}Object.entries(e).forEach(([o,i])=>n(o,i,!1)),Object.entries(r).forEach(([o,i])=>n(o,i,!0))}function lU(t){let e=new WeakMap;return(r,...n)=>{let o=e.get(r);if(o!==void 0)return o;let i=t(r,...n);return e.set(r,i),i}}var To=BigInt(0),uo=BigInt(1),td=BigInt(2),yee=BigInt(3),gee=BigInt(4),wee=BigInt(5),MCe=BigInt(7),bee=BigInt(8),$Ce=BigInt(9),Eee=BigInt(16);function an(t,e){let r=t%e;return r>=To?r:e+r}function Ws(t,e,r){let n=t;for(;e-- >To;)n*=n,n%=r;return n}function hee(t,e){if(t===To)throw new Error("invert: expected non-zero number");if(e<=To)throw new Error("invert: expected positive modulus, got "+e);let r=an(t,e),n=e,o=To,i=uo,s=uo,a=To;for(;r!==To;){let u=n/r,l=n%r,f=o-s*u,d=i-a*u;n=r,r=l,o=s,i=a,s=f,a=d}if(n!==uo)throw new Error("invert: does not exist");return an(o,e)}function fU(t,e,r){if(!t.eql(t.sqr(e),r))throw new Error("Cannot find square root")}function vee(t,e){let r=(t.ORDER+uo)/gee,n=t.pow(e,r);return fU(t,n,e),n}function VCe(t,e){let r=(t.ORDER-wee)/bee,n=t.mul(e,td),o=t.pow(n,r),i=t.mul(e,o),s=t.mul(t.mul(i,td),o),a=t.mul(i,t.sub(s,t.ONE));return fU(t,a,e),a}function jCe(t){let e=al(t),r=Tee(t),n=r(e,e.neg(e.ONE)),o=r(e,n),i=r(e,e.neg(n)),s=(t+MCe)/Eee;return(a,c)=>{let u=a.pow(c,s),l=a.mul(u,n),f=a.mul(u,o),d=a.mul(u,i),p=a.eql(a.sqr(l),c),h=a.eql(a.sqr(f),c);u=a.cmov(u,l,p),l=a.cmov(d,f,h);let m=a.eql(a.sqr(l),c),g=a.cmov(u,l,m);return fU(a,g,c),g}}function Tee(t){if(t<yee)throw new Error("sqrt is not defined for small field");let e=t-uo,r=0;for(;e%td===To;)e/=td,r++;let n=td,o=al(t);for(;mee(o,n)===1;)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1)return vee;let i=o.pow(n,e),s=(e+uo)/td;return function(c,u){if(c.is0(u))return u;if(mee(c,u)!==1)throw new Error("Cannot find square root");let l=r,f=c.mul(c.ONE,i),d=c.pow(u,e),p=c.pow(u,s);for(;!c.eql(d,c.ONE);){if(c.is0(d))return c.ZERO;let h=1,m=c.sqr(d);for(;!c.eql(m,c.ONE);)if(h++,m=c.sqr(m),h===l)throw new Error("Cannot find square root");let g=uo<<BigInt(l-h-1),w=c.pow(f,g);l=h,f=c.sqr(w),d=c.mul(d,f),p=c.mul(p,w)}return p}}function GCe(t){return t%gee===yee?vee:t%bee===wee?VCe:t%Eee===$Ce?jCe(t):Tee(t)}var xee=(t,e)=>(an(t,e)&uo)===uo,zCe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Aee(t){let e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},r=zCe.reduce((n,o)=>(n[o]="function",n),e);return $b(t,r),t}function qCe(t,e,r){if(r<To)throw new Error("invalid exponent, negatives unsupported");if(r===To)return t.ONE;if(r===uo)return e;let n=t.ONE,o=e;for(;r>To;)r&uo&&(n=t.mul(n,o)),o=t.sqr(o),r>>=uo;return n}function WS(t,e,r=!1){let n=new Array(e.length).fill(r?t.ZERO:void 0),o=e.reduce((s,a,c)=>t.is0(a)?s:(n[c]=s,t.mul(s,a)),t.ONE),i=t.inv(o);return e.reduceRight((s,a,c)=>t.is0(a)?s:(n[c]=t.mul(s,n[c]),t.mul(s,a)),i),n}function mee(t,e){let r=(t.ORDER-uo)/td,n=t.pow(e,r),o=t.eql(n,t.ONE),i=t.eql(n,t.ZERO),s=t.eql(n,t.neg(t.ONE));if(!o&&!i&&!s)throw new Error("invalid Legendre symbol result");return o?1:i?0:-1}function Iee(t,e){e!==void 0&&YF(e);let r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function al(t,e,r=!1,n={}){if(t<=To)throw new Error("invalid field: expected ORDER > 0, got "+t);let o,i,s=!1,a;if(typeof e=="object"&&e!=null){if(n.sqrt||r)throw new Error("cannot specify opts in two arguments");let d=e;d.BITS&&(o=d.BITS),d.sqrt&&(i=d.sqrt),typeof d.isLE=="boolean"&&(r=d.isLE),typeof d.modFromBytes=="boolean"&&(s=d.modFromBytes),a=d.allowedLengths}else typeof e=="number"&&(o=e),n.sqrt&&(i=n.sqrt);let{nBitLength:c,nByteLength:u}=Iee(t,o);if(u>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let l,f=Object.freeze({ORDER:t,isLE:r,BITS:c,BYTES:u,MASK:Mb(c),ZERO:To,ONE:uo,allowedLengths:a,create:d=>an(d,t),isValid:d=>{if(typeof d!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof d);return To<=d&&d<t},is0:d=>d===To,isValidNot0:d=>!f.is0(d)&&f.isValid(d),isOdd:d=>(d&uo)===uo,neg:d=>an(-d,t),eql:(d,p)=>d===p,sqr:d=>an(d*d,t),add:(d,p)=>an(d+p,t),sub:(d,p)=>an(d-p,t),mul:(d,p)=>an(d*p,t),pow:(d,p)=>qCe(f,d,p),div:(d,p)=>an(d*hee(p,t),t),sqrN:d=>d*d,addN:(d,p)=>d+p,subN:(d,p)=>d-p,mulN:(d,p)=>d*p,inv:d=>hee(d,t),sqrt:i||(d=>(l||(l=GCe(t)),l(f,d))),toBytes:d=>r?dee(d,u):aU(d,u),fromBytes:(d,p=!0)=>{if(a){if(!a.includes(d.length)||d.length>u)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+d.length);let m=new Uint8Array(u);m.set(d,r?0:m.length-d.length),d=m}if(d.length!==u)throw new Error("Field.fromBytes: expected "+u+" bytes, got "+d.length);let h=r?ed(d):fee(d);if(s&&(h=an(h,t)),!p&&!f.isValid(h))throw new Error("invalid field element: outside of range 0..ORDER");return h},invertBatch:d=>WS(f,d),cmov:(d,p,h)=>h?p:d});return Object.freeze(f)}var YS=BigInt(0),mU=BigInt(1);function See(t,e){let r=e.negate();return t?r:e}function Vb(t,e){let r=WS(t.Fp,e.map(n=>n.Z));return e.map((n,o)=>t.fromAffine(n.toAffine(r[o])))}function Oee(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function dU(t,e){Oee(t,e);let r=Math.ceil(e/t)+1,n=2**(t-1),o=2**t,i=Mb(t),s=BigInt(t);return{windows:r,windowSize:n,mask:i,maxNumber:o,shiftBy:s}}function Nee(t,e,r){let{windowSize:n,mask:o,maxNumber:i,shiftBy:s}=r,a=Number(t&o),c=t>>s;a>n&&(a-=i,c+=mU);let u=e*n,l=u+Math.abs(a)-1,f=a===0,d=a<0,p=e%2!==0;return{nextN:c,offset:l,isZero:f,isNeg:d,isNegF:p,offsetF:u}}function QCe(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function JCe(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}var pU=new WeakMap,Cee=new WeakMap;function hU(t){return Cee.get(t)||1}function _ee(t){if(t!==YS)throw new Error("invalid wNAF")}var XS=class{constructor(e,r){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=r}_unsafeLadder(e,r,n=this.ZERO){let o=e;for(;r>YS;)r&mU&&(n=n.add(o)),o=o.double(),r>>=mU;return n}precomputeWindow(e,r){let{windows:n,windowSize:o}=dU(r,this.bits),i=[],s=e,a=s;for(let c=0;c<n;c++){a=s,i.push(a);for(let u=1;u<o;u++)a=a.add(s),i.push(a);s=a.double()}return i}wNAF(e,r,n){if(!this.Fn.isValid(n))throw new Error("invalid scalar");let o=this.ZERO,i=this.BASE,s=dU(e,this.bits);for(let a=0;a<s.windows;a++){let{nextN:c,offset:u,isZero:l,isNeg:f,isNegF:d,offsetF:p}=Nee(n,a,s);n=c,l?i=i.add(See(d,r[p])):o=o.add(See(f,r[u]))}return _ee(n),{p:o,f:i}}wNAFUnsafe(e,r,n,o=this.ZERO){let i=dU(e,this.bits);for(let s=0;s<i.windows&&n!==YS;s++){let{nextN:a,offset:c,isZero:u,isNeg:l}=Nee(n,s,i);if(n=a,!u){let f=r[c];o=o.add(l?f.negate():f)}}return _ee(n),o}getPrecomputes(e,r,n){let o=pU.get(r);return o||(o=this.precomputeWindow(r,e),e!==1&&(typeof n=="function"&&(o=n(o)),pU.set(r,o))),o}cached(e,r,n){let o=hU(e);return this.wNAF(o,this.getPrecomputes(o,e,n),r)}unsafe(e,r,n,o){let i=hU(e);return i===1?this._unsafeLadder(e,r,o):this.wNAFUnsafe(i,this.getPrecomputes(i,e,n),r,o)}createCache(e,r){Oee(r,this.bits),Cee.set(e,r),pU.delete(e)}hasCache(e){return hU(e)!==1}};function Ree(t,e,r,n){QCe(r,t),JCe(n,e);let o=r.length,i=n.length;if(o!==i)throw new Error("arrays of points and scalars must have equal length");let s=t.ZERO,a=pee(BigInt(o)),c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);let u=Mb(c),l=new Array(Number(u)+1).fill(s),f=Math.floor((e.BITS-1)/c)*c,d=s;for(let p=f;p>=0;p-=c){l.fill(s);for(let m=0;m<i;m++){let g=n[m],w=Number(g>>BigInt(p)&u);l[w]=l[w].add(r[m])}let h=s;for(let m=l.length-1,g=s;m>0;m--)g=g.add(l[m]),h=h.add(g);if(d=d.add(h),p!==0)for(let m=0;m<c;m++)d=d.double()}return d}function Dee(t,e,r){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return Aee(e),e}else return al(t,{isLE:r})}function kee(t,e,r={},n){if(n===void 0&&(n=t==="edwards"),!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(let c of["p","n","h"]){let u=e[c];if(!(typeof u=="bigint"&&u>YS))throw new Error(`CURVE.${c} must be positive bigint`)}let o=Dee(e.p,r.Fp,n),i=Dee(e.n,r.Fn,n),a=["Gx","Gy","a",t==="weierstrass"?"b":"d"];for(let c of a)if(!o.isValid(e[c]))throw new Error(`CURVE.${c} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:o,Fn:i}}var cl=BigInt(0),Nn=BigInt(1),yU=BigInt(2),HCe=BigInt(8);function KCe(t,e,r,n){let o=t.sqr(r),i=t.sqr(n),s=t.add(t.mul(e.a,o),i),a=t.add(t.ONE,t.mul(e.d,t.mul(o,i)));return t.eql(s,a)}function WCe(t,e={}){let r=kee("edwards",t,e,e.FpFnLE),{Fp:n,Fn:o}=r,i=r.CURVE,{h:s}=i;$b(e,{},{uvRatio:"function"});let a=yU<<BigInt(o.BYTES*8)-Nn,c=g=>n.create(g),u=e.uvRatio||((g,w)=>{try{return{isValid:!0,value:n.sqrt(n.div(g,w))}}catch{return{isValid:!1,value:cl}}});if(!KCe(n,i,i.Gx,i.Gy))throw new Error("bad curve params: generator point");function l(g,w,T=!1){let v=T?Nn:cl;return uU("coordinate "+g,w,v,a),w}function f(g){if(!(g instanceof h))throw new Error("ExtendedPoint expected")}let d=lU((g,w)=>{let{X:T,Y:v,Z:x}=g,A=g.is0();w==null&&(w=A?HCe:n.inv(x));let _=c(T*w),O=c(v*w),C=n.mul(x,w);if(A)return{x:cl,y:Nn};if(C!==Nn)throw new Error("invZ was invalid");return{x:_,y:O}}),p=lU(g=>{let{a:w,d:T}=i;if(g.is0())throw new Error("bad point: ZERO");let{X:v,Y:x,Z:A,T:_}=g,O=c(v*v),C=c(x*x),I=c(A*A),k=c(I*I),M=c(O*w),X=c(I*c(M+C)),re=c(k+c(T*c(O*C)));if(X!==re)throw new Error("bad point: equation left != right (1)");let ye=c(v*x),Te=c(A*_);if(ye!==Te)throw new Error("bad point: equation left != right (2)");return!0});class h{constructor(w,T,v,x){this.X=l("x",w),this.Y=l("y",T),this.Z=l("z",v,!0),this.T=l("t",x),Object.freeze(this)}static CURVE(){return i}static fromAffine(w){if(w instanceof h)throw new Error("extended point not allowed");let{x:T,y:v}=w||{};return l("x",T),l("y",v),new h(T,v,Nn,c(T*v))}static fromBytes(w,T=!1){let v=n.BYTES,{a:x,d:A}=i;w=cU(Bb(w,v,"point")),KS(T,"zip215");let _=cU(w),O=w[v-1];_[v-1]=O&-129;let C=ed(_),I=T?a:n.ORDER;uU("point.y",C,cl,I);let k=c(C*C),M=c(k-Nn),X=c(A*k-x),{isValid:re,value:ye}=u(M,X);if(!re)throw new Error("bad point: invalid y coordinate");let Te=(ye&Nn)===Nn,$e=(O&128)!==0;if(!T&&ye===cl&&$e)throw new Error("bad point: x=0 and x_0=1");return $e!==Te&&(ye=c(-ye)),h.fromAffine({x:ye,y:C})}static fromHex(w,T=!1){return h.fromBytes(hs("point",w),T)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(w=8,T=!0){return m.createCache(this,w),T||this.multiply(yU),this}assertValidity(){p(this)}equals(w){f(w);let{X:T,Y:v,Z:x}=this,{X:A,Y:_,Z:O}=w,C=c(T*O),I=c(A*x),k=c(v*O),M=c(_*x);return C===I&&k===M}is0(){return this.equals(h.ZERO)}negate(){return new h(c(-this.X),this.Y,this.Z,c(-this.T))}double(){let{a:w}=i,{X:T,Y:v,Z:x}=this,A=c(T*T),_=c(v*v),O=c(yU*c(x*x)),C=c(w*A),I=T+v,k=c(c(I*I)-A-_),M=C+_,X=M-O,re=C-_,ye=c(k*X),Te=c(M*re),$e=c(k*re),ot=c(X*M);return new h(ye,Te,ot,$e)}add(w){f(w);let{a:T,d:v}=i,{X:x,Y:A,Z:_,T:O}=this,{X:C,Y:I,Z:k,T:M}=w,X=c(x*C),re=c(A*I),ye=c(O*v*M),Te=c(_*k),$e=c((x+A)*(C+I)-X-re),ot=Te-ye,ne=Te+ye,L=c(re-T*X),ae=c($e*ot),ge=c(ne*L),R=c($e*L),W=c(ot*ne);return new h(ae,ge,W,R)}subtract(w){return this.add(w.negate())}multiply(w){if(!o.isValidNot0(w))throw new Error("invalid scalar: expected 1 <= sc < curve.n");let{p:T,f:v}=m.cached(this,w,x=>Vb(h,x));return Vb(h,[T,v])[0]}multiplyUnsafe(w,T=h.ZERO){if(!o.isValid(w))throw new Error("invalid scalar: expected 0 <= sc < curve.n");return w===cl?h.ZERO:this.is0()||w===Nn?this:m.unsafe(this,w,v=>Vb(h,v),T)}isSmallOrder(){return this.multiplyUnsafe(s).is0()}isTorsionFree(){return m.unsafe(this,i.n).is0()}toAffine(w){return d(this,w)}clearCofactor(){return s===Nn?this:this.multiplyUnsafe(s)}toBytes(){let{x:w,y:T}=this.toAffine(),v=n.toBytes(T);return v[v.length-1]|=w&Nn?128:0,v}toHex(){return jm(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(w){return Vb(h,w)}static msm(w,T){return Ree(h,o,w,T)}_setWindowSize(w){this.precompute(w)}toRawBytes(){return this.toBytes()}}h.BASE=new h(i.Gx,i.Gy,Nn,c(i.Gx*i.Gy)),h.ZERO=new h(cl,Nn,Nn,cl),h.Fp=n,h.Fn=o;let m=new XS(h,o.BITS);return h.BASE.precompute(8),h}function YCe(t,e,r={}){if(typeof e!="function")throw new Error('"hash" function param is required');$b(r,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});let{prehash:n}=r,{BASE:o,Fp:i,Fn:s}=t,a=r.randomBytes||eU,c=r.adjustScalarBytes||(I=>I),u=r.domain||((I,k,M)=>{if(KS(M,"phflag"),k.length||M)throw new Error("Contexts/pre-hash are not supported");return I});function l(I){return s.create(ed(I))}function f(I){let k=v.secretKey;I=hs("private key",I,k);let M=hs("hashed private key",e(I),2*k),X=c(M.slice(0,k)),re=M.slice(k,2*k),ye=l(X);return{head:X,prefix:re,scalar:ye}}function d(I){let{head:k,prefix:M,scalar:X}=f(I),re=o.multiply(X),ye=re.toBytes();return{head:k,prefix:M,scalar:X,point:re,pointBytes:ye}}function p(I){return d(I).pointBytes}function h(I=Uint8Array.of(),...k){let M=Lb(...k);return l(e(u(M,hs("context",I),!!n)))}function m(I,k,M={}){I=hs("message",I),n&&(I=n(I));let{prefix:X,scalar:re,pointBytes:ye}=d(k),Te=h(M.context,X,I),$e=o.multiply(Te).toBytes(),ot=h(M.context,$e,ye,I),ne=s.create(Te+ot*re);if(!s.isValid(ne))throw new Error("sign failed: invalid s");let L=Lb($e,s.toBytes(ne));return Bb(L,v.signature,"result")}let g={zip215:!0};function w(I,k,M,X=g){let{context:re,zip215:ye}=X,Te=v.signature;I=hs("signature",I,Te),k=hs("message",k),M=hs("publicKey",M,v.publicKey),ye!==void 0&&KS(ye,"zip215"),n&&(k=n(k));let $e=Te/2,ot=I.subarray(0,$e),ne=ed(I.subarray($e,Te)),L,ae,ge;try{L=t.fromBytes(M,ye),ae=t.fromBytes(ot,ye),ge=o.multiplyUnsafe(ne)}catch{return!1}if(!ye&&L.isSmallOrder())return!1;let R=h(re,ae.toBytes(),L.toBytes(),k);return ae.add(L.multiplyUnsafe(R)).subtract(ge).clearCofactor().is0()}let T=i.BYTES,v={secretKey:T,publicKey:T,signature:2*T,seed:T};function x(I=a(v.seed)){return Bb(I,v.seed,"seed")}function A(I){let k=C.randomSecretKey(I);return{secretKey:k,publicKey:p(k)}}function _(I){return Yf(I)&&I.length===s.BYTES}function O(I,k){try{return!!t.fromBytes(I,k)}catch{return!1}}let C={getExtendedPublicKey:d,randomSecretKey:x,isValidSecretKey:_,isValidPublicKey:O,toMontgomery(I){let{y:k}=t.fromBytes(I),M=v.publicKey,X=M===32;if(!X&&M!==57)throw new Error("only defined for 25519 and 448");let re=X?i.div(Nn+k,Nn-k):i.div(k-Nn,k+Nn);return i.toBytes(re)},toMontgomerySecret(I){let k=v.secretKey;Bb(I,k);let M=e(I.subarray(0,k));return c(M).subarray(0,k)},randomPrivateKey:x,precompute(I=8,k=t.BASE){return k.precompute(I,!1)}};return Object.freeze({keygen:A,getPublicKey:p,sign:m,verify:w,utils:C,Point:t,lengths:v})}function XCe(t){let e={a:t.a,d:t.d,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},r=t.Fp,n=al(e.n,t.nBitLength,!0),o={Fp:r,Fn:n,uvRatio:t.uvRatio},i={randomBytes:t.randomBytes,adjustScalarBytes:t.adjustScalarBytes,domain:t.domain,prehash:t.prehash,mapToCurve:t.mapToCurve};return{CURVE:e,curveOpts:o,hash:t.hash,eddsaOpts:i}}function ZCe(t,e){let r=e.Point;return Object.assign({},e,{ExtendedPoint:r,CURVE:t,nBitLength:r.Fn.BITS,nByteLength:r.Fn.BYTES})}function Pee(t){let{CURVE:e,curveOpts:r,hash:n,eddsaOpts:o}=XCe(t),i=WCe(e,r),s=YCe(i,n,o);return ZCe(t,s)}var eRe=BigInt(1),Lee=BigInt(2),aTt=BigInt(3),tRe=BigInt(5),rRe=BigInt(8),gU=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),Uee={p:gU,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:rRe,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function nRe(t){let e=BigInt(10),r=BigInt(20),n=BigInt(40),o=BigInt(80),i=gU,a=t*t%i*t%i,c=Ws(a,Lee,i)*a%i,u=Ws(c,eRe,i)*t%i,l=Ws(u,tRe,i)*u%i,f=Ws(l,e,i)*l%i,d=Ws(f,r,i)*f%i,p=Ws(d,n,i)*d%i,h=Ws(p,o,i)*p%i,m=Ws(h,o,i)*p%i,g=Ws(m,e,i)*l%i;return{pow_p_5_8:Ws(g,Lee,i)*t%i,b2:a}}function oRe(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}var Fee=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function iRe(t,e){let r=gU,n=an(e*e*e,r),o=an(n*n*e,r),i=nRe(t*o).pow_p_5_8,s=an(t*n*i,r),a=an(e*s*s,r),c=s,u=an(s*Fee,r),l=a===t,f=a===an(-t,r),d=a===an(-t*Fee,r);return l&&(s=c),(f||d)&&(s=u),xee(s,r)&&(s=an(-s,r)),{isValid:l||f,value:s}}var sRe=al(Uee.p,{isLE:!0});var aRe=S(b({},Uee),{Fp:sRe,hash:uee,adjustScalarBytes:oRe,uvRatio:iRe}),ZS=Pee(aRe);function Bee(t){return ZS.utils.toMontgomerySecret(hs("pub",t))}var zee=Rr($ee(),1);function cRe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var uRe="base64pad";function Vee(t){return JSON.parse((0,zee.default)(t))}function lRe(t){let e=new Uint8Array(t.length+2);return e[0]=237,e[1]=1,e.set(t,2),`did:key:z${gt(e,"base58btc")}`}function jee(t){let[e,r,n]=t.split(".");return{payload:r,signatures:[{protected:e,signature:n}]}}var Gee=(o,i,s,...a)=>E(null,[o,i,s,...a],function*(t,e,r,n={}){let c=`${e}#${e.split(":")[2]}`,u=sZ(r),l=Vee(Object.assign(n,{kid:c,alg:"EdDSA"}));return uZ(typeof t=="string"?t:Vee(t),u,l)}),fRe={did_authenticate:(n,o)=>E(null,[n,o],function*({did:t,secretKey:e},r){let i=yield Gee({did:t,aud:r.aud,nonce:r.nonce,paths:r.paths,exp:Math.floor(Date.now()/1e3)+600},t,e);return jee(i)}),did_createJWS:(n,o)=>E(null,[n,o],function*({did:t,secretKey:e},r){if(r.did.split("#")[0]!==t)throw new Ja(4100,`Unknown DID: ${t}`);let s=yield Gee(r.payload,t,e,r.protected);return{jws:jee(s)}}),did_decryptJWE:(r,n)=>E(null,[r,n],function*({secretKey:t},e){let o=Bee(t.subarray(0,32)),i=mZ(o);try{let s=yield fZ(e.jwe,i);return{cleartext:gt(s,uRe)}}catch(s){throw new Ja(-32e3,s.message)}})},eN=class{get isDidProvider(){return!0}send(e){return E(this,null,function*(){return yield this._handle(e)})}constructor(e){cRe(this,"_handle",void 0);let r=ZS.getPublicKey(e),n=As([e,ZS.getPublicKey(e)]),o=lRe(r),i=NZ(fRe);this._handle=s=>E(this,null,function*(){return yield i({did:o,secretKey:n},s)})}};var AU=Rr(xy(),1);var wU={};vt(wU,{keyToDidDoc:()=>dRe});function dRe(t,e){let r=`did:key:${e}`,n=`${r}#${e}`;return{id:r,verificationMethod:[{id:n,type:"Secp256k1VerificationKey2018",controller:r,publicKeyBase58:gt(t,"base58btc")}],authentication:[n],assertionMethod:[n],capabilityDelegation:[n],capabilityInvocation:[n]}}var bU={};vt(bU,{keyToDidDoc:()=>hRe});function pRe(t){let e=new Uint8Array(t.length+2);return e[0]=236,e[1]=1,e.set(t,2),`z${gt(e,"base58btc")}`}function hRe(t,e){let r=`did:key:${e}`,n=`${r}#${e}`,o=fX(t),i=`${r}#${pRe(o)}`;return{id:r,verificationMethod:[{id:n,type:"Ed25519VerificationKey2018",controller:r,publicKeyBase58:gt(t,"base58btc")}],authentication:[n],assertionMethod:[n],capabilityDelegation:[n],capabilityInvocation:[n],keyAgreement:[{id:i,type:"X25519KeyAgreementKey2019",controller:r,publicKeyBase58:gt(o,"base58btc")}]}}var EU={};vt(EU,{keyToDidDoc:()=>mRe});function mRe(t,e){let r=`did:key:${e}`,n=`${r}#${e}`,o=Um.ProjectivePoint.fromHex(yRe(t));return{id:r,verificationMethod:[{id:n,type:"JsonWebKey2020",controller:r,publicKeyJwk:{kty:"EC",crv:"P-256",x:gt(Ya(o.x),"base64url"),y:gt(Ya(o.y),"base64url")}}],authentication:[n],assertionMethod:[n],capabilityDelegation:[n],capabilityInvocation:[n]}}function yRe(t){return t.length===64?As([new Uint8Array([4]),t]):t}var vU={};vt(vU,{keyToDidDoc:()=>ERe});var gRe=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),qee=Hc(gRe),wRe=qee.create(BigInt("-3")),bRe=BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Qee=cd({a:wRe,b:bRe,Fp:qee,n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f"),h:BigInt(1),lowS:!1},wB);function ERe(t,e){let r=`did:key:${e}`,n=`${r}#${e}`,o=Qee.ProjectivePoint.fromHex(vRe(t));return{id:r,verificationMethod:[{id:n,type:"JsonWebKey2020",controller:r,publicKeyJwk:{kty:"EC",crv:"P-384",x:gt(Ya(o.x),"base64url"),y:gt(Ya(o.y),"base64url")}}],authentication:[n],assertionMethod:[n],capabilityDelegation:[n],capabilityInvocation:[n]}}function vRe(t){return t.length===96?As([new Uint8Array([4]),t]):t}var xU={};vt(xU,{keyToDidDoc:()=>xRe});var TRe=BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),TU=Hc(TRe),Gm={a:TU.create(BigInt("-3")),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Fp:TU,n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650"),h:BigInt(1)},Jee=cd({a:Gm.a,b:Gm.b,Fp:TU,n:Gm.n,Gx:Gm.Gx,Gy:Gm.Gy,h:Gm.h,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},ml);function xRe(t,e){let r=`did:key:${e}`,n=`${r}#${e}`,o=Jee.ProjectivePoint.fromHex(t);return{id:r,verificationMethod:[{id:n,type:"JsonWebKey2020",controller:r,publicKeyJwk:{kty:"EC",crv:"P-521",x:gt(Ya(o.x),"base64url"),y:gt(Ya(o.y),"base64url")}}],authentication:[n],assertionMethod:[n],capabilityDelegation:[n],capabilityInvocation:[n]}}var ARe="application/did+ld+json",Hee="application/did+json",IRe={231:wU,237:bU,4608:EU,4609:vU,4610:xU};function Kee(){return{key:(t,e,r,n)=>E(null,null,function*(){let o=n.accept||Hee,i={didResolutionMetadata:{contentType:o},didDocument:null,didDocumentMetadata:{}};try{let s=ki.decode(e.id),a=AU.default.decode(s),c=s.slice(AU.default.decode.bytes),u=yield IRe[a].keyToDidDoc(c,e.id);o===ARe?(u["@context"]="https://w3id.org/did/v1",i.didDocument=u):o===Hee?i.didDocument=u:(delete i.didResolutionMetadata.contentType,i.didResolutionMetadata.error="representationNotSupported")}catch(s){i.didResolutionMetadata.error="invalidDid",i.didResolutionMetadata.message=s.toString()}return i})}}var Wee={production:!0,ceramicNodeUrl:"http://localhost:7007",enablePayments:!1};var Yee={models:{VaultEntry:{interface:!1,implements:[],id:"kjzl6hvfrbw6c9y6ghjqmz057oyi7zy2npym9evuewi98l7e1cx6lhurhjxugsf",accountRelation:{type:"list"}},VaultEntryIndex:{interface:!1,implements:[],id:"kjzl6hvfrbw6c8zc70gkb88u94463dj4ybskw6ke19jb09m3woku4fx10whvq18",accountRelation:{type:"list"}}},objects:{VaultEntry:{iv:{type:"string",required:!0,immutable:!1},entryId:{type:"string",required:!0,immutable:!1},category:{type:"string",required:!1,immutable:!1},favorite:{type:"boolean",required:!1,immutable:!1},itemType:{type:"string",required:!0,immutable:!1},createdAt:{type:"datetime",required:!0,immutable:!1},updatedAt:{type:"datetime",required:!0,immutable:!1},serviceName:{type:"string",required:!0,immutable:!1},encryptedData:{type:"string",required:!0,immutable:!1}},VaultEntryIndex:{entry:{type:"streamid",required:!0,immutable:!1},itemType:{type:"string",required:!0,immutable:!1},updatedAt:{type:"datetime",required:!0,immutable:!1},serviceName:{type:"string",required:!0,immutable:!1}}},enums:{},accountData:{vaultEntryIndexList:{type:"connection",name:"VaultEntryIndex"},vaultEntryList:{type:"connection",name:"VaultEntry"}}};var Xee=class t{compose=null;currentDID=null;CERAMIC_URL=Wee.ceramicNodeUrl;sessionState=Qb({isAuthenticated:!1,did:null,walletAddress:null,expiresAt:null});isAuthenticated=rN(()=>this.sessionState().isAuthenticated);currentDid=rN(()=>this.sessionState().did);constructor(){this.initializeClient()}initializeClient(){try{this.compose=new fb({ceramic:this.CERAMIC_URL,definition:Yee})}catch(e){console.error("Failed to initialize ComposeDB client:",e)}}authenticate(e){return E(this,null,function*(){if(!this.compose)throw new Error("ComposeDB client not initialized");try{let r=yield e.request({method:"eth_requestAccounts"});if(!r||r.length===0)throw new Error("No accounts found");let n=r[0],o=`CryptoPass DID Seed

This signature is used to create your decentralized identity for Ceramic.
Wallet: ${n}`,i=yield e.request({method:"personal_sign",params:[o,n]}),s=`Sign this message to authenticate with CryptoPass and derive your encryption key.

NOTE: This signature is used to encrypt/decrypt your passwords. Always use the same wallet address to access your data.

Wallet: ${n}`,a=yield e.request({method:"personal_sign",params:[s,n]}),u=new TextEncoder().encode(i),l=yield crypto.subtle.digest("SHA-256",u),f=new Uint8Array(l),d=new eN(f),p=new GS({provider:d,resolver:Kee()});return yield p.authenticate(),this.compose.setDID(p),this.currentDID=p,this.sessionState.set({isAuthenticated:!0,did:p.id,walletAddress:n,expiresAt:null}),a}catch(r){throw this.currentDID=null,r.code===4001?new Error("User rejected authentication"):r}})}isSessionValid(){return this.currentDID!==null&&this.currentDID.authenticated}getCurrentDID(){return this.currentDID?.id||null}disconnect(){return E(this,null,function*(){this.currentDID=null,this.sessionState.set({isAuthenticated:!1,did:null,walletAddress:null,expiresAt:null})})}getVaultEntries(){return E(this,null,function*(){if(!this.compose||!this.isSessionValid())throw new Error("Not authenticated");let r=yield this.compose.executeQuery(`
      query GetVaultEntries {
        vaultEntryIndex(first: 1000) {
          edges {
            node {
              id
              entryId
              itemType
              serviceName
              encryptedData
              iv
              category
              favorite
              createdAt
              updatedAt
            }
          }
        }
      }
    `);if(r.errors)throw new Error("Failed to fetch vault entries");return(r.data?.vaultEntryIndex?.edges||[]).map(o=>({id:o.node.entryId,encryptedData:o.node.encryptedData,iv:o.node.iv,type:o.node.itemType,createdAt:new Date(o.node.createdAt).getTime(),updatedAt:new Date(o.node.updatedAt).getTime(),streamId:o.node.id,category:o.node.category,favorite:o.node.favorite,serviceName:o.node.serviceName}))})}addVaultEntry(e){return E(this,null,function*(){if(!this.compose||!this.isSessionValid())throw new Error("Not authenticated");if(!this.currentDID?.authenticated)throw new Error("DID not properly initialized. Please try logging in again.");let n=yield this.compose.executeQuery(`
      mutation CreateVaultEntry($input: CreateVaultEntryInput!) {
        createVaultEntry(input: $input) {
          document {
            id
            entryId
          }
        }
      }
    `,{input:{content:{entryId:e.entryId,itemType:e.itemType,serviceName:e.serviceName,encryptedData:e.encryptedData,iv:e.iv,category:e.category||null,favorite:e.favorite||!1,createdAt:e.createdAt,updatedAt:e.updatedAt}}});if(n.errors)throw new Error("Failed to create vault entry");return n.data?.createVaultEntry?.document?.id})}updateVaultEntry(e,r){return E(this,null,function*(){if(!this.compose||!this.isSessionValid())throw new Error("Not authenticated");if((yield this.compose.executeQuery(`
      mutation UpdateVaultEntry($input: UpdateVaultEntryInput!) {
        updateVaultEntry(input: $input) {
          document {
            id
            updatedAt
          }
        }
      }
    `,{input:{id:e,content:S(b({},r),{updatedAt:new Date().toISOString()})}})).errors)throw new Error("Failed to update vault entry")})}deleteVaultEntry(e){return E(this,null,function*(){if(!this.compose||!this.isSessionValid())throw new Error("Not authenticated");try{let n=yield this.compose.executeQuery(`
        mutation UpdateVaultEntry($input: UpdateVaultEntryInput!) {
          updateVaultEntry(input: $input) {
            document {
              id
              serviceName
            }
          }
        }
      `,{input:{id:e,content:{encryptedData:"DELETED_ENTRY",iv:"DELETED_IV",serviceName:"[DELETED]",updatedAt:new Date().toISOString()}}});if(n.errors)throw console.error("Ceramic delete errors:",n.errors),new Error(`Failed to delete vault entry: ${n.errors.map(o=>o.message).join(", ")}`)}catch(r){throw console.error("Ceramic delete error:",r),r}})}searchVaultEntries(e){return E(this,null,function*(){if(!this.compose||!this.isSessionValid())throw new Error("Not authenticated");let n=yield this.compose.executeQuery(`
      query SearchVaultEntries($serviceName: String!) {
        vaultEntryIndex(
          first: 100
          filters: {
            where: {
              serviceName: { contains: $serviceName }
            }
          }
        ) {
          edges {
            node {
              id
              entryId
              itemType
              serviceName
              encryptedData
              iv
              category
              favorite
              createdAt
              updatedAt
            }
          }
        }
      }
    `,{serviceName:e});if(n.errors)throw console.error("GraphQL errors:",n.errors),new Error("Failed to search vault entries");return(n.data?.vaultEntryIndex?.edges||[]).map(i=>({id:i.node.entryId,encryptedData:i.node.encryptedData,iv:i.node.iv,type:i.node.itemType,createdAt:new Date(i.node.createdAt).getTime(),updatedAt:new Date(i.node.updatedAt).getTime(),streamId:i.node.id,category:i.node.category,favorite:i.node.favorite,serviceName:i.node.serviceName}))})}syncAllEntries(e){return E(this,null,function*(){if(!this.compose||!this.isSessionValid())throw new Error("Not authenticated");for(let r of e)try{yield this.addVaultEntry({entryId:r.id,itemType:r.type||"login",serviceName:r.serviceName||"Imported Entry",encryptedData:r.encryptedData,iv:r.iv,category:r.category,favorite:r.favorite,createdAt:new Date(r.createdAt).toISOString(),updatedAt:new Date(r.updatedAt).toISOString()})}catch(n){console.error(`Failed to sync entry ${r.id}:`,n)}})}static \u0275fac=function(r){return new(r||t)};static \u0275prov=od({token:t,factory:t.\u0275fac,providedIn:"root"})};export{hB as a,Ud as b,h8 as c,y8 as d,Wee as e,Xee as f};
