import{c as Un}from"./chunk-4HYFG62F.js";import{a as Ie}from"./chunk-BTOZNVED.js";import{a as Bn,b as Gn,c as Ct,d as wt,e as nn}from"./chunk-QSFXUVN7.js";import{$a as vt,Da as W,Ea as _t,Fa as U,Ga as Y,Ia as Rn,Ka as Ln,L as mt,La as g,Ma as _,N as we,Na as ye,O as le,Oa as Me,P as ht,Pa as F,Qa as a,R as xe,Ra as s,S as Tn,Sa as h,T,Ta as V,Ua as k,Va as G,Wa as S,Xa as bt,Y as C,Ya as f,Z as w,Za as ne,_a as p,aa as Nn,ab as K,bb as ie,cb as d,db as x,ea as M,eb as q,f as An,fb as ce,ga as ft,gb as Je,ha as gt,hb as Xe,i as Dn,ia as Ye,ib as Ze,jb as Pe,mb as de,n as In,nb as oe,ob as $,pa as Ae,pb as Se,qa as c,qb as en,s as kn,sb as Hn,tb as tn,ua as De,wa as Fn,xb as jn,ya as Ke,yb as J,za as P}from"./chunk-XQ36P3UB.js";import"./chunk-IDCDGEFH.js";import"./chunk-BXSD24PQ.js";import"./chunk-TF4TY5JN.js";import{a as E,b as I,k as N}from"./chunk-KYPE3LET.js";var Qn=(()=>{class n{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,i){this._renderer=e,this._elementRef=i}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(i){return new(i||n)(P(Ke),P(Ye))};static \u0275dir=U({type:n})}return n})(),cn=(()=>{class n extends Qn{static \u0275fac=(()=>{let e;return function(o){return(e||(e=gt(n)))(o||n)}})();static \u0275dir=U({type:n,features:[Y]})}return n})(),rt=new xe("");var Xi={provide:rt,useExisting:we(()=>me),multi:!0};function Zi(){let n=tn()?tn().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var Qi=new xe(""),me=(()=>{class n extends Qn{_compositionMode;_composing=!1;constructor(e,i,o){super(e,i),this._compositionMode=o,this._compositionMode==null&&(this._compositionMode=!Zi())}writeValue(e){let i=e??"";this.setProperty("value",i)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(i){return new(i||n)(P(Ke),P(Ye),P(Qi,8))};static \u0275dir=U({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&f("input",function(l){return o._handleInput(l.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(l){return o._compositionEnd(l.target.value)})},standalone:!1,features:[Pe([Xi]),Y]})}return n})();function dn(n){return n==null||un(n)===0}function un(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var pn=new xe(""),mn=new xe(""),eo=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,R=class{static min(t){return to(t)}static max(t){return no(t)}static required(t){return io(t)}static requiredTrue(t){return oo(t)}static email(t){return ro(t)}static minLength(t){return so(t)}static maxLength(t){return ao(t)}static pattern(t){return lo(t)}static nullValidator(t){return ei()}static compose(t){return si(t)}static composeAsync(t){return li(t)}};function to(n){return t=>{if(t.value==null||n==null)return null;let e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function no(n){return t=>{if(t.value==null||n==null)return null;let e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}function io(n){return dn(n.value)?{required:!0}:null}function oo(n){return n.value===!0?null:{required:!0}}function ro(n){return dn(n.value)||eo.test(n.value)?null:{email:!0}}function so(n){return t=>{let e=t.value?.length??un(t.value);return e===null||e===0?null:e<n?{minlength:{requiredLength:n,actualLength:e}}:null}}function ao(n){return t=>{let e=t.value?.length??un(t.value);return e!==null&&e>n?{maxlength:{requiredLength:n,actualLength:e}}:null}}function lo(n){if(!n)return ei;let t,e;return typeof n=="string"?(e="",n.charAt(0)!=="^"&&(e+="^"),e+=n,n.charAt(n.length-1)!=="$"&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(dn(i.value))return null;let o=i.value;return t.test(o)?null:{pattern:{requiredPattern:e,actualValue:o}}}}function ei(n){return null}function ti(n){return n!=null}function ni(n){return Rn(n)?Dn(n):n}function ii(n){let t={};return n.forEach(e=>{t=e!=null?E(E({},t),e):t}),Object.keys(t).length===0?null:t}function oi(n,t){return t.map(e=>e(n))}function co(n){return!n.validate}function ri(n){return n.map(t=>co(t)?t:e=>t.validate(e))}function si(n){if(!n)return null;let t=n.filter(ti);return t.length==0?null:function(e){return ii(oi(e,t))}}function ai(n){return n!=null?si(ri(n)):null}function li(n){if(!n)return null;let t=n.filter(ti);return t.length==0?null:function(e){let i=oi(e,t).map(ni);return kn(i).pipe(In(ii))}}function ci(n){return n!=null?li(ri(n)):null}function qn(n,t){return n===null?[t]:Array.isArray(n)?[...n,t]:[n,t]}function di(n){return n._rawValidators}function ui(n){return n._rawAsyncValidators}function on(n){return n?Array.isArray(n)?n:[n]:[]}function yt(n,t){return Array.isArray(n)?n.includes(t):n===t}function $n(n,t){let e=on(t);return on(n).forEach(o=>{yt(e,o)||e.push(o)}),e}function zn(n,t){return on(t).filter(e=>!yt(n,e))}var Mt=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=ai(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=ci(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},Oe=class extends Mt{name;get formDirective(){return null}get path(){return null}},Ve=class extends Mt{_parent=null;name=null;valueAccessor=null},Pt=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},uo={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},ga=I(E({},uo),{"[class.ng-submitted]":"isSubmitted"}),Fe=(()=>{class n extends Pt{constructor(e){super(e)}static \u0275fac=function(i){return new(i||n)(P(Ve,2))};static \u0275dir=U({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&K("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},standalone:!1,features:[Y]})}return n})(),pi=(()=>{class n extends Pt{constructor(e){super(e)}static \u0275fac=function(i){return new(i||n)(P(Oe,10))};static \u0275dir=U({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&K("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},standalone:!1,features:[Y]})}return n})();var Qe="VALID",xt="INVALID",ke="PENDING",et="DISABLED",ue=class{},St=class extends ue{value;source;constructor(t,e){super(),this.value=t,this.source=e}},tt=class extends ue{pristine;source;constructor(t,e){super(),this.pristine=t,this.source=e}},nt=class extends ue{touched;source;constructor(t,e){super(),this.touched=t,this.source=e}},Te=class extends ue{status;source;constructor(t,e){super(),this.status=t,this.source=e}},rn=class extends ue{source;constructor(t){super(),this.source=t}},ot=class extends ue{source;constructor(t){super(),this.source=t}};function hn(n){return(At(n)?n.validators:n)||null}function po(n){return Array.isArray(n)?ai(n):n||null}function fn(n,t){return(At(t)?t.asyncValidators:n)||null}function mo(n){return Array.isArray(n)?ci(n):n||null}function At(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function mi(n,t,e){let i=n.controls;if(!(t?Object.keys(i):i).length)throw new mt(1e3,"");if(!i[e])throw new mt(1001,"")}function hi(n,t,e){n._forEachChild((i,o)=>{if(e[o]===void 0)throw new mt(1002,"")})}var Ne=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,e){this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return de(this.statusReactive)}set status(t){de(()=>this.statusReactive.set(t))}_status=oe(()=>this.statusReactive());statusReactive=M(void 0);get valid(){return this.status===Qe}get invalid(){return this.status===xt}get pending(){return this.status==ke}get disabled(){return this.status===et}get enabled(){return this.status!==et}errors;get pristine(){return de(this.pristineReactive)}set pristine(t){de(()=>this.pristineReactive.set(t))}_pristine=oe(()=>this.pristineReactive());pristineReactive=M(!0);get dirty(){return!this.pristine}get touched(){return de(this.touchedReactive)}set touched(t){de(()=>this.touchedReactive.set(t))}_touched=oe(()=>this.touchedReactive());touchedReactive=M(!1);get untouched(){return!this.touched}_events=new An;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators($n(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators($n(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(zn(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(zn(t,this._rawAsyncValidators))}hasValidator(t){return yt(this._rawValidators,t)}hasAsyncValidator(t){return yt(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(I(E({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new nt(!0,i))}markAllAsDirty(t={}){this.markAsDirty({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsDirty(t))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=t.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:i})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,i),e&&t.emitEvent!==!1&&this._events.next(new nt(!1,i))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(I(E({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new tt(!1,i))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=t.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,i),e&&t.emitEvent!==!1&&this._events.next(new tt(!0,i))}markAsPending(t={}){this.status=ke;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Te(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(I(E({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=et,this.errors=null,this._forEachChild(o=>{o.disable(I(E({},t),{onlySelf:!0}))}),this._updateValue();let i=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new St(this.value,i)),this._events.next(new Te(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(I(E({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(o=>o(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=Qe,this._forEachChild(i=>{i.enable(I(E({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(I(E({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Qe||this.status===ke)&&this._runAsyncValidator(i,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new St(this.value,e)),this._events.next(new Te(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(I(E({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?et:Qe}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=ke,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1,shouldHaveEmitted:t!==!1};let i=ni(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((i,o)=>i&&i._find(o),this)}getError(t,e){let i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,i){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||i)&&this._events.next(new Te(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,i)}_initObservables(){this.valueChanges=new De,this.statusChanges=new De}_calculateStatus(){return this._allControlsDisabled()?et:this.errors?xt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ke)?ke:this._anyControlsHaveStatus(xt)?xt:Qe}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let i=!this._anyControlsDirty(),o=this.pristine!==i;this.pristine=i,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),o&&this._events.next(new tt(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new nt(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){At(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=po(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=mo(this._rawAsyncValidators)}},Ot=class extends Ne{constructor(t,e,i){super(hn(e),fn(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){hi(this,!0,t),Object.keys(t).forEach(i=>{mi(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(i=>{let o=this.controls[i];o&&o.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,o)=>{i.reset(t?t[o]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e),e?.emitEvent!==!1&&this._events.next(new ot(this))}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>i._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,i,o)=>((i.enabled||this.disabled)&&(e[o]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((o,r)=>{i=e(i,o,r)}),i}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var sn=class extends Ot{};var Dt=new xe("",{providedIn:"root",factory:()=>It}),It="always";function fi(n,t){return[...t.path,n]}function an(n,t,e=It){gn(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(n.disabled),fo(n,t),_o(n,t),go(n,t),ho(n,t)}function Wn(n,t,e=!0){let i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),Et(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Vt(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function ho(n,t){if(t.valueAccessor.setDisabledState){let e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}function gn(n,t){let e=di(n);t.validator!==null?n.setValidators(qn(e,t.validator)):typeof e=="function"&&n.setValidators([e]);let i=ui(n);t.asyncValidator!==null?n.setAsyncValidators(qn(i,t.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let o=()=>n.updateValueAndValidity();Vt(t._rawValidators,o),Vt(t._rawAsyncValidators,o)}function Et(n,t){let e=!1;if(n!==null){if(t.validator!==null){let o=di(n);if(Array.isArray(o)&&o.length>0){let r=o.filter(l=>l!==t.validator);r.length!==o.length&&(e=!0,n.setValidators(r))}}if(t.asyncValidator!==null){let o=ui(n);if(Array.isArray(o)&&o.length>0){let r=o.filter(l=>l!==t.asyncValidator);r.length!==o.length&&(e=!0,n.setAsyncValidators(r))}}}let i=()=>{};return Vt(t._rawValidators,i),Vt(t._rawAsyncValidators,i),e}function fo(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&gi(n,t)})}function go(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&gi(n,t),n.updateOn!=="submit"&&n.markAsTouched()})}function gi(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function _o(n,t){let e=(i,o)=>{t.valueAccessor.writeValue(i),o&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}function bo(n,t){n==null,gn(n,t)}function vo(n,t){return Et(n,t)}function _i(n,t){if(!n.hasOwnProperty("model"))return!1;let e=n.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function Co(n){return Object.getPrototypeOf(n.constructor)===cn}function wo(n,t){n._syncPendingControls(),t.forEach(e=>{let i=e.control;i.updateOn==="submit"&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function bi(n,t){if(!t)return null;Array.isArray(t);let e,i,o;return t.forEach(r=>{r.constructor===me?e=r:Co(r)?i=r:o=r}),o||i||e||null}function xo(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function Yn(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function Kn(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var it=class extends Ne{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,e,i){super(hn(e),fn(i,e)),this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),At(e)&&(e.nonNullable||e.initialValueIsDefault)&&(Kn(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1,e?.emitEvent!==!1&&this._events.next(new ot(this))}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Yn(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Yn(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){Kn(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var yo=n=>n instanceof it;var Mo={provide:Ve,useExisting:we(()=>st)},Jn=Promise.resolve(),st=(()=>{class n extends Ve{_changeDetectorRef;callSetDisabledState;control=new it;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new De;constructor(e,i,o,r,l,u){super(),this._changeDetectorRef=l,this.callSetDisabledState=u,this._parent=e,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=bi(this,r)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),_i(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){an(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){Jn.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let i=e.isDisabled.currentValue,o=i!==0&&Hn(i);Jn.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?fi(e,this._parent):[e]}static \u0275fac=function(i){return new(i||n)(P(Oe,9),P(pn,10),P(mn,10),P(rt,10),P(en,8),P(Dt,8))};static \u0275dir=U({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Pe([Mo]),Y,ft]})}return n})();var vi=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=U({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var Ci=new xe("");var Po={provide:Oe,useExisting:we(()=>_n)},_n=(()=>{class n extends Oe{callSetDisabledState;get submitted(){return de(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}_submitted=oe(()=>this._submittedReactive());_submittedReactive=M(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new De;constructor(e,i,o){super(),this.callSetDisabledState=o,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Et(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let i=this.form.get(e.path);return an(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){Wn(e.control||null,e,!1),xo(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this._submittedReactive.set(!0),wo(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new rn(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0,i={}){this.form.reset(e,i),this._submittedReactive.set(!1)}_updateDomValue(){this.directives.forEach(e=>{let i=e.control,o=this.form.get(e.path);i!==o&&(Wn(i||null,e),yo(o)&&(an(o,e,this.callSetDisabledState),e.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let i=this.form.get(e.path);bo(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let i=this.form.get(e.path);i&&vo(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){gn(this.form,this),this._oldForm&&Et(this._oldForm,this)}static \u0275fac=function(i){return new(i||n)(P(pn,10),P(mn,10),P(Dt,8))};static \u0275dir=U({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,o){i&1&&f("submit",function(l){return o.onSubmit(l)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Pe([Po]),Y,ft]})}return n})();var So={provide:Ve,useExisting:we(()=>bn)},bn=(()=>{class n extends Ve{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(e){}model;update=new De;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,i,o,r,l){super(),this._ngModelWarningConfig=l,this._parent=e,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=bi(this,r)}ngOnChanges(e){this._added||this._setUpControl(),_i(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return fi(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(i){return new(i||n)(P(Oe,13),P(pn,10),P(mn,10),P(rt,10),P(Ci,8))};static \u0275dir=U({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Pe([So]),Y,ft]})}return n})();var Oo={provide:rt,useExisting:we(()=>kt),multi:!0};function wi(n,t){return n==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function Vo(n){return n.split(":")[0]}var kt=(()=>{class n extends cn{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;appRefInjector=T(Ln).injector;destroyRef=T(Nn);cdr=T(en);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,Fn({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(e){this.cdr.markForCheck(),this.value=e;let i=this._getOptionId(e),o=wi(i,e);this.setProperty("value",o)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){let i=Vo(e);return this._optionMap.has(i)?this._optionMap.get(i):e}static \u0275fac=(()=>{let e;return function(o){return(e||(e=gt(n)))(o||n)}})();static \u0275dir=U({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,o){i&1&&f("change",function(l){return o.onChange(l.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Pe([Oo]),Y]})}return n})(),xi=(()=>{class n{_element;_renderer;_select;id;constructor(e,i,o){this._element=e,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(wi(this.id,e)),this._select._writeValueAfterRender())}set value(e){this._setElementValue(e),this._select&&this._select._writeValueAfterRender()}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(i){return new(i||n)(P(Ye),P(Ke),P(kt,9))};static \u0275dir=U({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),Eo={provide:rt,useExisting:we(()=>yi),multi:!0};function Xn(n,t){return n==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function Ao(n){return n.split(":")[0]}var yi=(()=>{class n extends cn{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let i;if(Array.isArray(e)){let o=e.map(r=>this._getOptionId(r));i=(r,l)=>{r._setSelected(o.indexOf(l.toString())>-1)}}else i=(o,r)=>{o._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{let o=[],r=i.selectedOptions;if(r!==void 0){let l=r;for(let u=0;u<l.length;u++){let m=l[u],b=this._getOptionValue(m.value);o.push(b)}}else{let l=i.options;for(let u=0;u<l.length;u++){let m=l[u];if(m.selected){let b=this._getOptionValue(m.value);o.push(b)}}}this.value=o,e(o)}}_registerOption(e){let i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){let i=Ao(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}static \u0275fac=(()=>{let e;return function(o){return(e||(e=gt(n)))(o||n)}})();static \u0275dir=U({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,o){i&1&&f("change",function(l){return o.onChange(l.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Pe([Eo]),Y]})}return n})(),Mi=(()=>{class n{_element;_renderer;_select;id;_value;constructor(e,i,o){this._element=e,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(Xn(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(Xn(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(i){return new(i||n)(P(Ye),P(Ke),P(yi,9))};static \u0275dir=U({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();var Pi=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=_t({type:n});static \u0275inj=ht({})}return n})(),ln=class extends Ne{constructor(t,e,i){super(hn(e),fn(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){Array.isArray(t)?t.forEach(i=>{this.controls.push(i),this._registerControl(i)}):(this.controls.push(t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let o=this._adjustIndex(t);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),e&&(this.controls.splice(o,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){hi(this,!1,t),t.forEach((i,o)=>{mi(this,!1,o),this.at(o).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(t.forEach((i,o)=>{this.at(o)&&this.at(o).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,o)=>{i.reset(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e),e?.emitEvent!==!1&&this._events.next(new ot(this))}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>i._syncPendingControls()?!0:e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};function Zn(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var Si=(()=>{class n{useNonNullable=!1;get nonNullable(){let e=new n;return e.useNonNullable=!0,e}group(e,i=null){let o=this._reduceControls(e),r={};return Zn(i)?r=i:i!==null&&(r.validators=i.validator,r.asyncValidators=i.asyncValidator),new Ot(o,r)}record(e,i=null){let o=this._reduceControls(e);return new sn(o,i)}control(e,i,o){let r={};return this.useNonNullable?(Zn(i)?r=i:(r.validators=i,r.asyncValidators=o),new it(e,I(E({},r),{nonNullable:!0}))):new it(e,i,o)}array(e,i,o){let r=e.map(l=>this._createControl(l));return new ln(r,i,o)}_reduceControls(e){let i={};return Object.keys(e).forEach(o=>{i[o]=this._createControl(e[o])}),i}_createControl(e){if(e instanceof it)return e;if(e instanceof Ne)return e;if(Array.isArray(e)){let i=e[0],o=e.length>1?e[1]:null,r=e.length>2?e[2]:null;return this.control(i,o,r)}else return this.control(e)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Re=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Dt,useValue:e.callSetDisabledState??It}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=_t({type:n});static \u0275inj=ht({imports:[Pi]})}return n})(),Oi=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Ci,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Dt,useValue:e.callSetDisabledState??It}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=_t({type:n});static \u0275inj=ht({imports:[Pi]})}return n})();var he=class n{constructor(t){this.storageService=t;this.loadNotifications()}notificationsKey="cryptopass_notifications";shareRequestsKey="cryptopass_share_requests";notifications=M([]);unreadCount=oe(()=>this.notifications().filter(t=>!t.read).length);loadNotifications(){try{let t=localStorage.getItem(this.notificationsKey);t&&this.notifications.set(JSON.parse(t))}catch(t){console.error("Error loading notifications:",t)}}saveNotifications(){try{localStorage.setItem(this.notificationsKey,JSON.stringify(this.notifications()))}catch(t){console.error("Error saving notifications:",t)}}addNotification(t){let e=I(E({},t),{id:`notif_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,read:!1,createdAt:Date.now()});this.notifications.update(i=>[e,...i]),this.saveNotifications()}markAsRead(t){this.notifications.update(e=>e.map(i=>i.id===t?I(E({},i),{read:!0}):i)),this.saveNotifications()}markAllAsRead(){this.notifications.update(t=>t.map(e=>I(E({},e),{read:!0}))),this.saveNotifications()}removeNotification(t){this.notifications.update(e=>e.filter(i=>i.id!==t)),this.saveNotifications()}clearAll(){this.notifications.set([]),this.saveNotifications()}saveShareRequest(t){return N(this,null,function*(){try{let e=this.getLocalShareRequests();e[t.id]=t,localStorage.setItem(this.shareRequestsKey,JSON.stringify(e))}catch(e){console.error("Error saving share request:",e)}})}getLocalShareRequests(){try{let t=localStorage.getItem(this.shareRequestsKey);return t?JSON.parse(t):{}}catch(t){return console.error("Error loading share requests:",t),{}}}getShareRequest(t){return this.getLocalShareRequests()[t]||null}updateShareRequestStatus(t,e){let i=this.getLocalShareRequests();i[t]&&(i[t].status=e,localStorage.setItem(this.shareRequestsKey,JSON.stringify(i)))}removeShareRequest(t){let e=this.getLocalShareRequests();delete e[t],localStorage.setItem(this.shareRequestsKey,JSON.stringify(e))}static \u0275fac=function(e){return new(e||n)(Tn(Ie))};static \u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})};var Do=n=>{let t=new ArrayBuffer(8),e=new Uint8Array(t),i=n;for(let o=7;o>=0&&i!==0;o--)e[o]=i&255,i-=e[o],i/=256;return e};function Io(n){return n instanceof Uint8Array||ArrayBuffer.isView(n)&&n.constructor.name==="Uint8Array"}function Rt(n){if(!Number.isSafeInteger(n)||n<0)throw new Error("positive integer expected, got "+n)}function je(n,...t){if(!Io(n))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(n.length))throw new Error("Uint8Array expected of length "+t+", got length="+n.length)}function ko(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Rt(n.outputLen),Rt(n.blockLen)}function Ue(n,t=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(t&&n.finished)throw new Error("Hash#digest() has already been called")}function Li(n,t){je(n);let e=t.outputLen;if(n.length<e)throw new Error("digestInto() expects output buffer of length at least "+e)}function To(n){return new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4))}function Z(...n){for(let t=0;t<n.length;t++)n[t].fill(0)}function Cn(n){return new DataView(n.buffer,n.byteOffset,n.byteLength)}function X(n,t){return n<<32-t|n>>>t}function wn(n,t){return n<<t|n>>>32-t>>>0}var No=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Fo(n){return n<<24&4278190080|n<<8&16711680|n>>>8&65280|n>>>24&255}function Ro(n){for(let t=0;t<n.length;t++)n[t]=Fo(n[t]);return n}var Vi=No?n=>n:Ro;function Lo(n){if(typeof n!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(n))}function Bt(n){return typeof n=="string"&&(n=Lo(n)),je(n),n}var ct=class{};function qe(n){let t=i=>n().update(Bt(i)).digest(),e=n();return t.outputLen=e.outputLen,t.blockLen=e.blockLen,t.create=()=>n(),t}var Lt=class extends ct{update(t){return Ue(this),this.iHash.update(t),this}digestInto(t){Ue(this),je(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){let t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));let{oHash:e,iHash:i,finished:o,destroyed:r,blockLen:l,outputLen:u}=this;return t=t,t.finished=o,t.destroyed=r,t.blockLen=l,t.outputLen=u,t.oHash=e._cloneInto(t.oHash),t.iHash=i._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}constructor(t,e){super(),this.finished=!1,this.destroyed=!1,ko(t);let i=Bt(e);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let o=this.blockLen,r=new Uint8Array(o);r.set(i.length>o?t.create().update(i).digest():i);for(let l=0;l<r.length;l++)r[l]^=54;this.iHash.update(r),this.oHash=t.create();for(let l=0;l<r.length;l++)r[l]^=106;this.oHash.update(r),Z(r)}},xn=(n,t,e)=>new Lt(n,t).update(e).digest();xn.create=(n,t)=>new Lt(n,t);function Ho(n,t,e,i){if(typeof n.setBigUint64=="function")return n.setBigUint64(t,e,i);let o=BigInt(32),r=BigInt(4294967295),l=Number(e>>o&r),u=Number(e&r),m=i?4:0,b=i?0:4;n.setUint32(t+m,l,i),n.setUint32(t+b,u,i)}function Hi(n,t,e){return n&t^~n&e}function ji(n,t,e){return n&t^n&e^t&e}var dt=class extends ct{update(t){Ue(this),t=Bt(t),je(t);let{view:e,buffer:i,blockLen:o}=this,r=t.length;for(let l=0;l<r;){let u=Math.min(o-this.pos,r-l);if(u===o){let m=Cn(t);for(;o<=r-l;l+=o)this.process(m,l);continue}i.set(t.subarray(l,l+u),this.pos),this.pos+=u,l+=u,this.pos===o&&(this.process(e,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Ue(this),Li(t,this),this.finished=!0;let{buffer:e,view:i,blockLen:o,isLE:r}=this,{pos:l}=this;e[l++]=128,Z(this.buffer.subarray(l)),this.padOffset>o-l&&(this.process(i,0),l=0);for(let v=l;v<o;v++)e[v]=0;Ho(i,o-8,BigInt(this.length*8),r),this.process(i,0);let u=Cn(t),m=this.outputLen;if(m%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let b=m/4,y=this.get();if(b>y.length)throw new Error("_sha2: outputLen bigger than state");for(let v=0;v<b;v++)u.setUint32(4*v,y[v],r)}digest(){let{buffer:t,outputLen:e}=this;this.digestInto(t);let i=t.slice(0,e);return this.destroy(),i}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());let{blockLen:e,buffer:i,length:o,finished:r,destroyed:l,pos:u}=this;return t.destroyed=l,t.finished=r,t.length=o,t.pos=u,o%e&&t.buffer.set(i),t}clone(){return this._cloneInto()}constructor(t,e,i,o){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=e,this.padOffset=i,this.isLE=o,this.buffer=new Uint8Array(t),this.view=Cn(this.buffer)}},fe=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ge=Uint32Array.from([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]),L=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),H=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),at=Uint32Array.from([1732584193,4023233417,2562383102,271733878,3285377520]),_e=new Uint32Array(80),yn=class extends dt{get(){let{A:t,B:e,C:i,D:o,E:r}=this;return[t,e,i,o,r]}set(t,e,i,o,r){this.A=t|0,this.B=e|0,this.C=i|0,this.D=o|0,this.E=r|0}process(t,e){for(let m=0;m<16;m++,e+=4)_e[m]=t.getUint32(e,!1);for(let m=16;m<80;m++)_e[m]=wn(_e[m-3]^_e[m-8]^_e[m-14]^_e[m-16],1);let{A:i,B:o,C:r,D:l,E:u}=this;for(let m=0;m<80;m++){let b,y;m<20?(b=Hi(o,r,l),y=1518500249):m<40?(b=o^r^l,y=1859775393):m<60?(b=ji(o,r,l),y=2400959708):(b=o^r^l,y=3395469782);let v=wn(i,5)+b+u+y+_e[m]|0;u=l,l=r,r=wn(o,30),o=i,i=v}i=i+this.A|0,o=o+this.B|0,r=r+this.C|0,l=l+this.D|0,u=u+this.E|0,this.set(i,o,r,l,u)}roundClean(){Z(_e)}destroy(){this.set(0,0,0,0,0),Z(this.buffer)}constructor(){super(64,20,8,!1),this.A=at[0]|0,this.B=at[1]|0,this.C=at[2]|0,this.D=at[3]|0,this.E=at[4]|0}},jo=qe(()=>new yn),Tt=BigInt(2**32-1),Ei=BigInt(32);function Uo(n,t=!1){return t?{h:Number(n&Tt),l:Number(n>>Ei&Tt)}:{h:Number(n>>Ei&Tt)|0,l:Number(n&Tt)|0}}function Ui(n,t=!1){let e=n.length,i=new Uint32Array(e),o=new Uint32Array(e);for(let r=0;r<e;r++){let{h:l,l:u}=Uo(n[r],t);[i[r],o[r]]=[l,u]}return[i,o]}var Ai=(n,t,e)=>n>>>e,Di=(n,t,e)=>n<<32-e|t>>>e,Le=(n,t,e)=>n>>>e|t<<32-e,He=(n,t,e)=>n<<32-e|t>>>e,Nt=(n,t,e)=>n<<64-e|t>>>e-32,Ft=(n,t,e)=>n>>>e-32|t<<64-e,Bo=(n,t,e)=>n<<e|t>>>32-e,Go=(n,t,e)=>t<<e|n>>>32-e,qo=(n,t,e)=>t<<e-32|n>>>64-e,$o=(n,t,e)=>n<<e-32|t>>>64-e;function re(n,t,e,i){let o=(t>>>0)+(i>>>0);return{h:n+e+(o/2**32|0)|0,l:o|0}}var zo=(n,t,e)=>(n>>>0)+(t>>>0)+(e>>>0),Wo=(n,t,e,i)=>t+e+i+(n/2**32|0)|0,Yo=(n,t,e,i)=>(n>>>0)+(t>>>0)+(e>>>0)+(i>>>0),Ko=(n,t,e,i,o)=>t+e+i+o+(n/2**32|0)|0,Jo=(n,t,e,i,o)=>(n>>>0)+(t>>>0)+(e>>>0)+(i>>>0)+(o>>>0),Xo=(n,t,e,i,o,r)=>t+e+i+o+r+(n/2**32|0)|0,Zo=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),be=new Uint32Array(64),Ht=class extends dt{get(){let{A:t,B:e,C:i,D:o,E:r,F:l,G:u,H:m}=this;return[t,e,i,o,r,l,u,m]}set(t,e,i,o,r,l,u,m){this.A=t|0,this.B=e|0,this.C=i|0,this.D=o|0,this.E=r|0,this.F=l|0,this.G=u|0,this.H=m|0}process(t,e){for(let v=0;v<16;v++,e+=4)be[v]=t.getUint32(e,!1);for(let v=16;v<64;v++){let O=be[v-15],A=be[v-2],B=X(O,7)^X(O,18)^O>>>3,j=X(A,17)^X(A,19)^A>>>10;be[v]=j+be[v-7]+B+be[v-16]|0}let{A:i,B:o,C:r,D:l,E:u,F:m,G:b,H:y}=this;for(let v=0;v<64;v++){let O=X(u,6)^X(u,11)^X(u,25),A=y+O+Hi(u,m,b)+Zo[v]+be[v]|0,j=(X(i,2)^X(i,13)^X(i,22))+ji(i,o,r)|0;y=b,b=m,m=u,u=l+A|0,l=r,r=o,o=i,i=A+j|0}i=i+this.A|0,o=o+this.B|0,r=r+this.C|0,l=l+this.D|0,u=u+this.E|0,m=m+this.F|0,b=b+this.G|0,y=y+this.H|0,this.set(i,o,r,l,u,m,b,y)}roundClean(){Z(be)}destroy(){this.set(0,0,0,0,0,0,0,0),Z(this.buffer)}constructor(t=32){super(64,t,8,!1),this.A=fe[0]|0,this.B=fe[1]|0,this.C=fe[2]|0,this.D=fe[3]|0,this.E=fe[4]|0,this.F=fe[5]|0,this.G=fe[6]|0,this.H=fe[7]|0}},Mn=class extends Ht{constructor(){super(28),this.A=ge[0]|0,this.B=ge[1]|0,this.C=ge[2]|0,this.D=ge[3]|0,this.E=ge[4]|0,this.F=ge[5]|0,this.G=ge[6]|0,this.H=ge[7]|0}},Bi=Ui(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))),Qo=Bi[0],er=Bi[1],ve=new Uint32Array(80),Ce=new Uint32Array(80),jt=class extends dt{get(){let{Ah:t,Al:e,Bh:i,Bl:o,Ch:r,Cl:l,Dh:u,Dl:m,Eh:b,El:y,Fh:v,Fl:O,Gh:A,Gl:B,Hh:j,Hl:z}=this;return[t,e,i,o,r,l,u,m,b,y,v,O,A,B,j,z]}set(t,e,i,o,r,l,u,m,b,y,v,O,A,B,j,z){this.Ah=t|0,this.Al=e|0,this.Bh=i|0,this.Bl=o|0,this.Ch=r|0,this.Cl=l|0,this.Dh=u|0,this.Dl=m|0,this.Eh=b|0,this.El=y|0,this.Fh=v|0,this.Fl=O|0,this.Gh=A|0,this.Gl=B|0,this.Hh=j|0,this.Hl=z|0}process(t,e){for(let D=0;D<16;D++,e+=4)ve[D]=t.getUint32(e),Ce[D]=t.getUint32(e+=4);for(let D=16;D<80;D++){let se=ve[D-15]|0,ae=Ce[D-15]|0,Jt=Le(se,ae,1)^Le(se,ae,8)^Ai(se,ae,7),Xt=He(se,ae,1)^He(se,ae,8)^Di(se,ae,7),ee=ve[D-2]|0,te=Ce[D-2]|0,ut=Le(ee,te,19)^Nt(ee,te,61)^Ai(ee,te,6),Zt=He(ee,te,19)^Ft(ee,te,61)^Di(ee,te,6),pt=Yo(Xt,Zt,Ce[D-7],Ce[D-16]),Qt=Ko(pt,Jt,ut,ve[D-7],ve[D-16]);ve[D]=Qt|0,Ce[D]=pt|0}let{Ah:i,Al:o,Bh:r,Bl:l,Ch:u,Cl:m,Dh:b,Dl:y,Eh:v,El:O,Fh:A,Fl:B,Gh:j,Gl:z,Hh:ze,Hl:We}=this;for(let D=0;D<80;D++){let se=Le(v,O,14)^Le(v,O,18)^Nt(v,O,41),ae=He(v,O,14)^He(v,O,18)^Ft(v,O,41),Jt=v&A^~v&j,Xt=O&B^~O&z,ee=Jo(We,ae,Xt,er[D],Ce[D]),te=Xo(ee,ze,se,Jt,Qo[D],ve[D]),ut=ee|0,Zt=Le(i,o,28)^Nt(i,o,34)^Nt(i,o,39),pt=He(i,o,28)^Ft(i,o,34)^Ft(i,o,39),Qt=i&r^i&u^r&u,Ji=o&l^o&m^l&m;ze=j|0,We=z|0,j=A|0,z=B|0,A=v|0,B=O|0,{h:v,l:O}=re(b|0,y|0,te|0,ut|0),b=u|0,y=m|0,u=r|0,m=l|0,r=i|0,l=o|0;let En=zo(ut,pt,Ji);i=Wo(En,te,Zt,Qt),o=En|0}({h:i,l:o}=re(this.Ah|0,this.Al|0,i|0,o|0)),{h:r,l}=re(this.Bh|0,this.Bl|0,r|0,l|0),{h:u,l:m}=re(this.Ch|0,this.Cl|0,u|0,m|0),{h:b,l:y}=re(this.Dh|0,this.Dl|0,b|0,y|0),{h:v,l:O}=re(this.Eh|0,this.El|0,v|0,O|0),{h:A,l:B}=re(this.Fh|0,this.Fl|0,A|0,B|0),{h:j,l:z}=re(this.Gh|0,this.Gl|0,j|0,z|0),{h:ze,l:We}=re(this.Hh|0,this.Hl|0,ze|0,We|0),this.set(i,o,r,l,u,m,b,y,v,O,A,B,j,z,ze,We)}roundClean(){Z(ve,Ce)}destroy(){Z(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}constructor(t=64){super(128,t,16,!1),this.Ah=H[0]|0,this.Al=H[1]|0,this.Bh=H[2]|0,this.Bl=H[3]|0,this.Ch=H[4]|0,this.Cl=H[5]|0,this.Dh=H[6]|0,this.Dl=H[7]|0,this.Eh=H[8]|0,this.El=H[9]|0,this.Fh=H[10]|0,this.Fl=H[11]|0,this.Gh=H[12]|0,this.Gl=H[13]|0,this.Hh=H[14]|0,this.Hl=H[15]|0}},Pn=class extends jt{constructor(){super(48),this.Ah=L[0]|0,this.Al=L[1]|0,this.Bh=L[2]|0,this.Bl=L[3]|0,this.Ch=L[4]|0,this.Cl=L[5]|0,this.Dh=L[6]|0,this.Dl=L[7]|0,this.Eh=L[8]|0,this.El=L[9]|0,this.Fh=L[10]|0,this.Fl=L[11]|0,this.Gh=L[12]|0,this.Gl=L[13]|0,this.Hh=L[14]|0,this.Hl=L[15]|0}},tr=qe(()=>new Ht),nr=qe(()=>new Mn),ir=qe(()=>new jt),or=qe(()=>new Pn),rr=BigInt(0),lt=BigInt(1),sr=BigInt(2),ar=BigInt(7),lr=BigInt(256),cr=BigInt(113),Gi=[],qi=[],$i=[];for(let n=0,t=lt,e=1,i=0;n<24;n++){[e,i]=[i,(2*e+3*i)%5],Gi.push(2*(5*i+e)),qi.push((n+1)*(n+2)/2%64);let o=rr;for(let r=0;r<7;r++)t=(t<<lt^(t>>ar)*cr)%lr,t&sr&&(o^=lt<<(lt<<BigInt(r))-lt);$i.push(o)}var zi=Ui($i,!0),dr=zi[0],ur=zi[1],Ii=(n,t,e)=>e>32?qo(n,t,e):Bo(n,t,e),ki=(n,t,e)=>e>32?$o(n,t,e):Go(n,t,e);function pr(n,t=24){let e=new Uint32Array(10);for(let i=24-t;i<24;i++){for(let l=0;l<10;l++)e[l]=n[l]^n[l+10]^n[l+20]^n[l+30]^n[l+40];for(let l=0;l<10;l+=2){let u=(l+8)%10,m=(l+2)%10,b=e[m],y=e[m+1],v=Ii(b,y,1)^e[u],O=ki(b,y,1)^e[u+1];for(let A=0;A<50;A+=10)n[l+A]^=v,n[l+A+1]^=O}let o=n[2],r=n[3];for(let l=0;l<24;l++){let u=qi[l],m=Ii(o,r,u),b=ki(o,r,u),y=Gi[l];o=n[y],r=n[y+1],n[y]=m,n[y+1]=b}for(let l=0;l<50;l+=10){for(let u=0;u<10;u++)e[u]=n[l+u];for(let u=0;u<10;u++)n[l+u]^=~e[(u+2)%10]&e[(u+4)%10]}n[0]^=dr[i],n[1]^=ur[i]}Z(e)}var Sn=class n extends ct{clone(){return this._cloneInto()}keccak(){Vi(this.state32),pr(this.state32,this.rounds),Vi(this.state32),this.posOut=0,this.pos=0}update(t){Ue(this),t=Bt(t),je(t);let{blockLen:e,state:i}=this,o=t.length;for(let r=0;r<o;){let l=Math.min(e-this.pos,o-r);for(let u=0;u<l;u++)i[this.pos++]^=t[r++];this.pos===e&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:t,suffix:e,pos:i,blockLen:o}=this;t[i]^=e,(e&128)!==0&&i===o-1&&this.keccak(),t[o-1]^=128,this.keccak()}writeInto(t){Ue(this,!1),je(t),this.finish();let e=this.state,{blockLen:i}=this;for(let o=0,r=t.length;o<r;){this.posOut>=i&&this.keccak();let l=Math.min(i-this.posOut,r-o);t.set(e.subarray(this.posOut,this.posOut+l),o),this.posOut+=l,o+=l}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return Rt(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(Li(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Z(this.state)}_cloneInto(t){let{blockLen:e,suffix:i,outputLen:o,rounds:r,enableXOF:l}=this;return t||(t=new n(e,i,o,l,r)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=r,t.suffix=i,t.outputLen=o,t.enableXOF=l,t.destroyed=this.destroyed,t}constructor(t,e,i,o=!1,r=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=e,this.outputLen=i,this.enableXOF=o,this.rounds=r,Rt(i),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=To(this.state)}},Gt=(n,t,e)=>qe(()=>new Sn(t,n,e)),mr=Gt(6,144,224/8),hr=Gt(6,136,256/8),fr=Gt(6,104,384/8),gr=Gt(6,72,512/8),Be=(()=>{if(typeof globalThis=="object")return globalThis;Object.defineProperty(Object.prototype,"__GLOBALTHIS__",{get(){return this},configurable:!0});try{if(typeof __GLOBALTHIS__<"u")return __GLOBALTHIS__}finally{delete Object.prototype.__GLOBALTHIS__}if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global})(),Ti={SHA1:jo,SHA224:nr,SHA256:tr,SHA384:or,SHA512:ir,"SHA3-224":mr,"SHA3-256":hr,"SHA3-384":fr,"SHA3-512":gr},Vn=n=>{switch(!0){case/^(?:SHA-?1|SSL3-SHA1)$/i.test(n):return"SHA1";case/^SHA(?:2?-)?224$/i.test(n):return"SHA224";case/^SHA(?:2?-)?256$/i.test(n):return"SHA256";case/^SHA(?:2?-)?384$/i.test(n):return"SHA384";case/^SHA(?:2?-)?512$/i.test(n):return"SHA512";case/^SHA3-224$/i.test(n):return"SHA3-224";case/^SHA3-256$/i.test(n):return"SHA3-256";case/^SHA3-384$/i.test(n):return"SHA3-384";case/^SHA3-512$/i.test(n):return"SHA3-512";default:throw new TypeError(`Unknown hash algorithm: ${n}`)}},_r=(n,t,e)=>{if(xn){let i=Ti[n]??Ti[Vn(n)];return xn(i,t,e)}else throw new Error("Missing HMAC function")},On="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",br=n=>{n=n.replace(/ /g,"");let t=n.length;for(;n[t-1]==="=";)--t;n=(t<n.length?n.substring(0,t):n).toUpperCase();let e=new ArrayBuffer(n.length*5/8|0),i=new Uint8Array(e),o=0,r=0,l=0;for(let u=0;u<n.length;u++){let m=On.indexOf(n[u]);if(m===-1)throw new TypeError(`Invalid character found: ${n[u]}`);r=r<<5|m,o+=5,o>=8&&(o-=8,i[l++]=r>>>o)}return i},vr=n=>{let t=0,e=0,i="";for(let o=0;o<n.length;o++)for(e=e<<8|n[o],t+=8;t>=5;)i+=On[e>>>t-5&31],t-=5;return t>0&&(i+=On[e<<5-t&31]),i},Cr=n=>{n=n.replace(/ /g,"");let t=new ArrayBuffer(n.length/2),e=new Uint8Array(t);for(let i=0;i<n.length;i+=2)e[i/2]=parseInt(n.substring(i,i+2),16);return e},wr=n=>{let t="";for(let e=0;e<n.length;e++){let i=n[e].toString(16);i.length===1&&(t+="0"),t+=i}return t.toUpperCase()},xr=n=>{let t=new ArrayBuffer(n.length),e=new Uint8Array(t);for(let i=0;i<n.length;i++)e[i]=n.charCodeAt(i)&255;return e},yr=n=>{let t="";for(let e=0;e<n.length;e++)t+=String.fromCharCode(n[e]);return t},Ni=Be.TextEncoder?new Be.TextEncoder:null,Fi=Be.TextDecoder?new Be.TextDecoder:null,Mr=n=>{if(!Ni)throw new Error("Encoding API not available");return Ni.encode(n)},Pr=n=>{if(!Fi)throw new Error("Encoding API not available");return Fi.decode(n)},Sr=n=>{if(Be.crypto?.getRandomValues)return Be.crypto.getRandomValues(new Uint8Array(n));throw new Error("Cryptography API not available")},Q=class n{static fromLatin1(t){return new n({buffer:xr(t).buffer})}static fromUTF8(t){return new n({buffer:Mr(t).buffer})}static fromBase32(t){return new n({buffer:br(t).buffer})}static fromHex(t){return new n({buffer:Cr(t).buffer})}get buffer(){return this.bytes.buffer}get latin1(){return Object.defineProperty(this,"latin1",{enumerable:!0,writable:!1,configurable:!1,value:yr(this.bytes)}),this.latin1}get utf8(){return Object.defineProperty(this,"utf8",{enumerable:!0,writable:!1,configurable:!1,value:Pr(this.bytes)}),this.utf8}get base32(){return Object.defineProperty(this,"base32",{enumerable:!0,writable:!1,configurable:!1,value:vr(this.bytes)}),this.base32}get hex(){return Object.defineProperty(this,"hex",{enumerable:!0,writable:!1,configurable:!1,value:wr(this.bytes)}),this.hex}constructor({buffer:t,size:e=20}={}){this.bytes=typeof t>"u"?Sr(e):new Uint8Array(t),Object.defineProperty(this,"bytes",{enumerable:!0,writable:!1,configurable:!1,value:this.bytes})}},Or=(n,t)=>{{if(n.length!==t.length)throw new TypeError("Input strings must have the same length");let e=-1,i=0;for(;++e<n.length;)i|=n.charCodeAt(e)^t.charCodeAt(e);return i===0}},Ge=class n{static get defaults(){return{issuer:"",label:"OTPAuth",issuerInLabel:!0,algorithm:"SHA1",digits:6,counter:0,window:1}}static generate({secret:t,algorithm:e=n.defaults.algorithm,digits:i=n.defaults.digits,counter:o=n.defaults.counter}){let r=_r(e,t.bytes,Do(o)),l=r[r.byteLength-1]&15;return(((r[l]&127)<<24|(r[l+1]&255)<<16|(r[l+2]&255)<<8|r[l+3]&255)%10**i).toString().padStart(i,"0")}generate({counter:t=this.counter++}={}){return n.generate({secret:this.secret,algorithm:this.algorithm,digits:this.digits,counter:t})}static validate({token:t,secret:e,algorithm:i,digits:o=n.defaults.digits,counter:r=n.defaults.counter,window:l=n.defaults.window}){if(t.length!==o)return null;let u=null,m=b=>{let y=n.generate({secret:e,algorithm:i,digits:o,counter:b});Or(t,y)&&(u=b-r)};m(r);for(let b=1;b<=l&&u===null&&(m(r-b),!(u!==null||(m(r+b),u!==null)));++b);return u}validate({token:t,counter:e=this.counter,window:i}){return n.validate({token:t,secret:this.secret,algorithm:this.algorithm,digits:this.digits,counter:e,window:i})}toString(){let t=encodeURIComponent;return`otpauth://hotp/${this.issuer.length>0?this.issuerInLabel?`${t(this.issuer)}:${t(this.label)}?issuer=${t(this.issuer)}&`:`${t(this.label)}?issuer=${t(this.issuer)}&`:`${t(this.label)}?`}secret=${t(this.secret.base32)}&algorithm=${t(this.algorithm)}&digits=${t(this.digits)}&counter=${t(this.counter)}`}constructor({issuer:t=n.defaults.issuer,label:e=n.defaults.label,issuerInLabel:i=n.defaults.issuerInLabel,secret:o=new Q,algorithm:r=n.defaults.algorithm,digits:l=n.defaults.digits,counter:u=n.defaults.counter}={}){this.issuer=t,this.label=e,this.issuerInLabel=i,this.secret=typeof o=="string"?Q.fromBase32(o):o,this.algorithm=Vn(r),this.digits=l,this.counter=u}},Ee=class n{static get defaults(){return{issuer:"",label:"OTPAuth",issuerInLabel:!0,algorithm:"SHA1",digits:6,period:30,window:1}}static counter({period:t=n.defaults.period,timestamp:e=Date.now()}={}){return Math.floor(e/1e3/t)}counter({timestamp:t=Date.now()}={}){return n.counter({period:this.period,timestamp:t})}static remaining({period:t=n.defaults.period,timestamp:e=Date.now()}={}){return t*1e3-e%(t*1e3)}remaining({timestamp:t=Date.now()}={}){return n.remaining({period:this.period,timestamp:t})}static generate({secret:t,algorithm:e,digits:i,period:o=n.defaults.period,timestamp:r=Date.now()}){return Ge.generate({secret:t,algorithm:e,digits:i,counter:n.counter({period:o,timestamp:r})})}generate({timestamp:t=Date.now()}={}){return n.generate({secret:this.secret,algorithm:this.algorithm,digits:this.digits,period:this.period,timestamp:t})}static validate({token:t,secret:e,algorithm:i,digits:o,period:r=n.defaults.period,timestamp:l=Date.now(),window:u}){return Ge.validate({token:t,secret:e,algorithm:i,digits:o,counter:n.counter({period:r,timestamp:l}),window:u})}validate({token:t,timestamp:e,window:i}){return n.validate({token:t,secret:this.secret,algorithm:this.algorithm,digits:this.digits,period:this.period,timestamp:e,window:i})}toString(){let t=encodeURIComponent;return`otpauth://totp/${this.issuer.length>0?this.issuerInLabel?`${t(this.issuer)}:${t(this.label)}?issuer=${t(this.issuer)}&`:`${t(this.label)}?issuer=${t(this.issuer)}&`:`${t(this.label)}?`}secret=${t(this.secret.base32)}&algorithm=${t(this.algorithm)}&digits=${t(this.digits)}&period=${t(this.period)}`}constructor({issuer:t=n.defaults.issuer,label:e=n.defaults.label,issuerInLabel:i=n.defaults.issuerInLabel,secret:o=new Q,algorithm:r=n.defaults.algorithm,digits:l=n.defaults.digits,period:u=n.defaults.period}={}){this.issuer=t,this.label=e,this.issuerInLabel=i,this.secret=typeof o=="string"?Q.fromBase32(o):o,this.algorithm=Vn(r),this.digits=l,this.period=u}},Vr=/^otpauth:\/\/([ht]otp)\/(.+)\?([A-Z0-9.~_-]+=[^?&]*(?:&[A-Z0-9.~_-]+=[^?&]*)*)$/i,Er=/^[2-7A-Z]+=*$/i,Ar=/^SHA(?:1|224|256|384|512|3-224|3-256|3-384|3-512)$/i,Dr=/^[+-]?\d+$/,Ri=/^\+?[1-9]\d*$/,Ut=class{static parse(t){let e;try{e=t.match(Vr)}catch{}if(!Array.isArray(e))throw new URIError("Invalid URI format");let i=e[1].toLowerCase(),o=e[2].split(/(?::|%3A) *(.+)/i,2).map(decodeURIComponent),r=e[3].split("&").reduce((m,b)=>{let y=b.split(/=(.*)/,2).map(decodeURIComponent),v=y[0].toLowerCase(),O=y[1],A=m;return A[v]=O,A},{}),l,u={};if(i==="hotp")if(l=Ge,typeof r.counter<"u"&&Dr.test(r.counter))u.counter=parseInt(r.counter,10);else throw new TypeError("Missing or invalid 'counter' parameter");else if(i==="totp"){if(l=Ee,typeof r.period<"u")if(Ri.test(r.period))u.period=parseInt(r.period,10);else throw new TypeError("Invalid 'period' parameter")}else throw new TypeError("Unknown OTP type");if(typeof r.issuer<"u"&&(u.issuer=r.issuer),o.length===2?(u.label=o[1],typeof u.issuer>"u"||u.issuer===""?u.issuer=o[0]:o[0]===""&&(u.issuerInLabel=!1)):(u.label=o[0],typeof u.issuer<"u"&&u.issuer!==""&&(u.issuerInLabel=!1)),typeof r.secret<"u"&&Er.test(r.secret))u.secret=r.secret;else throw new TypeError("Missing or invalid 'secret' parameter");if(typeof r.algorithm<"u")if(Ar.test(r.algorithm))u.algorithm=r.algorithm;else throw new TypeError("Invalid 'algorithm' parameter");if(typeof r.digits<"u")if(Ri.test(r.digits))u.digits=parseInt(r.digits,10);else throw new TypeError("Invalid 'digits' parameter");return new l(u)}static stringify(t){if(t instanceof Ge||t instanceof Ee)return t.toString();throw new TypeError("Invalid 'HOTP/TOTP' object")}};var $e=class n{generateCode(t){try{return new Ee({secret:Q.fromBase32(t),digits:6,period:30}).generate()}catch(e){return console.error("Error generating TOTP:",e),"------"}}getRemainingSeconds(){return 30-Math.floor(Date.now()/1e3)%30}generateSecret(){return new Q({size:20}).base32}getOtpAuthUrl(t,e,i){return new Ee({issuer:e,label:i,secret:Q.fromBase32(t),digits:6,period:30}).toString()}parseOtpAuthUrl(t){try{let e=Ut.parse(t);return{secret:e.secret.base32,issuer:e.issuer,label:e.label}}catch(e){return console.error("Error parsing OTP Auth URL:",e),null}}static \u0275fac=function(e){return new(e||n)};static \u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})};function Tr(n,t){if(n&1&&(a(0,"span",9),d(1),s()),n&2){let e=p();c(),x(e.getErrorMessage("title"))}}function Nr(n,t){if(n&1&&(a(0,"span",9),d(1),s()),n&2){let e=p(2);c(),x(e.getErrorMessage("username"))}}function Fr(n,t){if(n&1&&(a(0,"span",9),d(1),s()),n&2){let e=p(2);c(),x(e.getErrorMessage("password"))}}function Rr(n,t){if(n&1&&(a(0,"div",29)(1,"div",30),d(2),s(),a(3,"div",31),h(4,"div",32),s(),a(5,"div",33),d(6,"Preview: Updates every 30 seconds"),s()()),n&2){let e=p(2);c(2),x(e.getCurrentTotpCode()),c(2),vt("width",e.getTotpProgress(),"%")}}function Lr(n,t){if(n&1){let e=S();a(0,"div",5)(1,"div",10),d(2,"Login Details"),s(),a(3,"div",6)(4,"label",15),d(5,"Username"),s(),h(6,"input",16),g(7,Nr,2,1,"span",9),s(),a(8,"div",6)(9,"label",17),d(10,"Password"),s(),a(11,"div",18),h(12,"input",19),a(13,"button",20),f("click",function(){C(e);let o=p();return w(o.togglePasswordVisibility())}),h(14,"i"),s(),a(15,"button",21),f("click",function(){C(e);let o=p();return w(o.generatePassword())}),h(16,"i",22),s()(),g(17,Fr,2,1,"span",9),s(),a(18,"div",6)(19,"label",23),d(20,"URI"),s(),h(21,"input",24),s(),a(22,"div",6)(23,"label",25),d(24,"Authenticator Key (TOTP) "),a(25,"span",26),d(26,"(Optional)"),s()(),a(27,"div",18),h(28,"input",27),a(29,"button",28),f("click",function(){C(e);let o=p();return w(o.generateTotpSecret())}),h(30,"i",22),s()(),g(31,Rr,7,3,"div",29),s()()}if(n&2){let e=p();c(7),_(e.getErrorMessage("username")?7:-1),c(5),F("type",e.showPassword()?"text":"password"),c(2),ie(e.showPassword()?"pi pi-eye-slash":"pi pi-eye"),c(3),_(e.getErrorMessage("password")?17:-1),c(14),_(e.form.value.totpSecret&&e.form.value.totpSecret.trim()?31:-1)}}function Hr(n,t){if(n&1&&(a(0,"span",9),d(1),s()),n&2){let e=p(2);c(),x(e.getErrorMessage("noteContent"))}}function jr(n,t){if(n&1&&(a(0,"div",5)(1,"div",10),d(2,"Note Content"),s(),a(3,"div",6)(4,"label",34),d(5,"Content"),s(),h(6,"textarea",35),g(7,Hr,2,1,"span",9),s()()),n&2){let e=p();c(7),_(e.getErrorMessage("noteContent")?7:-1)}}function Ur(n,t){if(n&1&&(a(0,"span",9),d(1),s()),n&2){let e=p(2);c(),x(e.getErrorMessage("addressLine1"))}}function Br(n,t){if(n&1&&(a(0,"span",9),d(1),s()),n&2){let e=p(2);c(),x(e.getErrorMessage("city"))}}function Gr(n,t){if(n&1&&(a(0,"span",9),d(1),s()),n&2){let e=p(2);c(),x(e.getErrorMessage("country"))}}function qr(n,t){if(n&1&&(a(0,"div",5)(1,"div",10),d(2,"Address Details"),s(),a(3,"div",36)(4,"div",6)(5,"label",37),d(6,"First Name"),s(),h(7,"input",38),s(),a(8,"div",6)(9,"label",39),d(10,"Last Name"),s(),h(11,"input",40),s()(),a(12,"div",6)(13,"label",41),d(14,"Address Line 1"),s(),h(15,"input",42),g(16,Ur,2,1,"span",9),s(),a(17,"div",6)(18,"label",43),d(19,"Address Line 2"),s(),h(20,"input",44),s(),a(21,"div",36)(22,"div",6)(23,"label",45),d(24,"City"),s(),h(25,"input",46),g(26,Br,2,1,"span",9),s(),a(27,"div",6)(28,"label",47),d(29,"State / Province"),s(),h(30,"input",48),s()(),a(31,"div",36)(32,"div",6)(33,"label",49),d(34,"Postal Code"),s(),h(35,"input",50),s(),a(36,"div",6)(37,"label",51),d(38,"Country"),s(),h(39,"input",52),g(40,Gr,2,1,"span",9),s()()()),n&2){let e=p();c(16),_(e.getErrorMessage("addressLine1")?16:-1),c(10),_(e.getErrorMessage("city")?26:-1),c(14),_(e.getErrorMessage("country")?40:-1)}}function $r(n,t){if(n&1&&(a(0,"span",9),d(1),s()),n&2){let e=p(2);c(),x(e.getErrorMessage("cardholderName"))}}function zr(n,t){if(n&1&&(a(0,"span",9),d(1),s()),n&2){let e=p(2);c(),x(e.getErrorMessage("cardNumber"))}}function Wr(n,t){if(n&1&&(a(0,"div",5)(1,"div",10),d(2,"Card Details"),s(),a(3,"div",6)(4,"label",53),d(5,"Cardholder Name"),s(),h(6,"input",54),g(7,$r,2,1,"span",9),s(),a(8,"div",6)(9,"label",55),d(10,"Card Number"),s(),h(11,"input",56),g(12,zr,2,1,"span",9),s(),a(13,"div",36)(14,"div",6)(15,"label",57),d(16,"Expiration Month"),s(),h(17,"input",58),s(),a(18,"div",6)(19,"label",59),d(20,"Expiration Year"),s(),h(21,"input",60),s(),a(22,"div",6)(23,"label",61),d(24,"CVV"),s(),h(25,"input",62),s()()()),n&2){let e=p();c(7),_(e.getErrorMessage("cardholderName")?7:-1),c(5),_(e.getErrorMessage("cardNumber")?12:-1)}}var qt=class n{constructor(t,e){this.fb=t;this.totpService=e;this.form=this.fb.group({title:["",[R.required,R.maxLength(100)]],username:[""],password:[""],url:["",R.maxLength(500)],totpSecret:[""],noteContent:[""],firstName:[""],lastName:[""],addressLine1:[""],addressLine2:[""],city:[""],state:[""],postalCode:[""],country:[""],cardholderName:[""],cardNumber:[""],expirationMonth:[""],expirationYear:[""],cvv:[""],notes:["",R.maxLength(1e3)]})}password=Se(null);initialItemType=Se("login");passwordSaved=$();cancelled=$();form;showPassword=M(!1);selectedItemType=M("login");totpTimer;totpRefreshTrigger=M(0);itemTypeOptions=[{value:"login",label:"Login",icon:"pi-key"},{value:"note",label:"Secure Note",icon:"pi-file"},{value:"address",label:"Address",icon:"pi-map-marker"},{value:"card",label:"Card",icon:"pi-credit-card"}];ngOnInit(){this.password()||this.selectedItemType.set(this.initialItemType());let t=this.password();t&&(this.selectedItemType.set(t.type),this.form.patchValue({title:t.title,notes:t.notes||""}),t.type==="login"?this.form.patchValue({username:t.username,password:t.password,url:t.url||"",totpSecret:t.totp||""}):t.type==="note"?this.form.patchValue({noteContent:t.content}):t.type==="address"?this.form.patchValue({firstName:t.firstName||"",lastName:t.lastName||"",addressLine1:t.addressLine1||"",addressLine2:t.addressLine2||"",city:t.city||"",state:t.state||"",postalCode:t.postalCode||"",country:t.country||""}):t.type==="card"&&this.form.patchValue({cardholderName:t.cardholderName,cardNumber:t.cardNumber,expirationMonth:t.expirationMonth||"",expirationYear:t.expirationYear||"",cvv:t.cvv||""})),this.updateValidators(),this.totpTimer=setInterval(()=>{this.totpRefreshTrigger.update(e=>e+1)},1e3)}updateValidators(){let t=this.selectedItemType();Object.keys(this.form.controls).forEach(e=>{e!=="title"&&e!=="notes"&&(this.form.get(e)?.clearValidators(),this.form.get(e)?.updateValueAndValidity())}),t==="login"?(this.form.get("username")?.setValidators([R.required,R.maxLength(100)]),this.form.get("password")?.setValidators([R.required,R.minLength(4)])):t==="note"?this.form.get("noteContent")?.setValidators([R.required]):t==="address"?(this.form.get("addressLine1")?.setValidators([R.required]),this.form.get("city")?.setValidators([R.required]),this.form.get("country")?.setValidators([R.required])):t==="card"&&(this.form.get("cardholderName")?.setValidators([R.required]),this.form.get("cardNumber")?.setValidators([R.required])),Object.keys(this.form.controls).forEach(e=>{this.form.get(e)?.updateValueAndValidity()})}onItemTypeChange(){this.updateValidators()}onSubmit(){if(!this.form.valid){this.form.markAllAsTouched();return}let t=this.password(),e=Date.now(),i=this.selectedItemType(),o,r={id:t?.id||this.generateId(i),title:this.form.value.title.trim(),notes:this.form.value.notes?.trim()||void 0,createdAt:t?.createdAt||e,updatedAt:e};if(i==="login")o=I(E({},r),{type:"login",username:this.form.value.username.trim(),password:this.form.value.password,url:this.form.value.url?.trim()||void 0,totp:this.form.value.totpSecret?.trim()||void 0});else if(i==="note")o=I(E({},r),{type:"note",content:this.form.value.noteContent.trim()});else if(i==="address")o=I(E({},r),{type:"address",firstName:this.form.value.firstName?.trim(),lastName:this.form.value.lastName?.trim(),addressLine1:this.form.value.addressLine1.trim(),addressLine2:this.form.value.addressLine2?.trim(),city:this.form.value.city.trim(),state:this.form.value.state?.trim(),postalCode:this.form.value.postalCode?.trim(),country:this.form.value.country.trim()});else if(i==="card")o=I(E({},r),{type:"card",cardholderName:this.form.value.cardholderName.trim(),cardNumber:this.form.value.cardNumber.trim(),expirationMonth:this.form.value.expirationMonth?.trim(),expirationYear:this.form.value.expirationYear?.trim(),cvv:this.form.value.cvv?.trim()});else return;this.passwordSaved.emit(o),this.form.reset(),this.selectedItemType.set("login")}onCancel(){this.cancelled.emit(),this.form.reset()}togglePasswordVisibility(){this.showPassword.update(t=>!t)}generatePassword(){let e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*()_+-=",i="",o=new Uint8Array(16);crypto.getRandomValues(o);for(let r=0;r<16;r++)i+=e[o[r]%e.length];this.form.patchValue({password:i})}generateTotpSecret(){let t=this.totpService.generateSecret();this.form.patchValue({totpSecret:t})}generateId(t){return`${{login:"pwd",note:"note",address:"addr",card:"card"}[t]}_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}getErrorMessage(t){let e=this.form.get(t);return!e||!e.errors||!e.touched?"":e.errors.required?`${t} is required`:e.errors.minlength?`${t} must be at least ${e.errors.minlength.requiredLength} characters`:e.errors.maxLength?`${t} must not exceed ${e.errors.maxLength.requiredLength} characters`:""}getItemTypeLabel(){return this.itemTypeOptions.find(e=>e.value===this.selectedItemType())?.label||"Item"}getCurrentTotpCode(){this.totpRefreshTrigger();let t=this.form.value.totpSecret?.trim();if(!t)return"------";try{return this.totpService.generateCode(t)}catch{return"INVALID"}}getTotpProgress(){return this.totpRefreshTrigger(),this.totpService.getRemainingSeconds()/30*100}ngOnDestroy(){this.totpTimer&&clearInterval(this.totpTimer)}static \u0275fac=function(e){return new(e||n)(P(Si),P($e))};static \u0275cmp=W({type:n,selectors:[["app-add-password"]],inputs:{password:[1,"password"],initialItemType:[1,"initialItemType"]},outputs:{passwordSaved:"passwordSaved",cancelled:"cancelled"},decls:27,vars:8,consts:[[1,"bitwarden-form"],[1,"form-header"],["type","button",1,"btn-close",3,"click"],[1,"pi","pi-times"],[3,"ngSubmit","formGroup"],[1,"form-section"],[1,"form-group"],["for","title"],["id","title","type","text","formControlName","title","placeholder","Name",1,"bw-input"],[1,"error-text"],[1,"section-title"],["id","notes","formControlName","notes","placeholder","Add any additional notes...","rows","3",1,"bw-input","bw-textarea"],[1,"form-footer"],["type","button",1,"bw-btn","bw-btn-secondary",3,"click"],["type","submit",1,"bw-btn","bw-btn-primary",3,"disabled"],["for","username"],["id","username","type","text","formControlName","username","placeholder","Username",1,"bw-input"],["for","password"],[1,"bw-input-group"],["id","password","formControlName","password","placeholder","Password",1,"bw-input",3,"type"],["type","button","title","Toggle visibility",1,"bw-btn-icon",3,"click"],["type","button","title","Generate password",1,"bw-btn-icon",3,"click"],[1,"pi","pi-refresh"],["for","url"],["id","url","type","url","formControlName","url","placeholder","https://example.com",1,"bw-input"],["for","totpSecret"],[1,"optional-label"],["id","totpSecret","type","text","formControlName","totpSecret","placeholder","JBSWY3DPEHPK3PXP (Optional)",1,"bw-input"],["type","button","title","Generate secret",1,"bw-btn-icon",3,"click"],[1,"totp-preview"],[1,"totp-code"],[1,"totp-timer"],[1,"totp-timer-bar"],[1,"totp-label"],["for","noteContent"],["id","noteContent","formControlName","noteContent","placeholder","Your secure note...","rows","10",1,"bw-input","bw-textarea"],[1,"form-row"],["for","firstName"],["id","firstName","type","text","formControlName","firstName","placeholder","First Name",1,"bw-input"],["for","lastName"],["id","lastName","type","text","formControlName","lastName","placeholder","Last Name",1,"bw-input"],["for","addressLine1"],["id","addressLine1","type","text","formControlName","addressLine1","placeholder","Street Address",1,"bw-input"],["for","addressLine2"],["id","addressLine2","type","text","formControlName","addressLine2","placeholder","Apartment, suite, etc.",1,"bw-input"],["for","city"],["id","city","type","text","formControlName","city","placeholder","City",1,"bw-input"],["for","state"],["id","state","type","text","formControlName","state","placeholder","State",1,"bw-input"],["for","postalCode"],["id","postalCode","type","text","formControlName","postalCode","placeholder","Postal Code",1,"bw-input"],["for","country"],["id","country","type","text","formControlName","country","placeholder","Country",1,"bw-input"],["for","cardholderName"],["id","cardholderName","type","text","formControlName","cardholderName","placeholder","Name on Card",1,"bw-input"],["for","cardNumber"],["id","cardNumber","type","text","formControlName","cardNumber","placeholder","1234 5678 9012 3456",1,"bw-input"],["for","expirationMonth"],["id","expirationMonth","type","text","formControlName","expirationMonth","placeholder","MM",1,"bw-input"],["for","expirationYear"],["id","expirationYear","type","text","formControlName","expirationYear","placeholder","YYYY",1,"bw-input"],["for","cvv"],["id","cvv","type","text","formControlName","cvv","placeholder","123",1,"bw-input"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"div",1)(2,"h2"),d(3),s(),a(4,"button",2),f("click",function(){return i.onCancel()}),h(5,"i",3),s()(),a(6,"form",4),f("ngSubmit",function(){return i.onSubmit()}),a(7,"div",5)(8,"div",6)(9,"label",7),d(10,"Name"),s(),h(11,"input",8),g(12,Tr,2,1,"span",9),s()(),g(13,Lr,32,6,"div",5),g(14,jr,8,1,"div",5),g(15,qr,41,3,"div",5),g(16,Wr,26,2,"div",5),a(17,"div",5)(18,"div",10),d(19,"Additional Notes"),s(),a(20,"div",6),h(21,"textarea",11),s()(),a(22,"div",12)(23,"button",13),f("click",function(){return i.onCancel()}),d(24," Cancel "),s(),a(25,"button",14),d(26," Save "),s()()()()),e&2&&(c(3),x(i.password()?"Edit Item":"Add "+i.getItemTypeLabel()),c(3),F("formGroup",i.form),c(6),_(i.getErrorMessage("title")?12:-1),c(),_(i.selectedItemType()==="login"?13:-1),c(),_(i.selectedItemType()==="note"?14:-1),c(),_(i.selectedItemType()==="address"?15:-1),c(),_(i.selectedItemType()==="card"?16:-1),c(9),F("disabled",!i.form.valid))},dependencies:[J,Oi,vi,me,Fe,pi,_n,bn,Re],styles:[".bitwarden-form[_ngcontent-%COMP%]{background:var(--element-bg-color);border:1px solid var(--border-color);border-radius:3px;max-width:100%;height:100%;overflow-y:auto}.form-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem 1.25rem;border-bottom:1px solid var(--border-color)}.form-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1rem;font-weight:600;color:var(--text-color)}.form-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{background:transparent;border:none;color:var(--text-color);cursor:pointer;padding:.25rem;opacity:.6;transition:all .15s ease}.form-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover{opacity:1;transform:scale(1.1)}.form-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.form-section[_ngcontent-%COMP%]{padding:1.25rem;border-bottom:1px solid var(--border-color)}.form-section[_ngcontent-%COMP%]:last-of-type{border-bottom:none}.form-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:.75rem;font-weight:700;text-transform:uppercase;color:var(--text-color);opacity:.7;margin-bottom:1rem;letter-spacing:.5px}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.form-group[_ngcontent-%COMP%]:last-child{margin-bottom:0}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.375rem;font-size:.875rem;font-weight:600;color:var(--text-color)}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .optional-label[_ngcontent-%COMP%]{font-weight:400;color:var(--text-muted);font-style:italic}.form-group[_ngcontent-%COMP%]   .bw-input[_ngcontent-%COMP%]{width:100%;padding:.5rem .625rem;background:var(--bg-color);border:1px solid var(--border-color);border-radius:3px;color:var(--text-color);font-size:.875rem;box-sizing:border-box;transition:border-color .15s ease}.form-group[_ngcontent-%COMP%]   .bw-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#175ddc}.form-group[_ngcontent-%COMP%]   .bw-input[_ngcontent-%COMP%]::placeholder{color:var(--text-color);opacity:.4}.form-group[_ngcontent-%COMP%]   .bw-input.bw-textarea[_ngcontent-%COMP%]{resize:vertical;font-family:inherit;min-height:100px}.form-group[_ngcontent-%COMP%]   .bw-input-group[_ngcontent-%COMP%]{display:flex;gap:0}.form-group[_ngcontent-%COMP%]   .bw-input-group[_ngcontent-%COMP%]   .bw-input[_ngcontent-%COMP%]{border-top-right-radius:0;border-bottom-right-radius:0;border-right:none}.form-group[_ngcontent-%COMP%]   .bw-input-group[_ngcontent-%COMP%]   .bw-btn-icon[_ngcontent-%COMP%]{background:var(--bg-color);border:1px solid var(--border-color);color:var(--text-color);cursor:pointer;padding:.5rem .625rem;transition:background-color .15s ease;min-width:38px;display:flex;align-items:center;justify-content:center}.form-group[_ngcontent-%COMP%]   .bw-input-group[_ngcontent-%COMP%]   .bw-btn-icon[_ngcontent-%COMP%]:last-child{border-top-right-radius:3px;border-bottom-right-radius:3px}.form-group[_ngcontent-%COMP%]   .bw-input-group[_ngcontent-%COMP%]   .bw-btn-icon[_ngcontent-%COMP%]:hover{background:var(--element-bg-color);transform:scale(1.05)}.form-group[_ngcontent-%COMP%]   .bw-input-group[_ngcontent-%COMP%]   .bw-btn-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.875rem}.form-group[_ngcontent-%COMP%]   .error-text[_ngcontent-%COMP%]{display:block;margin-top:.375rem;color:#c83522;font-size:.75rem}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:.75rem;margin-bottom:1rem}.form-row[_ngcontent-%COMP%]:last-child{margin-bottom:0}.form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:0}.form-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:.625rem;padding:1.25rem;border-top:1px solid var(--border-color);background:var(--bg-color)}.form-footer[_ngcontent-%COMP%]   .bw-btn[_ngcontent-%COMP%]{padding:.5rem 1rem;border-radius:3px;font-size:.875rem;font-weight:600;cursor:pointer;transition:all .15s ease;border:1px solid transparent}.form-footer[_ngcontent-%COMP%]   .bw-btn.bw-btn-secondary[_ngcontent-%COMP%]{background:transparent;color:var(--text-color);border-color:var(--border-color)}.form-footer[_ngcontent-%COMP%]   .bw-btn.bw-btn-secondary[_ngcontent-%COMP%]:hover{background:var(--element-bg-color)}.form-footer[_ngcontent-%COMP%]   .bw-btn.bw-btn-primary[_ngcontent-%COMP%]{background:#175ddc;color:#fff;border-color:#175ddc}.form-footer[_ngcontent-%COMP%]   .bw-btn.bw-btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#1252c9}.form-footer[_ngcontent-%COMP%]   .bw-btn.bw-btn-primary[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.totp-preview[_ngcontent-%COMP%]{margin-top:1rem;padding:1rem;background:var(--background-color);border:1px solid var(--border-color);border-radius:3px;text-align:center}.totp-preview[_ngcontent-%COMP%]   .totp-code[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;font-family:Courier New,monospace;letter-spacing:.3em;color:var(--text-color);margin-bottom:.5rem}.totp-preview[_ngcontent-%COMP%]   .totp-timer[_ngcontent-%COMP%]{height:4px;background:var(--border-color);border-radius:2px;overflow:hidden;margin-bottom:.5rem}.totp-preview[_ngcontent-%COMP%]   .totp-timer[_ngcontent-%COMP%]   .totp-timer-bar[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#175ddc,#1252c9);transition:width 1s linear}.totp-preview[_ngcontent-%COMP%]   .totp-label[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-muted)}"]})};var Yr=(n,t)=>t.id;function Kr(n,t){if(n&1&&(a(0,"span",3),d(1),s()),n&2){let e=p();c(),x(e.unreadCount())}}function Jr(n,t){if(n&1){let e=S();a(0,"button",10),f("click",function(){C(e);let o=p(2);return w(o.clearAll())}),d(1,"Clear all"),s()}}function Xr(n,t){n&1&&(a(0,"div",8),h(1,"i",11),a(2,"p"),d(3,"No notifications"),s()())}function Zr(n,t){if(n&1){let e=S();a(0,"div",13),f("click",function(){let o=C(e).$implicit,r=p(3);return w(r.onNotificationClick(o))}),a(1,"div",14),h(2,"i",15),s(),a(3,"div",16)(4,"h4"),d(5),s(),a(6,"p"),d(7),s(),a(8,"span",17),d(9),s()(),a(10,"button",18),f("click",function(o){let r=C(e).$implicit,l=p(3);return w(l.removeNotification(o,r.id))}),h(11,"i",19),s()()}if(n&2){let e=t.$implicit,i=p(3);K("unread",!e.read),c(2),F("ngClass",i.getIcon(e.type)),c(3),x(e.title),c(2),x(e.message),c(2),x(i.formatTime(e.createdAt))}}function Qr(n,t){if(n&1&&ye(0,Zr,12,6,"div",12,Yr),n&2){let e=p(2);Me(e.notifications())}}function es(n,t){if(n&1){let e=S();a(0,"div",4)(1,"div",5)(2,"h3"),d(3,"Notifications"),s(),g(4,Jr,2,0,"button",6),s(),a(5,"div",7),g(6,Xr,4,0,"div",8)(7,Qr,2,0),s()(),a(8,"div",9),f("click",function(){C(e);let o=p();return w(o.close())}),s()}if(n&2){let e=p();c(4),_(e.notifications().length>0?4:-1),c(2),_(e.notifications().length===0?6:7)}}var zt=class n{notificationService=T(he);notifications=this.notificationService.notifications;unreadCount=this.notificationService.unreadCount;shareRequestClicked=$();isOpen=!1;togglePanel(){this.isOpen=!this.isOpen,this.isOpen&&this.notificationService.markAllAsRead()}close(){this.isOpen=!1}onNotificationClick(t){t.type==="share_request"&&t.data&&(this.shareRequestClicked.emit(t.data.id),this.close())}removeNotification(t,e){t.stopPropagation(),this.notificationService.removeNotification(e)}clearAll(){this.notificationService.clearAll()}getIcon(t){switch(t){case"share_request":return"pi-share-alt";case"share_accepted":return"pi-check-circle";case"share_rejected":return"pi-times-circle";default:return"pi-info-circle"}}formatTime(t){let e=Date.now()-t,i=Math.floor(e/6e4),o=Math.floor(e/36e5),r=Math.floor(e/864e5);return i<1?"Just now":i<60?`${i}m ago`:o<24?`${o}h ago`:`${r}d ago`}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=W({type:n,selectors:[["app-notifications"]],outputs:{shareRequestClicked:"shareRequestClicked"},decls:5,vars:4,consts:[[1,"notifications-container"],[1,"notification-bell",3,"click"],[1,"pi","pi-bell"],[1,"badge"],[1,"notification-panel","card","glass"],[1,"panel-header"],[1,"btn-text"],[1,"notification-list"],[1,"empty-state"],[1,"backdrop",3,"click"],[1,"btn-text",3,"click"],[1,"pi","pi-inbox"],[1,"notification-item",3,"unread"],[1,"notification-item",3,"click"],[1,"notification-icon"],[1,"pi",3,"ngClass"],[1,"notification-content"],[1,"time"],[1,"btn-close",3,"click"],[1,"pi","pi-times"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"button",1),f("click",function(){return i.togglePanel()}),h(2,"i",2),g(3,Kr,2,1,"span",3),s(),g(4,es,9,2),s()),e&2&&(c(),K("has-unread",i.unreadCount()>0),c(2),_(i.unreadCount()>0?3:-1),c(),_(i.isOpen?4:-1))},dependencies:[J,jn],styles:[".notifications-container[_ngcontent-%COMP%]{position:relative}.notification-bell[_ngcontent-%COMP%]{background:transparent;border:none;color:var(--text-color);cursor:pointer;padding:var(--sp-2);border-radius:var(--r-sm);position:relative;transition:all .2s ease}.notification-bell[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.3rem}.notification-bell[_ngcontent-%COMP%]:hover{background:var(--hover-bg-color);transform:scale(1.05)}.notification-bell.has-unread[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_ring .5s ease-in-out}.notification-bell[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{position:absolute;top:0;right:0;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;font-size:.7rem;font-weight:700;min-width:18px;height:18px;border-radius:50%;display:flex;align-items:center;justify-content:center}@keyframes _ngcontent-%COMP%_ring{0%,to{transform:rotate(0)}20%,60%{transform:rotate(15deg)}40%,80%{transform:rotate(-15deg)}}.notification-panel[_ngcontent-%COMP%]{position:absolute;top:calc(100% + var(--sp-2));right:0;width:360px;max-height:480px;z-index:9999;overflow:hidden;display:flex;flex-direction:column}.panel-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:var(--sp-3);border-bottom:1px solid var(--border-color)}.panel-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1rem}.panel-header[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{background:transparent;border:none;color:#667eea;cursor:pointer;font-size:.85rem}.panel-header[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]:hover{text-decoration:underline}.notification-list[_ngcontent-%COMP%]{overflow-y:auto;max-height:400px}.empty-state[_ngcontent-%COMP%]{padding:var(--sp-5);text-align:center;color:var(--text-color);opacity:.6}.empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:var(--sp-2)}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.notification-item[_ngcontent-%COMP%]{display:flex;gap:var(--sp-3);padding:var(--sp-3);border-bottom:1px solid var(--border-color);cursor:pointer;transition:background .2s ease}.notification-item[_ngcontent-%COMP%]:hover{background:var(--hover-bg-color)}.notification-item.unread[_ngcontent-%COMP%]{background:#667eea1a}.notification-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.notification-icon[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;background:var(--element-bg-color);display:flex;align-items:center;justify-content:center;flex-shrink:0}.notification-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem;color:var(--text-color)}.notification-content[_ngcontent-%COMP%]{flex:1;min-width:0}.notification-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 var(--sp-1) 0;font-size:.9rem;font-weight:600}.notification-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.85rem;color:var(--text-color);opacity:.8;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.notification-content[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-color);opacity:.5}.btn-close[_ngcontent-%COMP%]{background:transparent;border:none;color:var(--text-color);opacity:.5;cursor:pointer;padding:var(--sp-1)}.btn-close[_ngcontent-%COMP%]:hover{opacity:1}.backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:9998}@media (max-width: 480px){.notification-panel[_ngcontent-%COMP%]{position:fixed;inset:auto 0 0;width:100%;max-height:60vh;border-radius:var(--r-lg) var(--r-lg) 0 0}}"]})};var Wt=class n{encryptionService=T(wt);storageService=T(Ie);notificationService=T(he);web3Service=T(Ct);SHARE_FEE_ETH="0.0001";sendShareRequest(t,e){return N(this,null,function*(){try{let i=this.web3Service.walletState().address;if(!i)throw new Error("Wallet not connected");let o=yield this.storageService.hashWalletAddress(i),r=yield this.storageService.hashWalletAddress(e),l=JSON.stringify({title:t.title,username:t.username,password:t.password,url:t.url,notes:t.notes}),{encryptedData:u,iv:m}=yield this.encryptionService.encrypt(l),b="dev-mode-no-payment";nn.enablePayments===!0?b=yield this.sendPayment(e,this.SHARE_FEE_ETH):console.log("\u26A0\uFE0F Development mode: Payment skipped");let y={id:`share_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,fromWalletHash:o,toWalletHash:r,senderAddress:i,encryptedPassword:u,iv:m,sharedKey:"",txHash:b,status:"pending",createdAt:Date.now(),expiresAt:Date.now()+10080*60*1e3};return yield this.notificationService.saveShareRequest(y),this.notificationService.addNotification({type:"system",title:"Password Shared",message:`Password "${t.title}" sent to ${e.slice(0,6)}...${e.slice(-4)}`,data:{id:y.id,fromWalletHash:o,passwordTitle:t.title,createdAt:y.createdAt,expiresAt:y.expiresAt,txHash:b}}),(i.toLowerCase()===e.toLowerCase()||nn.enablePayments!==!0)&&this.notificationService.addNotification({type:"share_request",title:"New Password Shared",message:`${i.slice(0,6)}...${i.slice(-4)} shared "${t.title}" with you`,data:{id:y.id,fromWalletHash:o,passwordTitle:t.title,createdAt:y.createdAt,expiresAt:y.expiresAt,txHash:b}}),{success:!0,txHash:b}}catch(i){return console.error("Error sending share request:",i),{success:!1,error:i.message}}})}sendPayment(t,e){return N(this,null,function*(){if(!window.ethereum)throw new Error("MetaMask not installed");let r=yield(yield new Gn(window.ethereum).getSigner()).sendTransaction({to:t,value:Bn(e)});return yield r.wait(),r.hash})}acceptShareRequest(t){return N(this,null,function*(){try{let e=this.notificationService.getShareRequest(t);if(!e)throw new Error("Share request not found");let i=yield this.encryptionService.decrypt(e.encryptedPassword,e.iv),o=JSON.parse(i);return this.notificationService.updateShareRequestStatus(t,"accepted"),this.notificationService.addNotification({type:"share_accepted",title:"Password Received",message:`You accepted the password "${o.title}"`}),{type:"login",id:`pwd_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,title:o.title,username:o.username,password:o.password,url:o.url,notes:o.notes,createdAt:Date.now(),updatedAt:Date.now()}}catch(e){return console.error("Error accepting share request:",e),null}})}rejectShareRequest(t){this.notificationService.updateShareRequestStatus(t,"rejected"),this.notificationService.addNotification({type:"share_rejected",title:"Password Rejected",message:"You rejected an incoming password share"})}getShareFee(){return this.SHARE_FEE_ETH}isValidWalletAddress(t){return/^0x[a-fA-F0-9]{40}$/.test(t)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})};function ts(n,t){if(n&1&&(a(0,"div",9)(1,"span",11),d(2,"Transaction:"),s(),a(3,"a",12),d(4),s()()),n&2){let e,i=p(2);c(3),F("href","https://etherscan.io/tx/"+i.txHash(),Ae),c(),ce(" ",(e=i.txHash())==null?null:e.slice(0,10),"...",(e=i.txHash())==null?null:e.slice(-8)," ")}}function ns(n,t){if(n&1){let e=S();a(0,"div",6),h(1,"i",8),a(2,"h3"),d(3,"Password Sent!"),s(),a(4,"p"),d(5),s(),g(6,ts,5,3,"div",9),a(7,"button",10),f("click",function(){C(e);let o=p();return w(o.close())}),d(8,"Done"),s()()}if(n&2){let e=p();c(5),q('The password "',e.password().title,'" has been sent.'),c(),_(e.txHash()?6:-1)}}function is(n,t){if(n&1&&(a(0,"div",18),h(1,"i",24),a(2,"span"),d(3),s()()),n&2){let e=p(2);c(3),x(e.error())}}function os(n,t){n&1&&(h(0,"i",25),a(1,"span"),d(2,"Sending..."),s())}function rs(n,t){n&1&&(h(0,"i",26),a(1,"span"),d(2,"Send Password"),s())}function ss(n,t){if(n&1){let e=S();a(0,"div",7)(1,"div",13),h(2,"i",14),a(3,"span"),d(4),s()(),a(5,"div",15)(6,"label",16),d(7,"Recipient Wallet Address"),s(),a(8,"input",17),Ze("ngModelChange",function(o){C(e);let r=p();return Xe(r.recipientAddress,o)||(r.recipientAddress=o),w(o)}),s()(),g(9,is,4,1,"div",18),a(10,"div",19),h(11,"i",20),a(12,"span"),d(13,"A small fee of "),a(14,"strong"),d(15),s(),d(16," is required to prevent spam."),s()(),a(17,"div",21)(18,"button",22),f("click",function(){C(e);let o=p();return w(o.close())}),d(19,"Cancel"),s(),a(20,"button",23),f("click",function(){C(e);let o=p();return w(o.sendPassword())}),g(21,os,3,0)(22,rs,3,0),s()()()}if(n&2){let e=p();c(4),x(e.password().title),c(4),Je("ngModel",e.recipientAddress),F("disabled",e.isSending()),c(),_(e.error()?9:-1),c(6),q("",e.shareFee," ETH"),c(3),F("disabled",e.isSending()),c(2),F("disabled",e.isSending()||!e.recipientAddress()),c(),_(e.isSending()?21:22)}}var Yt=class n{shareService=T(Wt);password=Se.required();closed=$();recipientAddress=M("");isSending=M(!1);error=M(null);success=M(!1);txHash=M(null);shareFee=this.shareService.getShareFee();sendPassword(){return N(this,null,function*(){let t=this.recipientAddress().trim();if(!this.shareService.isValidWalletAddress(t)){this.error.set("Please enter a valid Ethereum wallet address (0x...)");return}this.isSending.set(!0),this.error.set(null);try{let e=yield this.shareService.sendShareRequest(this.password(),t);e.success?(this.success.set(!0),this.txHash.set(e.txHash||null)):this.error.set(e.error||"Failed to send password")}catch(e){this.error.set(e.message||"An error occurred")}finally{this.isSending.set(!1)}})}close(){this.closed.emit()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=W({type:n,selectors:[["app-share-dialog"]],inputs:{password:[1,"password"]},outputs:{closed:"closed"},decls:10,vars:1,consts:[[1,"dialog-backdrop",3,"click"],[1,"dialog","card","glass",3,"click"],[1,"dialog-header"],[1,"pi","pi-share-alt"],[1,"btn-close",3,"click"],[1,"pi","pi-times"],[1,"dialog-content","success-state"],[1,"dialog-content"],[1,"pi","pi-check-circle","success-icon"],[1,"tx-info"],[1,"btn","btn-primary",3,"click"],[1,"label"],["target","_blank","rel","noopener noreferrer",1,"tx-link",3,"href"],[1,"password-preview"],[1,"pi","pi-key"],[1,"form-group"],["for","recipient"],["id","recipient","name","recipient-address","type","text","placeholder","0x...",1,"input",3,"ngModelChange","ngModel","disabled"],[1,"error-message"],[1,"fee-info"],[1,"pi","pi-info-circle"],[1,"dialog-actions"],[1,"btn",3,"click","disabled"],[1,"btn","btn-primary",3,"click","disabled"],[1,"pi","pi-exclamation-circle"],[1,"pi","pi-spin","pi-spinner"],[1,"pi","pi-send"]],template:function(e,i){e&1&&(a(0,"div",0),f("click",function(){return i.close()}),a(1,"div",1),f("click",function(r){return r.stopPropagation()}),a(2,"div",2)(3,"h2"),h(4,"i",3),d(5," Share Password "),s(),a(6,"button",4),f("click",function(){return i.close()}),h(7,"i",5),s()(),g(8,ns,9,2,"div",6)(9,ss,23,8,"div",7),s()()),e&2&&(c(8),_(i.success()?8:9))},dependencies:[J,Re,me,Fe,st],styles:[".dialog-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000000b3;display:flex;align-items:center;justify-content:center;z-index:1000;padding:var(--sp-4)}.dialog[_ngcontent-%COMP%]{width:100%;max-width:480px;animation:_ngcontent-%COMP%_slideIn .2s ease-out}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}.dialog-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-bottom:var(--sp-3);border-bottom:1px solid var(--border-color);margin-bottom:var(--sp-4)}.dialog-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.3rem;display:flex;align-items:center;gap:var(--sp-2)}.dialog-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#667eea}.dialog-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{background:transparent;border:none;color:var(--text-color);cursor:pointer;padding:var(--sp-2);border-radius:var(--r-sm)}.dialog-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover{background:var(--hover-bg-color)}.dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--sp-4)}.password-preview[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--sp-2);padding:var(--sp-3);background:var(--element-bg-color);border-radius:var(--r-sm);border:1px solid var(--border-color)}.password-preview[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--text-color);opacity:.6}.password-preview[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:var(--sp-2);font-weight:600;color:var(--text-color)}.form-group[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{width:100%;font-family:monospace}.error-message[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--sp-2);padding:var(--sp-3);background:#f443361a;border:1px solid rgba(244,67,54,.3);border-radius:var(--r-sm);color:#f44336}.error-message[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{flex-shrink:0}.fee-info[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:var(--sp-2);padding:var(--sp-3);background:#667eea1a;border:1px solid rgba(102,126,234,.3);border-radius:var(--r-sm);color:var(--text-color);font-size:.9rem}.fee-info[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#667eea;flex-shrink:0;margin-top:2px}.fee-info[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#667eea}.dialog-actions[_ngcontent-%COMP%]{display:flex;gap:var(--sp-3);margin-top:var(--sp-2)}.dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center;gap:var(--sp-2)}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);border:none;color:#fff;font-weight:600}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:var(--shadow-pop)}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.success-state[_ngcontent-%COMP%]{text-align:center;padding:var(--sp-4) 0}.success-state[_ngcontent-%COMP%]   .success-icon[_ngcontent-%COMP%]{font-size:4rem;color:#10b981;margin-bottom:var(--sp-3)}.success-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 var(--sp-2) 0;color:var(--text-color)}.success-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-color);opacity:.8;margin-bottom:var(--sp-4)}.success-state[_ngcontent-%COMP%]   .tx-info[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:var(--sp-2);margin-bottom:var(--sp-4);font-size:.9rem}.success-state[_ngcontent-%COMP%]   .tx-info[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:var(--text-color);opacity:.6}.success-state[_ngcontent-%COMP%]   .tx-info[_ngcontent-%COMP%]   .tx-link[_ngcontent-%COMP%]{color:#667eea;text-decoration:none;font-family:monospace}.success-state[_ngcontent-%COMP%]   .tx-info[_ngcontent-%COMP%]   .tx-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.success-state[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{min-width:120px}"]})};function as(n,t){if(n&1&&d(0),n&2){let e=p(2);q(" ",e.password.password," ")}}function ls(n,t){n&1&&d(0," \u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022 ")}function cs(n,t){if(n&1&&(V(0,"div",14)(1,"span",15),d(2,"URL:"),k(),V(3,"a",25),d(4),k()()),n&2){let e=p(2);c(3),bt("href",e.password.url,Ae),c(),q(" ",e.password.url," ")}}function ds(n,t){if(n&1&&(V(0,"div",14)(1,"span",15),d(2,"Notes:"),k(),V(3,"span",16),d(4),k()()),n&2){let e=p(2);c(4),x(e.password.notes)}}function us(n,t){n&1&&(G(0,"i",26),V(1,"span"),d(2,"Saving..."),k())}function ps(n,t){n&1&&(G(0,"i",27),V(1,"span"),d(2,"Save to Vault"),k())}function ms(n,t){if(n&1){let e=S();V(0,"div",10)(1,"div",11),G(2,"i",12),V(3,"h3"),d(4),k()(),V(5,"div",13)(6,"div",14)(7,"span",15),d(8,"Username:"),k(),V(9,"span",16),d(10),k(),V(11,"button",17),ne("click",function(){C(e);let o=p();return w(o.copyToClipboard(o.password.username))}),G(12,"i",18),k()(),V(13,"div",14)(14,"span",15),d(15,"Password:"),k(),V(16,"span",16),g(17,as,1,1)(18,ls,1,0),k(),V(19,"button",19),ne("click",function(){C(e);let o=p();return w(o.togglePasswordVisibility())}),G(20,"i",20),k(),V(21,"button",21),ne("click",function(){C(e);let o=p();return w(o.copyToClipboard(o.password.password))}),G(22,"i",18),k()(),g(23,cs,5,2,"div",14),g(24,ds,5,1,"div",14),k()(),V(25,"div",22)(26,"button",23),ne("click",function(){C(e);let o=p();return w(o.reject())}),G(27,"i",5),V(28,"span"),d(29,"Decline"),k()(),V(30,"button",24),ne("click",function(){C(e);let o=p();return w(o.saveToVault())}),g(31,us,3,0)(32,ps,3,0),k()()}if(n&2){let e=p();c(4),x(e.password.title),c(6),x(e.password.username),c(7),_(e.showPassword()?17:18),c(2),bt("title",e.showPassword()?"Hide password":"Show password"),c(),K("pi-eye",!e.showPassword())("pi-eye-slash",e.showPassword()),c(3),_(e.password.url?23:-1),c(),_(e.password.notes?24:-1),c(6),bt("disabled",e.isSaving()),c(),_(e.isSaving()?31:32)}}function hs(n,t){n&1&&(V(0,"div",9),G(1,"i",28),V(2,"p"),d(3,"Unable to decrypt password data"),k()())}var Kt=class n{shareRequest=Se.required();accepted=$();rejected=$();closed=$();showPassword=M(!1);isSaving=M(!1);get password(){return this.shareRequest().password||null}togglePasswordVisibility(){this.showPassword.update(t=>!t)}copyToClipboard(t){navigator.clipboard.writeText(t)}saveToVault(){this.password&&(this.isSaving.set(!0),this.accepted.emit(this.password))}reject(){this.rejected.emit()}close(){this.closed.emit()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=W({type:n,selectors:[["app-receive-dialog"]],inputs:{shareRequest:[1,"shareRequest"]},outputs:{accepted:"accepted",rejected:"rejected",closed:"closed"},decls:15,vars:3,consts:[[1,"dialog-backdrop",3,"click"],[1,"dialog","card","glass",3,"click"],[1,"dialog-header"],[1,"pi","pi-inbox"],[1,"btn-close",3,"click"],[1,"pi","pi-times"],[1,"dialog-content"],[1,"sender-info"],[1,"pi","pi-user"],[1,"error-state"],[1,"password-card"],[1,"password-header"],[1,"pi","pi-key"],[1,"password-details"],[1,"detail-row"],[1,"label"],[1,"value"],["title","Copy username",1,"btn-icon",3,"click"],[1,"pi","pi-copy"],[1,"btn-icon",3,"click","title"],[1,"pi"],["title","Copy password",1,"btn-icon",3,"click"],[1,"dialog-actions"],[1,"btn",3,"click"],[1,"btn","btn-primary",3,"click","disabled"],["target","_blank","rel","noopener noreferrer",1,"value","link",3,"href"],[1,"pi","pi-spin","pi-spinner"],[1,"pi","pi-save"],[1,"pi","pi-exclamation-triangle"]],template:function(e,i){e&1&&(V(0,"div",0),ne("click",function(){return i.close()}),V(1,"div",1),ne("click",function(r){return r.stopPropagation()}),V(2,"div",2)(3,"h2"),G(4,"i",3),d(5," Password Received "),k(),V(6,"button",4),ne("click",function(){return i.close()}),G(7,"i",5),k()(),V(8,"div",6)(9,"div",7),G(10,"i",8),V(11,"span"),d(12),k()(),g(13,ms,33,12)(14,hs,4,0,"div",9),k()()()),e&2&&(c(12),ce("From: ",i.shareRequest().senderAddress.slice(0,6),"...",i.shareRequest().senderAddress.slice(-4)),c(),_(i.password?13:14))},dependencies:[J],styles:[".dialog-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000000b3;display:flex;align-items:center;justify-content:center;z-index:1000;padding:var(--sp-4)}.dialog[_ngcontent-%COMP%]{width:100%;max-width:520px;animation:_ngcontent-%COMP%_slideIn .2s ease-out}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}.dialog-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-bottom:var(--sp-3);border-bottom:1px solid var(--border-color);margin-bottom:var(--sp-4)}.dialog-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.3rem;display:flex;align-items:center;gap:var(--sp-2)}.dialog-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#10b981}.dialog-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{background:transparent;border:none;color:var(--text-color);cursor:pointer;padding:var(--sp-2);border-radius:var(--r-sm)}.dialog-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover{background:var(--hover-bg-color)}.dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--sp-4)}.sender-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--sp-2);padding:var(--sp-3);background:#667eea1a;border:1px solid rgba(102,126,234,.3);border-radius:var(--r-sm);font-size:.9rem}.sender-info[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#667eea}.password-card[_ngcontent-%COMP%]{background:var(--element-bg-color);border:1px solid var(--border-color);border-radius:var(--r-sm);overflow:hidden}.password-card[_ngcontent-%COMP%]   .password-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--sp-2);padding:var(--sp-3);background:#667eea0d;border-bottom:1px solid var(--border-color)}.password-card[_ngcontent-%COMP%]   .password-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#667eea}.password-card[_ngcontent-%COMP%]   .password-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.1rem}.password-card[_ngcontent-%COMP%]   .password-details[_ngcontent-%COMP%]{padding:var(--sp-3)}.detail-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--sp-2);padding:var(--sp-2) 0;border-bottom:1px solid var(--border-color)}.detail-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.detail-row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-weight:600;color:var(--text-color);opacity:.7;min-width:90px;flex-shrink:0}.detail-row[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{flex:1;word-break:break-all}.detail-row[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{color:#667eea;text-decoration:none}.detail-row[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]:hover{text-decoration:underline}.detail-row[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{background:transparent;border:none;color:var(--text-color);cursor:pointer;padding:var(--sp-1);border-radius:var(--r-sm);opacity:.6;flex-shrink:0}.detail-row[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]:hover{background:var(--hover-bg-color);opacity:1}.dialog-actions[_ngcontent-%COMP%]{display:flex;gap:var(--sp-3);margin-top:var(--sp-2)}.dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center;gap:var(--sp-2)}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);border:none;color:#fff;font-weight:600}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:var(--shadow-pop)}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.error-state[_ngcontent-%COMP%]{text-align:center;padding:var(--sp-6);color:var(--text-color);opacity:.7}.error-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;color:#f44336;margin-bottom:var(--sp-3)}.error-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}"]})};var Yi=(n,t)=>t.value,Ki=(n,t)=>t.id;function fs(n,t){if(n&1&&(a(0,"span",10),d(1),s()),n&2){let e=p();c(),x(e.get2FAItems().length)}}function gs(n,t){if(n&1){let e=S();a(0,"div",40),f("click",function(){C(e);let o=p().$implicit,r=p(3);return w(r.addNewPasswordWithType(o.value))}),a(1,"div",41),h(2,"i"),s(),a(3,"span"),d(4),s()()}if(n&2){let e=p().$implicit;c(2),ie("pi "+e.icon),c(2),x(e.label)}}function _s(n,t){if(n&1&&g(0,gs,5,3,"div",39),n&2){let e=t.$implicit;_(e.value!=="all"?0:-1)}}function bs(n,t){if(n&1){let e=S();a(0,"div",35)(1,"div",36)(2,"span"),d(3,"New Item"),s()(),a(4,"div",37),ye(5,_s,1,1,null,null,Yi),s()(),a(7,"div",38),f("click",function(){C(e);let o=p(2);return w(o.showAddDropdown.set(!1))}),s()}if(n&2){let e=p(2);c(5),Me(e.itemTypeOptions.slice(1))}}function vs(n,t){if(n&1&&(a(0,"option",30),d(1),s()),n&2){let e=t.$implicit;F("value",e.value),c(),q(" ",e.label," ")}}function Cs(n,t){n&1&&(a(0,"div",32),h(1,"i",42),a(2,"p"),d(3,"Loading vault..."),s()())}function ws(n,t){n&1&&(a(0,"div",33),h(1,"i",43),a(2,"h3"),d(3,"Your vault is empty"),s(),a(4,"p"),d(5,"Add a login to get started."),s()())}function xs(n,t){if(n&1&&(a(0,"div",52),d(1),s()),n&2){let e=p().$implicit;c(),x(e.username)}}function ys(n,t){if(n&1&&(a(0,"div",52),d(1),s()),n&2){let e=p().$implicit,i=p(3);c(),q("\u2022\u2022\u2022\u2022 ",i.getLastFourDigits(e.cardNumber))}}function Ms(n,t){if(n&1&&(a(0,"div",52),d(1),s()),n&2){let e=p().$implicit,i=p(3);c(),x(i.getAddressPreview(e))}}function Ps(n,t){if(n&1){let e=S();a(0,"button",55),f("click",function(o){C(e);let r=p().$implicit;return p(3).copyToClipboard(r.username,"Username"),w(o.stopPropagation())}),h(1,"i",56),s(),a(2,"button",57),f("click",function(o){C(e);let r=p().$implicit;return p(3).copyToClipboard(r.password,"Password"),w(o.stopPropagation())}),h(3,"i",58),s()}}function Ss(n,t){if(n&1){let e=S();a(0,"button",59),f("click",function(o){C(e);let r=p().$implicit;return p(3).copyToClipboard(r.cardNumber,"Card number"),w(o.stopPropagation())}),h(1,"i",60),s()}}function Os(n,t){if(n&1){let e=S();a(0,"div",48),f("click",function(){let o=C(e).$implicit,r=p(3);return w(r.selectPassword(o))}),a(1,"div",49),h(2,"i"),s(),a(3,"div",50)(4,"div",51),d(5),s(),g(6,xs,2,1,"div",52)(7,ys,2,1,"div",52)(8,Ms,2,1,"div",52),s(),a(9,"div",53),g(10,Ps,4,0)(11,Ss,2,0,"button",54),s()()}if(n&2){let e=t.$implicit,i=p(3);K("selected",i.selectedPasswordId()===e.id),c(2),ie(i.getItemIcon(e)),c(3),x(e.title),c(),_(e.type==="login"?6:e.type==="card"?7:e.type==="address"?8:-1),c(4),_(e.type==="login"?10:e.type==="card"?11:-1)}}function Vs(n,t){if(n&1&&(a(0,"div",34)(1,"div",44)(2,"div",45)(3,"span"),d(4),s(),a(5,"span",46),d(6),s()(),ye(7,Os,12,7,"div",47,Ki),s()()),n&2){let e=p(2);c(4),x(e.getSectionTitle()),c(2),x(e.filteredPasswords().length),c(),Me(e.filteredPasswords())}}function Es(n,t){if(n&1){let e=S();a(0,"div",15)(1,"div",20)(2,"div",21),h(3,"i",22),a(4,"input",23),Ze("ngModelChange",function(o){C(e);let r=p();return Xe(r.searchTerm,o)||(r.searchTerm=o),w(o)}),s()(),a(5,"div",24)(6,"button",25),f("click",function(o){return C(e),p().toggleAddDropdown(),w(o.stopPropagation())}),h(7,"i",26),s(),g(8,bs,8,0),s()(),a(9,"div",27)(10,"div",28)(11,"select",29),Ze("ngModelChange",function(o){C(e);let r=p();return Xe(r.selectedItemType,o)||(r.selectedItemType=o),w(o)}),ye(12,vs,2,2,"option",30,Yi),s(),h(14,"i",31),s()(),g(15,Cs,4,0,"div",32)(16,ws,6,0,"div",33)(17,Vs,9,2,"div",34),s()}if(n&2){let e=p();c(4),Je("ngModel",e.searchTerm),c(4),_(e.showAddDropdown()?8:-1),c(3),Je("ngModel",e.selectedItemType),c(),Me(e.itemTypeOptions),c(3),_(e.isLoading()?15:e.filteredPasswords().length===0?16:17)}}function As(n,t){if(n&1){let e=S();a(0,"div",16)(1,"app-add-password",61),f("passwordSaved",function(o){C(e);let r=p();return w(r.onPasswordSaved(o))})("cancelled",function(){C(e);let o=p();return w(o.onCancelAdd())}),s()()}if(n&2){let e=p();c(),F("password",e.selectedPassword())("initialItemType",e.newItemType())}}function Ds(n,t){if(n&1){let e=S();a(0,"button",74),f("click",function(){C(e);let o=p(2);return w(o.openShareDialog(o.selectedPassword()))}),h(1,"i",75),s()}}function Is(n,t){if(n&1&&(a(0,"div",73)(1,"div",76),d(2,"URI"),s(),a(3,"div",77)(4,"a",81),d(5),s()()()),n&2){let e=p(3);c(4),F("href",e.selectedPassword().url,Ae),c(),q(" ",e.selectedPassword().url," ")}}function ks(n,t){if(n&1){let e=S();a(0,"div",73)(1,"div",76),d(2,"Username"),s(),a(3,"div",77)(4,"span"),d(5),s(),a(6,"button",78),f("click",function(){C(e);let o=p(2);return w(o.copyToClipboard(o.selectedPassword().username,"Username"))}),h(7,"i",60),s()()(),a(8,"div",73)(9,"div",76),d(10,"Password"),s(),a(11,"div",77)(12,"span",79),d(13),s(),a(14,"button",80),f("click",function(){C(e);let o=p(2);return w(o.toggleDetailPassword())}),h(15,"i"),s(),a(16,"button",78),f("click",function(){C(e);let o=p(2);return w(o.copyToClipboard(o.selectedPassword().password,"Password"))}),h(17,"i",60),s()()(),g(18,Is,6,2,"div",73)}if(n&2){let e=p(2);c(5),x(e.selectedPassword().username),c(8),x(e.showDetailPassword()?e.selectedPassword().password:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"),c(2),ie(e.showDetailPassword()?"pi pi-eye-slash":"pi pi-eye"),c(3),_(e.selectedPassword().url?18:-1)}}function Ts(n,t){if(n&1&&(a(0,"div",73)(1,"div",76),d(2,"Note Content"),s(),a(3,"div",77)(4,"div",82),d(5),s()()()),n&2){let e=p(2);c(5),x(e.selectedPassword().content)}}function Ns(n,t){if(n&1&&(a(0,"div",73)(1,"div",76),d(2,"Expiration"),s(),a(3,"div",77)(4,"span"),d(5),s()()()),n&2){let e=p(3);c(5),ce("",e.selectedPassword().expirationMonth," / ",e.selectedPassword().expirationYear)}}function Fs(n,t){if(n&1){let e=S();a(0,"div",73)(1,"div",76),d(2,"CVV"),s(),a(3,"div",77)(4,"span",79),d(5),s(),a(6,"button",80),f("click",function(){C(e);let o=p(3);return w(o.toggleDetailPassword())}),h(7,"i"),s()()()}if(n&2){let e=p(3);c(5),x(e.showDetailPassword()?e.selectedPassword().cvv:"\u2022\u2022\u2022"),c(2),ie(e.showDetailPassword()?"pi pi-eye-slash":"pi pi-eye")}}function Rs(n,t){if(n&1){let e=S();a(0,"div",73)(1,"div",76),d(2,"Cardholder Name"),s(),a(3,"div",77)(4,"span"),d(5),s()()(),a(6,"div",73)(7,"div",76),d(8,"Card Number"),s(),a(9,"div",77)(10,"span",79),d(11),s(),a(12,"button",80),f("click",function(){C(e);let o=p(2);return w(o.toggleDetailPassword())}),h(13,"i"),s(),a(14,"button",78),f("click",function(){C(e);let o=p(2);return w(o.copyToClipboard(o.selectedPassword().cardNumber,"Card number"))}),h(15,"i",60),s()()(),g(16,Ns,6,2,"div",73),g(17,Fs,8,3,"div",73)}if(n&2){let e=p(2);c(5),x(e.selectedPassword().cardholderName),c(6),x(e.showDetailPassword()?e.selectedPassword().cardNumber:"\u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022 "+e.getLastFourDigits(e.selectedPassword().cardNumber)),c(2),ie(e.showDetailPassword()?"pi pi-eye-slash":"pi pi-eye"),c(3),_(e.selectedPassword().expirationMonth&&e.selectedPassword().expirationYear?16:-1),c(),_(e.selectedPassword().cvv?17:-1)}}function Ls(n,t){if(n&1&&(a(0,"div",73)(1,"div",76),d(2,"Name"),s(),a(3,"div",77)(4,"span"),d(5),s()()()),n&2){let e=p(3);c(5),ce("",e.selectedPassword().firstName," ",e.selectedPassword().lastName)}}function Hs(n,t){if(n&1&&(a(0,"div"),d(1),s()),n&2){let e=p(3);c(),x(e.selectedPassword().addressLine2)}}function js(n,t){if(n&1&&d(0),n&2){let e=p(3);q(", ",e.selectedPassword().state)}}function Us(n,t){if(n&1&&(a(0,"div"),d(1),s()),n&2){let e=p(3);c(),x(e.selectedPassword().postalCode)}}function Bs(n,t){if(n&1&&(g(0,Ls,6,2,"div",73),a(1,"div",73)(2,"div",76),d(3,"Address"),s(),a(4,"div",77)(5,"div",83)(6,"div"),d(7),s(),g(8,Hs,2,1,"div"),a(9,"div"),d(10),g(11,js,1,1),s(),g(12,Us,2,1,"div"),a(13,"div"),d(14),s()()()()),n&2){let e=p(2);_(e.selectedPassword().firstName||e.selectedPassword().lastName?0:-1),c(7),x(e.selectedPassword().addressLine1),c(),_(e.selectedPassword().addressLine2?8:-1),c(2),x(e.selectedPassword().city),c(),_(e.selectedPassword().state?11:-1),c(),_(e.selectedPassword().postalCode?12:-1),c(2),x(e.selectedPassword().country)}}function Gs(n,t){if(n&1&&(a(0,"div",73)(1,"div",76),d(2,"Notes"),s(),a(3,"div",77)(4,"div",84),d(5),s()()()),n&2){let e=p(2);c(5),x(e.selectedPassword().notes)}}function qs(n,t){if(n&1){let e=S();a(0,"div",16)(1,"div",62)(2,"div",63)(3,"h2"),d(4),s(),a(5,"div",64),g(6,Ds,2,0,"button",65),a(7,"button",66),f("click",function(){C(e);let o=p();return w(o.editPassword(o.selectedPassword()))}),h(8,"i",67),s(),a(9,"button",68),f("click",function(){C(e);let o=p();return o.deletePassword(o.selectedPassword().id),w(o.clearSelection())}),h(10,"i",69),s(),a(11,"button",70),f("click",function(){C(e);let o=p();return w(o.clearSelection())}),h(12,"i",71),s()()(),a(13,"div",72),g(14,ks,19,5)(15,Ts,6,1,"div",73)(16,Rs,18,6)(17,Bs,15,7),g(18,Gs,6,1,"div",73),s()()()}if(n&2){let e=p();c(4),x(e.selectedPassword().title),c(2),_(e.isLogin(e.selectedPassword())?6:-1),c(8),_(e.isLogin(e.selectedPassword())?14:e.isNote(e.selectedPassword())?15:e.isCard(e.selectedPassword())?16:e.isAddress(e.selectedPassword())?17:-1),c(4),_(e.selectedPassword().notes?18:-1)}}function $s(n,t){if(n&1){let e=S();a(0,"app-share-dialog",85),f("closed",function(){C(e);let o=p();return w(o.closeShareDialog())}),s()}if(n&2){let e=p();F("password",e.passwordToShare())}}function zs(n,t){if(n&1){let e=S();a(0,"app-receive-dialog",86),f("accepted",function(o){C(e);let r=p();return w(r.onShareAccepted(o))})("rejected",function(){C(e);let o=p();return w(o.onShareRejected())})("closed",function(){C(e);let o=p();return w(o.closeReceiveDialog())}),s()}if(n&2){let e=p();F("shareRequest",e.pendingShareRequest())}}function Ws(n,t){n&1&&(a(0,"div",92),h(1,"i",9),a(2,"p"),d(3,"No 2FA codes found"),s(),a(4,"span"),d(5,"Add TOTP secret to your login items to see codes here"),s()())}function Ys(n,t){if(n&1&&(a(0,"div",99),d(1),s()),n&2){let e=p().$implicit;c(),x(e.username)}}function Ks(n,t){if(n&1){let e=S();a(0,"div",95),f("click",function(){let o=C(e).$implicit,r=p(3);return w(r.copyToClipboard(r.getTotpCode(o.totp),"2FA Code"))}),a(1,"div",96)(2,"div",97),h(3,"i",98),a(4,"span"),d(5),s()(),g(6,Ys,2,1,"div",99),s(),a(7,"div",100)(8,"div",101),d(9),s(),a(10,"div",102),h(11,"div",103),s(),a(12,"div",104),d(13),s()()()}if(n&2){let e=t.$implicit,i=p(3);c(5),x(e.title),c(),_(e.username?6:-1),c(3),x(i.getTotpCode(e.totp)),c(2),vt("width",i.getTotpProgress(),"%"),c(2),q("",i.getTotpRemaining(),"s")}}function Js(n,t){if(n&1&&(a(0,"div",93),ye(1,Ks,14,6,"div",94,Ki),s()),n&2){let e=p(2);c(),Me(e.get2FAItems())}}function Xs(n,t){if(n&1){let e=S();a(0,"div",87),f("click",function(){C(e);let o=p();return w(o.close2FATab())}),a(1,"div",88),f("click",function(o){return C(e),w(o.stopPropagation())}),a(2,"div",89)(3,"h2"),h(4,"i",9),d(5," Authenticator"),s(),a(6,"button",90),f("click",function(){C(e);let o=p();return w(o.close2FATab())}),h(7,"i",71),s()(),a(8,"div",91),g(9,Ws,6,0,"div",92)(10,Js,3,0,"div",93),s()()()}if(n&2){let e=p();c(9),_(e.get2FAItems().length===0?9:10)}}var Wi=class n{web3Service=T(Ct);encryptionService=T(wt);storageService=T(Ie);notificationService=T(he);totpService=T($e);router=T(Un);totpInterval;passwords=M([]);searchTerm=M("");selectedItemType=M("all");isLoading=M(!1);isSaving=M(!1);showAddForm=M(!1);selectedPassword=M(null);selectedPasswordId=M(null);showDetailPassword=M(!1);walletState=this.web3Service.walletState;showAddDropdown=M(!1);newItemType=M("login");itemTypeOptions=[{value:"all",label:"All Items",icon:"pi-th-large"},{value:"login",label:"Login",icon:"pi-key"},{value:"note",label:"Secure Note",icon:"pi-file"},{value:"address",label:"Address",icon:"pi-map-marker"},{value:"card",label:"Card",icon:"pi-credit-card"}];show2FATab=M(!1);is2FAUnlocked=M(!1);twoFAPassword=M("");twoFAPasswordError=M(null);showShareDialog=M(!1);passwordToShare=M(null);showReceiveDialog=M(!1);pendingShareRequest=M(null);lastSyncTime=M(null);syncError=M(null);totpTimer=M(30);filteredPasswords=oe(()=>{let t=this.searchTerm().toLowerCase(),e=this.selectedItemType(),i=this.passwords();return e!=="all"&&(i=i.filter(o=>o.type===e)),t?i.filter(o=>o.title.toLowerCase().includes(t)||o.type==="login"&&o.username.toLowerCase().includes(t)||o.type==="login"&&o.url?.toLowerCase().includes(t)):i});ngOnInit(){return N(this,null,function*(){if(!this.walletState().isConnected){yield this.router.navigate(["/login"]);return}yield this.loadVault(),this.totpInterval=setInterval(()=>{this.totpTimer.set(this.totpService.getRemainingSeconds())},1e3)})}ngOnDestroy(){this.totpInterval&&clearInterval(this.totpInterval)}loadVault(){return N(this,null,function*(){this.isLoading.set(!0);try{let t=this.walletState().address;if(!t)throw new Error("No wallet address");let e=yield this.storageService.getLatestVault(t);if(e&&e.passwords.length>0){let i=[];for(let o of e.passwords)try{let r=yield this.encryptionService.decryptPassword(o);i.push(r)}catch{console.warn("Skipping password that cannot be decrypted (wrong key):",o.id)}this.passwords.set(i),this.lastSyncTime.set(e.updatedAt),this.syncToExtension(),i.length<e.passwords.length&&this.notificationService.addNotification({type:"system",title:"Warnung",message:`${e.passwords.length-i.length} Passw\xF6rter konnten nicht entschl\xFCsselt werden. Sie wurden m\xF6glicherweise mit einer anderen Wallet erstellt.`})}}catch(t){console.error("Error loading vault:",t),this.notificationService.addNotification({type:"system",title:"Fehler",message:"Fehler beim Laden des Vaults. Bitte melde dich erneut an."})}finally{this.isLoading.set(!1)}})}syncVault(){return N(this,null,function*(){this.isSaving.set(!0),this.syncError.set(null);try{let t=this.walletState().address;if(!t)throw new Error("No wallet address");let e=yield Promise.all(this.passwords().map(o=>this.encryptionService.encryptPassword(o))),i={version:"1.0.0",walletAddress:t,passwords:e,createdAt:Date.now(),updatedAt:Date.now()};yield this.storageService.uploadVault(i),this.lastSyncTime.set(Date.now())}catch(t){throw console.error("Error syncing vault:",t),this.syncError.set(t.message),t}finally{this.isSaving.set(!1)}})}autoSave(){return N(this,null,function*(){try{yield this.syncVault(),this.syncToExtension()}catch{}})}syncToExtension(){try{let t=this.passwords();window.postMessage({type:"CRYPTOPASS_VAULT_UPDATE",vault:t},"*")}catch{}}toggleAddDropdown(){this.showAddDropdown.update(t=>!t)}addNewPasswordWithType(t){this.newItemType.set(t),this.selectedPassword.set(null),this.showAddForm.set(!0),this.showAddDropdown.set(!1)}addNewPassword(){this.selectedPassword.set(null),this.showAddForm.set(!0)}editPassword(t){this.selectedPassword.set(t),this.showAddForm.set(!0)}deletePassword(t){return N(this,null,function*(){if(confirm("Are you sure you want to delete this password?"))try{this.passwords.update(e=>e.filter(i=>i.id!==t)),this.selectedPasswordId()===t&&this.clearSelection(),yield this.storageService.deleteEntry(t),this.syncToExtension()}catch(e){console.error("Error deleting password:",e),yield this.loadVault(),this.notificationService.addNotification({type:"system",title:"Fehler",message:"Fehler beim L\xF6schen des Passworts: "+e.message})}})}onPasswordSaved(t){return N(this,null,function*(){this.selectedPassword()?this.passwords.update(e=>e.map(i=>i.id===t.id?t:i)):this.passwords.update(e=>[...e,t]),this.showAddForm.set(!1),this.selectedPassword.set(null),yield this.autoSave()})}onCancelAdd(){this.showAddForm.set(!1),this.selectedPassword.set(null)}openShareDialog(t){t.type==="login"&&(this.passwordToShare.set(t),this.showShareDialog.set(!0))}closeShareDialog(){this.showShareDialog.set(!1),this.passwordToShare.set(null)}onShareRequestClicked(t){return N(this,null,function*(){let e=this.notificationService.getShareRequest(t);if(e)try{let i=yield this.encryptionService.decrypt(e.encryptedPassword,e.iv),o=JSON.parse(i),r=I(E({},e),{password:I(E({id:crypto.randomUUID()},o),{createdAt:Date.now(),updatedAt:Date.now()})});this.pendingShareRequest.set(r),this.showReceiveDialog.set(!0)}catch(i){console.error("Unable to decrypt password data:",i),this.notificationService.addNotification({type:"system",title:"Error",message:"Unable to decrypt password data. It may have been encrypted with a different key."})}})}closeReceiveDialog(){this.showReceiveDialog.set(!1),this.pendingShareRequest.set(null)}onShareAccepted(t){return N(this,null,function*(){let e=I(E({},t),{id:crypto.randomUUID(),createdAt:Date.now(),updatedAt:Date.now()});this.passwords.update(o=>[...o,e]),this.closeReceiveDialog();let i=this.pendingShareRequest();i&&this.notificationService.removeShareRequest(i.id),yield this.autoSave()})}onShareRejected(){let t=this.pendingShareRequest();t&&this.notificationService.removeShareRequest(t.id),this.closeReceiveDialog()}logout(){return N(this,null,function*(){yield this.web3Service.disconnect(),this.encryptionService.clearMasterKey(),this.passwords.set([]),yield this.router.navigate(["/login"])})}copyToClipboard(t,e){navigator.clipboard.writeText(t).then(()=>{},i=>{console.error("Could not copy text: ",i)})}formatSyncTime(){let t=this.lastSyncTime();if(!t)return"Never";let e=Date.now()-t,i=Math.floor(e/6e4),o=Math.floor(e/36e5);return i<1?"Just now":i<60?`${i}m ago`:o<24?`${o}h ago`:new Date(t).toLocaleDateString()}selectPassword(t){this.selectedPassword.set(t),this.selectedPasswordId.set(t.id),this.showDetailPassword.set(!1)}getItemIcon(t){return{login:"pi pi-globe",note:"pi pi-file",address:"pi pi-map-marker",card:"pi pi-credit-card"}[t.type]||"pi pi-globe"}getSectionTitle(){let t=this.selectedItemType();return t==="all"?"All Items":this.itemTypeOptions.find(i=>i.value===t)?.label||"Items"}getItemTypeDescription(t){return{login:"Store website credentials",note:"Save private text notes",address:"Store address information",card:"Save payment card details"}[t]||""}getTotpTimer(){return this.totpTimer()}getLastFourDigits(t){return t?t.slice(-4):"****"}getAddressPreview(t){return t.type!=="address"?"":`${t.city}, ${t.country}`}isLogin(t){return t?.type==="login"}isNote(t){return t?.type==="note"}isAddress(t){return t?.type==="address"}isCard(t){return t?.type==="card"}open2FATab(){this.show2FATab.set(!0),this.twoFAPasswordError.set(null)}close2FATab(){this.show2FATab.set(!1),this.is2FAUnlocked.set(!1),this.twoFAPassword.set(""),this.twoFAPasswordError.set(null)}unlock2FA(){if(this.twoFAPassword().length<4){this.twoFAPasswordError.set("Password must be at least 4 characters");return}this.is2FAUnlocked.set(!0),this.twoFAPasswordError.set(null)}get2FAItems(){return this.passwords().filter(t=>t.type==="login"&&t.totp)}getTotpCode(t){try{return this.totpService.generateCode(t)}catch{return"------"}}getTotpRemaining(){return this.totpService.getRemainingSeconds()}getTotpProgress(){return this.getTotpRemaining()/30*100}clearSelection(){this.selectedPassword.set(null),this.selectedPasswordId.set(null),this.showDetailPassword.set(!1)}toggleDetailPassword(){this.showDetailPassword.update(t=>!t)}goToVault(){this.showAddForm.set(!1),this.clearSelection()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=W({type:n,selectors:[["app-vault"]],decls:25,vars:10,consts:[[1,"bitwarden-vault"],[1,"bw-header"],[1,"bw-header-left"],[1,"logo-clickable",3,"click"],[1,"wallet-badge"],[1,"pi","pi-wallet"],[1,"bw-header-right"],[3,"shareRequestClicked"],["title","Authenticator",1,"bw-header-btn",3,"click"],[1,"pi","pi-stopwatch"],[1,"badge"],["title","Sync vault",1,"bw-header-btn",3,"click","disabled"],["title","Logout",1,"bw-header-btn",3,"click"],[1,"pi","pi-sign-out"],[1,"bw-content"],[1,"bw-list-container"],[1,"bw-detail-container"],[3,"password"],[3,"shareRequest"],[1,"bw-modal-overlay"],[1,"bw-list-header"],[1,"bw-search"],[1,"pi","pi-search"],["id","vault-search","name","search","type","text","placeholder","Search vault...",3,"ngModelChange","ngModel"],[1,"bw-add-wrapper"],[1,"bw-btn-add",3,"click"],[1,"pi","pi-plus"],[1,"bw-filter-bar"],[1,"bw-filter-dropdown"],["id","item-type-filter","name","item-type",1,"bw-filter-select",3,"ngModelChange","ngModel"],[3,"value"],[1,"pi","pi-chevron-down"],[1,"bw-loading"],[1,"bw-empty"],[1,"bw-items-list"],[1,"bw-add-dropdown","card","glass"],[1,"dropdown-header"],[1,"dropdown-list"],[1,"dropdown-backdrop",3,"click"],[1,"dropdown-item"],[1,"dropdown-item",3,"click"],[1,"dropdown-icon"],[1,"pi","pi-spin","pi-spinner"],[1,"pi","pi-lock"],[1,"bw-list-section"],[1,"bw-section-header"],[1,"count"],[1,"bw-item",3,"selected"],[1,"bw-item",3,"click"],[1,"bw-item-icon"],[1,"bw-item-details"],[1,"bw-item-name"],[1,"bw-item-subtext"],[1,"bw-item-actions"],["title","Copy card number",1,"bw-item-btn"],["title","Copy username",1,"bw-item-btn",3,"click"],[1,"pi","pi-user"],["title","Copy password",1,"bw-item-btn",3,"click"],[1,"pi","pi-key"],["title","Copy card number",1,"bw-item-btn",3,"click"],[1,"pi","pi-copy"],[3,"passwordSaved","cancelled","password","initialItemType"],[1,"bw-detail-view"],[1,"bw-detail-header"],[1,"bw-detail-actions"],["title","Share",1,"bw-icon-btn"],["title","Edit",1,"bw-icon-btn",3,"click"],[1,"pi","pi-pencil"],["title","Delete",1,"bw-icon-btn",3,"click"],[1,"pi","pi-trash"],["title","Close",1,"bw-icon-btn",3,"click"],[1,"pi","pi-times"],[1,"bw-detail-body"],[1,"bw-detail-section"],["title","Share",1,"bw-icon-btn",3,"click"],[1,"pi","pi-share-alt"],[1,"bw-detail-label"],[1,"bw-detail-value"],["title","Copy",1,"bw-copy-btn",3,"click"],[1,"bw-password"],["title","Toggle visibility",1,"bw-copy-btn",3,"click"],["target","_blank","rel","noopener noreferrer",3,"href"],[1,"bw-note-content"],[1,"bw-address-lines"],[1,"bw-notes"],[3,"closed","password"],[3,"accepted","rejected","closed","shareRequest"],[1,"bw-modal-overlay",3,"click"],[1,"bw-modal-content","bw-2fa-dialog",3,"click"],[1,"bw-modal-header"],[1,"bw-btn-close",3,"click"],[1,"bw-2fa-content"],[1,"bw-empty-state"],[1,"bw-2fa-list"],[1,"bw-2fa-item"],[1,"bw-2fa-item",3,"click"],[1,"bw-2fa-header"],[1,"bw-2fa-title"],[1,"pi","pi-globe"],[1,"bw-2fa-username"],[1,"bw-2fa-code-container"],[1,"bw-2fa-code"],[1,"bw-2fa-timer"],[1,"timer-bar"],[1,"bw-2fa-countdown"]],template:function(e,i){if(e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),f("click",function(){return i.goToVault()}),d(4,"CryptoPass"),s(),a(5,"div",4),h(6,"i",5),a(7,"span"),d(8),s()()(),a(9,"div",6)(10,"app-notifications",7),f("shareRequestClicked",function(r){return i.onShareRequestClicked(r)}),s(),a(11,"button",8),f("click",function(){return i.open2FATab()}),h(12,"i",9),g(13,fs,2,1,"span",10),s(),a(14,"button",11),f("click",function(){return i.syncVault()}),h(15,"i"),s(),a(16,"button",12),f("click",function(){return i.logout()}),h(17,"i",13),s()()(),a(18,"div",14),g(19,Es,18,4,"div",15)(20,As,2,2,"div",16)(21,qs,19,4,"div",16),s()(),g(22,$s,1,1,"app-share-dialog",17),g(23,zs,1,1,"app-receive-dialog",18),g(24,Xs,11,1,"div",19)),e&2){let o;c(8),ce("",(o=i.walletState().address)==null?null:o.slice(0,6),"...",(o=i.walletState().address)==null?null:o.slice(-4)),c(5),_(i.get2FAItems().length>0?13:-1),c(),F("disabled",i.isSaving()),c(),ie(i.isSaving()?"pi pi-spin pi-spinner":"pi pi-sync"),c(4),_(!i.showAddForm()&&!i.selectedPassword()?19:i.showAddForm()?20:i.selectedPassword()?21:-1),c(3),_(i.showShareDialog()&&i.passwordToShare()&&i.isLogin(i.passwordToShare())?22:-1),c(),_(i.showReceiveDialog()&&i.pendingShareRequest()?23:-1),c(),_(i.show2FATab()?24:-1)}},dependencies:[J,Re,xi,Mi,me,kt,Fe,st,qt,zt,Yt,Kt],styles:['.bitwarden-vault[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh;background:var(--bg-color)}.bw-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.75rem 1.5rem;background:var(--element-bg-color);border-bottom:1px solid var(--border-color);height:55px;flex-shrink:0}.bw-header[_ngcontent-%COMP%]   .bw-header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem}.bw-header[_ngcontent-%COMP%]   .bw-header-left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:1.1rem;font-weight:700;color:var(--text-color)}.bw-header[_ngcontent-%COMP%]   .bw-header-left[_ngcontent-%COMP%]   h1.logo-clickable[_ngcontent-%COMP%]{cursor:pointer;transition:opacity .15s ease;-webkit-user-select:none;user-select:none}.bw-header[_ngcontent-%COMP%]   .bw-header-left[_ngcontent-%COMP%]   h1.logo-clickable[_ngcontent-%COMP%]:hover{opacity:.7}.bw-header[_ngcontent-%COMP%]   .bw-header-left[_ngcontent-%COMP%]   .wallet-badge[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.375rem .75rem;background:var(--bg-color);border:1px solid var(--border-color);border-radius:3px;font-size:.8rem;color:var(--text-color)}.bw-header[_ngcontent-%COMP%]   .bw-header-left[_ngcontent-%COMP%]   .wallet-badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.75rem;opacity:.7}.bw-header[_ngcontent-%COMP%]   .bw-header-right[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center}.bw-header[_ngcontent-%COMP%]   .bw-header-right[_ngcontent-%COMP%]   .bw-header-btn[_ngcontent-%COMP%]{background:transparent;border:none;color:var(--text-color);cursor:pointer;padding:.5rem;border-radius:3px;transition:background-color .15s ease;display:flex;align-items:center;justify-content:center}.bw-header[_ngcontent-%COMP%]   .bw-header-right[_ngcontent-%COMP%]   .bw-header-btn[_ngcontent-%COMP%]:hover{background:var(--bg-color)}.bw-header[_ngcontent-%COMP%]   .bw-header-right[_ngcontent-%COMP%]   .bw-header-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.bw-header[_ngcontent-%COMP%]   .bw-header-right[_ngcontent-%COMP%]   .bw-header-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.bw-content[_ngcontent-%COMP%]{flex:1;overflow:hidden;display:flex}.bw-list-container[_ngcontent-%COMP%]{width:100%;max-width:400px;border-right:1px solid var(--border-color);background:var(--element-bg-color);display:flex;flex-direction:column}.bw-list-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:1rem;border-bottom:1px solid var(--border-color)}.bw-list-header[_ngcontent-%COMP%]   .bw-search[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;gap:.5rem;padding:.5rem .75rem;background:var(--bg-color);border:1px solid var(--border-color);border-radius:3px}.bw-list-header[_ngcontent-%COMP%]   .bw-search[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.875rem;color:var(--text-color);opacity:.5}.bw-list-header[_ngcontent-%COMP%]   .bw-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;background:transparent;border:none;outline:none;color:var(--text-color);font-size:.875rem}.bw-list-header[_ngcontent-%COMP%]   .bw-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--text-color);opacity:.4}.bw-list-header[_ngcontent-%COMP%]   .bw-btn-add[_ngcontent-%COMP%]{background:#175ddc;border:none;color:#fff;cursor:pointer;padding:.5rem .75rem;border-radius:3px;display:flex;align-items:center;justify-content:center;transition:background-color .15s ease}.bw-list-header[_ngcontent-%COMP%]   .bw-btn-add[_ngcontent-%COMP%]:hover{background:#1252c9}.bw-list-header[_ngcontent-%COMP%]   .bw-btn-add[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.bw-filter-bar[_ngcontent-%COMP%]{padding:.75rem 1rem;border-bottom:1px solid var(--border-color);background:var(--element-bg-color)}.bw-filter-bar[_ngcontent-%COMP%]   .bw-filter-dropdown[_ngcontent-%COMP%]{position:relative;display:inline-block;width:200px}.bw-filter-bar[_ngcontent-%COMP%]   .bw-filter-dropdown[_ngcontent-%COMP%]   .bw-filter-select[_ngcontent-%COMP%]{width:100%;padding:.5rem 2rem .5rem .75rem;background:var(--bg-color);border:1px solid var(--border-color);border-radius:3px;color:var(--text-color);font-size:.875rem;cursor:pointer;appearance:none;transition:border-color .15s ease}.bw-filter-bar[_ngcontent-%COMP%]   .bw-filter-dropdown[_ngcontent-%COMP%]   .bw-filter-select[_ngcontent-%COMP%]:hover{border-color:#175ddc}.bw-filter-bar[_ngcontent-%COMP%]   .bw-filter-dropdown[_ngcontent-%COMP%]   .bw-filter-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#175ddc}.bw-filter-bar[_ngcontent-%COMP%]   .bw-filter-dropdown[_ngcontent-%COMP%]   .bw-filter-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background:var(--element-bg-color);color:var(--text-color)}.bw-filter-bar[_ngcontent-%COMP%]   .bw-filter-dropdown[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;right:.75rem;top:50%;transform:translateY(-50%);font-size:.75rem;color:var(--text-color);opacity:.6;pointer-events:none}.bw-loading[_ngcontent-%COMP%], .bw-empty[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem 1.5rem;text-align:center;color:var(--text-color)}.bw-loading[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .bw-empty[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1rem;opacity:.3}.bw-loading[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .bw-empty[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1.1rem;font-weight:600}.bw-loading[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .bw-empty[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.875rem;opacity:.7}.bw-items-list[_ngcontent-%COMP%]{flex:1;overflow-y:auto}.bw-list-section[_ngcontent-%COMP%]   .bw-section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.75rem 1rem;font-size:.75rem;font-weight:700;text-transform:uppercase;color:var(--text-color);opacity:.6;letter-spacing:.5px}.bw-list-section[_ngcontent-%COMP%]   .bw-section-header[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{background:var(--bg-color);padding:.125rem .5rem;border-radius:12px;font-size:.7rem}.bw-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.75rem 1rem;border-bottom:1px solid var(--border-color);cursor:pointer;transition:background-color .1s ease}.bw-item[_ngcontent-%COMP%]:hover{background:var(--bg-color)}.bw-item.selected[_ngcontent-%COMP%]{background:#d6e3f7}[_ngcontent-%COMP%]:root[data-theme=dark]   .bw-item.selected[_ngcontent-%COMP%]{background:#2f4f7f}.bw-item[_ngcontent-%COMP%]   .bw-item-icon[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:3px;background:var(--bg-color);display:flex;align-items:center;justify-content:center;flex-shrink:0}.bw-item[_ngcontent-%COMP%]   .bw-item-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1rem;color:var(--text-color);opacity:.6}.bw-item[_ngcontent-%COMP%]   .bw-item-details[_ngcontent-%COMP%]{flex:1;min-width:0}.bw-item[_ngcontent-%COMP%]   .bw-item-details[_ngcontent-%COMP%]   .bw-item-name[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:var(--text-color);margin-bottom:.125rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.bw-item[_ngcontent-%COMP%]   .bw-item-details[_ngcontent-%COMP%]   .bw-item-subtext[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-color);opacity:.6;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.bw-item[_ngcontent-%COMP%]   .bw-item-details[_ngcontent-%COMP%]   .bw-item-2fa-code[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.bw-item[_ngcontent-%COMP%]   .bw-item-details[_ngcontent-%COMP%]   .bw-item-2fa-code[_ngcontent-%COMP%]   .totp-code[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;font-family:Courier New,monospace;color:var(--text-color);letter-spacing:2px}.bw-item[_ngcontent-%COMP%]   .bw-item-details[_ngcontent-%COMP%]   .bw-item-2fa-code[_ngcontent-%COMP%]   .totp-timer[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-color);opacity:.6;font-weight:600}.bw-item[_ngcontent-%COMP%]   .bw-item-details[_ngcontent-%COMP%]   .bw-item-2fa-code[_ngcontent-%COMP%]   .totp-timer[_ngcontent-%COMP%]:before{content:"";display:inline-block;width:4px;height:4px;border-radius:50%;background:#175ddc;margin-right:.25rem}.bw-item[_ngcontent-%COMP%]   .bw-item-actions[_ngcontent-%COMP%]{display:flex;gap:.25rem;opacity:0;transition:opacity .15s ease}.bw-item[_ngcontent-%COMP%]   .bw-item-actions[_ngcontent-%COMP%]   .bw-item-btn[_ngcontent-%COMP%]{background:transparent;border:none;color:var(--text-color);cursor:pointer;padding:.375rem;border-radius:3px;transition:all .15s ease}.bw-item[_ngcontent-%COMP%]   .bw-item-actions[_ngcontent-%COMP%]   .bw-item-btn[_ngcontent-%COMP%]:hover{background:var(--element-bg-color);transform:scale(1.1)}.bw-item[_ngcontent-%COMP%]   .bw-item-actions[_ngcontent-%COMP%]   .bw-item-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.875rem}.bw-item[_ngcontent-%COMP%]:hover   .bw-item-actions[_ngcontent-%COMP%]{opacity:1}.bw-detail-container[_ngcontent-%COMP%]{flex:1;overflow-y:auto;background:var(--bg-color)}.bw-detail-view[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:2rem}.bw-detail-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:2rem}.bw-detail-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:600;color:var(--text-color)}.bw-detail-header[_ngcontent-%COMP%]   .bw-detail-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem}.bw-detail-header[_ngcontent-%COMP%]   .bw-detail-actions[_ngcontent-%COMP%]   .bw-icon-btn[_ngcontent-%COMP%]{background:var(--element-bg-color);border:1px solid var(--border-color);color:var(--text-color);cursor:pointer;padding:.5rem;border-radius:3px;transition:all .15s ease}.bw-detail-header[_ngcontent-%COMP%]   .bw-detail-actions[_ngcontent-%COMP%]   .bw-icon-btn[_ngcontent-%COMP%]:hover{background:var(--hover-bg-color);transform:translateY(-1px)}.bw-detail-header[_ngcontent-%COMP%]   .bw-detail-actions[_ngcontent-%COMP%]   .bw-icon-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.875rem}.bw-detail-body[_ngcontent-%COMP%]{background:var(--element-bg-color);border:1px solid var(--border-color);border-radius:3px}.bw-detail-section[_ngcontent-%COMP%]{padding:1.25rem;border-bottom:1px solid var(--border-color)}.bw-detail-section[_ngcontent-%COMP%]:last-child{border-bottom:none}.bw-detail-section[_ngcontent-%COMP%]   .bw-detail-label[_ngcontent-%COMP%]{font-size:.75rem;font-weight:700;text-transform:uppercase;color:var(--text-color);opacity:.6;margin-bottom:.5rem;letter-spacing:.5px}.bw-detail-section[_ngcontent-%COMP%]   .bw-detail-value[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.875rem;color:var(--text-color)}.bw-detail-section[_ngcontent-%COMP%]   .bw-detail-value[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1;word-break:break-all}.bw-detail-section[_ngcontent-%COMP%]   .bw-detail-value[_ngcontent-%COMP%]   span.bw-password[_ngcontent-%COMP%]{font-family:Courier New,monospace}.bw-detail-section[_ngcontent-%COMP%]   .bw-detail-value[_ngcontent-%COMP%]   span.bw-notes[_ngcontent-%COMP%]{white-space:pre-wrap}.bw-detail-section[_ngcontent-%COMP%]   .bw-detail-value[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{flex:1;color:#175ddc;text-decoration:none}.bw-detail-section[_ngcontent-%COMP%]   .bw-detail-value[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.bw-detail-section[_ngcontent-%COMP%]   .bw-detail-value[_ngcontent-%COMP%]   .bw-copy-btn[_ngcontent-%COMP%]{background:transparent;border:none;color:var(--text-color);cursor:pointer;padding:.375rem;border-radius:3px;opacity:.5;transition:all .15s ease}.bw-detail-section[_ngcontent-%COMP%]   .bw-detail-value[_ngcontent-%COMP%]   .bw-copy-btn[_ngcontent-%COMP%]:hover{background:var(--bg-color);opacity:1;transform:scale(1.1)}.bw-detail-section[_ngcontent-%COMP%]   .bw-detail-value[_ngcontent-%COMP%]   .bw-copy-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.875rem}.bw-totp-display[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.bw-totp-display[_ngcontent-%COMP%]   .totp-large[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700;font-family:Courier New,monospace;color:var(--text-color);letter-spacing:4px}.bw-totp-display[_ngcontent-%COMP%]   .totp-timer-large[_ngcontent-%COMP%]{font-size:1rem;color:#175ddc;font-weight:600}.bw-note-content[_ngcontent-%COMP%]{white-space:pre-wrap;word-wrap:break-word;line-height:1.5}.bw-address-lines[_ngcontent-%COMP%]{line-height:1.6}.bw-address-lines[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-bottom:.25rem}@media (max-width: 768px){.bw-list-container[_ngcontent-%COMP%]{max-width:100%;border-right:none}.bw-detail-container[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:1000}}.bw-modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#0009;display:flex;align-items:center;justify-content:center;z-index:2000;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.bw-modal-content[_ngcontent-%COMP%]{background:var(--element-bg-color);border-radius:8px;box-shadow:0 8px 32px #0000004d;max-width:90vw;max-height:90vh;overflow:hidden;display:flex;flex-direction:column}.bw-modal-content.bw-2fa-dialog[_ngcontent-%COMP%]{width:600px}.bw-modal-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1.5rem;border-bottom:1px solid var(--border-color)}.bw-modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;color:var(--text-color);display:flex;align-items:center;gap:.5rem}.bw-modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#175ddc}.bw-modal-header[_ngcontent-%COMP%]   .bw-btn-close[_ngcontent-%COMP%]{background:transparent;border:none;color:var(--text-color);cursor:pointer;padding:.5rem;opacity:.6;transition:all .15s}.bw-modal-header[_ngcontent-%COMP%]   .bw-btn-close[_ngcontent-%COMP%]:hover{opacity:1;transform:scale(1.1)}.bw-2fa-content[_ngcontent-%COMP%]{padding:1.5rem;overflow-y:auto;max-height:calc(90vh - 80px)}.bw-2fa-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.bw-2fa-item[_ngcontent-%COMP%]{background:var(--background-color);border:1px solid var(--border-color);border-radius:6px;padding:1.25rem;transition:all .2s}.bw-2fa-item[_ngcontent-%COMP%]:hover{border-color:#175ddc;box-shadow:0 2px 8px #175ddc1a}.bw-2fa-header[_ngcontent-%COMP%]{margin-bottom:1rem}.bw-2fa-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-weight:600;font-size:1rem;color:var(--text-color);margin-bottom:.25rem}.bw-2fa-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--text-muted)}.bw-2fa-username[_ngcontent-%COMP%]{font-size:.875rem;color:var(--text-muted);margin-left:1.5rem}.bw-2fa-code-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.bw-2fa-code[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;font-family:Courier New,monospace;letter-spacing:.3em;color:#175ddc;flex:1}.bw-2fa-timer[_ngcontent-%COMP%]{flex:1;height:6px;background:var(--border-color);border-radius:3px;overflow:hidden}.bw-2fa-timer[_ngcontent-%COMP%]   .timer-bar[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#175ddc,#1252c9);transition:width 1s linear}.bw-2fa-countdown[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:var(--text-muted);min-width:3rem;text-align:right}.bw-empty-state[_ngcontent-%COMP%]{text-align:center;padding:3rem 2rem;color:var(--text-muted)}.bw-empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:1rem;opacity:.5}.bw-empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.125rem;margin:0 0 .5rem;color:var(--text-color)}.bw-empty-state[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.875rem}.bw-header-btn[_ngcontent-%COMP%]{position:relative}.bw-header-btn[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{position:absolute;top:-4px;right:-4px;background:#d32f2f;color:#fff;font-size:.625rem;font-weight:700;padding:2px 5px;border-radius:10px;min-width:16px;text-align:center}.bw-add-wrapper[_ngcontent-%COMP%]{position:relative}.dropdown-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:999}.bw-add-dropdown[_ngcontent-%COMP%]{position:absolute;top:calc(100% + 8px);right:0;width:220px;z-index:1000;border-radius:6px;overflow:hidden;box-shadow:0 4px 20px #00000040;animation:_ngcontent-%COMP%_dropdownSlideIn .15s ease-out}@keyframes _ngcontent-%COMP%_dropdownSlideIn{0%{opacity:0;transform:translateY(-8px)}to{opacity:1;transform:translateY(0)}}.bw-add-dropdown[_ngcontent-%COMP%]   .dropdown-header[_ngcontent-%COMP%]{padding:.75rem 1rem;border-bottom:1px solid var(--border-color)}.bw-add-dropdown[_ngcontent-%COMP%]   .dropdown-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.75rem;font-weight:700;text-transform:uppercase;color:var(--text-color);opacity:.6;letter-spacing:.5px}.bw-add-dropdown[_ngcontent-%COMP%]   .dropdown-list[_ngcontent-%COMP%]{max-height:300px;overflow-y:auto}.bw-add-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.75rem 1rem;cursor:pointer;transition:background .1s ease;border-bottom:1px solid var(--border-color)}.bw-add-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.bw-add-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover{background:var(--hover-bg-color)}.bw-add-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   .dropdown-icon[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:6px;background:var(--bg-color);display:flex;align-items:center;justify-content:center;flex-shrink:0}.bw-add-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   .dropdown-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem;color:#175ddc}.bw-add-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:var(--text-color)}']})};export{Wi as VaultComponent};
